\subsection{\cref{thm:fabppi_coverage} - Asymptotic coverage of FAB-PPI under the Gaussian and horseshoe priors}
\label{app:thm:fabppi_coverage}
Under the prior $\pi_0(\cdot; \widehat{\sigma}_\theta )$, the FAB confidence region for the rectifier $\Delta_\theta$ is
\begin{align}
    \calR^{\FABPPI}_\delta(\widehat{\Delta}_\theta; \widehat{\sigma}_\theta )=\{\Delta_\theta  \mid \Delta_\theta -\widehat{\sigma}_\theta z_{1-\delta w_\delta(\Delta_\theta; \widehat{\sigma}_\theta)}<\widehat\Delta_\theta<\Delta_\theta + \widehat{\sigma}_\theta z_{1-\delta(1-w_\delta(\Delta_\theta; \widehat{\sigma}_\theta))}\},
\label{eq:FABdelta}
\end{align}
where $w_\delta(\cdot; \widehat{\sigma}_\theta)$ is the FAB spending function. The proof of asymptotic coverage is organised as follows. First, we show that $\calR^{\FABPPI}_\delta(\widehat{\Delta}_\theta; \widehat{\sigma}_\theta )$ is asymptotically a $1-\delta$ confidence interval. This is established via \cref{lemma:coverage_gaussian_delta} for the Gaussian prior, and via \cref{lemma:coverage_horseshoe_delta1,lemma:fabcr_horseshoe_convergence} for the horseshoe prior. This result is then combined with the asymptotic coverage of the standard sample mean estimator for $m_\theta$ to conclude the asymptotic coverage of the FAB-PPI estimator of $\theta^\star$.

We first prove the following lemma for the Gaussian prior, demonstrating that the rectifier has the correct asymptotic coverage.
 
\begin{lemma}
    \label{lemma:coverage_gaussian_delta}
    Let $\widehat{\Delta}_\theta$ be a consistent estimator of $\Delta_\theta$ such that a CLT holds for $\widehat{\Delta}_\theta$, i.e.
    \begin{equation*}
        \frac{\widehat{\Delta}_\theta - \Delta_\theta}{\widehat{\sigma}_\theta } \to \mathcal{N}(0, 1)
    \end{equation*}
    as $\min(n,N) \to \infty$, where $\frac{\widehat{\sigma}_\theta^2}{\var(\widehat{\Delta}_\theta)}\to 1$ almost surely. Let $\pi_{0}(\cdot; \widehat{\sigma}_\theta)$ be the Gaussian prior \eqref{eq:Gaussianprior} for $\Delta_\theta$ and consider the corresponding $1 - \delta$ FAB confidence region
    \begin{equation*}
        \calR^{\FABPPI}_\delta(\widehat{\Delta}_\theta; \widehat{\sigma}_\theta ) = \text{FAB-CR}\left(\widehat{\Delta}_\theta; \pi_{0}\left(\cdot~; \widehat{\sigma}_\theta\right), \widehat{\sigma}_\theta, \delta\right).
    \end{equation*}
    Then
    \begin{align}
        {\lim}_{\min(n,N)\to\infty}\Pr(\Delta_\theta \in \calR^{\FABPPI}_\delta(\widehat{\Delta}_\theta; \widehat{\sigma}_\theta )\mid \Delta_\theta)\geq 1-\delta.
    \end{align}
\end{lemma}
\begin{proof}
    Using \cref{prop:fabgaussianprop}, for any $x>0$, $\sigma>0$,
    \begin{align*}
        \frac{2x}{\sigma}&=g_\delta(g^{-1}_\delta(2x/\sigma))\\
        &=g_\delta(w_\delta(x;\sigma))\\
        &=z_{1-\delta(1-w_\delta(x;\sigma))}-z_{1-\delta w_\delta(x;\sigma)}
    \end{align*}
    and
    \begin{align*}
        \sigma z_{1-\delta(1-w_\delta(x; \sigma))}&=\sigma z_{1-\delta(1-w_\delta(x/\sigma; 1))}\\
        &= 2x + \sigma z_{1-\delta w_\delta(x/\sigma;1)}.
    \end{align*}
    The FAB confidence region \eqref{eq:FABdelta} can therefore be written as
    \begin{align*}
        \calR^{\FABPPI}_\delta(\widehat{\Delta}_\theta; \widehat{\sigma}_\theta )&=\{\Delta_\theta>0  \mid \Delta_\theta -\widehat{\sigma}_\theta z_{1-\delta w_\delta(\Delta_\theta; \widehat{\sigma}_\theta)}<\widehat\Delta_\theta< 3\Delta_\theta + \widehat{\sigma}_\theta z_{1-\delta w_\delta(\Delta_\theta; \widehat{\sigma}_\theta)}\}\\
        &~~~\cup
        \{\Delta_\theta<0  \mid 3\Delta_\theta -\widehat{\sigma}_\theta z_{1-\delta (1-w_\delta(\Delta_\theta; \widehat{\sigma}_\theta))}<\widehat\Delta_\theta<\Delta_\theta + \widehat{\sigma}_\theta z_{1-\delta(1-w_\delta(\Delta_\theta; \widehat{\sigma}_\theta))}\}.
    \end{align*}
    Additionally, for any $x>0$,
    \begin{align*}
        z_{1-\delta w_\delta(x; \widehat{\sigma}_\theta)}\to z_{1-\delta}\\
        z_{1-\delta (1-w_\delta(-x; \widehat{\sigma}_\theta))}\to z_{1-\delta}
    \end{align*}
    almost surely as $\min(n,N)\to\infty$.

    It follows from \cref{eq:FABdelta} that, for any $z_{1-\delta}>\epsilon>0$, there exist $N_0$ such that for all $n,N$ with $\min(n,N)\geq N_0$, the FAB confidence region $\calR^{\FABPPI}_\delta(\widehat{\Delta}_\theta; \widehat{\sigma}_\theta )$ contains the set
    \begin{align*}
        \mathcal S_\delta(\widehat{\Delta}_\theta; \widehat{\sigma}_\theta )&=\left \{\Delta_\theta>0 \mid \Delta_\theta - \widehat{\sigma}_\theta (z_{1-\delta}-\epsilon) < \widehat \Delta_\theta < 3\Delta_\theta +\widehat{\sigma}_\theta (z_{1-\delta}-\epsilon) \right\}\\
        &~~~\cup
        \left \{\Delta_\theta<0 \mid 3\Delta_\theta -\widehat{\sigma}_\theta (z_{1-\delta}-\epsilon) < \widehat \Delta_\theta <  \Delta_\theta - \widehat{\sigma}_\theta (z_{1-\delta}-\epsilon) \right\}.
    \end{align*}
    For any fixed $\Delta_\theta>0$,
    \begin{align}
        \Pr(\Delta_\theta\in \mathcal S_\delta(\widehat{\Delta}_\theta; \widehat{\sigma}_\theta ))=\Pr\left(-(z_{1-\delta}-\epsilon) <   \frac{\widehat\Delta_\theta-\Delta_\theta}{\widehat\sigma_\theta}<\frac{2\Delta_\theta}{\widehat\sigma_\theta} +z_{1-\delta}-\epsilon \right).
    \end{align}
    Noting that $\frac{2\Delta_\theta}{\widehat\sigma_\theta} +z_{1-\delta}-\epsilon\to\infty$ a.s. as $\min(n,N)\to\infty$, we obtain that
    \begin{align}
        {\lim}_{\min(n,N)\to\infty}\Pr(\Delta_\theta \in \calR^{\FABPPI}_\delta(\widehat{\Delta}_\theta; \widehat{\sigma}_\theta )\mid \Delta_\theta)
        \geq {\lim}_{\min(n,N)\to\infty}\Pr(\Delta_\theta \in \mathcal S_\delta(\widehat{\Delta}_\theta; \widehat{\sigma}_\theta )\mid \Delta_\theta)
        \geq 1-\delta.
    \end{align}
\end{proof}

\begin{lemma}
    \label{lemma:coverage_horseshoe_delta1}
    For $\delta\in(0,1)$, let $w_\delta(\cdot; \widehat{\sigma}_\theta)$ be the FAB spending function associated to the FAB confidence region $$\calR^{\FABPPI}_\delta(\bullet)=\text{FAB-CR}(\bullet;\pi_0(\cdot~;\widehat\sigma_\theta ),\widehat\sigma_\theta,\delta).$$
    Assume $\widehat{\sigma}_\theta\to 0$ almost surely as $\min(n,N)\to\infty$. If $\pi_0$ is the horseshoe prior \eqref{eq:horseshoeprior}, then, for any $z\in\bbR$,
    \begin{equation*}
        w_\delta(z; \widehat{\sigma}_\theta)\to\frac{1}{2}\text{ a.s. as }\min(n,N)\to\infty.
    \end{equation*}
\end{lemma}
\begin{proof}
    As described in \cref{sec:app:backgroundFAB}, the spending function $w_\delta$, which is continuous, satisfies,  for any $z\in\bbR$ and $\sigma>0$,
    \begin{equation*}
        w_\delta\left(z; \sigma \right) = w_\delta\left(\frac{z}{\sigma}; 1\right).
    \end{equation*}
    By \cref{prop:horseshoefab}, we have
    $$
        \lim_{z\to\infty} w_\delta(z;1)=\lim_{z\to -\infty} w_\delta(z;1)=w_\delta(0;1)=\frac{1}{2}.
    $$
    Since $\widehat{\sigma}_\theta\to 0$ almost surely and $w_\delta$ is continuous, for any $z\in\bbR$, we conclude that
    \begin{equation*}
    w_\delta\left(z; \widehat{\sigma}_\theta \right)  \to\frac{1}{2}\text{ a.s. as }\min(n,N)\to\infty.
    \end{equation*}
\end{proof}

\begin{lemma}
    \label{lemma:fabcr_horseshoe_convergence}
    Let $\widehat{\Delta}_\theta$ be a consistent estimator of $\Delta_\theta$ such that a CLT holds for $\widehat{\Delta}_\theta$, i.e.
    \begin{equation*}
        \frac{\widehat{\Delta}_\theta - \Delta_\theta}{\widehat{\sigma}_\theta } \to \mathcal{N}(0, 1)
    \end{equation*}
    as $\min(n,N) \to \infty$, where $\frac{\widehat{\sigma}_\theta^2}{\var(\widehat{\Delta}_\theta)}\to 1$ almost surely. Specify a symmetric prior $\pi_{0}(\cdot; \widehat{\sigma}_\theta)$  for $\Delta_\theta$ and consider the corresponding $1 - \delta$ FAB confidence region
    \begin{equation*}
        \calR^{\FABPPI}_\delta(\widehat{\Delta}_\theta; \widehat{\sigma}_\theta ) = \text{FAB-CR}\left(\widehat{\Delta}_\theta; \pi_{0}\left(\cdot~; \widehat{\sigma}_\theta\right), \widehat{\sigma}_\theta, \delta\right),
    \end{equation*}
    with associated weight function $w_\delta(\Delta_\theta; \widehat{\sigma}_\theta)$. If, for any $x\in\bbR$,
    \begin{align}
        w_\delta\left(x; \widehat{\sigma}_\theta\right)\to \frac{1}{2}\text{ a.s. as }\min(n,N)\to\infty, \label{eq:wtendstohalf}
    \end{align}
    then the confidence region $\calR^{\FABPPI}_\delta(\widehat{\Delta}_\theta; \widehat{\sigma}_\theta )$  reverts to the classical $1 - \delta$ $z$-interval for $\Delta_\theta$, i.e., almost surely,
    \begin{equation*}
        \lim_{\min(n,N) \to \infty} \frac{\sup(\calR^{\FABPPI}_\delta(\widehat{\Delta}_\theta; \widehat{\sigma}_\theta )) - \widehat{\Delta}_\theta}{\widehat{\sigma}_\theta} = \lim_{\min(n,N) \to \infty} \frac{\widehat{\Delta}_\theta - \inf(\calR^{\FABPPI}_\delta(\widehat{\Delta}_\theta; \widehat{\sigma}_\theta ))}{\widehat{\sigma}_\theta} = z_{1 - \delta / 2},
    \end{equation*}
    with
    \begin{align}
        {\lim}_{\min(n,N)\to\infty}\Pr(\Delta_\theta \in \calR^{\FABPPI}_\delta(\widehat{\Delta}_\theta; \widehat{\sigma}_\theta )\mid \Delta_\theta)=1-\delta.\label{eq:coverageDelta}
    \end{align}
\end{lemma}
\begin{proof}
    As $\Phi^{-1}$ is continuous, \cref{eq:wtendstohalf} implies that, for any $x\in\bbR$,
    $$
        \lim_{\min(n,N)\to\infty} z_{1-\delta w_\delta(x; \widehat{\sigma}_\theta)}=\lim_{\min(n,N)\to\infty} z_{1-\delta(1-w_\delta(x; \widehat{\sigma}_\theta))}=z_{1-\delta/2}
    $$
    almost surely. From \cref{eq:FABdelta}, it follows that, for any $\epsilon>0$ and for $\min(n,N)$ large enough,
    \begin{align*}
        z_{1 - \delta / 2}-\epsilon \leq \frac{\sup(\calR^{\FABPPI}_\delta(\widehat{\Delta}_\theta; \widehat{\sigma}_\theta )) - \widehat{\Delta}_\theta}{\widehat{\sigma}_\theta}\leq z_{1 - \delta / 2}+\epsilon\\
        z_{1 - \delta / 2}-\epsilon \leq \frac{\widehat{\Delta}_\theta - \inf(\calR^{\FABPPI}_\delta(\widehat{\Delta}_\theta; \widehat{\sigma}_\theta ))}{\widehat{\sigma}_\theta} \leq z_{1 - \delta / 2}+\epsilon.
    \end{align*}
    \eqref{eq:coverageDelta} then follows directly, which completes the proof.
\end{proof}

With the above two lemmas, we can now prove \cref{thm:fabppi_coverage}, which we restate here in extended form.
\begin{theorem}
    Consider a convex estimation problem whose solution can be expressed as in \cref{eq:defthetastar2}. For all $\theta \in \mathbb{R}$, define $\widehat{\Delta}_\theta$ and $\widehat{m}_\theta$ as in \cref{sec:fab-ppi} and let
    \begin{align*}
        \calR^{\FABPPI}_\delta(\widehat{\Delta}_\theta; \widehat{\sigma}_\theta ) &= \text{FAB-CR}\left(\widehat{\Delta}_\theta; \pi_{0}\left(\cdot~; \widehat{\sigma}_\theta\right), \widehat{\sigma}_\theta, \delta\right),\nonumber\\
        \calT_{\alpha-\delta}(\widehat m_\theta; \widehat\sigma_\theta^f) &= \left(\widehat{m}_\theta - \widehat\sigma_\theta^f z_{1-(\alpha - \delta) / 2}, \widehat{m}_\theta + \widehat\sigma_\theta^f  z_{1-(\alpha - \delta) / 2}\right),
    \end{align*}
    where $\frac{\widehat{\sigma}_\theta^2}{\var(\hat{\Delta}_\theta)}\to 1$ and $\frac{(\widehat\sigma_\theta^f)^2}{\var(\hat{m}_\theta)}\to 1$ almost surely as $\min(n,N)\to\infty$. Then, the FAB-PPI confidence region $\calC_\alpha^\FABPPI$, defined as
    \begin{equation*}
        \calC_\alpha^\FABPPI=\left\{\theta \mid 0\in \calR^{\FABPPI}_\delta(\widehat\Delta_\theta; \widehat{\sigma}_\theta) + \calT_{\alpha-\delta}(\widehat m_\theta; \widehat\sigma_\theta^f)\right\},
    \end{equation*}
    has correct asymptotic coverage, i.e.~it satifies
    \begin{equation*}
        \liminf_{\min(n,N) \to \infty} \Pr(\theta^* \in \calC_\alpha^\FABPPI) = \liminf_{\min(n,N) \to \infty} \Pr(0 \in \calR^{\FABPPI}_\delta(\widehat\Delta_{\theta^*}; \widehat{\sigma}_{\theta^\star}) + \calT_{\alpha-\delta}(\widehat m_{\theta^*}; \widehat\sigma_{\theta^\star}^f)) \geq 1 - \alpha.
    \end{equation*}
\end{theorem}
\begin{proof}
    By \cref{lemma:coverage_gaussian_delta} (Gaussian prior) and \cref{lemma:coverage_horseshoe_delta1,lemma:fabcr_horseshoe_convergence} (horseshoe prior), $\calR^{\FABPPI}_\delta(\widehat\Delta_{\theta^\star}; \widehat{\sigma}_{\theta^\star})$  is an asymptotically valid $1-\delta$ confidence region for $\Delta_{\theta^\star}$, that is
    \begin{align*}
        \liminf_{n, N \to \infty} \text{Pr}(\Delta_{\theta^\star} \in \calR^{\FABPPI}_\delta(\widehat\Delta_{\theta^\star}; \widehat{\sigma}_{\theta^\star})) &\geq 1 - \delta.
    \end{align*}
    Similarly, the CLT for $\widehat m_\theta$ implies that
    \begin{align*}
        \liminf_{n, N \to \infty} \text{Pr}(m_{\theta^*} \in \calT_{\alpha-\delta}(\widehat m_{\theta^*};\widehat\sigma_{\theta^*}^f)) &\geq 1 - (\alpha - \delta).
    \end{align*}
    Consider the event
    \begin{equation*}
        E = \{\Delta_{\theta^*} \in \calR^{\FABPPI}_\delta(\widehat\Delta_{\theta^*}; \widehat{\sigma}_{\theta^\star})\} \cap \{m_{\theta^*} \in \calT_{\alpha-\delta}(\widehat m_{\theta^*};\widehat\sigma_{\theta^*}^f)\}.
    \end{equation*}
    By Boole's inequality,
    \begin{align*}
        \liminf_{n,N\to\infty} \mathrm{Pr}(E) &\geq 1 - \limsup_{n,N\to\infty}\mathrm{Pr}(\{\Delta_{\theta^*} \notin \calR^{\FABPPI}_\delta(\widehat\Delta_{\theta^*}; \widehat{\sigma}_{\theta^\star})\} \cup \{m_{\theta^*} \notin \calT_{\alpha-\delta}(\widehat m_{\theta^*};\widehat\sigma_{\theta^*}^f)\}) \\
        &\geq 1 - \limsup_{n\to\infty}\mathrm{Pr}(\{\Delta_{\theta^*} \notin \calR^{\FABPPI}_\delta(\widehat\Delta_{\theta^*}; \widehat{\sigma}_{\theta^\star})\}) - \limsup_{N\to\infty} \mathrm{Pr}(\{m_{\theta^*} \notin \calT_{\alpha-\delta}(\widehat m_{\theta^*};\widehat\sigma_{\theta^*}^f)\}) \\
        &\geq 1 - \delta - (\alpha - \delta) \\
        &= 1 - \alpha.
    \end{align*}
    Furthermore, on the event $E$, we have that
    \begin{equation*}
        0 = \Delta_{\theta^*} + m_{\theta^*} \in \calR^{\FABPPI}_\delta(\widehat\Delta_{\theta^*}; \widehat{\sigma}_{\theta^\star}) + \calT_{\alpha-\delta}(\widehat m_{\theta^*};\widehat\sigma_{\theta^*}^f),
    \end{equation*}
    where the first equality follows from \cref{eq:defthetastar2}. As a result of this,
    \begin{equation*}
        \liminf_{n,N \to \infty} \text{Pr}(0 \in \calR^{\FABPPI}_\delta(\widehat\Delta_{\theta^*}; \widehat{\sigma}_{\theta^\star}) + \calT_{\alpha-\delta}(\widehat m_{\theta^*};\widehat\sigma_{\theta^*}^f)) \geq 1 - \alpha,
    \end{equation*}
    as desired.
\end{proof}

\begin{remark}\label{rem:fabppi_asymptotic}
    With both the Gaussian and horseshoe priors, we obtain asymptotic coverage. However, the asymptotic confidence regions differ significantly. In the Gaussian case, the volume of the confidence region does not vanish asymptotically. Instead, the confidence region converges to $(\frac{\Delta_\theta}{3},\Delta_\theta)$, with volume of $\frac{2}{3}|\Delta_\theta|$.
    In contrast, when using the horseshoe prior \eqref{eq:horseshoeprior}, we revert to the usual CLT-based confidence intervals, and the volume of the confidence region converges to zero almost surely.
\end{remark}

\subsection{\cref{prop:fabppi_robustness} - Robustness of FAB-PPI under the horseshoe prior}
\label{app:thm:fabppi_robustness}
Let $\pi_0$ be the horseshoe prior \eqref{eq:horseshoeprior}, and consider the FAB confidence region $\calR^{\FABPPI}_\delta(\widehat{\Delta}_\theta; \widehat{\sigma}_\theta )$ for $\Delta_\theta$, as defined in \cref{eq:FABdelta}.

We first state a corollary of \citet[Theorem 2.2]{Cortinovis2024}, which follows from the power-law tails of the marginal likelihood under the horseshoe prior (see \cref{sec:app:backgroundhorseshoe}). The corollary states that, if $|\widehat{\Delta}_\theta|$ is very large, then the standard CLT-based confidence interval, $(\widehat{\Delta}_\theta\pm \widehat{\sigma}_\theta z_{1-\delta/2})$, is recovered.

\begin{corollary}(\citet[Theorem 2.2]{Cortinovis2024})
    \label{prop:limitstandardCI}
    For any $\sigma>0$,
    \begin{align*}
        \lim_{|\Delta|\to\infty} \sup(\calR^{\FABPPI}_\delta(\Delta; \sigma )) - \Delta&=\lim_{|\Delta|\to\infty} \Delta-\inf(\calR^{\FABPPI}_\delta(\Delta; \sigma))=\sigma z_{1-\delta/2}.
    \end{align*}
\end{corollary}

Define
\begin{align}
    \mathcal S_{\alpha,\delta}(\widehat\Delta_\theta, \widehat{\sigma}_\theta, \widehat m_\theta, \widehat\sigma_\theta^f)
    =\calR^{\FABPPI}_\delta(\widehat\Delta_\theta; \widehat{\sigma}_\theta) + \calT_{\alpha-\delta}(\widehat m_\theta; \widehat\sigma_\theta^f),
\end{align}
where
$$
    \calT_{\alpha-\delta}(\widehat m_\theta; \widehat\sigma_\theta^f)
    = \left(\widehat{m}_\theta - \widehat\sigma_\theta^f z_{1-(\alpha - \delta) / 2}, \widehat{m}_\theta + \widehat\sigma_\theta^f  z_{1-(\alpha - \delta) / 2}\right)
$$
is the standard CLT-based confidence interval for $m_\theta$. From Corollary \ref{prop:limitstandardCI}, for any fixed $\sigma>0$, $m\in\bbR$, $\sigma^f>0$,
\begin{align*}
    \lim_{|\Delta|\to\infty} \sup(\mathcal S_{\alpha,\delta}(\Delta, \sigma, m, \sigma^f)) - (\Delta+m) &=\lim_{|\Delta|\to\infty} (\Delta+m)-\inf(\mathcal S_{\alpha,\delta}(\Delta, \sigma, m, \sigma^f))=\sigma z_{1-\delta/2} + \sigma^f z_{1-(\alpha-\delta)/2}.
\end{align*}
Therefore, if $|\widehat{\Delta}_\theta|\gg 0$, the confidence region $\mathcal S_{\alpha,\delta}(\widehat\Delta_\theta, \widehat{\sigma}_\theta, \widehat m_\theta, \widehat\sigma_\theta^f)$ reverts to the standard interval 
$$
    (\widehat\Delta_\theta+\widehat m_\theta \pm (\widehat{\sigma}_\theta z_{1-\delta/2}+ \widehat{\sigma}^f_\theta z_{1-(\alpha-\delta)/2}) ).
$$
It follows that, if $\inf_{\theta'\in\bbR} |\widehat\Delta_{\theta'}|\gg 0$  the confidence region for $\theta^\star$, defined as
\begin{equation*}
    \calC_\alpha^\FABPPI=\left\{\theta \mid 0\in \calR^{\FABPPI}_\delta(\widehat\Delta_\theta; \widehat{\sigma}_\theta) + \calT_{\alpha-\delta}(\widehat m_\theta; \widehat\sigma_\theta^f)\right\},
\end{equation*}    
reverts to the standard, CLT-based PPI confidence region
\begin{equation*}
    \calC_\alpha^\text{PP}=\left\{\theta\in\bbR \mid  -\widehat{\sigma}_\theta z_{1-\delta/2}- \widehat{\sigma}^f_\theta z_{1-(\alpha-\delta)/2}  \leq \widehat\Delta_\theta+\widehat m_\theta\leq  \widehat{\sigma}_\theta z_{1-\delta/2}+ \widehat{\sigma}^f_\theta z_{1-(\alpha-\delta)/2}           \right\}.
\end{equation*}

\subsection{\cref{prop:fabppi_consistency} - Consistency of FAB-PPI mean estimators}
\label{app:prop:fabppi_consistency}
Below, we use $\BPP$ and $\BPPpp$ to distinguish between the estimators $\widehat\theta^\FABPPI$, $\widehat\theta$, $\widehat\Delta$ and $\widehat\sigma$ in the two cases of FAB-PPI and FAB-PPI\texttt{++}. Then, the FAB-PPI and FAB-PPI\texttt{++} mean estimators are given by
\begin{align*}
    \widehat \theta^{\BPP} &=  \widehat \theta^{\PP} - (\widehat\sigma^{\PP})^2 \ell'\left(\widehat\Delta^\PP; \widehat\sigma^{\PP}, \widehat\sigma^{\PP}\right),\\
    \widehat \theta^{\BPPpp} &=  \widehat \theta^{\PPpp} - (\widehat\sigma^{\PPpp})^2 \ell'\left(\widehat\Delta^\PPpp;\widehat\sigma^{\PPpp},\widehat\sigma^{\PP}\right),
\end{align*}
where we recall that $\ell(y;\sigma,\tau)=\log \int_\bbR \Normal(y;\Delta,\sigma^2)\pi_0(\Delta;\tau)d\Delta$ where $\tau$ is a scale parameter of the prior $\pi_0$. By assumption, both PPI estimators, $\widehat \theta^{\PP}$ and $\widehat \theta^{\PPpp}$, are strongly consistent estimators of $\theta^\star$. It remains to prove that
\begin{align}
    (\widehat\sigma^{\PP})^2 \ell'\left(\widehat\Delta^\PP;\widehat\sigma^{\PP}, \widehat\sigma^{\PP} \right)\to 0\label{eq:fabppicon_conv1}\\
    (\widehat\sigma^{\PPpp})^2 \ell'\left(\widehat\Delta^\PPpp;\widehat\sigma^{\PPpp}, \widehat\sigma^{\PP} \right)\to 0\label{eq:fabppicon_conv2}
\end{align}
almost surely, as $\min(n,N)\to\infty$. For any $\sigma>0$, we have $\ell'(y;\sigma,\sigma)=\frac{1}{\sigma}\ell'(y/\sigma; 1,1)$.

Under the horseshoe prior \eqref{eq:horseshoeprior}, $\ell_{\text{HS}}'(y; 1,1)$ is bounded.  Therefore \eqref{eq:fabppicon_conv1} and \eqref{eq:fabppicon_conv2} hold almost surely by sandwiching.

Under the Gaussian prior \eqref{eq:Gaussianprior},
$$
    \ell_{\text{N}}'(y;\sigma,\sigma)=-\frac{y}{2\sigma^2}.
$$
Hence, since $\widehat\Delta^{\PP}\to \Delta$ and $\widehat\Delta^{\PPpp}\to \Delta$ almost surely, where we recall that $\Delta=\mathbb E[f(X)-Y]$, we obtain
\begin{align*}
    (\widehat\sigma^{\PP})^2 \ell_{\text{N}}'\left(\widehat\Delta^\PP; \widehat\sigma^{\PP},\widehat\sigma^{\PP}\right)\to -\frac{\Delta}{2}\\
    (\widehat\sigma^{\PPpp})^2 \ell_{\text{N}}'\left(\widehat\Delta^\PPpp; \widehat\sigma^{\PPpp},\widehat\sigma^{\PP}\right)\to -\frac{\Delta}{2}
\end{align*}
almost surely as $\min(n,N)\to\infty$, which implies that the FAB-PPI mean estimators under the Gaussian prior \eqref{eq:Gaussianprior} are not consistent.
