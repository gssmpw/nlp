%%
%% load additional packages
%%
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{booktabs}
\usepackage{blindtext}
\usepackage{overpic}
\usepackage{xspace}
\usepackage{colortbl}
\usepackage{xcolor}
\usepackage{pifont}
\usepackage{lipsum}
\usepackage{tikz}
\usepackage{microtype}
\usetikzlibrary{shadows.blur}

\definecolor{turquoise}{cmyk}{0.65,0,0.1,0.3}
\definecolor{purple}{rgb}{0.65,0,0.65}
\definecolor{dark_green}{rgb}{0, 0.5, 0}
\definecolor{orange}{rgb}{0.8, 0.6, 0.2}
\definecolor{red}{rgb}{0.8, 0.2, 0.2}
\definecolor{darkred}{rgb}{0.6, 0.1, 0.05}
\definecolor{blueish}{rgb}{0.0, 0.3, .6}
\definecolor{light_gray}{rgb}{0.7, 0.7, .7}
\definecolor{pink}{rgb}{0.9, 0, 0.6}
\definecolor{greyblue}{rgb}{0.25, 0.25, 1}
\definecolor{teal}{rgb}{0.0, 0.4, 0.4}
\definecolor{chocolate}{rgb}{1.0, 0.4, 0.0}


\definecolor{figred}{rgb}{0.8352941176470589, 0.24313725490196078, 0.30980392156862746}
\definecolor{figgreen}{rgb}{0.3070588235294118, 0.5498039215686275, 0.2749019607843137}
\definecolor{figblue}{rgb}{0.19607843137254902, 0.5333333333333333, 0.7411764705882353}

%%
%% inline annotations
%%
\newcommand{\todo}[1]{{\color{red}#1}}
\newcommand{\TODO}[1]{\textbf{\color{red}[TODO: #1]}}
% disable by uncommenting below  
\renewcommand{\TODO}[1]{}
\renewcommand{\todo}[1]{#1}

%%
%% tightens underlining from \ul{....}
%%
\usepackage{soul}
\setuldepth{foobar}

%%
%% dropshadows for figures
%%
\newcommand{\dropshadow}[1]{%
    \begin{tikzpicture}
        \node[draw=none, fill=none, blur shadow={shadow blur steps=50, shadow xshift=0pt, shadow yshift=0pt}, inner sep=0pt] 
        {#1};
    \end{tikzpicture}%
}

%%
%% optimizes typesetting further (usually saves some space)
%%
% \usepackage{microtype}

%%
%% paragraph (fine tune spacing close to deadline)
%% 
\renewcommand{\paragraph}[1]{\vspace{.5em}\noindent\textbf{#1}.}


\newcommand{\SupplementaryMaterial}{{\color[rgb]{.5,.5,1}Supplementary Material}\xspace}

%%
%% math
%% 
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\argmax}{arg\,max}

\newcommand{\expect}{\mathbb{E}}
\newcommand{\losst}[1]{\mathcal{L}_\text{#1}}
\newcommand{\calN}{\mathcal{N}}
\newcommand{\calU}{\mathcal{U}}
\newcommand{\real}{\mathbb{R}}
\newcommand{\ray}{\mathbf{r}}
\newcommand{\radiance}{\mathbf{c}}
\newcommand{\diffuse}{\mathbf{c}_d}
\newcommand{\specular}{\mathbf{c}_s}
\newcommand{\density}{\sigma}
\newcommand{\transmittance}{T}
\newcommand{\weight}{w}

\newcommand{\vertex}{\mathbf{v}}
\newcommand{\primal}{\mathbf{p}}
\newcommand{\verts}{\mathcal{V}}
\newcommand{\cell}{\mathbf{c}}
\newcommand{\cells}{\mathcal{C}}

\newcommand{\pixelerror}{\mathcal{E}_r}
\newcommand{\pointerror}{E_i}
\newcommand{\trainrays}{\mathbf{R}}


\newcommand{\mipnerf}{MipNeRF~360~\cite{mipnerf360}\xspace}
\newcommand{\tankntemp}{Tank~\&~Temples~\cite{tanksntemples}\xspace}
\newcommand{\deepblend}{Deep~Blending~\cite{deepblending}\xspace}
\newcommand{\kitti}{KITTI-360~\cite{kitti360}\xspace}
\newcommand{\ommo}{OMMO~\cite{ommo2023}\xspace}


\definecolor{color1}{rgb}{0.9, 0.65, 0.65}
\definecolor{color2}{rgb}{0.95, 0.8, 0.8}
\definecolor{color3}{rgb}{1.0, 0.9, 0.9}
\newcommand{\best}[1]{\hspace{-\fboxsep}\colorbox{color1}{\textbf{#1}}\hspace{-\fboxsep}}
\newcommand{\second}[1]{\hspace{-\fboxsep}\colorbox{color2}{\textit{#1}}\hspace{-\fboxsep}}

\newcommand{\cmark}{\textcolor{green}{\ding{51}}} % Green checkmark
\newcommand{\xmark}{\textcolor{red}{\ding{55}}}   % Red cross