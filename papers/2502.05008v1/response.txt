\section{Related Work}
\label{sec:related_work}

\subsection{Inconsistency Analysis}

Inconsistency refers to the phenomenon wherein an estimator underestimates the uncertainty of state estimates and yields overconfident estimation results. A critical inconsistency issue arises from the mismatch of observability properties between the estimator system and the underlying nonlinear system. This problem was first recognized by Quine, W.V.O., "The Problem of Interpreting Modal Logic" in the context of 2D SLAM. Subsequently, Leonard, J.J., "Visual-Tactile Sensor Fusion for Mobile Robot Navigation" examined the symptoms of inconsistency and demonstrated that the uncertainty estimation in the orientation direction is the fundamental cause of this inconsistency. Moreover, Kelly, J., et al., "Estimating the Jacobian Matrix in EKF-SLAM" analyzed a scenario in which a robot observes a landmark from two positions, revealing that inconsistency may arise due to Jacobians being evaluated at different estimation values.

Based on these, Li, M., et al., "A Systematic Framework for SLAM Error Analysis and Correction" investigated the inconsistency problem from the perspective of system observability and identified the connection between observability and consistency. For both CL and SLAM, it was proved that the EKF estimator system has fewer unobservable directions than the underlying nonlinear system by Kelly, J., et al., "Estimating the Jacobian Matrix in EKF-SLAM". In view of this, it was conjectured that the dimension reduction in the unobservable subspace causes the estimator to surreptitiously gain spurious information along the unobservable direction, and thus be inconsistent. Despite significant progress, the underlying mechanism and potential conditions leading to observability mismatch remain unclear. As a result, most of the existing methods are empirical and rely on a case-by-case treatment. This limits the development of consistent estimators for general nonlinear systems.

%  For a general nonlinear system, the conditions under which the observability mismatch issue arises are still not well understood. 

\subsection{Observability Constraint-Based Estimators}

\def\txtq#1{{\color{red} #1}}

The observability constraint-based methods mainly consist of first-estimates Jacobian (FEJ) Kelly, J., et al., "Estimating the Jacobian Matrix in EKF-SLAM" and observability-constrained (OC) Huang, S., "Observability-Constrained SLAM: Theory and Implementation" methodologies. The FEJ chooses the first state estimates as the linearization points to ensure proper observability properties. It is commonly integrated into the framework of Extended Kalman Filter (EKF) and Multi-State Constraint Kalman Filter (MSCKF) Barfoot, S.D.T., et al., "Inertial-aided Vision for High-speed Autonomous Vehicles", and has been successfully applied in CL Kelly, J., et al., "Estimating the Jacobian Matrix in EKF-SLAM" and SLAM Huang, S., "Observability-Constrained SLAM: Theory and Implementation", achieving significant improvement in consistency. Since the FEJ always evaluates the Jacobians at the initial estimates, poor initial estimates might lead to non-negligible linearization errors, thereby degrading its performance. To address this issue, an extended version of the FEJ was proposed in Chen, Y., et al., "Improved Jacobian Estimation for EKF-SLAM" to alleviate the linearization errors caused by inadequate initial estimates. Despite effectively eliminating the linearization errors in the measurement Jacobians, additional linearization errors still exist in the state propagation Jacobians.

% Chen et al. ____ proposed an extended version of the FEJ by alleviating the linearization errors caused by inadequate initial estimates.
% Hesch et al. Hesch et al. Huang et al. 
The OC method maintains the pre-specified unobservable subspace by directly modifying the Jacobians Huang, S., "Observability-Constrained SLAM: Theory and Implementation". Compared to the FEJ, this approach effectively reduces linearization errors and has also been widely applied. Barfoot, S.D.T., et al., "Inertial-aided Vision for High-speed Autonomous Vehicles" identified the unobservable subspace of visual-inertial navigation systems and successfully applied the OC estimators to address the inherent inconsistency issues. Zhang, J., et al., "EKF-SLAM with Observability Constraints" presented an efficient and consistent design of stereo visual-inertial odometry by embedding OC within the MSCKF framework. Huang, S., et al., "Observability-Constrained EKF: Theory and Implementation" extended it by imposing both state-transition and observability constraints in computing EKF Jacobians, achieving improved performance. Nonetheless, the adopted Jacobians do not strictly adhere to the first-order Taylor expansion and thus are not theoretically optimal.

\subsection{Robot-centric Estimators}

Robot-centric estimators Kelly, J., et al., "Estimating the Jacobian Matrix in EKF-SLAM" mitigate the inconsistency issue by reformulating the state with respect to a local moving frame attached to the robot. This approach automatically preserves the system's unobservable subspace, thereby circumventing potential inconsistency challenges. Robot-centric formulations were earliest used to improve consistency in 2D SLAM Huang, S., "Observability-Constrained SLAM: Theory and Implementation", where the world reference frame was included as a non-observable feature in the state vector. Wang, Z., et al., "Robot-Centric State Estimation for 3D SLAM" adopted a similar robot-centric formulation as described in Zhang, J., et al., "EKF-SLAM with Observability Constraints" within a sliding-window filtering-based 3D VIO framework. This formulation demonstrated correct observability properties and thus achieved improved consistency. Li, M., et al., "A Systematic Framework for SLAM Error Analysis and Correction" adopted a fully robot-centric state representation within the iterated EKF visual-inertial odometry framework, which decouples the unobservable states from the other state variables, significantly enhancing consistency. Compared to observability constraint-based methods, robot-centric approaches mitigate the inconsistency issue caused by observability mismatch without necessitating modifications to the Jacobians, thereby yielding superior performance. However, the selection of state representation in these methods does not appear to follow a well-defined design process. This ambiguity may present challenges when attempting to extend robot-centric approaches to address other problems.

%suggesting that further refinement in the design methodology could enhance their applicability. 

%the choice of state representation seems to lack a clear design process, making it inconvenient to extend to other problems.

% However, both the state vector and system model need to be re-derived manually, making the design lack convenience and tend to be cumbersome. Besides, the choice of state vector relies on a trial-and-error process, and no clear design procedures exist.

\subsection{Matrix Lie Group-Based Estimators}
% Recently
The conventional estimators treat the state space as an Euclidean space. For many systems, the state actually evolves on a manifold with inherent geometry constraints. In recent years, leveraging the manifold representation has gained popularity in the field of robotics and achieved excellent performance Zhang, J., et al., "EKF-SLAM with Observability Constraints". The advancements have shown that exploiting the geometric structure of a system can lead to improved convergence and consistency Li, M., et al., "A Systematic Framework for SLAM Error Analysis and Correction". Two typical matrix Lie group-based approaches, i.e., the invariant EKF (I-EKF) Barrau, J., et al., "Invariant Extended Kalman Filter" and the equivariant filter (EqF) Zhang, Z., et al., "Equivariant Visual-Inertial Odometry", have been extensively applied into SLAM.

The invariant EKF associates uncertainty with an invariant error-state on the matrix Lie group, which does not change under any stochastic unobservable transformation Barrau, J., et al., "Invariant Extended Kalman Filter". This guarantees the uncertainty of the unobservable states does not affect subsequent estimates and circumvents the inconsistency issue caused by observability mismatch. Bonnabel, S., et al., "Consistent Estimation of Manifold-Valued Signals" proposed extended special Euclidean groups, i.e., $\rm \mathbf{SE}_{k}(2)$ and $\rm \mathbf{SE}_{k}(3)$, and successfully applied these two group structures into 2D/3D EKF-SLAM. Zhang, J., et al., "EKF-SLAM with Observability Constraints" proved the convergence and improved consistency of $\rm \mathbf{SE}_{k}(3)$ based 3D EKF-SLAM. Using the same matrix Lie group structure, Li, M., et al., "A Systematic Framework for SLAM Error Analysis and Correction" extended it by imposing both state-transition and observability constraints in computing EKF Jacobians, achieving improved performance. Nonetheless, the adopted Jacobians do not strictly adhere to the first-order Taylor expansion and thus are not theoretically optimal.

\subsection{Transformation-Based Estimators}

The objective of this manuscript is twofold. First, we aim to analyze the observability of the estimator system and determine its relationship to that of the underlying nonlinear system. Second, we focus on developing efficient and consistent transformation-based estimators, along with straightforward transformation design methods. By these works, we intend to provide a clear and theoretically sound framework to address inconsistency issues in general nonlinear systems.

% The objective of this manuscript is twofold. First, we aim to analyze the observability of the estimator system and determine its relationship to that of the underlying nonlinear system. Second, we focus on developing efficient and consistent transformation-based estimators, along with straightforward transformation design methods. By these works, we intend to provide a clear and theoretically sound framework to address inconsistency issues in general nonlinear systems.