
\begin{table*}[t]
\centering
\vspace{-2mm}
\resizebox{0.99\textwidth}{!}{%
\begin{tabular}{@{}llcccccccccc@{}}
\toprule
 &  & \multicolumn{3}{c}{\textbf{DTW}} & \multicolumn{3}{c}{\textbf{EDwP}} & \multicolumn{3}{c}{\textbf{Fr\'echet}} &  \\ 
 \cmidrule(lr){3-5}  \cmidrule(lr){6-8}  \cmidrule(lr){9-11}
\multirow{-2}{*}{\textbf{Dataset}} & \multirow{-2}{*}{\textbf{Method}} & \textbf{HR@10} & \textbf{HR@50} & \textbf{R10@50} & \textbf{HR@10} & \textbf{HR@50} & \textbf{R10@50} & \textbf{HR@10} & \textbf{HR@50} & \textbf{R10@50} & \multirow{-2}{*}{\begin{tabular}[c]{@{}c@{}}\textbf{Average}\\ \textbf{rank}\end{tabular}} \\ \midrule
 & NeuTraj & 0.445 & 0.568 & {\ul 0.824} & 0.484 & 0.601 & 0.866 & 0.539 & 0.677 & 0.930 & 3.0 \\
 & T3S & 0.255 & 0.406 & 0.564 & 0.423 & 0.557 & 0.795 & 0.492 & 0.659 & 0.892 & 4.8 \\
 & TMN & 0.228 & 0.290 & 0.520 & 0.216 & 0.285 & 0.503 & 0.215 & 0.280 & 0.542 & 7.0 \\
 & TrajGAT & 0.279 & 0.366 & 0.686 & 0.226 & 0.345 & 0.601 & 0.384 & 0.430 & 0.793 & 5.4 \\
 & TrajCL & 0.415 & {\ul 0.572} & 0.791 & {\ul 0.546} & {\ul 0.668} & {\ul 0.910} & {\ul 0.584} & {\ul 0.715} & {\ul 0.938} & 2.3 \\
 & KGTS & {\ul 0.464} & 0.497 & 0.784 & 0.535 & 0.501 & 0.812 & 0.343 & 0.331 & 0.618 & 4.4 \\
 & \cellcolor[HTML]{EFEFEF}\model\ (ours) & \cellcolor[HTML]{EFEFEF}\textbf{0.765} & \cellcolor[HTML]{EFEFEF}\textbf{0.869} & \cellcolor[HTML]{EFEFEF}\textbf{0.996} & \cellcolor[HTML]{EFEFEF}\textbf{0.796} & \cellcolor[HTML]{EFEFEF}\textbf{0.881} & \cellcolor[HTML]{EFEFEF}\textbf{0.998} & \cellcolor[HTML]{EFEFEF}\textbf{0.754} & \cellcolor[HTML]{EFEFEF}\textbf{0.838} & \cellcolor[HTML]{EFEFEF}\textbf{0.996} & \cellcolor[HTML]{EFEFEF}1.0 \\
\multirow{-8}{*}{\textbf{Porto}} & \multicolumn{1}{c}{$\Delta$} & \textit{+65\%} & \textit{+52\%} & \textit{+21\%} & \textit{+46\%} & \textit{+32\%} & \textit{+10\%} & \textit{+29\%} & \textit{+17\%} & \textit{+6\%} &  \\ \midrule
 & NeuTraj & 0.547 & {\ul 0.663} & 0.882 & 0.392 & 0.504 & 0.759 & 0.591 & 0.731 & 0.955 & 3.8 \\
 & T3S & 0.298 & 0.474 & 0.619 & 0.334 & 0.495 & 0.705 & 0.600 & {\ul 0.735} & 0.925 & 5.4 \\
 & TMN & 0.385 & 0.414 & 0.686 & 0.396 & 0.417 & 0.705 & 0.389 & 0.422 & 0.729 & 6.3 \\
 & TrajGAT & 0.479 & 0.616 & {\ul 0.917} & 0.378 & {\ul 0.577} & 0.842 & 0.522 & 0.633 & {\ul 0.959} & 3.7 \\
 & TrajCL & 0.444 & 0.625 & 0.815 & 0.427 & 0.556 & 0.799 & {\ul 0.634} & 0.732 & 0.948 & 3.7 \\
 & KGTS & {\ul 0.553} & 0.594 & 0.868 & {\ul 0.606} & 0.574 & {\ul 0.871} & 0.458 & 0.445 & 0.754 & 4.0 \\
 & \cellcolor[HTML]{EFEFEF}\model\ (ours) &  \cellcolor[HTML]{EFEFEF}\textbf{0.754} & \cellcolor[HTML]{EFEFEF}\textbf{0.883} & \cellcolor[HTML]{EFEFEF}\textbf{0.995} & \cellcolor[HTML]{EFEFEF}\textbf{0.797} & \cellcolor[HTML]{EFEFEF}\textbf{0.889} & \cellcolor[HTML]{EFEFEF}\textbf{0.996} & \cellcolor[HTML]{EFEFEF}\textbf{0.812} & \cellcolor[HTML]{EFEFEF}\textbf{0.890} & \cellcolor[HTML]{EFEFEF}\textbf{0.997} & \cellcolor[HTML]{EFEFEF}1.0 \\
\multirow{-8}{*}{\textbf{Xian}} & \multicolumn{1}{c}{$\Delta$} & \textit{+36\%} & \textit{+33\%} & \textit{+8\%} & \textit{+31\%} & \textit{+54\%} & \textit{+14\%} & \textit{+28\%} & \textit{+21\%} & \textit{+4\%} & \multicolumn{1}{l}{} \\ \midrule
 & NeuTraj & 0.548 & 0.605 & 0.867 & 0.557 & 0.608 & 0.855 & 0.566 & 0.657 & 0.892 & 3.9 \\
 & T3S & 0.444 & 0.666 & 0.854 & 0.463 & 0.728 & 0.888 & 0.536 & 0.765 & 0.944 & 3.8 \\
 & TMN & 0.313 & 0.432 & 0.589 & 0.332 & 0.527 & 0.661 & 0.471 & 0.569 & 0.694 & 6.2 \\
 & TrajGAT & 0.338 & 0.503 & 0.632 & 0.185 & 0.310 & 0.435 & 0.572 & 0.755 & 0.913 & 5.4 \\
 & TrajCL & {\ul 0.684} & {\ul 0.761} & {\ul 0.993} & {\ul 0.678} & {\ul 0.809} & {\ul 0.980} & {\ul 0.691} & {\ul 0.856} & {\ul 0.990} & 2.0 \\
 & KGTS & 0.454 & 0.497 & 0.728 & 0.465 & 0.496 & 0.729 & 0.381 & 0.362 & 0.598 & 5.7 \\
 & \cellcolor[HTML]{EFEFEF}\model\ (ours) & \cellcolor[HTML]{EFEFEF}\textbf{0.717} & \cellcolor[HTML]{EFEFEF}\textbf{0.778} & \cellcolor[HTML]{EFEFEF}\textbf{0.999} & \cellcolor[HTML]{EFEFEF}\textbf{0.822} & \cellcolor[HTML]{EFEFEF}\textbf{0.933} & \cellcolor[HTML]{EFEFEF}\textbf{0.997} & \cellcolor[HTML]{EFEFEF}\textbf{0.869} & \cellcolor[HTML]{EFEFEF}\textbf{0.932} & \cellcolor[HTML]{EFEFEF}\textbf{0.998} & \cellcolor[HTML]{EFEFEF} 1.0 \\
\multirow{-8}{*}{\textbf{Germany}} & \multicolumn{1}{c}{$\Delta$} & \textit{+5\%} & \textit{+2\%} & \textit{+1\%} & \textit{+21\%} & \textit{+15\%} & \textit{+2\%} & \textit{+26\%} & \textit{+9\%} & \textit{+1\%} & \\
\bottomrule
\end{tabular}%
}
\vspace{-2mm}
\caption{Overall Performance Results. Best results are in boldface, while the second best  is underlined. $\Delta$ denotes the improvement of \model\ over the best baseline. The average rank is the mean of the ranks of each model across all result columns in the table.} 
\label{tab:exp:overall}
\vspace{-3mm}
\end{table*}
