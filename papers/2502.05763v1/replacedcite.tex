\section{Related Work}
\label{sec:related}

Several studies investigated the impact of using DNS public resolvers on end-users' performance ____. 
While differing in methodologies, they found that ISP resolvers 
were geographically closer to end-users ____, 
and  redirected users to more proximal CDN edge servers ____ than the public DNS resolvers considered (collectively, Google, OpenDNS, and Level 3). However, these studies were conducted  before ECS was either proposed ____ or adopted by the CDN under study ____. None of them consider the impact of IPv6 on DNS behavior.  Further, they focus on comparing public resolvers performance to that of ISP resolvers rather than to each other. An early study by Otto et al. ____ considered an impact of using different ECS prefixes on the quality of user redirections by Google CDN through Google DNS -- among the only platforms that adopted ECS at the time.  We compare user redirections of multiple CDNS through multiple resolution platforms under their natural ECS behavior.

A NANOG presentation
____ and a trade article ____ compare the responsiveness of several public resolvers but limit their analyses to only client-resolver interaction and to only the resolution of non-CDN-accelerated hostnames.  In particular, ____ do not consider a key aspect of our study -- the comparison of latencies of CDN client mappings produced by different resolution services. 


While our study focuses on the ability of the resolution services to support DNS-based client mapping by CDNs, the actual client-mapping decisions are done by CDNs' authoritative DNS platforms. The structure and operation of these platforms represent inner working of CDNs, usually hidden from an external observer.  However, Schomp et al. ____ provide a rare overview of the authoritative DNS infrastructure used by Akamai.  

Chen et. al ____ studied the impact of enabling ECS at Akamai on the quality of client-to-edge-server mapping, especially for the clients using public resolvers. Their results show that enabling ECS has decreased the RTT between these clients and their edge servers by 50\%, and significantly improved other metrics, at the cost of increasing the number of DNS queries from public resolvers to Akamai's authoritative DNS servers by a factor of 8. S\'anchez et. al ____ found similarly significant impact of ECS on the quality of client mapping in the EdgeCast CDN for clients using Google Public DNS. Using active measurements from a specially instrumented client application, they observed the reduction in the time to obtain the first byte of content of 20-60\% for clients in North America and Western Europe and 70-90\% for clients in Oceania. \myred{De Vries et al. ____ analyze ECS-enabled queries from Google Public DNS to a busy authoritative server and uncover a privacy leak where the combination of mail servers using Google Public DNS and Google using ECS with authoritative servers leads to revealing to the authoritative servers the identities of the mail servers exchanging email with each other.}  Our study shows that, with sufficient resolver footprint or an anycast-based CDN, a public DNS resolver can provide competitive client-to-edge-server latencies without resorting to ECS as we found the Cloudflare resolver and, to a less extent, Quad9, achieve this for most regions and CDNs we consider.  

Turning to the impact of IPv6 transition, Alzoubi et.al
____ studied performance implications of
unilateral enabling of IPv6 by Websites. They found no evidence of
performance penalty for doing so, although their measurements employed
coarse time granularity of 1 second. This finding was largely
confirmed by Bajpai et. al  ____, who probed
Alexa top-10K websites from 80 vantage points and 
found that, although most tested websites had higher latency over IPv6,
91\% of these sites had IPv6 latencies within 1 msec of their IPv4
counterparts. Our investigation complements these studies by
considering IPv6 impact on the client-to-edge-server latencies of 
client mappings, and finds the impact to be much more significant in certain
cases (i.e., some resolver-CDN pairs in some regions).

An initial -- unpublished -- iteration of this study was documented in
____.  The current study uses more vantage points, employs a
more systematic approach to selecting websites for measurement, and
contributes two applications for ongoing reassessment of our findings
using current data and user-specific perspective.
\vspace{-2mm}