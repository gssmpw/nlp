\def\isarxiv{1} %%% for icml submission version, we comment this line

\ifdefined\isarxiv
\documentclass[11pt]{article}
\usepackage[numbers]{natbib}

\else
% \documentclass{article}
\documentclass[sigconf,anonymous,review]{acmart}
\fi


\usepackage{amsmath}
\usepackage{amsthm}
\ifdefined\isarxiv %%%Zhao: I added the following lines
\usepackage{amssymb}
\else
\fi
\usepackage{algorithm}
\usepackage{subfig}
\usepackage{algpseudocode}
\usepackage{graphicx}
\usepackage{grffile}
\usepackage{wrapfig,epsfig}
\usepackage{url}
\usepackage{xcolor}
\usepackage{epstopdf}


\usepackage{bbm}
\usepackage{dsfont}
 
\allowdisplaybreaks
 

\ifdefined\isarxiv

\let\C\relax
\usepackage{tikz}
\usepackage{hyperref}  %%% arxiv don't allow this.
\hypersetup{colorlinks=true,citecolor=blue,linkcolor=blue} %%% Zhao : maybe we should comment this in submission.
\usetikzlibrary{arrows}
\usepackage[margin=1in]{geometry}

\else

\usepackage{microtype}
\usepackage{hyperref}
\definecolor{mydarkblue}{rgb}{0,0.08,0.45}
\hypersetup{colorlinks=true, citecolor=mydarkblue,linkcolor=mydarkblue}
 

\fi
 
\graphicspath{{./figs/}}

\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{notation}[theorem]{Notation}
%\newtheorem{proof}[theorem]{Proof}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{conjecture}[theorem]{Conjecture}
\newtheorem{assumption}[theorem]{Assumption}
\newtheorem{observation}[theorem]{Observation}
\newtheorem{fact}[theorem]{Fact}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{claim}[theorem]{Claim}
\newtheorem{example}[theorem]{Example}
\newtheorem{problem}[theorem]{Problem}
\newtheorem{open}[theorem]{Open Problem}
\newtheorem{property}[theorem]{Property}
\newtheorem{hypothesis}[theorem]{Hypothesis}

\newcommand{\wh}{\widehat}
\newcommand{\wt}{\widetilde}
\newcommand{\ov}{\overline}
\newcommand{\N}{\mathcal{N}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\M}{\mathcal{M}}
\newcommand{\Q}{\mathcal{Q}}
\newcommand{\PP}{\mathcal{P}}
\newcommand{\KL}{\mathrm{KL}}
\newcommand{\RHS}{\mathrm{RHS}}
\newcommand{\LHS}{\mathrm{LHS}}
\renewcommand{\d}{\mathrm{d}}
\renewcommand{\i}{\mathbf{i}}
\renewcommand{\tilde}{\wt}
\renewcommand{\hat}{\wh}
\newcommand{\Tmat}{{\cal T}_{\mathrm{mat}}}
\newcommand{\True}{\mathrm{true}}


\DeclareMathOperator*{\E}{{\mathbb{E}}}
\DeclareMathOperator*{\var}{\mathrm{Var}}
\DeclareMathOperator*{\Z}{\mathbb{Z}}
\DeclareMathOperator*{\C}{\mathbb{C}}
\DeclareMathOperator*{\D}{\mathcal{D}}
\DeclareMathOperator*{\median}{median}
\DeclareMathOperator*{\mean}{mean}
\DeclareMathOperator{\OPT}{OPT}
\DeclareMathOperator{\supp}{supp}
\DeclareMathOperator{\poly}{poly}

\DeclareMathOperator{\nnz}{nnz}
\DeclareMathOperator{\sparsity}{sparsity}
\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator{\diag}{diag}
\DeclareMathOperator{\dist}{dist}
\DeclareMathOperator{\cost}{cost}
\DeclareMathOperator{\vect}{vec}
\DeclareMathOperator{\tr}{tr}
\DeclareMathOperator{\dis}{dis}
\DeclareMathOperator{\cts}{cts}



\makeatletter
\newcommand*{\RN}[1]{\expandafter\@slowromancap\romannumeral #1@}
\makeatother
% \newcommand{\Zhao}[1]{{\color{red}[Zhao: #1]}}
% \newcommand{\Yang}[1]{{\color{orange}[Yang: #1]}}
% \newcommand{\Bo}[1]{{\color{blue}[Bo: #1]}}
% \newcommand{\Xiaoyu}[1]{{\color{purple}[Xiaoyu: #1]}}
% \newcommand{\Zhizhou}[1]{{\color{violet}[Zhizhou: #1]}}
% \newcommand{\Zhenmei}[1]{{\color{purple}[Zhenmei: #1]}}
% \newcommand{\Mingda}[1]{{\color{brown}[Mingda: #1]}}
% \newcommand{\InernNameB}[1]{{\color{blue}[InternNameB: #1]}} %%%Change to intern name


\usepackage{lineno}
% \def\linenumberfont{\normalfont\small}


\begin{document}

\ifdefined\isarxiv

\date{}

\title{Force Matching with Relativistic Constraints: A Physics-Inspired Approach to Stable and Efficient Generative Modeling}

% \author{}

% \iffalse
\author{
Yang Cao\thanks{\texttt{ ycao4@wyomingseminary.org}. Wyoming Seminary}
\and
Bo Chen\thanks{\texttt{ bc7b@mtmail.mtsu.edu}. Middle Tennessee State University.}
\and
Xiaoyu Li\thanks{\texttt{
xli216@stevens.edu}. Stevens Institute of Technology.}
\and
Yingyu Liang\thanks{\texttt{
yingyul@hku.hk}. The University of Hong Kong. \texttt{
yliang@cs.wisc.edu}. University of Wisconsin-Madison.} 
\and
Zhizhou Sha\thanks{\texttt{
shazz20@mails.tsinghua.edu.cn}. Tsinghua University.}
\and
Zhenmei Shi\thanks{\texttt{
zhmeishi@cs.wisc.edu}. University of Wisconsin-Madison.}
\and
Zhao Song\thanks{\texttt{ magic.linuxkde@gmail.com}. Simons Institute for the Theory of Computing, University of California, Berkeley.}
\and
Mingda Wan\thanks{\texttt{
dylan.r.mathison@gmail.com}. Anhui University.}
}
% \fi

\else

\title{Force Matching with Relativistic Constraints: A Physics-Inspired Approach to Stable and Efficient Generative Modeling}
% Newtonian and Relativistic Force Matching: Towards Stable and Efficient Generative Models
% Beyond Flow Matching: A Relativistic Force-Based Framework for Generative Modeling
% Force Matching for Generative Models: A Relativistic Approach to Stability and Efficiency
% Bridging Generative Modeling and Physics: Force Matching with Relativistic Constraints
% Force Matching: A Relativistic Approach to Stable and Efficient Generative Modeling
% Force Matching with Relativistic Constraints: Towards Stable andEfficient Cenerative Models

\author{%
}

\fi


\ifdefined\isarxiv
\begin{titlepage}
  \maketitle
  \begin{abstract}
\input{0_abstract}

  \end{abstract}
  \thispagestyle{empty}
\end{titlepage}

{\hypersetup{linkcolor=black}
\tableofcontents
}
\newpage

\else

\begin{abstract}
\input{0_abstract}
\end{abstract}

\begin{CCSXML}
<ccs2012>
   <concept>
       <concept_id>10010147.10010257</concept_id>
       <concept_desc>Computing methodologies~Machine learning</concept_desc>
       <concept_significance>500</concept_significance>
       </concept>
   <concept>
       <concept_id>10010147.10010178</concept_id>
       <concept_desc>Computing methodologies~Artificial intelligence</concept_desc>
       <concept_significance>500</concept_significance>
       </concept>
 </ccs2012>
\end{CCSXML}

\ccsdesc[500]{Computing methodologies~Machine learning}
\ccsdesc[500]{Computing methodologies~Artificial intelligence}


% \begin{CCSXML}
% <ccs2012>
%  <concept>
%   <concept_id>00000000.0000000.0000000</concept_id>
%   <concept_desc>Do Not Use This Code, Generate the Correct Terms for Your Paper</concept_desc>
%   <concept_significance>500</concept_significance>
%  </concept>
%  <concept>
%   <concept_id>00000000.00000000.00000000</concept_id>
%   <concept_desc>Do Not Use This Code, Generate the Correct Terms for Your Paper</concept_desc>
%   <concept_significance>300</concept_significance>
%  </concept>
%  <concept>
%   <concept_id>00000000.00000000.00000000</concept_id>
%   <concept_desc>Do Not Use This Code, Generate the Correct Terms for Your Paper</concept_desc>
%   <concept_significance>100</concept_significance>
%  </concept>
%  <concept>
%   <concept_id>00000000.00000000.00000000</concept_id>
%   <concept_desc>Do Not Use This Code, Generate the Correct Terms for Your Paper</concept_desc>
%   <concept_significance>100</concept_significance>
%  </concept>
% </ccs2012>
% \end{CCSXML}

% \ccsdesc[500]{Do Not Use This Code~Generate the Correct Terms for Your Paper}
% \ccsdesc[300]{Do Not Use This Code~Generate the Correct Terms for Your Paper}
% \ccsdesc{Do Not Use This Code~Generate the Correct Terms for Your Paper}
% \ccsdesc[100]{Do Not Use This Code~Generate the Correct Terms for Your Paper}

%%
%% Keywords. The author(s) should pick words that accurately describe
%% the work being presented. Separate the keywords with commas.
\keywords{Flow Matching, Diffusion Model, Generative Model}
%% A "teaser" image appears between the author and affiliation
%% information and the body of the document, and typically spans the
%% page.
\maketitle % Bo: error in KDD change template: abstract must be defined before maketitle command, so I move \maketitle after abstract.
\fi


\input{1_intro} %%% Section 1. Introduction
\input{2_related_work}
\input{3_preli}
\input{4_force_matching}
\input{5_experiment}
\input{6_ablation}
\input{7_conclusion}


\newpage
\ifdefined\isarxiv
%\section*{Acknowledgments}
\bibliographystyle{alpha}
\bibliography{ref}
\else
\bibliography{ref}
\bibliographystyle{ACM-Reference-Format} %Bo: this is for KDD 2025
\fi



\newpage 
% \onecolumn % Bo: the KDD official template didn't use newp page and oneclumn
\appendix
\ifdefined\isarxiv
\begin{center}
    \textbf{\LARGE Appendix}
\end{center}
\else
\section*{Appendix}
\fi
\input{8_app}


%%%% Cut-line between first 10 pages and appendix







%%% some writing rules

%% Writing rule for creating tags.
%% Tags :
%% Theorem    \ref{thm:bla_bla}
%% Lemma      \ref{lem:bla_bla}
%% Claim      \ref{cla:bla_bla}
%% Corollary  \ref{cor:bla_bla}
%% Fact       \ref{fac:bla_bla}
%% Definition \ref{def:bla_bla}
%% Section    \ref{sec:bla_bla}
%% Subsection \ref{sub:bla_bla}
%% Equation   \ref{eq:bla_bla}



\end{document}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
