%==============================================================================
% ABBREVIATIONS
%------------------------------------------------------------------------------
\newcommand{\intO}{\int_{\Omega}}
\newcommand{\til}{\widetilde}
\newcommand{\C}{\mathbb{C}}
\newcommand{\N}{\mathbb{N}}
% \newcommand{\R}{\mathbb{R}}
\newcommand{\Z}{\mathbb{Z}}
%\renewcommand{\norm}[2][]{\left\Vert#2\right\Vert_{#1}}
% \newcommand{\norm}[2][]{\left\|#2\right\|_{#1}}           % f.e. \norm[\infty]{A-B}
\newcommand{\Sprod}[2][]{\left\langle#2\right\rangle_{#1}}
\newcommand{\sfrac}[2]{{\textstyle\frac{#1}{#2}}}
\newcommand{\curl}[1][]{{\>\nabla{#1}\times}\>}
\renewcommand{\div}{\nabla\hskip-2pt\cdot}
\newcommand{\grad}{\nabla}
% \newcommand{\argmin}{\mathrm{argmin}}
\newcommand{\argmax}{\mathrm{argmax}}
\newcommand{\kron}{\otimes}
\DeclareMathOperator*{\argmin}{arg\,min}                   % arg min
\renewcommand{\t} {^{\top}}                                % transpose, e.g. $A\t$
\newcommand{\mt} {^{-\top}}                                % minus transpose, e.g. $A\t$

\newcommand{\cof}{\mathrm{cof}}

\newcommand{\diag}{\mathrm{diag}}
\newcommand{\nr}[1]{^{(#1)}}
\newcommand{\tcases}[1]{\left\{\begin{array}{ll}#1\end{array}\right.}
% \newcommand{\Set}[1]{\left\{#1\right\}}
\newcommand{\Abs}[1]{\left|#1\right|}

\newcommand{\Matrix}[2][0.8]{%
  \setlength{\arraycolsep}{5pt}\renewcommand{\arraystretch}{#1}
  \left(\hskip-5pt\begin{array}{*{10}{c}}#2\end{array}\hskip-5pt\right)}
\newcommand{\eps}{\varepsilon}
\renewcommand{\phi}{\mathbf{\varphi}}

% mathrm
\newcommand{\vol}{\mathrm{vol}}
\newcommand{\diam}{\mathrm{diam}}
\newcommand{\Img}{\mathrm{Img}}
\newcommand{\Fro}{\mathrm{Fro}}
\newcommand{\Id}{\mathrm{Id}}

% mathbf
\newcommand{\bI}{\mathbf{I}}
\newcommand{\bM}{\mathbf{M}}
\newcommand{\bsigma}{\mathbf{\sigma}}
\newcommand{\bu}{\mathbf{u}}
\newcommand{\by}{\mathbf{y}}
\newcommand{\bd}{\mathbf{d}}
\newcommand{\bq}{\mathbf{q}}
\newcommand{\bs}{\mathbf{s}}
\newcommand{\bA}{\mathbf{A}}
\newcommand{\bF}{\mathbf{F}}
\newcommand{\bp}{\mathbf{p}}

% mathcal
\newcommand{\CA}{\mathcal{A}}     % generic image
\newcommand{\CB}{\mathcal{B}}
\newcommand{\CC}{\mathcal{C}}
\newcommand{\CE}{\mathcal{E}}     % generic image
\newcommand{\CF}{\mathcal{F}}
\newcommand{\CI}{\mathcal{I}}     % generic image
\newcommand{\CT}{\mathcal{T}}
\newcommand{\CR}{\mathcal{R}}
\newcommand{\CO}{\mathcal{O}}
\newcommand{\CM}{\mathcal{M}}
\newcommand{\CN}{\mathcal{N}}
\newcommand{\calK}{\mathcal{K}}
\newcommand{\CJ}{\mathcal{J}}

\newcommand{\bfzero}{{\bf0}}
\newcommand{\bfone}{{\bf1}}
\newcommand{\bftwo}{{\bf2}}
\newcommand{\bfthree}{{\bf3}}
\newcommand{\bffour}{{\bf4}}
\newcommand{\bffive}{{\bf5}}
\newcommand{\bfsix}{{\bf6}}
\newcommand{\bfseven}{{\bf7}}
\newcommand{\bfeight}{{\bf8}}
\newcommand{\bfnine}{{\bf9}}

\newcommand{\goodchi}{\protect\raisebox{2pt}{$\chi$}}



\renewcommand{\vec}[1] {{\rm vec}\left(#1\right)}                     % vectorize
% norms
\newcommand{\nFro}[1]{\|#1\|_{\Fro}}   % Frobenius


% images
\newcommand{\IEPI}{\mathcal{I}^{\mathrm{EPI}}}     % generic EPI image
\newcommand{\Ione}{\CI_1} % EPI correction I1
\newcommand{\Itwo}{\CI_2} % EPI correction I2
\newcommand{\Itwoopt}{\CI_{2}^{\mathrm{opt}}}
\newcommand{\Ioneopt}{\CI_{1}^{\mathrm{opt}}}


% distances
\newcommand{\CD}{\mathcal{D}}
\newcommand{\DSSD}{\CD^{\mathrm{SSD}}}
\newcommand{\DSSDh}{\CD^{\mathrm{SSD},h}}
\newcommand{\DMP}{\CD^{\mathrm{MP}}}
\newcommand{\DEPI}{\CD^{\mathrm{EPI}}}

% regularizer
\newcommand{\CS}{\mathcal{S}}                          % generic regularizer
\newcommand{\Sdiff}{\CS^{\mathrm{diff}}}             % hyperelastic
\newcommand{\Selas}{\CS^{\mathrm{elas}}}             % hyperelastic
\newcommand{\Squad}{\CS^{\mathrm{quad}}}               % quadratic elastic
\newcommand{\Shyper}{\CS^{\mathrm{hyper}}}             % hyperelastic
\newcommand{\SEPI}{\CS^{\mathrm{EPI}}}                 % EPI regularization functional
\newcommand{\Slength}{\CS^{\mathrm{length}}}           % length
\newcommand{\Sarea}{\CS^{\mathrm{area}}}               % area
\newcommand{\Svol}{\CS^{\mathrm{vol}}}                 % volume
\newcommand{\Sogden}{\CS^{\mathrm{Ogden}}}             % Ogden
\newcommand{\alength}{\alpha_{\text{l}}}               % length regularization parameter
\newcommand{\aarea}{\alpha_{\text{a}}}                 % area regularization parameter
\newcommand{\avol}{\alpha_{\text{v}}}                  % volume regularization parameter

% constraints
\newcommand{\CP}{\mathcal{P}}
\newcommand{\CW}{\mathcal{W}}
\newcommand{\CPLR}{\CP^{\mathrm{LR}}}

% penalties
\newcommand{\phidw}{\phi_{\text{dw}}}					% double well surface penalty
\newcommand{\phic}{\phi_{\text{c}}}						% convex surface penalty
\newcommand{\psiOgden}{\psi_{\text{O}}}		    % Ogden volume penalty
\newcommand{\psiVC}{\psi_{\mathrm{VC}}}

% transformation
\newcommand{\y}{y}														% transformation
\newcommand{\m}{\textbf{m}}														% transformation
\newcommand{\bdata}{\textbf{d}}
\newcommand{\be}{\textbf{e}}														% transformation
\newcommand{\bsource}{\mathbf{s}}
\newcommand{\bfm}{\mathbf{m}}
\newcommand{\bfd}{\mathbf{d}}
\newcommand{\bR}{\mathbf{R}}
\newcommand{\bP}{\mathbf{P}}
\newcommand{\bQ}{\mathbf{Q}}
\newcommand{\bfF}{\mathbf{F}}
\newcommand{\bfT}{\mathbf{T}}
\newcommand{\bff}{\mathbf{f}}
\newcommand{\bfA}{\mathbf{A}}
\newcommand{\bfC}{\mathbf{C}}
\newcommand{\bfE}{\mathbf{E}}
\newcommand{\bfU}{\mathbf{U}}
\newcommand{\bfP}{\mathbf{P}}
\newcommand{\bfR}{\mathbf{R}}
\newcommand{\bfI}{\mathbf{I}}
\newcommand{\bfD}{\mathbf{D}}
\newcommand{\bfn}{\mathbf{n}}
\newcommand{\bfa}{\mathbf{a}}
\newcommand{\bfb}{\mathbf{b}}
\newcommand{\bfc}{\mathbf{c}}
\newcommand{\bfH}{\mathbf{H}}
\newcommand{\bfB}{\mathbf{B}}
\newcommand{\bfX}{\mathbf{X}}
\newcommand{\bfx}{\mathbf{x}}
\newcommand{\bft}{\mathbf{t}}
\newcommand{\bfe}{\mathbf{e}}
\newcommand{\bfu}{\mathbf{u}}
\newcommand{\bfy}{\mathbf{y}}
\newcommand{\yobs}{\mathbf{y}_{\mathrm{obs}}}
\newcommand{\bfM}{\mathbf{M}}
\newcommand{\bfG}{\mathbf{G}}
\newcommand{\bfL}{\mathbf{L}}
\newcommand{\bfw}{\mathbf{w}}
\newcommand{\bfW}{\mathbf{W}}
\newcommand{\bfz}{\mathbf{z}}
\newcommand{\bfp}{\mathbf{p}}
\newcommand{\bfg}{\mathbf{g}}
\newcommand{\bfh}{\mathbf{h}}
\newcommand{\bfr}{\mathbf{r}}
\newcommand{\bfs}{\mathbf{s}}
\newcommand{\bfv}{\mathbf{v}}
\newcommand{\bfV}{\mathbf{V}}
\newcommand{\bfq}{\mathbf{q}}
\newcommand{\bfQ}{\mathbf{Q}}
\newcommand{\bfJ}{\mathbf{J}}
\newcommand{\bfS}{\mathbf{S}}
\newcommand{\bfZ}{\mathbf{Z}}
\newcommand{\bfSigma}{\mathbf{\Sigma}}
\newcommand{\bfY}{\mathbf{Y}}



% transformation
\newcommand{\beps}{\mathbf{\epsilon}}														% transformation
\renewcommand{\u}{u}														% displacement
\newcommand{\yone}{y_1}														% transformation
\newcommand{\ytwo}{y_2}														% transformation
\newcommand{\z}{z}														% inverse of y
\newcommand{\yi}[1]{\y_{#1}}									% i-th component of transformation
\newcommand{\ui}[1]{\u_{#1}}									% i-th component of displacement
\newcommand{\x}{x}														% vector in R^d
% \renewcommand{\xi}[1]{\x_{#1}}								% i-th component of point x

% EPI
\newcommand{\Bopt}{B^{\mathrm{opt}}}														% transformation


% derivative operators
\newcommand{\Du}{\green{\nabla u}}                    % gradient of displacement
\newcommand{\Dz}{\nabla z}                    % gradient of displacement
\newcommand{\Dy}{\nabla y}                    % gradient of transformation
\newcommand{\detDy}{\red{\det \nabla y}}                  % Jacobian determinant
\newcommand{\cofDy}{\blue{\cof \nabla y}}                  % Jacobian cofactor
\newcommand{\p}[1]{\partial_{#1}}							% partial derivative operator

% function spaces
\newcommand{\Lp}[1]{L^{#1}}										% lebesque space
\newcommand{\CL}{\mathcal{L}}                 % admissible set

% finite element spaces
\newcommand{\Sh}{\mathcal{A}_h}


\newcommand{\bpsi}[2][]{\UCol{\psi#1}}
\newcommand{\Bpsi}[2][]{\UCol{\psi#1(\BCol{#2})}}
\newcommand{\rvf}[1][]{\DCol{\vec{f}#1}}
\newcommand{\hf}{\frac{1}{2}}


%\newcommand{\bgamma}[1][]{\UCol{\gamma#1}}

% \newcommand{\CCdelta}[2][]{\CCol{\delta#1[#2]}}
% \newcommand{\ccdelta}[1][]{\CCol{\delta#1}}
% \newcommand{\ccr}[1][]{\CCol{r#1}}
% \newcommand{\cct}[1][]{\CCol{t#1}}
% \newcommand{\ccc}[1][]{\CCol{c#1}}
% \newcommand{\CCv}[2][]{\CCol{v#1}(#2)}
% \newcommand{\ccv}[1][]{\CCol{v#1}}
% \newcommand{\cJ}[1][]{{\cal J}#1}
%
% \newcommand{\dD}[1][{\by}]{\DCol{\cal D}_{#1}}
% \newcommand{\CR}{{\cal R}}
% \newcommand{\CT}{{\cal T}}
% \newcommand{\CTy}{\CT[\by]}
% %\newcommand{\Ty}{T[\by]}
% \newcommand{\dT}[1][{\by}]{T_{#1}}
% \newcommand{\dC}[1][{\by}]{{\cC}_{#1}}
% \newcommand{\DC}[2][{\by}]{\BC[_{#1}]{#2}}
%
% \newcommand{\cO}{{\cal O}}
%
\newcommand{\bfK}{\mathbf{K}}

\newcommand{\vu}{\vec{u}}
%
% \newcommand{\LM}{{\mathrm{LM}}}
% \newcommand{\MI}{\mathrm{MI}}
% \newcommand{\elas}{\mathrm{elastic}}
% \newcommand{\fluid}{\mathrm{fluid}}
% \newcommand{\curv}{\mathrm{curvature}}
% \newcommand{\SSD}{\mathrm{SSD}}
% \newcommand{\NGF}{\mathrm{NGF}}
% \newcommand{\edge}{{\cal E}}
% \newcommand{\reg}{{\mathrm{reg}}}
% \newcommand{\opt}{{\mathrm{opt}}}
\newcommand{\trace}{{\mathop{\mathrm{tr}}}}
\newcommand{\kronecker}{\otimes}
% \newcommand{\kron}{\otimes}
% \newcommand{\cof}{{\mathop{\mathrm{cof}\>}}}

\newcommand{\myVec}[1]{\left(\begin{array}{r}
	#1
\end{array} \right)}

% ---------------------------------------------------------------------------
% caligraphic characters (fold)

\newcommand{\calA}{\mathcal{A}}
\newcommand{\calB}{\mathcal{B}}
\newcommand{\calC}{\mathcal{C}}
\newcommand{\calD}{\mathcal{D}}
\newcommand{\calE}{\mathcal{E}}
\newcommand{\calF}{\mathcal{F}}
\newcommand{\calG}{\mathcal{G}}
\newcommand{\calH}{\mathcal{H}}
\newcommand{\calI}{\mathcal{I}}
\newcommand{\calJ}{\mathcal{J}}
% \newcommand{\calK}{\mathcal{K}}
\newcommand{\calL}{\mathcal{L}}
\newcommand{\calM}{\mathcal{M}}
\newcommand{\calN}{\mathcal{N}}
\newcommand{\calO}{\mathcal{O}}
\newcommand{\calP}{\mathcal{P}}
\newcommand{\calQ}{\mathcal{Q}}
\newcommand{\calR}{\mathcal{R}}
\newcommand{\calS}{\mathcal{S}}
\newcommand{\calT}{\mathcal{T}}
\newcommand{\calU}{\mathcal{U}}
\newcommand{\calV}{\mathcal{V}}
\newcommand{\calW}{\mathcal{W}}
\newcommand{\calX}{\mathcal{X}}
\newcommand{\calY}{\mathcal{Y}}
\newcommand{\calZ}{\mathcal{Z}}
% (end)

\newcommand{\bfGamma}{{\boldsymbol{\Gamma}}}
\newcommand{\bfDelta}{{\boldsymbol{\Delta}}}
\newcommand{\bfTheta}{{\boldsymbol{\Theta}}}
\newcommand{\bfLambda}{{\boldsymbol{\Lambda}}}
\newcommand{\bfXi}{{\boldsymbol{\Xi}}}
\newcommand{\bfPi}{{\boldsymbol{\Pi}}}
% \newcommand{\bfSigma}{{\boldsymbol{\Sigma}}}
\newcommand{\bfUpsilon}{{\boldsymbol{\Upsilon}}}
\newcommand{\bfPhi}{{\boldsymbol{\Phi}}}
\newcommand{\bfPsi}{{\boldsymbol{\Psi}}}
\newcommand{\bfOmega}{{\boldsymbol{\Omega}}}
\newcommand{\bfalpha}{{\boldsymbol{\alpha}}}
\newcommand{\bfbeta}{{\boldsymbol{\beta}}}
\newcommand{\bfgamma}{{\boldsymbol{\gamma}}}
\newcommand{\bfdelta}{{\boldsymbol{\delta}}}
\newcommand{\bfepsilon}{{\boldsymbol{\epsilon}}}
\newcommand{\bfvarepsilon}{{\boldsymbol{\varepsilon}}}
\newcommand{\bfeps}{{\boldsymbol{\varepsilon}}}
\newcommand{\bfzeta}{{\boldsymbol{\zeta}}}
\newcommand{\bfeta}{{\boldsymbol{\eta}}}
\newcommand{\bftheta}{{\boldsymbol{\theta}}}
\newcommand{\bfvartheta}{{\boldsymbol{\theta}}}
\newcommand{\bfiota}{{\boldsymbol{\iota}}}
\newcommand{\bfkappa}{{\boldsymbol{\kappa}}}
\newcommand{\bflambda}{{\boldsymbol{\lambda}}}
\newcommand{\bfmu}{{\boldsymbol{\mu}}}
\newcommand{\bfnu}{{\boldsymbol{\nu}}}
\newcommand{\bfxi}{{\boldsymbol{\xi}}}
\newcommand{\bfo}{{\boldsymbol{o}}}
\newcommand{\bfpi}{{\boldsymbol{\pi}}}
\newcommand{\bfvarpi}{{\boldsymbol{\varpi}}}
\newcommand{\bfrho}{{\boldsymbol{\rho}}}
\newcommand{\bfvarrho}{{\boldsymbol{\varrho}}}
\newcommand{\bfsigma}{{\boldsymbol{\sigma}}}
\newcommand{\bfvarsigma}{{\boldsymbol{\varsigma}}}
\newcommand{\bftau}{{\boldsymbol{\tau}}}
\newcommand{\bfupsilon}{{\boldsymbol{\upsilon}}}
\newcommand{\bfphi}{{\boldsymbol{\phi}}}
\newcommand{\bfvarphi}{{\boldsymbol{\varphi}}}
\newcommand{\bfchi}{{\boldsymbol{\chi}}}
\newcommand{\bfpsi}{{\boldsymbol{\psi}}}
\newcommand{\bfomega}{{\boldsymbol{\omega}}}

% ---------------------------------------------------------------------------
% blackboard characters (requires amsfont) (fold)

\newcommand{\bbA}{\mathbb{A}}
\newcommand{\bbB}{\mathbb{B}}
\newcommand{\bbC}{\mathbb{C}}
\newcommand{\bbD}{\mathbb{D}}
\newcommand{\bbE}{\mathbb{E}}
\newcommand{\bbF}{\mathbb{F}}
\newcommand{\bbG}{\mathbb{G}}
\newcommand{\bbH}{\mathbb{H}}
\newcommand{\bbI}{\mathbb{I}}
\newcommand{\bbJ}{\mathbb{J}}
% \newcommand{\bbK}{\mathbb{K}}
\newcommand{\bbL}{\mathbb{L}}
\newcommand{\bbM}{\mathbb{M}}
\newcommand{\bbN}{\mathbb{N}}
\newcommand{\bbO}{\mathbb{O}}
\newcommand{\bbP}{\mathbb{P}}
\newcommand{\bbQ}{\mathbb{Q}}
\newcommand{\bbR}{\mathbb{R}}
\newcommand{\bbS}{\mathbb{S}}
\newcommand{\bbT}{\mathbb{T}}
\newcommand{\bbU}{\mathbb{U}}
\newcommand{\bbV}{\mathbb{V}}
\newcommand{\bbW}{\mathbb{W}}
\newcommand{\bbX}{\mathbb{X}}
\newcommand{\bbY}{\mathbb{Y}}
\newcommand{\bbZ}{\mathbb{Z}}
% (end)

\newcommand{\krylov}[1]{\mathcal{K}_{#1}}
\newcommand{\normtwo}[1]{\|#1\|_2}
\newcommand{\mc}[1]{\mathcal{#1}}