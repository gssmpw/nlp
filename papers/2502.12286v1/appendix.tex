
\appendix

\section{Proof of Lemma 
\ref{lemmacrucial}}\label{prooflemmatree}

\begin{proof}
    The right-to-left direction of the lemma is evident.
    We prove the left-to-right direction
    for the first item.  
The proof for the second  item
is analogous. 

The proof is organized in three steps.

\textbf{Step 1}. 
    Let 
    $(P,w_0 )\models \varphi $
with 
$P=(M,\Omega_M) \in
\classcgspvar{ }$, 
 $M = ( W,  \ACT, \\ (\relAct{\jactatm}   )_{\jactatm \in \JACT}, 
  \valProp  )$,
  $\Omega_{M }=(\preceq_{i,w }   )_{i \in \AGT, w \in W }$
  and $w_0 \in W $
  such that $(P,w_0)\models \varphi$. 

  We are going to transform 
  $P=(M,\Omega_M)$ into a new CGSP 
    $P'=(M',\Omega_{M'})$
    with 
     $M' = ( W',  \ACT,  (\relAct{\jactatm}'   )_{\jactatm \in \JACT}, 
  \valProp'   )$
  and $\Omega_{M'}=(\preceq_{i,\sigma  }'   )_{i \in \AGT, \sigma  \in W' }$. 
  The construction goes as follows: 

     \begin{itemize}
\item $W' = \{w^\jactatm \suchthat
w \in W \text{ and }
\jactatm \in \JACT
\}$, 

\item for all $w^\jactatm , v^{\jactatm' }  \in W'$
and for all $\jactatm'' \in \JACT$,
$w^\jactatm  \relAct{\jactatm''}'  v^{\jactatm' }$
iff $w  \relAct{\jactatm''}  v$
and 
$\jactatm''=\jactatm' $, 






\item for all $p \in \ATM$ and for all $w^\jactatm  \in W'$,
$p \in \valProp'( w^\jactatm )$
iff $p \in \valProp( w )$,

\item 
for all $w^\jactatm  \in W'$,
for all $i \in \AGT $, for all $w^\jactatm  v^{\jactatm_1}
 u^{\jactatm_2} \ldots , \allowbreak
w^\jactatm  t^{\jactatm_3}
 z^{\jactatm_4} \ldots \in \historyset_{M',w^\jactatm }$, 
we have 
$$w^\jactatm  v^{\jactatm_1}
 u^{\jactatm_2} \ldots \preceq_{i,w^\jactatm   }' 
 w^\jactatm  t^{\jactatm_3}
 z^{\jactatm_4} \ldots \text{ iff }$$
%iff 
$$ w v
 u \ldots \preceq_{i,w   }  w  t
 z \ldots   $$



\end{itemize}

  It is routine to verify that $P'=(M',\Omega_{M'})
\in \classcgspvar{\{  \mathit{ad}  \}} $. 
and, by induction on the structure of $\varphi$,
that
$(P,v )  \models \varphi$
iff
$(P',v^\jactatm  )  \models \varphi$
for all $v^\jactatm \in W' $
and for all $v \in W $. 
Hence, $(P', w_0^{\jactatm} ) \models \varphi$
for every $\jactatm \in \JACT $
since 
$(P, w_0 ) \models \varphi$. 

  For notational convenience,
  in the rest of the proof 
  we 
 denote with 
 $x_1, x_2, \ldots $
 the
  elements
  of $W'$
in the CGSP $M'$
defined above. 


\textbf{Step 2}. 
% % The second  step follows the proof of 
% % \cite[Lemma 5.4]{DBLP:conf/atal/BoudouL18}.
% We define the set of tracks in $M'$, 
% denoted by $\trackset_{M' }$,
% a track
% being a non-empty finite sequence
% $x_0  \jactatm_1 x_1 \ldots\jactatm_{k} x_k  $
% such that (i) $x_0 \in W'$,
% (ii) $ \jactatm_1 x_1 \ldots\jactatm_{k} x_k  \in 
% (\JACT \times W')^k$ for some $k \in \mathbb{N }_0$, and
% (iii)
% for every
% $0 \leq h \leq k-1$,
% $x_{h }    \relAct{\jactatm_{h +1 }} x_{h +1 }$.
% Elements of $\trackset_{M'}$ are denoted by $\sigma,\sigma', \ldots$
% For every $\sigma \in \trackset_{M'}$,
% we denote by $\sigma[\mathit{last}]$
% the last element in the sequence $\sigma $.
We are going to transform 
  $P'=(M',\Omega_{M'})$ into a new CGSP 
    $P''=(M'',\Omega_{M''})$
    with 
     $M'' = ( W'',  \ACT,  (\relAct{\jactatm}''   )_{\jactatm \in \JACT}, 
  \valProp''   )$
  and $\Omega_{M''}=(\preceq_{i,\sigma  }''   )_{i \in \AGT, \sigma  \in W'' }$. 
  Before defining $P''$
  and $M''$
  we introduce some further notation.
We denote the set of finite paths
in $M'$
by  $ \finpathset_{M'}$
and its elements by $\pi, \pi', \ldots$.
The last element in a finite path $\pi$
is denoted by $\pi[\mathit{last}]$.
  
  The definition of
  $P''$
  and $M''$
  goes as follows:
     \begin{itemize}
\item $W'' = \finpathset_{M'}$, 



\item for all $\pi= x_1\ldots x_k ,
\pi' = x_1'\ldots x_h'
\in W''$
and for all $\jactatm \in \JACT$,\\
$x_1\ldots x_k
\relAct{\jactatm}''  x_1'\ldots x_h'$
iff $h=k+1$,
$x_1=x_1', \ldots, x_k=x_k'$
and $x_k \relAct{\jactatm}' x_h' $, 






\item for all $p \in \ATM$ and for all $\pi  \in W''$,
$p \in \valProp''( \pi )$
iff $p \in \valProp'( \pi [\mathit{last}])$,

\item 
for all $\pi  \in W''$,
for all $i \in \AGT $, for all $\pi \pi_1
\pi_2 \ldots ,
\pi \pi_1'
\pi_2' \ldots \in \historyset_{M'',\pi  }$, 
we have 
$\pi \pi_1
\pi_2 \ldots \preceq_{i,\pi   }''  \pi \pi_1'
\pi_2' \ldots $
iff 
$$
\pi[\mathit{last}]
\pi_1[\mathit{last}]
\pi_2[\mathit{last}]\ldots 
\preceq_{i,\pi [\mathit{last}]  }'  \pi [\mathit{last}]
\pi_1'[\mathit{last}]
\pi_2' [\mathit{last}]\ldots  $$ %.



\end{itemize}

It is routine to verify that $P''=(M'',\Omega_{M''})
\in \classcgspvar{\{  \mathit{up} ,
\mathit{nc},\mathit{ad}  \}} $. 


We  define the function $f$
mapping worlds in $M''$
into worlds in $M' $.
Let $x \in W' $
and $\pi  \in W'' $.
Then,
$f(\pi   ) = x $
iff
$x=\pi  [\mathit{last}]$. 
% \redtext{
%   We  define the function $g$
% mapping strategies in $M'$
% into strategies in $M $.
% Let $\strategymap_\Group \in \stratsetatl_{M}^\Group $
% and 
%  $\strategymap'_\Group \in \stratsetatl_{M'}^\Group $ for all coaltion $\Group $.
%  Then, 
%  $g(\strategymap'_\Group) = \strategymap_\Group $
% iff
% $\strategymap_\Group(a)(f(\sigma_0)\ldots f(\sigma_k))=\strategymap'_\Group(a)(\sigma_0\ldots \sigma_k)$ for all $\sigma_0\ldots \sigma_k\in \pathset_{M' }$ and $a\in \Group$.
% }



% \redtext{
  By induction on the structure of $\varphi$,
  it is straightforward 
  to show that
$(P',x )  \models \varphi$
iff
$(P'',\pi   )  \models \varphi$
for all $\pi  \in W''$
and for all $x \in W' $
such that $f(\pi) =x $.
% The Boolean cases 
%   are straightforward. Compared to the case $\atloprat{\Group}
% (\until{\psi_1}{\psi_2 })$, the cases $\atlop{\Group}
% \nexttime \psi $,
% $\atlop{\Group}
% \henceforth \psi $, $\atlop{\Group}
% (\until{\psi_1}{\psi_2 })$, $\atloprat{\Group}
% \nexttime \psi $, and
% $\atloprat{\Group}
% \henceforth \psi $
%    are evident. So we just show the case $\atloprat{\Group}
% (\until{\psi_1}{\psi_2 })$.
Hence, $(P'', w_0^{\jactatm}  ) \models \varphi$
for all 
 $\jactatm \in \JACT $
since $w_0^{\jactatm}  \in W'$,
$w_0^{\jactatm}  \in W''$,
$f(w_0^{\jactatm} )=w_0^{\jactatm} $
and 
$(P', w_0^{\jactatm}  ) \models \varphi$
for all 
 $\jactatm \in \JACT $. 







\textbf{Step 3}. 
We fix a joint action 
 $\jactatm_0 \in \JACT $
 and we  transform the CGSP
  $P=(M'',\Omega_{M'' })$
  defined in the previous step 
  into a new structure 
    $P'''=(M''',\Omega_{M'''})$
    with 
     $M''' = ( W''',  \ACT,  (\relAct{\jactatm}'''  )_{\jactatm \in \JACT}, \allowbreak
  \valProp'''  )$
  and $\Omega_{M'''}=(\preceq_{i,\sigma  }'''   )_{i \in \AGT, \sigma \in W''' }$. 
  The construction goes as follows:
  \begin{itemize}
  \item $W''' = \{ \pi  \in W'' \suchthat w_0^{\jactatm_0}  \relAct{ }^* \pi  \} $,
  \item $\relAct{\jactatm}''' = \relAct{\jactatm}''
  \cap( W'' \times W'') $ for all $\jactatm \in \JACT$,
  \item $ \valProp''' (\pi  ) = \valProp'' (\pi  ) $ for all $\pi  \in W'''$,

  \item $\preceq_{i,\pi   }''' =\preceq_{i,\pi   } '' $ for all $\pi   \in W'''$
  and for all $i \in \AGT $.
  \end{itemize}
    $P'''=(M''',\Omega_{M'''})$
   is nothing but 
  the submodel of     $P''=(M'',\Omega_{M'' })$
  generated by the state $w_0^{\jactatm_0}  $. 
  Clearly, $ P'''=(M''',\Omega_{M''' })\in 
\classcgspvar{\{ \mathit{tr},\mathit{ad}  \}} $
since $P''=(M'',\Omega_{M''})
\in \classcgspvar{\{  \mathit{up} ,
\mathit{nc},\mathit{ad}  \}} $. Moreover,
by induction
on the structure of $\varphi$,
it is routine to verify
that 
``$(P'', \pi   )\models \varphi $ iff
  $(P''' ,\pi   )\models \varphi $'' for all $\pi \in W'''$. 
  Thus, $(P''' ,w_0^{\jactatm_0} )\models \varphi $ since
  $(P '',w_0^{\jactatm_0}  )\models \varphi $.
 \end{proof}


\section{Proof of Theorem \ref{theo:embedding}}
\label{annex:theoremembedding}

\begin{proof} 
We first prove the left-to-right direction. Suppose $\varphi$
is satisfiable for the class $\classcgspvar{\{\mathit{sp} \}}$.
Thus, by Lemma
\ref{lemmacrucial},
there exists 
$P=(M,\Omega_{M}) \in
\classcgspvar{\{ \mathit{sp},\mathit{tr},\mathit{ad}  \}} $, 
 $M = ( W,  \ACT,  (\relAct{\jactatm}   )_{\jactatm \in \JACT}, 
  \valProp  )$,
  $\Omega_{M }=(\preceq_{i,w }   )_{i \in \AGT, w \in W }$
  and $w_0 \in W $
  such that $(P,w_0 )\models \varphi $. 
  Next, we will define a new structure
  $P'=(M',\Omega_{M})   $
with
 $M' = ( W,  \ACT,  \allowbreak (\relAct{\jactatm}  )_{\jactatm \in \JACT}, \allowbreak
  \valProp ' )$
  such that  for all $ v\in W$,
  we have 
  \begin{align*}
\valProp '(v)= &
   \big(\valProp (v)\cap \ATM\big) 
   \cup \\
   & \Big\{ \mathit{rat}_i
   \suchthat 
        \exists  u \in \relAct{ }^-( v),
     \exists \strategymap_{\{i\}} \in  \big( \stratsetatl^{\{i\}}_{M} 
     \setminus \mathit{Dom}_{M,u}^i
     \big),
     \\ &
     \exists 
        \lambda 
    \in \outset(u,      \strategymap_{\{i\}} )
     \text{ s.t. }
    v=  \lambda(1)
   \Big\}.      
  \end{align*}
Clearly, 
    $P'=(M',\Omega_{M}) \in
\classcgspvar{\{ \mathit{sp},\mathit{tr},\mathit{ad}  \}} $
since 
$P=(M,\Omega_{M}) \in
\classcgspvar{\{ \mathit{sp},\mathit{tr},\mathit{ad}  \}} $
and the only difference between $P'$
and $P$
is in the valuation function 
that  does not affect the relational properties
of the structure. 
By induction on the structure of the formula,
we are going to prove that 
``$(P',v )\models \mathit{tr}( \varphi )$ iff
  $(P,v )\models \varphi $'' for all $v \in W$.
  The Boolean cases 
  are straightforward 
  and the cases $  \atlop{\Group}
\nexttime \psi $,
$\atlop{\Group}
\henceforth \psi $
and $\atlop{\Group}
(\until{\psi_1}{\psi_2 })$
   are evident. 
Let us prove the case 
$\varphi= \atloprat{\Group}
\nexttime \psi  $.
We have 
$(P,v )\models \atloprat{\Group}
\nexttime \psi $ 
iff 
$\exists \strategymap_\Group \in  \stratsetatl^\Group_{M}
  \text{ s.t. }
  \forall i \in \Group, \strategymap_\Group|_{\{i\}}\not \in \mathit{Dom}_{M ,v }^i \text{ and } \forall \lambda \in \outset(v, \strategymap_\Group), \allowbreak 
\big( P , \lambda(1)  \big)\models \psi  $.
By construction of $P'$ and the fact that
$P$
and $P'$
satisfy  properties $\mathit{tr}$ and $\mathit{ad }$,
the latter is equivalent to $\exists \strategymap_\Group \in  \stratsetatl^\Group_{M' }
 $ such that $\forall \lambda \in \outset(v, \strategymap_\Group), \allowbreak
\big( P , \lambda(1)  \big)\models 
\bigwedge_{i \in \AGT }\mathit{rat}_i \wedge \psi $. 
By induction hypothesis,
the latter is equivalent to 
$\exists \strategymap_\Group \in  \stratsetatl^\Group_{M'}
  \text{ s.t. }\forall \lambda \in \outset(v, \strategymap_\Group),
\big( P' , \lambda(1)  \big)\models 
\bigwedge_{i \in \AGT }\mathit{rat}_i \wedge \mathit{tr}(\psi)  $. 
The latter is equivalent to
$(P',v )\models \atlop{\Group}
\nexttime \big(\mathit{rat}_C \allowbreak \wedge \mathit{tr}(\psi)  \big)  $.  


Let us prove the case 
$\varphi= \atloprat{\Group}
\henceforth  \psi  $.
We have 
$(P ,v )\models \atloprat{\Group}
\henceforth \psi $ 
iff 
$\exists \strategymap_\Group \in  \stratsetatl^\Group_{M }
  \text{ s.t. }   \forall i \in \Group, \strategymap_\Group|_{\{i\}}\not \in 
  \mathit{Dom}_{M,v}^i \text{ and }
  \forall \lambda \in \outset(v, \strategymap_\Group), \allowbreak
 \forall k > 0, \big( P, \lambda(k)  \big)\models \psi   $.
By construction of $P'$ and the fact that
$P$
and $P'$
satisfy  properties $\mathit{tr}$ and $\mathit{ad }$,
the latter is equivalent to $\exists \strategymap_\Group \in  \stratsetatl^\Group_{M' } 
  \text{ s.t. }   
  \forall \lambda \in \outset(v, \strategymap_\Group),
 \forall k > 0, \big( P, \lambda(k)  \big)\models
 \bigwedge_{i \in \AGT }\mathit{rat}_i \wedge 
 \psi  $. 
By induction hypothesis,
the latter is equivalent to 
$\exists \strategymap_\Group \in  \stratsetatl^\Group_{M' }$ 
  such that 
$  \forall \lambda \in \outset(v, \strategymap_\Group),
 \forall k > 0, \big( P' , \lambda(k)  \big)\models
 \bigwedge_{i \in \AGT }\mathit{rat}_i \wedge 
\mathit{tr}(\psi)  $. 
The latter is equivalent to
$(P',v )\models \atlop{\Group}
\henceforth \big(\mathit{rat}_C \wedge \mathit{tr}(\psi)  \big)  $.
We omit the proof for the case 
$\varphi= \atloprat{\Group}
(\until{\psi_1}{\psi_2 } ) $
since it is analogous to the previous case. 

Thus, we can conclude that $(P',w_0 )\models \mathit{tr}( \varphi )$
since 
$(P,w_0 )\models  \varphi  $.
It  is also straightforward to prove that,
      for all  $i\in \AGT$
      we have 
$(P',w_0 )\models \atlop{ \{i \}} \henceforth  
      \mathit{rat}_i$
      since
      i)      
      $  \big( \stratsetatl^{\{i\}}_{M} 
     \setminus \mathit{Dom}_{M,w_0}^i
     \big) \neq \emptyset $, 
     and ii) 
     if 
         $ \strategymap_{\{i\}} \in  \big( \stratsetatl^{\{i\}}_{M} 
     \setminus \mathit{Dom}_{M,w_0 }^i
     \big) \neq \emptyset $
     and $w_0 \relAct{ }^* v$
     then   $ \strategymap_{\{i\}} \in  \big( \stratsetatl^{\{i\}}_{M} 
     \setminus \mathit{Dom}_{M,v}^i
     \big) \neq \emptyset $
     (because of stable preferences for $P$). 

%    \mathit{tr}( \atloprat{\Group}
% \nexttime \varphi ) &=  \atlop{\Group} \nexttime
% \big(\mathit{rat}_C \wedge \mathit{tr}( \varphi  )\big)  ,\\
  
  

Let us now prove the right-to-left direction.
Suppose the formula $\big( \bigwedge_{i \in \AGT }
     \atlop{ \{i \}} \henceforth  
      \mathit{rat}_i \big)  \wedge
     \mathit{tr}(\varphi) $
     is satisfiable for the class
          $\classcgspvar{\{\mathit{sp} \}}$. 
          Thus, 
by Lemma 
\ref{lemmacrucial},  there exists  $P=(M,\Omega_M) \in
\classcgspvar{\{ \mathit{sp},\mathit{tr},\mathit{ad}  \}} $,
 $M = ( W,  \ACT,  (\relAct{\jactatm}   )_{\jactatm \in \JACT}, 
  \valProp  )$, $\Omega_{M }=(\preceq_{i,v }   )_{i \in \AGT, v \in W }$
  with  unique root $w_0\in W$ of $M$
such that   $(P,w_0 )\models \atlop{ \{i \}} \henceforth  
      \mathit{rat}_i$
      for all $i\in \AGT$  and 
$(P,w_0 )\models \mathit{tr}(\varphi) $. 

 We are going to define a new structure
  $P'=(M,\Omega_{M}' )   $
with
  $\Omega_{M' }=(\preceq_{i,v } '  )_{i \in \AGT, v \in W }$
  such that  for all $\lambda, \lambda' \in  \historyset_{M,w_0 } $
  and for all $i \in \AGT$, 
  \begin{align*}
\lambda'  \preceq_{i,w_0  }'  \lambda
\text{ iff }
\mathit{U}_{i,w_0 }(\lambda' ) \leq \mathit{U}_{i,w_0 }(\lambda),
  \end{align*}
  where 
    \begin{align*}
& \mathit{U}_{i,w_0 }(\lambda)= 
\begin{cases}
1 & \text{if }   \exists \strategymap_{\{i\}} \in  \stratsetatl^{\{i\}}_M
 \text{ s.t. } \lambda \in \outset(w_0, \strategymap_{\{i\}}  ) \text{ and }\\
&  \forall \lambda' \in  \outset(w_0, \strategymap_{\{i\}}  ),
 \forall k> 0, \big(P', \lambda(k)\big) \models  \mathit{rat}_i , \\
0 &  \text{otherwise};
\end{cases}
      \end{align*}
      and for all $v \in W$
      such that $w_0 \relAct{ }^+  v$
      and for all $\lambda, \lambda' \in  \historyset_{M, v } $, 
  \begin{align*}
\lambda'  \preceq_{i,v   }'   \lambda
\text{ iff }
\mathit{prec}(v)\lambda'  \preceq_{i,\mathit{prec}(v)   }'  \mathit{prec}(v) \lambda, 
  \end{align*}
  where 
  $\mathit{prec}(v)$
  is 
  the unique element of 
  the set 
  $\relAct{ }^-(v)$. 

      
By induction on the structure of the formula,
it is routine to prove that 
``$(P,v )\models \mathit{tr}( \varphi )$ iff
  $(P',v )\models \varphi $'' for all $v \in W$.

\end{proof}

 


\section{A counter-model}\label{section: a counter-model}
  Consider the case $\AGT = \{a\}$, $M = ( W,  \ACT,  (\relAct{\jactatm})_{\jactatm \in \JACT}, \valProp)$ and $P = ( M, (\preceq_{a,w})_{w \in W })$, where:
  \begin{itemize}
    \item $W=\{w_0,w_1\}$;
    \item $\ACT=\{0,1\}$;
    \item $\relAct{\{(a,0)\}}=\{(w_1,w_0)\}$ and $\relAct{\{(a,1)\}}=\{(w_0,w_1),(w_1,w_1)\}$;
    \item $\Va{w_0}=\emptyset $ and $\Va{w_1}=\{p\} $;
    \item for all $w\in W$ and $\comp, \comp' \in \historyset_{M,w}$: $\comp \preceq_{a,w} \comp' $ iff $\mathit{U}_{a,w}(\comp) \leq \mathit{U}_{a,w}(\comp')$, where 
    \begin{align*}
& \mathit{U}_{a,w_0 }(\comp)= 
\begin{cases}
1 & \text{if }   \forall k\in \mathbb{N}_+: \comp(k)=w_1\\
0 &  \text{otherwise};
\end{cases}\\
& \mathit{U}_{a,w_1 }(\comp)= 
\begin{cases}
  1 & \text{if }  \comp(1)=w_0\\
  0 &  \text{otherwise}.
\end{cases}
      \end{align*}
  \end{itemize}
  \begin{fact}
    \begin{align*}
    & P,w_0\nvDash \atloprat{\AGT }\henceforth p\to \atlop{\AGT }\nexttime\atloprat{\AGT }\henceforth p\\
    & P,w_1\nvDash \neg \atloprat{\emptyset }\nexttime \neg p \to \atloprat{\AGT}\nexttime p \\
    & P,w_1\nvDash \atloprat{\emptyset } \nexttime (\neg p \lor p) \rightarrow (\atloprat{\emptyset } \nexttime \neg p \lor \atloprat{\AGT} \nexttime p) 
    \end{align*}
  \end{fact}
\begin{proof}
  Consider two types of strategies of grand coalition: $\Sigma_0=\{\strategymap\in \stratsetatl_{M}^{\AGT}\mid \strategymap(a)(w_1)=0\}$ and $\Sigma_1=\{\strategymap\in \stratsetatl_{M}^{\AGT}\mid \strategymap(a)(w_1)=1\}$. Note $\comp^{P,w_1,\strategymap_0}(1)=w_0$ for all $\strategymap_0\in \Sigma_0$ and $\comp^{P,w_1,\strategymap_1}(1)=w_1$ for all $\strategymap_1\in \Sigma_1$. Then $\mathit{Dom}_{M,w_1}^a=\Sigma_1$.
  
  It is clear that $(P,w_0)\vDash \atloprat{\AGT }\henceforth p$. Note $P,w_0\vDash \neg p$. Then $(P,w_1)\vDash \neg \atloprat{\AGT }\henceforth p$ and $(P,w_0)\vDash \neg \atlop{\AGT }\nexttime\atloprat{\AGT }\henceforth p$. Then $(P,w_0)\nvDash \atloprat{\AGT }\henceforth p\to \atlop{\AGT }\nexttime\atloprat{\AGT }\henceforth p$.

It is clear that $P,w_1\vDash \neg \atloprat{\emptyset }\nexttime \neg p$ and $P,w_1\vDash \atloprat{\emptyset }\nexttime (\neg p\vee p)$. 
Note $P,w_0\vDash \neg p$. Then $P,w_1\vDash \neg \atloprat{\AGT }\nexttime p$. Therefore, $P,w_1\nvDash \neg \atloprat{\emptyset }\nexttime \neg p \to \atloprat{\AGT}\nexttime p $ and $P,w_1\nvDash \atloprat{\emptyset } \nexttime (\neg p \lor p) \rightarrow (\atloprat{\emptyset } \nexttime \neg p \lor \atloprat{\AGT} \nexttime p) $.
\end{proof}

\section{Some derivabilities}\label{section: some derivabilities}
\begin{theorem}
  The following are derivable in $\clratlogic$:
  %\tag{$\mathtt{A}\text{-}\mathtt{MC}1$} \label{ax:MC1}
  \begin{align}  
    %No absurd rational actions
    & 
    \neg \atloprat{\Group}\nexttime \bot \tag{$\mathtt{NARA}$} \label{NARA}
    \\
    %Seriality with rationality 
    & 
    \atloprat{\Group}\nexttime \top \tag{$\mathtt{Ser}1$} \label{Ser1}
    \\
    %Necessitation with rationality 
    &
    \dfrac{\; \phi \;}
    {\; \atloprat{\emptyset }\nexttime \phi \;}
    \tag{$\mathtt{N}1$} \label{N1}
    \\
    %Monotonicity 
    & \dfrac{\;\phi\to\psi \;}{\;\atlop{\Group}\nexttime \phi \to \atlop{\Group'}\nexttime \psi \;},\text{ where }\Group\subseteq \Group' \tag{$\mathtt{Mon}0$} \label{Mon0}
    \\
    %Monotonicity in rationality
    & 
    \dfrac{\;\phi\to\psi \;}{\;\atloprat{\Group}\nexttime \phi \to \atloprat{\Group'}\nexttime \psi\;},\text{ where }\Group\subseteq \Group'\tag{$\mathtt{Mon}1$} \label{Mon1}
    \\
    %Regularity 
    &
    \atlop{\Group }\nexttime \phi \to \neg \atlop{\overline{\Group }}\nexttime \neg \phi \tag{$\mathtt{Reg}0$} \label{Reg0} 
    \\
    %Regularity with rationality 
    &
    \atloprat{\Group }\nexttime \phi \to \neg \atloprat{\overline{\Group }}\nexttime \neg \phi \tag{$\mathtt{Reg}1$} \label{Reg1} 
    \\
    %Maximality of grand coalition 
    &
    \neg \atlop{\emptyset }\nexttime \neg \phi \to \atlop{\AGT}\nexttime \phi 
    \tag{$\mathtt{Max}_{\AGT}0$} \label{Max0} 
    \\ 
    %Crown in mix 
    &
    \atloprat{\Group} \nexttime (\phi \lor \psi) \rightarrow (\atloprat{\Group} \nexttime \phi \lor \atlop{\AGT} \nexttime \psi) 
    \tag{$\mathtt{Cro}0.5$} \label{Cro0.5}
  \end{align}
  \end{theorem}  
\begin{proof}
  \begin{itemlist}{(\ref{NARA})}
      \item[(\ref{NARA})] From \ref{ax:NAAA} and \ref{ax:MR}.
      
      \item[(\ref{Ser1})] By \ref{ax:Ser}, $\vdash_{\clratlogic}\atlop{\emptyset }\nexttime \top$. By \ref{ax:NP}, $\vdash_{\clratlogic}\atloprat{\emptyset }\nexttime \top$. By \ref{ax:MC1}, $\vdash_{\clratlogic}\atloprat{\Group}\nexttime \top $.
      
      \item[(\ref{N1})] From \ref{ir:N} and \ref{ax:NP}.  
      
      \item[(\ref{Mon0})] Assume $\vdash_{\clratlogic} \phi \to \psi$. By \ref{ir:N}, $\vdash_{\clratlogic} \atlop{\emptyset }\nexttime (\phi \to \psi )$.   
      By \ref{ax:MG0}, we have that $\vdash_{\clratlogic} \atlop{\Group }\nexttime \phi \to \atlop{\Group }\nexttime \psi $. By \ref{ax:MC0}, $\vdash_{\clratlogic} \atlop{\Group }\nexttime \phi \to \atlop{\Group' }\nexttime \psi $
      
      \item[(\ref{Mon1})] Similar to the proof for (\ref{Mon0}).
      
      \item[(\ref{Reg0})] By \ref{ax:Sup0}, $\vdash_{\clratlogic}(\atlop{\Group }\nexttime \phi \wedge \atlop{\overline{\Group }}\nexttime \neg \phi ) \to \atlop{\AGT}\nexttime (\phi \wedge \neg \phi )$. Note $\vdash_{\clratlogic} \atlop{\AGT}\nexttime (\phi \wedge \neg \phi )\to \atlop{\AGT}\nexttime \bot $ and $\vdash_{\clratlogic} \neg \atlop{\AGT}\nexttime \bot $. Then $\vdash_{\clratlogic}\atlop{\Group }\nexttime \phi \to \neg \atlop{\overline{\Group }}\nexttime \neg \phi $
      
      \item[(\ref{Reg1})] From \ref{Reg0} and \ref{ax:MR}.
      
      \item[(\ref{Max0})] By \ref{ir:N}, $\vdash_{\clratlogic} \atlop{\emptyset }\nexttime (\neg \phi\vee \phi)$. By \ref{ax:Cro}, $\vdash_{\clratlogic} \atlop{\emptyset }\nexttime \neg \phi \vee \atlop{\AGT }\nexttime \phi $. Then $\vdash_{\clratlogic}\neg \atlop{\emptyset }\nexttime \neg \phi \to \atlop{\AGT}\nexttime \phi $.
      
      \item[(\ref{Cro0.5})] Note $\vdash_{\clratlogic} ((\phi \lor \psi)\wedge  \neg \psi)\to \phi $. By \ref{ax:Sup1} and \ref{Mon1}, $\vdash_{\clratlogic} (\atloprat{\Group} \nexttime (\phi \lor \psi)\wedge \atloprat{\emptyset }\nexttime \neg \psi) \to \atloprat{\Group }\nexttime \phi$. Then $\vdash_{\clratlogic} \atloprat{\Group} \nexttime (\phi \lor \psi)\to ( \atloprat{\Group }\nexttime \phi \vee \neg \atloprat{\emptyset }\nexttime \neg \psi)$. By \ref{ax:NP} and \ref{Max0}, $\vdash_{\clratlogic} \neg \atloprat{\emptyset }\nexttime \neg \psi \to \atlop{\AGT }\nexttime \psi $. Therefore,  we have 
      $\vdash_{\clratlogic} \atloprat{\Group} \nexttime (\phi \lor  \psi) \rightarrow (\atloprat{\Group} \nexttime \phi \allowbreak \lor \allowbreak \atlop{\AGT} \nexttime \psi)$. 
    \end{itemlist}
\end{proof}

%\section{Downward validity}
\section{Proof of Lemma \ref{lemma: downward validity}}
\label{section: downward validity}
To prove the downward validity lemma, the key is  to construct a model for any satisfiable standard conjunction, which is equal to the negation of a standard disjunction. We use a method called `blueprint' to achieve it.

\subsection{Blueprints and their realizations}
\begin{definition}[Blueprint]

A blueprint is a tuple $\bp = (\ACT_0, \\
\rlist, \clist)$, where:
  \begin{itemize}
  \item $\ACT_0$ is a nonempty set of actions;
  %
  \item $\clist: \JACT^{\AGT}_0 \to \lang_{\clratlogic}(\ATM, \AGT )$ is a consequence-list function, where $\JACT^{\AGT}_0=\{\sigma: \AGT\to \ACT_0\}$, and $\clist(\sigma)$ is satisfiable for all $\sigma \in \JACT_0$.
  %
  \item $\rlist: \AGT \to (\powerset{\ACT}-\{\emptyset \})$ is a rationality-list function;
  \end{itemize}
\end{definition}
\begin{theorem}[Realization]\label{theorem: realization}
  Let $\bp = (\ACT_0 , \clist , \rlist )$ be a blueprint and $\chi$ be a satisfiable conjunction of propositional literals. Then there is a pointed model $(P,w_0)$, called a realization of $\bp$ and $\chi$, where $P=( M , (\preceq_{a,w})_{a\in \AGT, w \in W })$, $M=( W, \ACT, \relActJoint ,  \valProp )$, and $\relActJoint = (\relAct{\jactatm} )_{\jactatm \in \JACT}$ such that:
  \begin{itemize}
    \item $P,w_0\vDash \chi$;
    \item $\ACT_0\subseteq \ACT$;
    \item for all $\strategymap\in \stratsetatl_{M}^\AGT$ and $\sigma\in\JACT^{\AGT}_0$, if $\strategymap(a)(w_0)=\sigma(a)$ for all $a\in \AGT$, then $M,\lambda^{M,w_0,\strategymap}(1)\vDash \clist(\sigma)$;
    \item for all coalition $\Group$, $\strategymap_{\Group}\in \stratsetatl_{M}^{\Group}$ and $a\in \Group$: $\strategymap_{\Group}|_{\{a\}}\not \in \mathit{Dom}_{M,w_0}^a$ iff $\strategymap_{\Group}(a)(w_0)\in \rlist(a)$.
  \end{itemize}
\end{theorem}
\begin{proof}  
  For all $\sigma\in\JACT^{\AGT}_0$, let $(P^{\sigma }, w^{\sigma })$ be a pointed model satisfies $\clist(\sigma )$, where $P=(W^{\sigma }, \ACT^{\sigma }, (\rel^{\sigma}_{\jactatm} )_{\jactatm \in \JACT^{\sigma }},    \allowbreak \valProp^{\sigma }, (\preceq^{\sigma }_{a,w})_{a\in \AGT, w \in W^{\sigma } })$, their domains are pairwise disjoint, and their set of actions are pairwise disjoint and disjoint with $\ACT_0$. Let $w_0$ be a world not in any of these models.
  
  Define the CGS with preferences $P=( W, \ACT, (\relAct{\jactatm} )_{\jactatm \in \JACT},  \allowbreak \valProp , (\preceq_{a,w})_{a\in \AGT, w \in W })$ as the following:
  \begin{itemize}
    \item $W=\{w_0\}\cup \bigcup_{\sigma\in\JACT^{\AGT}_0}W^{\sigma }$;
    \item $\ACT=\ACT_0\cup \bigcup_{\sigma\in\JACT^{\AGT}_0}\ACT^{\sigma }$;
    \item for all $\jactatm: \AGT\to \ACT $:
    $$\rel_{\jactatm}=\begin{cases}
      \rel^{\sigma}_{\jactatm}&\text{ if there is }\sigma\in\JACT^{\AGT}_0 \text{ such that }\\
      &\jactatm: \AGT\to \ACT^{\sigma } \\
      \{(w_0,w^\jactatm)\}&\text{ if }\jactatm\in\JACT^{\AGT}_0 \\
      \emptyset &\text{ otherwise }
    \end{cases}$$
    \item for all $w \in W$:
    $$\Va{w}=$$
    $$\begin{cases}
      \valProp^{\sigma }(w)&\text{ if }w\in W^{\sigma } \\ & \text{ for some }\sigma\in\JACT^{\AGT}_0,\\
      \{p\in \AP \mid p \text{ is a conjunct of }\chi \}&\text{ otherwise }
    \end{cases}$$
    \item for all $w \in W$ and $a\in\AGT$:
    $$\preceq_{a,w}=\begin{cases}
        \preceq^{\sigma }_{a,w}&\text{ if }w\in W^{\sigma } \text{ for some }\sigma\in\JACT^{\AGT}_0\\
        \preceq^0_a&\text{ if }w=w_0
    \end{cases}$$
    where $\preceq^0_a=\{(\lambda,\lambda')\in \historyset_{P,w_0}\times \historyset_{P,w_0} \mid\text{either }\lambda'(1)=w^\sigma \text{ and }\sigma(a)\in \rlist(a), \text{ or }\lambda(1)=w^\sigma \text{ and }\sigma(a)\notin \rlist(a)\\ \text{for some }\sigma\in\JACT^{\AGT}_0\}$. 
  \end{itemize}

  It is clear that $P,w_0\vDash \chi$ and $\ACT_0\subseteq \ACT$.
  
  Let $\strategymap\in \stratsetatl_{M}^\AGT$ and $\sigma: \AGT \to \ACT_0$ such that $\strategymap(a)(w_0)=\sigma(a)$ for all $a\in \AGT$. We want to show $M,\lambda^{M,w_0,\strategymap}(1)\vDash \clist(\sigma)$. Note $\rel_\sigma(w_0)=\{w^\sigma\}$. Then $\lambda^{M,w_0,\strategymap}(1)=w^\sigma$. Therefore, $$M,\lambda^{M,w_0,\strategymap}(1)\vDash \clist(\sigma).$$

  Let $\Group\subseteq \AGT$, $\strategymap_{\Group}\in \stratsetatl_{M}^{\Group}$ and $a\in \Group$. We want to show $\strategymap_{\Group}|_{\{a\}}\not \in \mathit{Dom}_{M,w_0}^a$ iff $\strategymap_{\Group}(a)(w_0)\in \rlist(a)$. 

  Assume $\strategymap_{\Group}(a)(w_0)\in \rlist(a)$. Note that $$\strategymap_{\Group}|_{\{a\}}\oplus \strategymap_{\AGT-\{a\}}(a)(w_0)\in \rlist(a)$$ for all $\strategymap_{\AGT-\{a\}}\in \stratsetatl_{M}^{\AGT-\{a\}}$. Then  $\lambda^{P,w_0,\strategymap_{\Group}|_{\{a\}}\oplus \strategymap_{\AGT-\{a\}}}\succeq \lambda$ for all $\strategymap_{\AGT-\{a\}}\in \stratsetatl_{M}^{\AGT-\{a\}}$ and $\lambda \in \historyset_{P,w_0}$. It follows that for all $\strategymap'_{\{a\}}\in \stratsetatl_{M}^{\{a\}}$, there is $\strategymap_{\AGT-\{a\}}\in \stratsetatl_{M}^{\AGT-\{a\}}$ such that $\lambda^{P,w_0,\strategymap_{\Group}|_{\{a\}}\oplus \strategymap_{\AGT-\{a\}}}\succeq \lambda^{P,w_0,\strategymap'_{\{a\}}\oplus \strategymap_{\AGT-\{a\}}}$. Therefore, $\strategymap_{\Group}|_{\{a\}}\not \in \mathit{Dom}_{M,w_0}^a$.
  
  Assume $\strategymap_{\Group}(a)(w_0)\notin \rlist(a)$. Note $\rlist(a)\neq \emptyset $. Then there is $\strategymap'_{\{a\}}\in \stratsetatl_{M}^{\{a\}}$ such that $\strategymap'_{\{a\}}(a)(w_0)\in \rlist(a)$. Let $\strategymap_{\AGT-\{a\}}\in \stratsetatl_{M}^{\AGT-\{a\}}$. Then $$\lambda^{P,w_0,\strategymap_{\Group}|_{\{a\}}\oplus \strategymap_{\AGT/\{a\}}}\succ \lambda^{P,w_0,\strategymap'_{\{a\}}\oplus \strategymap_{\AGT/\{a\}}}.$$%. 
  Therefore, $\strategymap_{\Group}|_{\{a\}}\in \mathit{Dom}_{M,w_0}^a$.    
\end{proof}
\subsection{The proof}
Now we prove the downward validity lemma (Lemma \ref{lemma: downward validity}).
\begin{proof}
  We prove its contrapositive. Assume validity-reduction-condition is not met. Then it meets satisfiability-reduction-condi\-tion, that is:   
  $\neg \chi $ is satisfiable and for all $X\subseteq \NI$ and $X' \subseteq \NIrat $, if $X\cup X'$ is neat, then:
  \begin{itemize}
    \item for all $\pindex\in \PI$, if $\bigcup_{\nindex\in X\cup X'} \Group_\nindex 
      \subseteq \Group_\pindex$, then $\bigwedge_{\nindex\in X\cup X'} \psi_\nindex 
      \wedge \neg \psi_\pindex\wedge \bigwedge_{\pindex'\in Y_0}\neg \psi_{\pindex'}$ is satisfiable for all $\pindex\in \PI$;
    %
    \item for all $\pindex\in \PIrat$, if $\bigcup_{\nindex\in X'}        \Group_\nindex\subseteq \Group_\pindex$, then $\bigwedge_{\nindex\in X_0\cup X'} \psi_\nindex 
    \wedge \neg \psi_\pindex\wedge \bigwedge_{\pindex'\in Y_0}\neg \psi_{\pindex'}$ is satisfiable;
    %
    \item $\bigwedge_{\nindex\in X_0\cup X'} \psi_\nindex \wedge \bigwedge_{\pindex\in Y_0\cup Y_1}\neg \psi_\pindex$ is satisfiable.
  \end{itemize}

  We want to show $\neg \chi \wedge \bigwedge_{\nindex\in \NI}\atlop{\Group_\nindex}\nexttime \psi_\nindex 
  \wedge 
  \bigwedge_{\nindex\in \NIrat}\atloprat{\Group_\nindex}\nexttime \psi_\nindex\wedge 
  \bigwedge_{\pindex\in \PI}\neg \atlop{\Group_\pindex}\nexttime \psi_\pindex 
  \wedge 
  \bigwedge_{\pindex\in \PIrat}\neg \atloprat{\Group_\pindex}\nexttime \psi_\pindex$ is satisfiable. Note $\phi $ is satisfiable iff $\phi \wedge \atloprat{\emptyset }\nexttime \top \wedge \neg \atloprat{\AGT}\nexttime \bot$ is satisfiable for all formula $\phi $. Therefore, for convenience, we can assume $\NIrat\neq \emptyset $ and $\PI\cup \PIrat$ is a nonempty beginning segment of natural numbers.

  Let $\ACT_0=\NI \cup \NIrat \cup \PI \cup \PIrat $ and $\JACT^{\Group}_0=\{\sigma_{\Group}: \Group \to \ACT_0\}$.
  Define $\Fsupport: \bigcup_{\Group\subseteq \AGT }\JACT^{\Group}_0 \to \powerset{\NI}$, 
  such that for all $\Group \subseteq \AGT$ and $\ja{\Group}\in \JACT^{\Group}_0$:
  \begin{align*}
  \support{\ja{\Group}} = \{x \in \NI\cup \NIrat \mid & \Group_\nindex\subseteq \Group \text{ and } \move{\Group}{a} = \nindex \\ &\text{for all } a \in \Group_\nindex\}    
  \end{align*}
  
  Define $\Fimpeach: \bigcup_{\Group\subseteq \AGT }\JACT^{\Group}_0 \to \PI\cup\PIrat$, such that for all $\Group \subseteq \AGT$ and $\ja{\Group}\in \JACT^{\Group}_0$:
  %
  $$
  \impeach{\ja{\Group}} = \Big( \sum_{a \in \Group} \move{\Group}{a} \Big) \bmod n$$
  
  \noindent where $n$ is the cardinality of $\PI\cup\PIrat$.

  Define $\bp = (\ACT_0, \clist, \rlist)$ as follows:
  \begin{itemize}
    \item $\rlist: \AGT \to \ACT_0$ such that for all $a\in \AGT $:
    $$\rlist(a)=\NIrat $$
    \item $\clist: \JACT^{\AGT}_0 \to \lang_{\clratlogic}(\ATM, \AGT )$ such that for all $\sigma\in \JACT^{\AGT}_0$:
    $$\clist(\sigma)=$$
    $$
    \begin{cases}    
      \theta \wedge \bigwedge_{\pindex\in Y_1}\neg \psi_\pindex&\text{if }{\ja{}(a)}\in \rlist(a)\text{ for all }a\in \AGT;\\
      %
      \theta \wedge \neg \psi_{\impeach{\ja{}}}&\text{if }{\ja{}(a)}\notin \rlist(a)\text{ for some }a\in \AGT,\\
      &\bigcup_{\nindex\in \support{\ja{}}}\Group_\nindex\subseteq \Group_\impeach{\ja{}},\\
      &\text{ and }\impeach{\ja{}}\in \PI;\\
      %
      \theta \wedge \neg \psi_{\impeach{\ja{}}}&\text{if }{\ja{}(a)}\notin \rlist(a)\text{ for some }a\in \AGT,\\
      &\bigcup_{\nindex\in \support{\ja{}}}\Group_\nindex\subseteq \Group_\impeach{\ja{}},\\
      &{\ja{}(a)\in \rlist(a)}\text{ for all }a\in \Group_\impeach{\ja{}},\\
      &\text{ and }\impeach{\ja{}}\in \PIrat;\\
      %
      \theta &\text{otherwise. }
    \end{cases}$$
    where $\theta = \bigwedge_{\nindex\in \support{\ja{}}}\psi_\nindex \wedge \bigwedge_{\pindex \in Y_{0}}\neg \psi_\pindex$.
  \end{itemize}
  
  Now we show $\bp $ is a blueprint. It suffices to show $\clist(\sigma)$ is satisfiable for all $\sigma\in \JACT^{\AGT}_0$ and $\rlist(a)\neq \emptyset$ for all $a\in \AGT$. Note $\NIrat \neq \emptyset $. Then $\rlist(a)\neq \emptyset$ for all $a\in \AGT$.

  Let $\ja{}\in \JACT^{\AGT}_0$. We want to show that $\clist(\sigma)$ is satisfiable. 
  
  Firstly, we will show $\support{\ja{}}$ is neat. 
  
  Let $\nindex,\nindex'\in \support{\ja{}}$ such that $\nindex\neq \nindex'$. Assume $\Group_\nindex\cap \Group_{\nindex'}\neq \emptyset $. Let $a\in \Group_\nindex\cap \Group_{\nindex'}$. By the definition of $\Fsupport$, $\move{}{a}=\nindex$ and $\move{}{a}=\nindex'$. But $\nindex\neq \nindex'$. Then $\Group_\nindex\cap \Group_{\nindex'}= \emptyset $. Therefore, $\support{\ja{}}$ is neat.

  Secondly, we will show that 
  if $\move{}{a}\in \rlist(a)$ for all $a\in \bigcup_{\nindex\in \support{\ja{}}}\Group_\nindex$, then $\support{\ja{}}\subseteq X_0\cup X'$ for some $X'\subseteq \NIrat$.
 
  Assume $\move{}{a}\in \rlist(a)$ for all $a\in \bigcup_{\nindex\in \support{\ja{}}}\Group_\nindex$. We want to show $(\NI\cap \support{\ja{}})\subseteq X_0$. Assume not. Then there is $\nindex\in \NI\cap \support{\ja{}}$ such that $\nindex\notin X_0$. Then $\Group_\nindex\neq \emptyset $. Therefore, there is $a\in \Group_\nindex$ such that $\move{}{a}=i$. Note $\nindex\in \NI$. Then $\nindex\notin \rlist(a)$. It is contradictory to $\move{}{a}\in \rlist(a)$ for all $a\in \bigcup_{\nindex\in \support{\ja{}}}\Group_\nindex$. Therefore, $(\NI\cap \support{\ja{}})\subseteq X_0$. Let $X'=\support{\ja{}}-(\NI\cap \support{\ja{}})$. Clearly, $\support{\ja{}}\subseteq X_0\cup X'$.

  Now we show $\clist(\sigma)$ is satisfiable by consider the following cases:
  \begin{enumerate}[label={Case \arabic*}]
    \item Assume $\clist(\ja{})=\theta \wedge \bigwedge_{\pindex\in Y_1}\neg \psi_\pindex$ and $\ja{}(a)\in \rlist(a)$ for all $a\in \AGT$, where $\theta = \bigwedge_{\nindex\in \support{\ja{}}}\psi_\nindex \wedge \bigwedge_{\pindex \in Y_{0}}\neg \psi_\pindex$. Note $\support{\ja{}}$ is neat. By satisfiability-reduction-con\-di\-tion, $\clist(\sigma)$ is satisfiable.
    \item Assume $\clist(\ja{})=\theta \wedge \psi_{\impeach{\ja{}}}$, $\ja{}(a)\notin \rlist(a)$ for some $a\in \AGT$,
    $\bigcup_{\nindex\in \support{\ja{}}}\Group_\nindex\subseteq \Group_\impeach{\ja{}}$, and $\impeach{\ja{}}\in \PI$. Note $\support{\ja{}}$ is neat. By satisfiabili\-ty-reduction-condition, $\clist(\sigma)$ is satisfiable.
    \item Assume $\clist(\ja{})=\theta \wedge \psi_{\impeach{\ja{}}}$, $\ja{}(a)\notin \rlist(a)$ for some $a\in \AGT$,
    $\bigcup_{\nindex\in \support{\ja{}}}\Group_\nindex\subseteq \Group_\impeach{\ja{}}$, $\ja{}(a)\in \rlist(a)$ for all $a\in \Group_\impeach{\ja{}}$, and $\impeach{\ja{}}\in \PIrat$. Note $\support{\ja{}}$ is neat and $\support{\ja{}}\subseteq X_0\cup X'$ for some $I'\subseteq \NIrat$. By satisfiability-reduction-condition, 
    
    $\clist(\sigma)$ is satisfiable.
    \item Assume $\clist(\ja{})=\theta=\bigwedge_{\nindex\in \support{\ja{}}}\psi_\nindex \wedge \bigwedge_{\pindex \in Y_{0}}\neg \psi_\pindex$. Note $\support{\ja{}}$ is neat. By satisfiability-reduction-con\-di\-tion, $\clist(\sigma)$ is satisfiable.
  \end{enumerate}
 
 Let $\overline{\chi }$ be a conjunction of atomic propositions, %which is
 equivalent to $\neg \chi$. By realization theorem (Theorem \ref{theorem: realization}), there is a pointed model $(P,w_0)$, where $P=( M , {(\preceq_{a,w})_{a\in \AGT, w \in W }})$ and $M=( W, \ACT,\\
 (\relAct{\jactatm} )_{\jactatm \in \JACT},  \valProp )$, such that:
 \begin{itemize}
   \item $P,w_0\vDash \overline{\chi }$;
   \item $\ACT_0\subseteq \ACT$;
   \item for all $\strategymap\in \stratsetatl_{M}^\AGT$ and $\sigma\in\JACT^{\AGT}_0$, if $\strategymap(a)(w_0)=\sigma(a)$ for all $a\in \AGT$, then $M,\lambda^{M,w_0,\strategymap}(1)\vDash \clist(\sigma)$;
   \item for all coalition $\Group$, $\strategymap_{\Group}\in \stratsetatl_{M}^{\Group}$ and $a\in \Group$: $\strategymap_{\Group}|_{\{a\}}\not \in \mathit{Dom}_{M,w_0}^a$ iff $\strategymap_{\Group}(a)(w_0)\in \rlist(a)$.
 \end{itemize}
We are going to show 
\begin{align*}
    P,w_0\vDash \neg \chi \wedge \bigwedge_{\nindex\in \NI}\atlop{\Group_\nindex}\nexttime \psi_\nindex 
 \wedge 
  \bigwedge_{\nindex\in \NIrat}\atloprat{\Group_\nindex}\nexttime \psi_\nindex \\
  \wedge 
  \bigwedge_{\pindex\in \PI}\neg \atlop{\Group_\pindex}\nexttime \psi_\pindex 
  \wedge 
  \bigwedge_{\pindex\in \PIrat}\neg \atloprat{\Group_\pindex}\nexttime \psi_\pindex.
  \end{align*}
  By realization theorem (Theorem \ref{theorem: realization}), $P,w_0\vDash \neg \chi$ clearly holds.

  Let $\nindex\in \NI$. We want to show $P,w_0\vDash \atlop{\Group_\nindex}\nexttime \psi_\nindex $. Let $\strategymap_{\Group_\nindex}\in \stratsetatl^{\Group_\nindex}_{M}$ such that $\strategymap_{\Group_\nindex}(a)(w_0)=\nindex$ for all $a\in \Group_\nindex$. Let $\sigma\in\JACT^{\AGT}_0$ such that $\strategymap(a)(w_0)=\sigma(a)$. Then $\sigma(a)=\nindex$ for all $a\in \Group_\nindex$. Then $\nindex\in \support{\sigma}$. Therefore, $\psi_\nindex$ is a conjunct of $\clist(\sigma)$. Then $M,\lambda(1)\vDash \psi_\nindex$ for all $\lambda\in \outset(w, \strategymap_{\Group_\nindex})$. Therefore, $P,w_0\vDash \atlop{\Group_\nindex}\nexttime \psi_\nindex $. 

  Let $\nindex\in \NIrat$. We want to show $P,w_0\vDash \atloprat{\Group_\nindex}\nexttime \psi_\nindex $.  
  Let $\strategymap_{\Group_\nindex}\in \stratsetatl^{\Group_\nindex}_{M}$ such that 
  $\strategymap_{\Group_\nindex}(a)(w_0)=\nindex$ for all $a\in \Group_\nindex$. Then $\strategymap_{\Group_\nindex}(a)(w_0)\in \rlist(a)$ for all  $a\in \Group_\nindex$. Then $\strategymap_{\Group_\nindex}|_{\{a\}}\not \in \mathit{Dom}_{M,w_0}^a$ for all $a\in \Group_\nindex$.  
  Similar to the case $\nindex\in \NI$, $M,\lambda(1)\vDash \psi_\nindex$ for all $\lambda\in \outset(w, \strategymap_{\Group_\nindex})$. Therefore, $P,w_0\vDash \atlop{\Group_\nindex}\nexttime \psi_\nindex $.

  Let $\pindex\in \PI$. We want to show $P,w_0\vDash \neg \atlop{\Group_\pindex}\nexttime \psi_\pindex $. Let $\strategymap_{\Group_\pindex}\in \stratsetatl^{\Group_\pindex}_{M}$. We want to show $M,\lambda(1)\vDash \neg \psi_\pindex$ for some $\lambda\in \outset(w, \strategymap_{\Group_\pindex})$. Consider the following two cases:


  \begin{enumerate}[label={Case \arabic*}]
  \item Assume $\pindex\in Y_0$. Then $\neg \psi_\pindex$ is a conjunct of $\clist(\sigma)$ for all $\sigma\in\JACT^{\AGT}_0$. Then $M,\lambda(1)\vDash \neg \psi_\pindex$ for some $\lambda\in \outset(w, \strategymap_{\Group_\pindex})$.
  \item Assume $\pindex\notin Y_0$. Then $\Group_\pindex\neq \AGT$. Then there is $a\in \AGT-\Group_\pindex$. Then we claim there is $\sigma_\AGT\in\JACT^{\AGT}_0$ such that $\strategymap_{\Group_\pindex}(b)(w_0)=\sigma_\AGT(b)$ for all $b\in \Group_\pindex$ and $\impeach{\sigma}=\pindex$. 
  Let $\sigma_{\Group_\pindex}:\Group_\pindex\to \ACT_0$ such that $\strategymap_{\Group_\pindex}(b)(w_0)=\sigma_{\Group_\pindex}(b)$ for all $b\in \Group_\pindex$ and $\sigma_{\AGT}:\AGT\to \ACT_0$ such that:
  \begin{itemize}
    \item  $\move{\AGT}{b}=\move{\AGT}{b}$ for all $b\in \Group_\pindex$;
    \item $\move{\AGT}{b}=0$ for all $b \in \AGT-\Group_\pindex$ such that $b\neq a$;
    \item $\move{\AGT}{a}=\begin{cases}
    \pindex-\impeach{\ja{\Group_\pindex}} & \text{if } \pindex \geq \impeach{\ja{\Group_\pindex}} \\
    %
    \pindex-\impeach{\ja{\Group_\pindex}}+n & \text{otherwise}
    \end{cases}$
  \end{itemize}
 Clearly, $\strategymap_{\Group_\pindex}(b)(w_0)=\sigma_\AGT(b)$ for all $b\in \Group_\pindex$ and also $\impeach{\sigma}=\pindex$. Then $\neg \psi_\pindex$ is a conjunct of $\clist(\sigma_\AGT)$. Then there is $M,\lambda(1)\vDash \neg \psi_\pindex$ for some $\lambda\in \outset(w, \strategymap_{\Group_\pindex})$.
  \end{enumerate}
  Therefore, $P,w_0\vDash \neg \atlop{\Group_\pindex}\nexttime \psi_\pindex $.

  Let $\pindex\in \PIrat$. We want to show $P,w_0\vDash \neg \atloprat{\Group_\pindex}\nexttime \psi_\pindex $. Let $\strategymap_{\Group_\pindex}\in \stratsetatl^{\Group_\pindex}_{M}$ such that $\strategymap_{\Group_\pindex}|_{\{a\}}\not \in \mathit{Dom}_{M,w}^a$ for all $a \in \Group_\pindex$. We want to show $M,\lambda(1)\vDash \neg \psi_\pindex$ for some $\lambda\in \outset(w, \strategymap_{\Group_\pindex})$. Consider the following two cases:
  \begin{enumerate}[label={Case \arabic*}]
  \item Assume $\pindex\in Y_1$. Then $\Group_\pindex=\AGT$. Let $\sigma: \AGT \to \ACT_0$ such that $\sigma(a)=\strategymap_{\Group_\pindex}(a)(w)$ for all $a \in \Group_\pindex$. Note $\strategymap_{\Group_\pindex}|_{\{a\}}\not \in \mathit{Dom}_{M,w_0}^a$ for all $a \in \Group_\pindex$. Then $\sigma(a)\in \rlist(a)$ for all $a\in \AGT$. Then $\neg \psi_\pindex$ is a conjunct of $\clist(\sigma)$. Therefore, $M,\lambda(1)\vDash \neg \psi_\pindex$ for some $\lambda\in \outset(w, \strategymap_{\Group_\pindex})$.
  \item Assume $\pindex\notin Y_1$. Then $\Group_\pindex\neq \AGT$. Similar to the case $\pindex\in \PI$. there is $M,\lambda(1)\vDash \neg \psi_\pindex$ for some $\lambda\in \outset(w, \strategymap_{\Group_\pindex})$.
  \end{enumerate}
  Therefore, $P,w_0\vDash \neg \atloprat{\Group_\pindex}\nexttime \psi_\pindex $
\end{proof}


\section{Proof of Lemma \ref{lemma: upward derivability}}
%\section{Upward derivability}
\label{section: upward derivability}
\begin{proof}
  Assume that derivability-reduction-condition with respect to $\phi $ holds. If $\vdash \chi $, then $\vdash \phi $ clearly holds. Now  Assume there is $I\subseteq \NI$ and $I' \subseteq \NIrat $ such that $X\cup X'$ is neat and one of the following is met:
  \begin{itemize}
    \item there is $\pindex\in \PI$ such that $\bigcup_{\nindex\in X\cup X'} \Group_\nindex \subseteq \Group_\pindex$ and $$\vdash \bigwedge_{\nindex\in X\cup X'} \psi_\nindex\to (\psi_\pindex\vee \bigvee_{\pindex'\in Y_0}\psi_{\pindex'});$$
    \item there is $j\in \PIrat$ such that $\bigcup_{\nindex\in I'} \Group_\nindex\subseteq \Group_\pindex$ and $$
    \vdash \bigwedge_{\nindex\in X_0\cup X'} \psi_\nindex \to (\psi_\pindex\vee \bigvee_{\pindex'\in Y_0}\psi_{\pindex'});$$
    \item $\vdash \bigwedge_{\nindex\in X_0\cup X'} \psi_\nindex \to \bigvee_{\pindex\in Y_0\cup Y_1}\psi_{\pindex}$.
  \end{itemize}
  
  Consider the following 3 cases:
  \begin{enumerate}[label={Case \arabic*}]
    \item Assume there is $j\in \PI$ such that $\bigcup_{\nindex\in X\cup X'} \Group_\nindex \subseteq \Group_\pindex$ and $\vdash \bigwedge_{\nindex\in X\cup X'} \psi_\nindex \to (\psi_\pindex\vee \bigvee_{\pindex'\in Y_0}\psi_{\pindex'})$. 
    By \ref{ax:Sup0}, $$\vdash 
    \bigwedge_{\nindex\in X}\atlop{\Group_\nindex}\nexttime \psi_\nindex 
    \to  
    \atlop{\bigcup_{\nindex\in X}\Group_\nindex}\nexttime \bigwedge_{\nindex\in X}\psi_\nindex.$$  
    By \ref{ax:Sup1} and \ref{ax:MR}, 
    \begin{align*}
        \vdash 
    \bigwedge_{\nindex\in X'}\atloprat{\Group_\nindex}\nexttime \psi_\nindex 
    \to  
    \atlop{\bigcup_{\nindex\in X'}\Group_\nindex}\nexttime \bigwedge_{\nindex\in X}\psi_\nindex.
    \end{align*} 
    Therefore, \begin{align*}
    \vdash 
    (\bigwedge_{\nindex\in I}\atlop{\Group_\nindex}\nexttime \psi_\nindex \wedge 
    \bigwedge_{\nindex\in I'}\atloprat{\Group_\nindex}\nexttime \psi_\nindex ) \\
    \to  
    \atlop{\bigcup_{\nindex\in X\cup X'}\Group_\nindex}\nexttime \bigwedge_{\nindex\in I}\psi_\nindex.
    \end{align*}
    By \ref{Mon0}, $\vdash 
    (\bigwedge_{\nindex\in \NI}\atlop{\Group_\nindex}\nexttime \psi_\nindex 
    \wedge 
    \bigwedge_{\nindex\in \NIrat}\atloprat{\Group_\nindex}\nexttime \psi_\nindex)
    \to 
    \atlop{\Group_\pindex}\nexttime (\psi_\pindex\vee \bigvee_{\pindex'\in Y_0}\psi_{\pindex'})$. By \ref{ax:Cro}, \begin{align*}
        \vdash 
    \atlop{\Group_\pindex}\nexttime (\psi_\pindex\vee \bigvee_{\pindex'\in Y_0}\psi_{\pindex'})\to \\ \big (\atlop{\Group_\pindex}\nexttime 
    \psi_\pindex\vee \bigvee_{\pindex'\in Y_0}\atlop{\AGT} \nexttime \psi_{\pindex'}\big ). 
    \end{align*}
    Note $\Group_{\pindex'} = \AGT $ for all $\pindex'\in Y_0$. Therefore, \begin{align*}
    \vdash 
    (\bigwedge_{\nindex\in \NI}\atlop{\Group_\nindex}\nexttime \psi_\nindex 
    \wedge 
    \bigwedge_{\nindex\in \NIrat}\atloprat{\Group_\nindex}\nexttime \psi_\nindex)
    \to 
    \\
    \bigvee_{\pindex'\in \PI } \atlop{\Group_\pindex}\nexttime \psi_{\pindex'}.
    \end{align*}
  
    \item\label{case 2} Assume there is $\pindex\in \PIrat$ such that $\bigcup_{\nindex\in X'} \Group_\nindex\subseteq \Group_\pindex$ and $
    \vdash \bigwedge_{\nindex\in X_0\cup X'} \psi_\nindex 
    \to (\psi_\pindex\vee \bigvee_{\pindex'\in Y_0}\psi_{\pindex'})$.
    Note $\Group_\nindex = \emptyset $ for all $\nindex\in X_0$. By\ref{ax:NP}, $\vdash 
    \bigwedge_{\nindex\in X_0}\atlop{\emptyset }\nexttime \psi_\nindex \to \bigwedge_{\nindex\in X_0}\atloprat{\emptyset }\nexttime \psi_\nindex$.
    By \ref{ax:Sup1}, $$\vdash 
    \bigwedge_{\nindex\in X\cup X_0}\atloprat{\Group_\nindex}\nexttime \psi_\nindex 
    \to  
    \atloprat{\bigcup_{\nindex\in X\cup X_0}\Group_\nindex}\nexttime \bigwedge_{\nindex\in X\cup X_0}\psi_\nindex.$$  
    By \ref{Mon1}, \begin{align*}
     \vdash 
    (\bigwedge_{\nindex\in \NI}\atlop{\Group_\nindex}\nexttime \psi_\nindex 
    \wedge 
    \bigwedge_{\nindex\in \NIrat}\atloprat{\Group_\nindex}\nexttime \psi_\nindex)
    \to \\
    \atloprat{\Group_\pindex}\nexttime (\psi_\pindex\vee \bigvee_{\pindex'\in Y_0}\psi_{\pindex'}).
    \end{align*}
    By \ref{Cro0.5}, \begin{align*}
    \vdash 
    \atloprat{\Group_\pindex}\nexttime (\psi_\pindex\vee \bigvee_{\pindex'\in Y_0}\psi_{\pindex'})\to \\ (\atloprat{\Group_\pindex}\nexttime \psi_\pindex\vee \bigvee_{\pindex'\in Y_0}\atlop{\AGT} \nexttime \psi_{\pindex'}).\end{align*}
    Therefore, \begin{align*}
    \vdash 
    (\bigwedge_{\nindex\in \NI}\atlop{\Group_\nindex}\nexttime \psi_\nindex 
    \wedge 
    \bigwedge_{\nindex\in \NIrat}\atloprat{\Group_\nindex}\nexttime \psi_\nindex )
    \to \\
    (\bigvee_{\pindex'\in \PI}\atlop{\Group_{\pindex'}}\nexttime \psi_{\pindex'}\vee \bigvee_{\pindex'\in \PI}\atloprat{\Group_{\pindex'}}\nexttime \psi_{\pindex'}).
    \end{align*}
  
  
    \item Assume $\vdash \bigwedge_{\nindex\in X_0\cup X'} \psi_\nindex \to \bigvee_{\pindex\in Y_0\cup Y_1}\psi_{\pindex}$.
    Similar to \ref{case 2}, we have \begin{align*}
        \vdash 
    (\bigwedge_{\nindex\in \NI}\atlop{\Group_\nindex}\nexttime \psi_\nindex 
    \wedge 
    \bigwedge_{\nindex\in \NIrat}\atloprat{\Group_\nindex}\nexttime \psi_\nindex)
    \to \\
    \atloprat{\AGT}\nexttime \bigvee_{\pindex\in Y_0\cup Y_1}\psi_{\pindex}.
    \end{align*}
    By \ref{ax:DGRA},  \begin{align*}
        \vdash 
    \atloprat{\AGT}\nexttime \bigvee_{\pindex\in Y_0\cup Y_1}\psi_{\pindex}
    \to \bigvee_{\pindex\in Y_0\cup Y_1}\atloprat{\AGT}\nexttime \psi_{\pindex}.
    \end{align*}
    Note $\Group_{\pindex} = \AGT $ for all $\pindex\in Y_0\cup Y_1$. 
    Therefore, \begin{align*}
    \vdash 
    (\bigwedge_{\nindex\in \NI}\atlop{\Group_\nindex}\nexttime \psi_\nindex 
    \wedge 
    \bigwedge_{\nindex\in \NIrat}\atloprat{\Group_\nindex}\nexttime \psi_\nindex)
    \to \\ 
    (\bigvee_{\pindex\in Y_0}\atlop{\AGT}\nexttime \psi_{\pindex}\vee \bigvee_{\pindex\in Y_1}\atloprat{\AGT}\nexttime \psi_{\pindex}).
    \end{align*}
  \end{enumerate}
  Therefore, \begin{align*}
      \vdash 
    (\bigwedge_{\nindex\in \NI}\atlop{\Group_\nindex}\nexttime \psi_\nindex 
    \wedge 
    \bigwedge_{\nindex\in \NIrat}\atloprat{\Group_\nindex}\nexttime \psi_\nindex)
    \to \\
    (\bigvee_{\pindex\in \PI}\atlop{\Group_\pindex}\nexttime \psi_{\pindex}\vee \bigvee_{\pindex\in \PIrat}\atloprat{\Group_\pindex}\nexttime \psi_{\pindex}).
    \end{align*}
    Then $\vdash \phi $.
  \end{proof}

 \section{Proof of Theorem \ref{thm:soundnessCL}}\label{section: complete proof}
  \begin{proof}
Proving soundness is a
routine exercise. 
 We just show  completeness
 by an induction on the modal
 degrees of formulas. 
 The $0$-modal degree case
 follows from
 completeness of classical propositional logic. 
Let 
   $\phi \in \lang_{\clratlogic}(\ATM, \AGT )$ with modal degree  greater than $0$. Assume $ \phi $ 
   is valid
   and for any 
    $\psi \in \lang_{\clratlogic}(\ATM, \AGT )$, if
    the modal degree of $\psi $ is lower
    than
    the modal degree of
    $\phi $ and $ \psi $ is valid, then $\vdash \psi $. We want to show that 
    $\vdash \phi $.
  By the normal-form lemma (Lemma \ref{lemma: normal-form}), $\phi \Liff \bigwedge_{k\in K}\phi_k$
  is valid, where $K$ is a set of indices and $\phi_k $ is a standard
  $ \clratlogic$ disjunction whose modal degree is not greater than $\phi $. Fix $k\in K$. Then $ \phi_k$
  is valid. By the downward validity lemma (Lemma \ref{lemma: downward validity}),  the validity-reduction condition for 
  $\phi_k $ holds. By inductive hypothesis, the 
  derivability-reduction condition
  for $\phi_k $ holds. By 
  the upward derivability lemma (Lemma \ref{lemma: upward derivability}), $\vdash \phi_k$. Therefore, $\vdash \bigwedge_{k\in K}\phi_k$. Note that $\vdash \phi \Liff \bigwedge_{k\in K}\phi_k$. Thus,  $\vdash \phi $.
\end{proof}
  
  \section{Proof of Theorem \ref{thm:modelchecking}}\label{section: proof for modelchecking}

  \begin{proof}

%Before defining the model-checking problem for $\clratlogic$
We start by introducing 
some preliminary notions. In Section \ref{sec:pref}
an agent's preference relation at a given state was
defined relative to the set of computations
starting in this state. 
%It turns out that 
In the case
of a GCSP with short-sighted preferences
we can replace 
each preference relation $     \preceq_{i,w} $
by  a partial preorder 
\begin{align*}
     \preceq_{i,w}^{\mathit{succ} }  \subseteq \mathcal{R}(w) \times \mathcal{R}(w)    
\end{align*}
defining agent $i$'s preference relation over the successors of state $w$.
Then, we can define the notion of agent $i$'s dominated action
at a given state $w$. Specifically, 
we say that at world $w$
  agent $i$'s action  $\delta_{\{ i \}} \in  \JACT_{  \{i \} }   $
  dominates agent $i$'s  action  $\delta_{\{ i \}}' \in  \JACT_{  \{i \} }   $
  iff 
  \begin{align*}
  \forall \delta_{\AGT \setminus \{i \}} & \in \JACT_{\AGT  \setminus \{i \}}, \\  
& 
\text{if }  \mathcal{R}_{ \delta_{\AGT \setminus \{i \}} \oplus  \delta_{\{i \}}  } (w) \neq
\emptyset \text{ and }
 \mathcal{R}_{ \delta_{\AGT \setminus \{i \}} \oplus  \delta_{\{i \}'}  ' } (w) \neq
\emptyset \text{ then } \\
&
\mathit{succ}(w, \delta_{\AGT \setminus \{i \}} \oplus \delta_{\{i \}} )
  \prec_{i,w}^{\mathit{succ} } 
\mathit{succ} ( w, \delta_{\AGT \setminus \{i \}} \oplus  \delta_{\{i \}} ')  ,
  \end{align*}
where $\mathit{succ}(w, \delta_{\AGT \setminus \{i \}} \oplus  \delta_{\{i \}} ) $
is the unique element of the transition relation 
  $\mathcal{R}_{ \delta_{\AGT \setminus \{i \}} \oplus  \delta_{\{i \}}  } (w) $,
 $\mathit{succ}(w, \delta_{\AGT \setminus \{i \}} \oplus  \delta_{\{i \}}' ) $
is the unique element of 
  $\mathcal{R}_{ \delta_{\AGT \setminus \{i \}} \oplus  \delta_{\{i \}}'  } (w) $,
  and for any coalition $\Group$, 
  $\JACT_\Group   $
  is the set of joint actions for $\Group$,
  i.e., the set of all functions $\delta_\Group : \Group \longrightarrow \ACT$. 
   We denote by $\mathit{ActDom}_{M,w}^i$ the set of dominated actions of agent $i$   at $w$.

  We can now reinterpret the modalities $\atloprat{\Group}\nexttime$, $\atloprat{\Group}\henceforth$, and $\atloprat{\Group}\until{}{}$
by replacing the set $\mathit{Dom}_{M,w}^i$ by 
$\mathit{ActDom}_{M,w}^i$. 
It is routine to show that the two semantic interpretations, the one defined with $\mathit{Dom}_{M,w}^i$ and the one with $\mathit{ActDom}_{M,w}^i$ are equivalent for the case of GCSP with short-sighted preferences. 

%%%

\iffalse
Given  a CGS $M  = ( W,  \ACT,  \relActJoint,  \valProp  )$
and a
goal base profile 
$\Gamma= (G_1, \ldots , G_n)$
with 
$G_i\subseteq
\mathcal{L}_{\mathsf{LTL}}$
for every agent $i\in \AGT$,
we can induce the corresponding CGS with stable preferences
$(M, \Omega_M^\Gamma)$
with $\Omega_M^\Gamma=(\preceq_{i,w }^\Gamma   )_{i \in \AGT, w \in W }$
as follows: 
\begin{itemize}
    \item for every $i\in \AGT$,
    for every $w \in W$
    \begin{align*}
            \preceq_{i,w }^\Gamma = &
    \Big\{ 
    (\lambda', \lambda) \in
    \historyset_{M} \times
    \historyset_{M} \suchthat  \\
&    \mathit{card}\big(
\{   \varphi \in G_i: (M,\lambda') \models \varphi\}
    \big) \geq
     \mathit{card}\big(
\{   \varphi \in G_i: (M,\lambda) \models \varphi\}
    \big)
    \Big\}.
    \end{align*} 
\end{itemize}
\fi

Now we turn to the global model checking problem for \atlratlogic. 
We show that the complexity of the model checking problem is \Ptime-complete. 
The lower-bound follows from the model
checking of  \atllogic which is \Ptime-complete \cite{alur2002alternating}. % (notice that model checking \cllogic is also Ptime  \cite{pauly2001logic}). 

For the upper bound, we provide a model-checking algorithm. 
%We denote by $\stratsetatl_r$ the set of memoryless strategies.  
Given a CGSP $P = (M,\Omega_M)$, with   $M  = ( W,  \ACT$, $ \relActJoint, \allowbreak  \valProp  )$  and $\Omega_M=(\preceq_{i,w }   )_{i \in \AGT, w \in W }$, and a formula $\varphi$, Algorithm \ref{alg:mc} works similarly to the symbolic algorithm for \atllogic model checking \cite{alur2002alternating} by 
computing the set of states in which  $\varphi$ holds by recursively considering its subformulas,  
%As Algorithm modelCheck visits each subformula at most once, and the number of subformulas is not greater than the size of , the algorithm can clearly be implemented in

\iffalse
  The model-checking problem can be formulated as follows:
\begin{itemize}
    \item 
    \textbf{INPUT}:  
    A CGSP $P = (M,\Omega_M)$, where  $M  = ( W,  \ACT$, $ \relActJoint,  \valProp  )$ is a CGS and $\Omega_M=(\preceq_{i,w }   )_{i \in \AGT, w \in W }$ is a preference structure,  
    and a formula $\varphi$.

    \item 
    \textbf{OUTPUT}:  $\{s: (P,s) \models \varphi, s\in W\}$, i.e., the set of states  where the $\varphi$ holds in $P$
    %    \textbf{OUTPUT}: yes if $(P^\Gamma,s) \models$    with $P^\Gamma=(M, \Omega_M^\Gamma) $, no otherwise. 
\end{itemize}
\fi
%


%Given a  \clratlogic formula $\varphi$ and a CGSP $P$,  Algorithm \ref{alg:mc} returns all the states in which  $\varphi$ holds.


\begin{breakablealgorithm}
\label{alg:mc}
	\caption{Model checking R-CL } 
	\begin{algorithmic}[1] 
    %\hskip\algorithmicindent 
   \noindent \textbf{Input: }   a CGSP $P = (M,\Omega_M)$, with   $M  = ( W,  \ACT$, $ \relActJoint, \allowbreak  \valProp  )$  and $\Omega_M=(\preceq_{i,w }   )_{i \in \AGT, w \in W }$, and a \atlratlogic formula $\varphi$.
   \par 
   \noindent \textbf{Output: } $\{w: (P,w) \models \varphi, w\in W\}$ %, i.e., the set of states  where the $\varphi$ holds in $P$
		\Procedure{MC}{$P,  \varphi$}		
      \Case {$\varphi = p$}
            \State{\textbf{return} $\{ w : p\in \valProp(w)$\} }   
        \EndCase
    
        \Case {$\varphi = \lnot \psi$}
            \State{\textbf{return}  $W \setminus \textsc{MC} (P,   \psi)$  }
        \EndCase
       \Case {$\varphi = \psi \land \chi$}
            \State{\textbf{return} $\textsc{MC} (P,\psi) \cap \textsc{MC} (P,\chi)$}
        \EndCase
        %Next
      \Case {$\varphi =  \atlop{\Group} \nexttime \psi$}
             \State{\textbf{return} $ \mathit{Pre}(P, C, \textsc{MC}(P,  \psi))$}
        \EndCase
        %Globally
        \Case {$\varphi =  \atlop{\Group} \henceforth \psi$}
            \State{$\rho \gets W, \tau \gets MC(P, \psi)$}
            \While{$\rho \nsubseteq \tau$}
             \State{$\rho \gets \tau$, $\tau \gets \mathit{Pre}(\Group, \rho) \cap MC(P,\psi)$}
             \EndWhile
             \State{\textbf{return} $\rho$}
        \EndCase
        %Until
        \Case {$\varphi =  \atlop{\Group} \until{\psi_1}{\psi_2}$}
            \State{$\rho \gets \empty, \tau \gets MC(P, \psi_2)$}
            \While{$\tau \nsubseteq \rho$}
             \State{$\rho \gets \rho \cup \tau$, $\tau \gets \mathit{Pre}(\Group, \rho) \cap MC(P,\psi_1)$}
             \EndWhile
             \State{\textbf{return} $\rho$}
        \EndCase
        %RatNext
        \Case {$\varphi =  \atloprat{\Group} \nexttime \psi$}
             \State{\textbf{return} $ \mathit{PreRat}(P, C, \textsc{MC}(P,  \psi))$  }
        \EndCase
        %RatGlobally
        \Case {$\varphi =  \atloprat{\Group} \henceforth \psi$}
            \State{$\rho \gets W, \tau \gets MC(P, \psi)$}
            \While{$\rho \nsubseteq \tau$}
             \State{$\rho \gets \tau$, $\tau \gets \mathit{PreRat}(\Group, \rho) \cap MC(P,\psi)$}
             \EndWhile
             \State{\textbf{return} $\rho$}
        \EndCase
        %RatUntil
         \Case {$\varphi =  \atloprat{\Group} \until{\psi_1}{\psi_2}$}
            \State{$\rho \gets \empty, \tau \gets MC(P, \psi_2)$}
            \While{$\tau \nsubseteq \rho$}
             \State{$\rho \gets \rho \cup \tau$, $\tau \gets \mathit{PreRat}(\Group, \rho) \cap MC(P,\psi_1)$}
             \EndWhile
             \State{\textbf{return} $\rho$}
        \EndCase
    \EndProcedure
	\end{algorithmic}
\end{breakablealgorithm}

To solve formulas in the form $\atlop{\Group} \nexttime \psi$, $\atlop{\Group} \henceforth \psi$, and $\atlop{\Group} \until{\psi_1}{\psi_2}$, the algorithm makes use of the function $\mathit{Pre}(P, \Group, Q)$. The function  takes as arguments a CGSP $P$, a coalition $\Group \subseteq \AGT$, and a set $Q \subseteq S$ and returns the set of states from which coalition $\Group$ can force the outcome to be in one of the $Q$ states. 
Formally, 

\begin{align*}\mathit{Pre}(P, \Group, Q) = & \{ w : w\in W, \exists \delta_{\Group} \in \JACT_{\Group}, \\
& \forall \delta_{\AGT\setminus\Group}\in \JACT_{\AGT\setminus\Group},  \relAct{\delta_{\Group} \oplus    \delta_{\AGT\setminus\Group}}(w)\subseteq Q \}
\end{align*}

%The main difference is in computing the operator 
To handle formulas with rational strategic operators, we first need to compute agents' dominated actions.  
%For coalition logic, strategies are action profiles. 
Deciding whether an action is dominated requires checking, for every other action for that player, whether the latter action performs strictly better against all the opponents’  actions. This procedure is known to be in polynomial time 
\cite{conitzer2005complexity,gilboa1993complexity}. 
%Given,  (for a given CGSP $P$, agent $i \in \AGT$ and state $w$) 
For computing the set of actions for agent $i$ that are dominated from the state $w$, we consider the function $\mathit{DomAct}(P, i, w)$, defined as follows: 

\begin{align*}
\mathit{DomAct}&(P, i, w) = \{ \delta_{\{i\}} \in \JACT_{\{i\}} : \exists \delta_{\{i\}}' \in \JACT_{\{i\}}  , \\ &  \forall \delta_{\AGT\setminus\{i\}} \in \JACT_{\{i\}}^{\AGT\setminus\{i\}},   \\ & \mathit{succ}(w, \delta_{\{i\}}\oplus  \delta_{\AGT\setminus\{i\}} ) \prec_{i,w}^{\mathit{succ}}   \mathit{succ}(w, \delta_{\{i\}}'\oplus  \delta_{\AGT\setminus\{i\}} ) \}   \end{align*}

The non dominated joint actions of coalition $\Group$ in $w$ are obtained by function $\mathit{NonDomJAct}(P, i, w)$, defined as follows: 

\begin{align*}
\mathit{NonDomJAct}(P, \Group, w) = & \{ \delta_\Group \in \JACT_\Group:    \forall i \in \Group, \\
& \delta_{\{i\}}  \not \in DomAct(P,i,w)\}   \end{align*}
%%Remove \stratsetatl_r 

%\begin{align*}
%Dom(P, i, w) =& \{ a \in \ACT^{\AGT }  : \exists a' \in  \ACT^{\AGT }  , \forall a_{-i} \in \ACT^{\AGT\setminus\{i\}},   \\ & \outset(w, \sigma_i\oplus  \sigma_{-i} ) \prec_{i,w }  s' \}  
%\end{align*}
%$\relAct{a_{\Group} \oplus    a_{\AGT\setminus\Group}}(s)$

% \forall \lambda \in \outset(w, \strategymap_\Group), \big( P, \lambda(1)  \big)\models \varphi ,
For the cases of formulas in the form $\atloprat{\Group} \nexttime \psi$, $\atloprat{\Group} \henceforth \psi$,  and $\atloprat{\Group} \until{\psi_1}{\psi_2}$, the algorithm uses the function $\mathit{PreRat}(M, \Group, Q)$ that computes the states from where the coalition $\Group$ can force   the outcome to be in one of the $Q$ states while playing non dominated actions.
%computes for a given CGSP $P$, coalition $\Group \subseteq \AGT$ and a set $Q \subseteq S$, the set of states, from which coalition $\Group$ can force the outcome to be in one of the $Q$ states.
\begin{align*}
    \mathit{PreRat}(P, \Group, Q)  = & \{ w : w\in W, \exists \delta_\Group \in \mathit{NonDomJAct}(P,\Group,w), \\
%\exists \delta_{\Group} \in \JACT_{\Group} \textcolor{blue}{\setminus Dom(P, i, w)}, \\ 
& %\delta_{\Group} = (\delta_{\{i\}}(w))_{i \in \Group}, 
\forall \delta_{\AGT\setminus\Group}\in \JACT_{\AGT\setminus\Group}, \\ 
& \relAct{\delta_{\Group} \oplus    \delta_{\AGT\setminus\Group}}(w)\subseteq Q   \}
\end{align*} 

Notice that functions $Pre$ and $PreRat$ can
be computed in polynomial time. 
Algorithm \ref{alg:mc}'s complexity is in $\mathcal{O}(|M| \cdot l)$, where $l$ denotes the length of the input formula $\varphi$. The outer loop of the algorithm depends on l, and it can be shown that each one of the cases lies in $\mathcal{O}(|M|)$. 

\end{proof}
