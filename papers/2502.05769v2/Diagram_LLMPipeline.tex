\begin{figure}[htpb]
\centering
\resizebox{0.45\textwidth}{!}{
    \begin{tikzpicture}[
node distance = 4mm and 8mm,
    I/.style = {, fill=white, minimum size=0.5cm, align=center},
     N/.style = {draw, fill=white, minimum size=1cm, align=center},
   dcs/.style = {double copy shadow, shadow xshift=2pt, shadow yshift=-2pt},
every edge/.append style = {draw, semithick, -Stealth}
                        ]
\node[I] (images)  {Multi-view\\images};
\node[N, right=of images,dcs]  (llms)       {Keyword extraction\\LLMs};
\node[I, right= 0.5 cm of llms]  (image)       {Top-down \\
multi-scale images};
%\node[N, below=of llms](caption1) {Keyword Aggregation LLM};
\node[draw, below=0.5 cm of llms, rectangle split, rectangle split parts=2, minimum width=3cm, minimum height=2cm] (stacked) 
    {Keyword Aggregation LLM
        \nodepart{second} Keyword-to-Caption LLM
    };
\node[I, below=of stacked] (output)  {Building caption + keywords};


\draw   (images) edge (llms)
        (image) edge (llms)
        (llms) edge (stacked)
        (stacked) edge (output);
    \end{tikzpicture}}
\caption{Diagram of Multi Agent LLM processing multi-view-multi-scale images.}\label{fig:LLMpipeline}
\end{figure}