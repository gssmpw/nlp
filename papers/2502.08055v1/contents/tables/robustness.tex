\definecolor{lightgreen}{gray}{0.9}
\definecolor{lightblue}{RGB}{217, 234, 243}
\definecolor{lightgreen}{RGB}{226, 240, 217}
\definecolor{lightyellow}{RGB}{255, 249, 219}
\DeclareRobustCommand{\hlgreen}[1]{\colorbox{lightgreen}{#1}}
\DeclareRobustCommand{\hlblue}[1]{\colorbox{lightblue}{#1}}



\begin{table}[t]
\tiny
\caption{\textbf{Test accuracy against adversarial attacks by 10\% malicious clients after 500 rounds.} Robustness is determined by the lowest accuracy (\textbf{boldfaced}) across all attacks (\ie the smallest value across the columns of each table). \ours\ maintains its robustness even against the strongest adaptive attacks (``Adaptive'').}
    \subfloat[LeNet-5 model, MNIST dataset]{
    \begin{adjustbox}{width=.7\textwidth,center}
    \begin{tabular}{c|cccc}
    \cline{1-5}
        & Additive Noise & Labeflip & Signflip & Adaptive  \\ \hline \hline
        Norm Bound (adaptive) & 0.970 & 0.983 & 0.981 & \bf 0.883 \\
        Norm Bound (public data) & 0.976 & 0.976 & 0.976 & \bf 0.454 \\
        Norm Ball & 0.968 & 0.985 & 0.966 & \bf 0.965 \\
        Cosine Similarity & 0.981 & 0.964 & 0.947 & \bf 0.863 \\
        \ours (acc) & 0.974 & 0.977 & 0.975 & \cellcolor{lightgreen}\bf 0.974\\
        \ours (prob) & 0.973 & 0.977 & 0.974 & \cellcolor{lightgreen}\bf 0.970 \\
        \cline{1-5}
    \end{tabular}
    \end{adjustbox}
    }
    \vspace{2em}

    \subfloat[LeNet-5 model, FMNIST dataset]{
    \begin{adjustbox}{width=.7\textwidth,center}
    \begin{tabular}{c|cccc}
    \cline{1-5}
        & Additive Noise & Labelflip & Signflip & Adaptive \\ \hline \hline
        Norm Bound (adaptive) & 0.872 & 0.873 & 0.867 & \bf 0.709\\
        Norm Bound (public data) & 0.865& 0.870& 0.863 & \bf 0.583\\
        Norm Ball & 0.870 & 0.872& 0.866 & \bf 0.798\\
        Cosine Similarity & 0.863& 0.862& 0.862 & \bf 0.714\\
        \ours (acc) & 0.870& 0.873& 0.865 & \cellcolor{lightgreen}\bf 0.830\\
        \ours (prob) & 0.870& 0.871& 0.864 & \cellcolor{lightgreen}\bf 0.832\\
        \cline{1-5}
    \end{tabular}
    \end{adjustbox}
    }
    \vspace{2em}

    \subfloat[ResNet-20 model, SVHN dataset]{
    \begin{adjustbox}{width=.7\textwidth,center}
    \begin{tabular}{c|cccc}
    \cline{1-5}
        & Additive Noise & Labeflip & Signflip & Adaptive \\ \hline \hline
        Norm Bound (adaptive) & 0.915 & 0.932 & 0.927 & \bf 0.198 \\
        Norm Bound (public data) & 0.921 & 0.923 & 0.919 & \bf 0.189\\
        Norm Ball & 0.913 & 0.917 & 0.901 & \bf 0.308 \\
        Cosine Similarity & 0.844 & 0.919 & 0.886 & \bf 0.431\\
        \ours (acc) & 0.868 & 0.925  & 0.922 & \cellcolor{lightgreen}\bf 0.836\\
        \ours (prob) & 0.874 & 0.927 & 0.920 & \cellcolor{lightgreen}\bf 0.855 \\
        \cline{1-5}
    \end{tabular}
    \end{adjustbox}
    }
    \vspace{2em}

    \subfloat[ResNet-20 model, CIFAR-10 dataset]{
    \begin{adjustbox}{width=.7\textwidth,center}
    \begin{tabular}{c|cccc}
    \cline{1-5}
        & Additive Noise & Labeflip & Signflip & Adaptive \\ \hline \hline
        Norm Bound (adaptive) & 0.778 & 0.791& 0.789 & \bf 0.218 \\
        Norm Bound (public data) & 0.784& 0.786& 0.799 & \bf 0.122\\
        Norm Ball & 0.771& 0.798& 0.779 & \bf 0.291\\
        Cosine Similarity & 0.770 & 0.781 & 0.775 & \bf 0.221\\
        \ours (acc) & 0.772& 0.781& 0.776 & \cellcolor{lightgreen}\bf 0.733\\
        \ours (prob) & 0.775& 0.784& 0.772 & \cellcolor{lightgreen}\bf 0.735\\
        \cline{1-5}
    \end{tabular}
    \label{tab:robustness-cifar10}
    \end{adjustbox}
    }
\label{tab:robustness}
\end{table}
