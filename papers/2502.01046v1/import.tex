% Include other packages here, before hyperref.
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{bm}
\usepackage{url}
\usepackage{ragged2e}
\usepackage{multirow}
\usepackage{tablefootnote}
\usepackage{xspace}
\usepackage{xcolor,colortbl}
\usepackage{wrapfig}
\usepackage{makecell}
\usepackage[thicklines]{cancel}
\usepackage{xcolor} 

% \usepackage{algorithm}
% \usepackage{algorithmicx}
% \usepackage{algpseudocode}

\usepackage{tcolorbox}
%\usepackage{caption}
\usepackage{bbding}
\usepackage{pifont}
\usepackage{arydshln} 
\usepackage{lipsum}
\usepackage{float}
\usepackage{booktabs}
\usepackage{utfsym}
\usepackage{subcaption}

\makeatletter
% \def\@IEEEsectpunct{.\ \,}
% \def\paragraph{\@startsection{paragraph}{4}{\z@}{1.5ex plus 1.5ex minus 0.5ex}%
% {0ex}{\normalfont\small\sffamily\itshape \bfseries}}%
% \makeatother

\def\@IEEEsectpunct{.\ \,}
\def\paragraph{\@startsection{paragraph}{4}{\z@}{1.0ex plus 1.ex minus 0.5ex}%
{0ex}{\bfseries}}%
\makeatother


%% customized commands

%\newcommand{\shan}[1]{\textcolor{red!30}{HS: #1}}
\newcommand{\wxc}[1]{\textcolor{brown}{XC: #1}}
\newcommand{\note}[1]{\textcolor{blue}{#1}}
\newcommand{\fixme}[1]{\textcolor{red!50}{FIXME: #1}}
\newcommand{\bycao}{\textcolor{blue}}

% Method related
\newcommand{\methodname}{DEmoFace\xspace}
\newcommand{\taskname}{eF2S\xspace}
\newcommand{\datasetname}{CMC-TED\xspace}
\newcommand{\prototypeloss}{decouple}
\newcommand{\alignmentloss}{align}
\newcommand{\contrastiveloss}{SCL\xspace}
\newcommand{\thresholding}{ATDT\xspace}
\usepackage{enumitem}

\newcommand{\T}{^{\textrm T}} % transpose
% \DeclareMathOperator*{\argmax}{arg\,max}
% \DeclareMathOperator*{\argmin}{arg\,min}
\newcommand{\vct}[1]{\boldsymbol{#1}} % vector
\newcommand{\mat}[1]{\boldsymbol{#1}} % matrix
\definecolor{maroon}{rgb}{0,0,0}
\newcommand{\best}[1]{\textcolor{maroon}{\textbf{#1}}}
\newcommand{\tabincell}[1]{\begin{tabular}[l]{@{}c@{}} #1\end{tabular}}
\newcommand{\addline}[1]{\multicolumn{1}{c|}{#1}}
\newcommand{\std}[1]{\scriptsize{#1}}
\newcommand{\eg}{\textit{e.g.\xspace}}
\newcommand{\ie}{\textit{i.e.\xspace}}
\newcommand{\etal}{\textit{et al.\xspace}}


\newcommand{\mbfQ}{\mathbf{Q}}
\newcommand{\mbfx}{\mathbf{x}}
\newcommand{\mbff}{\mathbf{f}}
\newcommand{\mbfy}{\mathbf{y}}
\newcommand{\mbfz}{\mathbf{z}}
\newcommand{\mbfv}{\mathbf{v}}
\newcommand{\mbfxs}{\mathbf{x}^\text{s}}
\newcommand{\mbfzs}{\mathbf{z}^\text{s}}
\newcommand{\mbfxv}{\mathbf{x}^\text{v}}
\newcommand{\mbfzv}{\mathbf{z}^\text{v}}
\newcommand{\mbfys}{\mathbf{y}^\text{s}}
\newcommand{\mbfyv}{\mathbf{y}^\text{v}}

\newcommand{\mbfZ}{\mathbf{Z}}
\newcommand{\mbfZs}{\mathbf{Z}^\text{s}}
\newcommand{\mbfZv}{\mathbf{Z}^\text{v}}

\newcommand{\mbfxrec}{\mathbf{\hat{\mathbf{x}}}}
\newcommand{\encoder}{\mathcal{E}}
\newcommand{\decoder}{\mathcal{D}}
\newcommand{\encoderS}{\mathcal{E}^\text{s}}
\newcommand{\decoderS}{\mathcal{D}^\text{s}}
\newcommand{\encoderV}{\mathcal{E}^\text{v}}
\newcommand{\decoderV}{\mathcal{D}^\text{v}}
\newcommand{\latent}{z_0}
\newcommand{\fpixel}{F}
\newcommand{\hpixel}{H}
\newcommand{\wpixel}{W}
\newcommand{\cpixel}{3}
\newcommand{\hlatent}{h}
\newcommand{\wlatent}{w}
\newcommand{\clatent}{c}

\newcommand{\lpixel}{L}
\newcommand{\mpixel}{B}
\newcommand{\llatent}{l}
\newcommand{\mlatent}{b}


\newcommand{\Ac}{\mathcal A}
\newcommand{\Bc}{\mathcal B}
\newcommand{\Cc}{\mathcal C}
\newcommand{\Dc}{\mathcal D}
\newcommand{\Ec}{\mathcal E}
\newcommand{\Fc}{\mathcal F}
\newcommand{\Gc}{\mathcal G}
\newcommand{\Hc}{\mathcal H}
\newcommand{\Ic}{\mathcal I}
\newcommand{\Jc}{\mathcal J}
\newcommand{\Kc}{\mathcal K}
\newcommand{\Lc}{\mathcal L}
\newcommand{\Mc}{\mathcal M}
\newcommand{\Nc}{\mathcal N}
\newcommand{\Oc}{\mathcal O}
\newcommand{\Pc}{\mathcal P}
\newcommand{\Qc}{\mathcal Q}
\newcommand{\Rc}{\mathcal R}
\newcommand{\Sc}{\mathcal S}
\newcommand{\Tc}{\mathcal T}
\newcommand{\Uc}{\mathcal U}
\newcommand{\Vc}{\mathcal V}
\newcommand{\Wc}{\mathcal W}
\newcommand{\Xc}{\mathcal X}
\newcommand{\Yc}{\mathcal Y}
\newcommand{\Zc}{\mathcal Z}

% Random vectors
\def\rvepsilon{{\mathbf{\epsilon}}}
\def\rvtheta{{\mathbf{\theta}}}
\def\rva{{\mathbf{a}}}
\def\rvb{{\mathbf{b}}}
\def\rvc{{\mathbf{c}}}
\def\rvd{{\mathbf{d}}}
\def\rve{{\mathbf{e}}}
\def\rvf{{\mathbf{f}}}
\def\rvg{{\mathbf{g}}}
\def\rvh{{\mathbf{h}}}
\def\rvu{{\mathbf{i}}}
\def\rvj{{\mathbf{j}}}
\def\rvk{{\mathbf{k}}}
\def\rvl{{\mathbf{l}}}
\def\rvm{{\mathbf{m}}}
\def\rvn{{\mathbf{n}}}
\def\rvo{{\mathbf{o}}}
\def\rvp{{\mathbf{p}}}
\def\rvq{{\mathbf{q}}}
\def\rvr{{\mathbf{r}}}
\def\rvs{{\mathbf{s}}}
\def\rvt{{\mathbf{t}}}
\def\rvu{{\mathbf{u}}}
\def\rvv{{\mathbf{v}}}
\def\rvw{{\mathbf{w}}}
\def\rvx{{\mathbf{x}}}
\def\rvy{{\mathbf{y}}}
\def\rvz{{\mathbf{z}}}


\usepackage{bm}
% Tensor
\DeclareMathAlphabet{\mathsfit}{\encodingdefault}{\sfdefault}{m}{sl}
\SetMathAlphabet{\mathsfit}{bold}{\encodingdefault}{\sfdefault}{bx}{n}
\newcommand{\tens}[1]{\bm{\mathsfit{#1}}}
\def\tA{{\tens{A}}}
\def\tB{{\tens{B}}}
\def\tC{{\tens{C}}}
\def\tD{{\tens{D}}}
\def\tE{{\tens{E}}}
\def\tF{{\tens{F}}}
\def\tG{{\tens{G}}}
\def\tH{{\tens{H}}}
\def\tI{{\tens{I}}}
\def\tJ{{\tens{J}}}
\def\tK{{\tens{K}}}
\def\tL{{\tens{L}}}
\def\tM{{\tens{M}}}
\def\tN{{\tens{N}}}
\def\tO{{\tens{O}}}
\def\tP{{\tens{P}}}
\def\tQ{{\tens{Q}}}
\def\tR{{\tens{R}}}
\def\tS{{\tens{S}}}
\def\tT{{\tens{T}}}
\def\tU{{\tens{U}}}
\def\tV{{\tens{V}}}
\def\tW{{\tens{W}}}
\def\tX{{\tens{X}}}
\def\tY{{\tens{Y}}}
\def\tZ{{\tens{Z}}}

% Matrix
\def\mA{{\bm{A}}}
\def\mB{{\bm{B}}}
\def\mC{{\bm{C}}}
\def\mD{{\bm{D}}}
\def\mE{{\bm{E}}}
\def\mF{{\bm{F}}}
\def\mG{{\bm{G}}}
\def\mH{{\bm{H}}}
\def\mI{{\bm{I}}}
\def\mJ{{\bm{J}}}
\def\mK{{\bm{K}}}
\def\mL{{\bm{L}}}
\def\mM{{\bm{M}}}
\def\mN{{\bm{N}}}
\def\mO{{\bm{O}}}
\def\mP{{\bm{P}}}
\def\mQ{{\bm{Q}}}
\def\mR{{\bm{R}}}
\def\mS{{\bm{S}}}
\def\mT{{\bm{T}}}
\def\mU{{\bm{U}}}
\def\mV{{\bm{V}}}
\def\mW{{\bm{W}}}
\def\mX{{\bm{X}}}
\def\mY{{\bm{Y}}}
\def\mZ{{\bm{Z}}}
\def\mBeta{{\bm{\beta}}}
\def\mPhi{{\bm{\Phi}}}
\def\mLambda{{\bm{\Lambda}}}
\def\mSigma{{\bm{\Sigma}}}


% Vectors
\def\vzero{{\bm{0}}}
\def\vone{{\bm{1}}}
\def\vmu{{\bm{\mu}}}
\def\vsigma{{\bm{\sigma}}}
\def\vtheta{{\bm{\theta}}}
\def\vepsilon{{\bm{\epsilon}}}
\def\vphi{{\bm{\phi}}}
\def\vmu{{\bm{\mu}}}
\def\va{{\bm{a}}}
\def\vb{{\bm{b}}}
\def\vc{{\bm{c}}}
\def\vd{{\bm{d}}}
\def\ve{{\bm{e}}}
\def\vf{{\bm{f}}}
\def\vg{{\bm{g}}}
\def\vh{{\bm{h}}}
\def\vi{{\bm{i}}}
\def\vj{{\bm{j}}}
\def\vk{{\bm{k}}}
\def\vl{{\bm{l}}}
\def\vm{{\bm{m}}}
\def\vn{{\bm{n}}}
\def\vo{{\bm{o}}}
\def\vp{{\bm{p}}}
\def\vq{{\bm{q}}}
\def\vr{{\bm{r}}}
\def\vs{{\bm{s}}}
\def\vt{{\bm{t}}}
\def\vu{{\bm{u}}}
\def\vv{{\bm{v}}}
\def\vw{{\bm{w}}}
\def\vx{{\bm{x}}}
\def\vy{{\bm{y}}}
\def\vz{{\bm{z}}}

\makeatletter

% Math Define
%%%% Special math symbols
\newcommand{\field}[1]{\mathbb{#1}}
\newcommand{\R}{\field{R}} % real domain
% \newcommand{\C}{\field{C}} % complex domain
\newcommand{\F}{\field{F}} % functional domain
\newcommand{\TN}{^{-\textrm T}} % transpose


\DeclareRobustCommand{\cev}[1]{%
  {\mathpalette\do@cev{#1}}%
}
\newcommand{\do@cev}[2]{%
  \vbox{\offinterlineskip
    \sbox\z@{$\m@th#1 x$}%
    \ialign{##\cr
      \hidewidth\reflectbox{$\m@th#1\vec{}\mkern4mu$}\hidewidth\cr
      \noalign{\kern-\ht\z@}
      $\m@th#1#2$\cr
    }%
  }%
}
