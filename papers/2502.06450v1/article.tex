% !TeX spellcheck = en_US

\documentclass[dvipsnames, 11pt]{article}

\usepackage{geometry}
\geometry{a4paper, margin=2.9cm}

\usepackage[utf8]{inputenc}
\usepackage[english]{babel}
\usepackage{lmodern}
\usepackage{microtype}


\usepackage{amsmath,amsfonts,amssymb}
\usepackage{amsthm}

\usepackage{graphicx}
\usepackage{authblk}
\usepackage{standalone}

\usepackage{hyperref}
\usepackage{xcolor}
\usepackage{standalone}
\usepackage{adjustbox}
\usepackage[capitalise]{cleveref}
\usepackage{thm-restate}

\usepackage[shortlabels]{enumitem}

\usepackage{braket}
\usepackage{wrapfig}



\title{Complete Compositional Syntax for Finite Transducers on Finite and Bi-Infinite Words}

\author{Titouan Carette}
\affil{\href{mailto:titouan.carette@polytechnique.edu}{titouan.carette@polytechnique.edu}\\
  LIX, CNRS, École polytechnique, Institut Polytechnique de Paris, 91120
    Palaiseau, France}

\author{Marc de Visme}
\affil{\href{mailto:marc.de-visme@inria.fr}{marc.de-visme@inria.fr}\\
  Université Paris-Saclay, CNRS, ENS Paris-Saclay, Inria, Laboratoire Méthodes Formelles, 91190 Gif-sur-Yvette, France}

\author{Vivien Ducros}
\affil{\href{vivien.ducros@ens-paris-saclay.fr}{vivien.ducros@ens-paris-saclay.fr}\\
  ENS Paris-Saclay, Université Paris-Saclay, 91190 Gif-sur-Yvette, France}

\author{Victor Lutfalla\footnote{Partially supported by ANR ALARICE (ANR-24-CE48-7504)}}
\affil{\href{victor.lutfalla@math.cnrs.fr}{victor.lutfalla@math.cnrs.fr}\\
  Aix-Marseille Univ, CNRS, I2M, Marseille, France}

\author{Etienne Moutot\footnote{Partially supported by ANR IZES (ANR-22-CE40-0011)}}
\affil{\href{mailto:etienne.moutot@math.cnrs.fr}{etienne.moutot@math.cnrs.fr}\\
CNRS, I2M, Aix-Marseille Université, Marseille, France}


\usepackage{tikzit}
\usepackage{stmaryrd}
\usepackage{etoolbox}
\usepackage{wrapfig}
\usepackage{dsfont} % for the 1

%%%%General macro
\input{dsd.tikzstyles}
\newcommand{\bfup}[1]{\textbf{\textup{#1}}}
\newcommand{\ZZ}{{\mathbb{Z}}}
\newcommand{\NN}{{\mathbb{N}}}

%%%%%Relation macro
\newcommand{\interp}[1]{\llbracket#1\rrbracket}
\newcommand{\blue}[1]{{\textcolor{blue!50!black}{#1}}}
\newcommand{\red}[1]{{\textcolor{red!50!black}{#1}}}
\newcommand{\binterp}[1]{\blue{\left\llbracket \textcolor{black}{#1} \right\rrbracket}}
\newcommand{\rinterp}[1]{\red{\left\llbracket \textcolor{black}{#1} \right\rrbracket}}
\newcommand{\D}{{\mathcal{D}}}
\renewcommand{\L}{{\mathcal{L}}}
\newcommand{\M}{{\mathcal{M}}}
\newcommand{\N}{{\mathcal{N}}}
\renewcommand{\P}{{\mathcal{P}}}
\newcommand{\Pne}{\mathcal{P}_{\neq \varnothing}}
\newcommand{\R}{{\mathcal{R}}}
\newcommand{\bR}{{\blue{\bfup{R}}}}
\newcommand{\rR}{{\red{\bfup{R}}}}
\renewcommand{\S}{{\mathcal{S}}}
\newcommand{\bS}{{\blue{\bfup{S}}}}
\newcommand{\rS}{{\red{\bfup{S}}}}
\newcommand{\T}{{\mathcal{T}}}
\newcommand{\bT}{{\blue{\bfup{T}}}}
\newcommand{\rT}{{\red{\bfup{T}}}}
\newcommand{\U}{{\mathcal{U}}}
\newcommand{\bU}{{\blue{\bfup{U}}}}
\newcommand{\rU}{{\red{\bfup{U}}}}
\newcommand{\V}{{\mathcal{V}}}
\newcommand{\bV}{{\blue{\bfup{V}}}}
\newcommand{\rV}{{\red{\bfup{V}}}}
\newcommand{\one}{{\ensuremath{\mathds{1}}}}
\newcommand{\shift}[2]{\triangleright^{%
		\ifstrempty{#1}%
		{\ifstrempty{#2}{}{#2}}%
		{\ifstrempty{#2}{#1}{#1\mid{}#2}}}}
\newcommand{\id}{\bfup{id}}
\newcommand{\transpose}[1]{#1^{t}}

%%%% Subshift macros
\newcommand{\fact}[1]{\mathrm{Fact}(#1)} %% Factor language
\newcommand{\limlang}[1]{\overrightarrow{#1}} %% limit language
\newcommand{\prun}[1]{\mathrm{Prun}(#1)} %% Pruned language
\newcommand{\closure}[1]{\mathrm{cl}(#1)} %% Closure
\newcommand{\orbit}[1]{\mathcal{O}(#1)} %% orbit
%%%% Subword macro
\newcommand{\internal}[1]{\sqsubseteq_{#1}} %% $u \internal{n} v$ = u is an internal subword of depth n of v
\newcommand{\regularlanguages}{\mathrm{Reg}}
\newcommand{\soficshifts}{\mathrm{Sofic}}
\newcommand{\regularfactorpruned}{\regularlanguages^\mathrm{fc}_\mathrm{p}}


\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}

%
\newtheorem{proposition}[theorem]{Proposition}
\crefname{proposition}{Proposition}{Propositions}

%
\theoremstyle{definition}
\newtheorem{definition}{Definition}[section]
%
\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{example}[theorem]{Example}



% biblio
\usepackage[
backend=biber,
style=alphabetic,
]{biblatex}
\addbibresource{biblio.bib}







\begin{document}

\maketitle

\begin{abstract}
	Minimizing finite automata, proving trace equivalence of labelled transition systems or representing sofic subshifts involve very similar arguments, which suggests the possibility of a unified formalism. We propose finite states non-deterministic transducer as a lingua franca for automata theory, transition systems, and sofic subshifts. We introduce a compositional diagrammatical syntax for transducers in form of string diagrams interpreted as relations. This syntax comes with sound rewriting rules allowing diagrammatical reasoning. Our main result is the completeness of our equational theory, ensuring that language-equivalence, trace-equivalence, or subshift equivalence can always be proved using our rewriting rules.
\end{abstract}

\section{Introduction}
\label{sec:introduction}
\input{introduction.tex}
\section{Relations and their Diagrams}
\label{sec:relations}
\input{relations.tex}
\section{Transducers on Finite Words}
\label{sec:finite}
\input{finite.tex}
\section{Transducers on Bi-Infinite Words}
\label{sec:infinite}
\input{infinite.tex}
\section{Conclusion}
\label{sec:conclusion}
\input{conclusion}


\printbibliography


\clearpage
\appendix
\addtocontents{toc}{\protect\setcounter{tocdepth}{0}}
\section{The Category of Relations}
\label{app:relations}
\input{appendix-relations.tex}
\section{Proofs for Finite Words}
\label{app:finite}
\input{appendix-finite.tex}
\section{Proofs for the Sofic Subshifts}
\label{app:subshifts}
\input{appendix-subshifts}
\section{Proof for Bi-Infinite Words}
\label{app:infinite}
\input{appendix-infinite.tex}


\end{document}
