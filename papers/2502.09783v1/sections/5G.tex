%#############################################################################################
\section{Illustration with 5G}
\label{section:5G}
%#############################################################################################

%\begin{itemize}
%	\item Explain the setup that was used to perform the measurements i.e. the measurements performed at different distances.
%	\item Explain in detail how each evaluation was performed (delay, connection delay, power consumption, etc.) 
%\end{itemize}

As an illustration, we are presenting how these concepts are transforming the design and operation of cellular networks. The evolution of 5G networks introduces architectural changes in the Radio Access Network (RAN) \cite{ghosh20195g} and the Core Network (CN) \cite{rommer20195g} that will have adverse impact on how research infrastructure testbeds are designed as to support a variety of use cases. 

\subsection{Disaggregation of 5G RAN}

The 5G NR \cite{5g-nr-3gpp} defines a fully distributed Radio Access Network (RAN), by breaking traditional radio components into Radio Units (RUs), Distributed Units (DUs), and Centralized Units (CU). On the contrary, 4G provides a small level of disaggregation between Remote Radio Units (RRUs) and the centralized Baseband Units (BBU).

5G RAN has evolved from 4G with significant improvements in capabilities and functionalities. With the usage of a wider range of carrier frequencies that includes part of millimeter wave (mmWave) frequency spectrum, and flexible frame structure with variable number of symbols per subframe, 5G NR can utilize up to 400MHz of bandwidth per carrier. Several platforms exist that implement the 5G stack fully in software. By making use of Software Defined Radios (SDR), such platforms can turn commodity equipment (e.g., with General Purpose Processors) to fully functional base stations. The two most prominent solutions in open source to implement such functionality are: 1) the OpenAirInterface5G platform (OAI) \cite{oai}, and 2) the srsRAN platform \cite{srs-ran}. Both platforms support the basic operations for the 5G NR, though OAI has a wider user base and implements more features, such as disaggregated operation for the RAN, several different supported SDRs, etc. From an architecture perspective, 3GPP Release 15 has introduced CU/DU split (3GPP Option 2 split \cite{functional-splits}) along with a Virtualized RAN architecture.  Splitting the higher layers of 3GPP software stack (SDAP, PDCP and RRC) and lower layers (RLC, MAC and PHY) into separate logical units, known as Centralized Unit (CU), Distributed Unit (DU) and Radio Unit (RU), enables to deploy them at separate locations. Further split of gNB-CU is induced by separation between the Control Plane (CP) and User Plane (UP) named as gNB-CU-CP and gNB-CU-UP. The NG-RAN Network Resource Manager (NRM) \cite{5g-nrm} was designed to enable “separate” provisioning of CU, DU, CU-CP, CU-UP. 

Possible options for decomposition of the RAN environment are studied, resulting in the identification of eight options (3GPP Options 1-8). Building on top of the different disaggregation options, and especially delving into the CP/UP separation (CUPS), Open RAN (O-RAN) architecture defines open and standardized interfaces among the different elements of the disaggregated RAN. Through the use of such standardized interfaces, interoperability of functions between different vendors is made possible, while programmability of the RAN through dedicated interfaces is enabled \cite{o-ran-controller}. O-RAN Alliance is responsible for an additional split of the CU-CP into Radio Intelligence Controller (RIC) and remaining part of CU-CP. O-RAN defines the specifications for interface definitions between CU, DU, RU and RAN intelligent controller (RIC) that can be deployed at the edge of the network. Depending on the operation of the RIC and the programmable functions in the gNB, the RIC can operate in real-time mode ($< 1ms$ latency for programming the different functions, e.g., for Radio Resource Management) or near-real-time/non-real time mode (e.g., for the application and integration of Machine Learning models to the operation of the RAN). The OAI community works closely with the O-RAN ecosystem to ensure interoperability of key interfaces for experimentation with such disaggregated RAN topologies. Moreover, OAI aims for interoperability with upcoming O-RAN compliant radio-units to allow experimental infrastructure initiatives such as SLICES to make use of industry-grade radio solutions.

%Figure: Open-RAN-deployment and programmable interfaces
\begin{figure}[h]
\centering
\includegraphics{././figures/png/Open_RAN_deployment.png}
\caption{Open-RAN deployment and programmable interfaces}
\label{fig:Open-RAN-deployment}
\end{figure}

It is reasonable to presume that the information model in O-RAN, as presented in \Cref{fig:Open-RAN-deployment}, will be the extension of the 3GPP NRM, with additional Managed Element object classes for RIC and possibly with extension of the information models for CU, CU-CP and DU. Similar to the O-RAN programmable interfaces, dedicated solutions for specific platforms exist, that open up the programmability of the RAN functions in practice. For example, the FlexRIC platform (also called as FlexRAN) \cite{flexric,flexran}, developed by Eurecom for OAI, allows the programmability of the OAI RAN in real-time, by exposing a REST interface. The interface can be used for retrieving statistics from the network as well, allowing for the advanced monitoring of the RAN in real-time. The FlexRAN controller is under further extension for becoming compatible with the O-RAN interfaces for programming the network.  Similar to the FlexRAN platform, the SD-RAN  platform developed by the Open Networking Foundation (ONF) is complementing O-RAN’s focus on architecture and interfaces by building and trialing O-RAN compliant open-source components. SD-RAN \cite{onf-sd-ran} is developing a near-real-time RIC (nRT-RIC) and a set of exemplar applications that run on top (xApps) for controlling the RAN. 
Towards integrating all the above efforts for the end-to-end deployment of the cellular network with extended use of virtualized services, the AETHER framework is currently under development by ONF \cite{onf-aether}. AETHER combines three main elements, namely, a control and orchestration interface to the RAN, an edge cloud platform (the AETHER edge), with support for cloud computing APIs, and a central cloud (the AETHER core), for orchestration and management. The AETHER project integrates several ONF efforts, including SD-RAN, ONOS\cite{berde2014onos}, CORD \cite{peterson2016central} and OMEC \cite{onf-omec}, for providing a fully-fledged solution for the deployment of the cellular network in an end-to-end manner. 

\Cref{tab:open-source-frameworks} lists out different open-source frameworks and projects that can be utilized to implement RAN and MEC infrastructure.

% Table lists out different open-source frameworks and projects that can be utilized to implement RAN and MEC infrastructure.
\input{././tables/open_source_frameworks}

\subsection{Disaggregation of 5G Core}

In 5GC, one of the most important characteristics is the separation of the User Plane (UP) functions from the Control Plane (CP) functions (3GPP TS 23.501 \cite{ts-23501}). UP functions mainly take care of traffic forwarding while the CP functions manage the authentication, network slice selections, etc. The principal advantage of such separation is being able to flexibly scale the CP functions independently on UP functions in case of traffic peak and vice versa. Another benefit lies in the flexibility to separately deploy CP functions so that some functions can be deployed, according to the requirement of the use case, in a centralized datacenter or a distributed one close to the RAN. The flexibility in scaling and deployment makes 5G networks more complex than previous generations of the telecommunication networks.

The Core Network (CN) is the central element of a network that provides services to customers who are connected to the access network. The 5G core network is referred as 5GC, and is an evolved version of EPC (LTE Evolved Packet Core network) as a cloud-native and service-based-architecture (SBA) \cite{arouk20205g}. The main components of the 5GC are the Access and Mobility Function (AMF), Session Management Function (SMF), User Plane Function (UPF), Unified Data Management (UDM), Authentication Server Function (AUSF), Policy Control Function (PCF), Network Exposure Function (NEF), Network Repository Function (NRF) and Network Slicing Selection Function (NSSF). These 5G network functions are cloud-native by design, thanks to the Service Based Architecture (SBA) design of the 5GC. Therefore, their instantiation can take place as Virtual Network Functions (VNFs) or Container Network Functions (CNFs) in any of the available virtualization platforms.

%Figure: Cloud-native instantiation of the 5G Core Network

\begin{figure*}[t]
    \centering
    \includegraphics[width=0.8\textwidth]{././figures/png/Cloud_native_instantiation.png}
	\caption{Cloud-native instantiation of the 5G Core Network}
	\label{fig:Cloud-native-instantiation}
\end{figure*}

The main goal is to adapt the 5GC functions independently when the load increases for any specific service or set of services, which is a major advancement from previous mobile network generations. To promote flexibility and reduce cost, it is possible to adopt COTS hardware at the NFV Infrastructure (NFVI) layer. These hardware resources are managed by open-source Virtual Infrastructure Management (VIM) software such as Openstack \cite{openstack}, OpenVIM \cite{openvim} or Kubernetes \cite{k8s}. The following \Cref{tab:open-source-solution} summarizes the available open-source solutions.

% The following table summarizes the available open-source solutions.
\input{././tables/open_source_solution}

\subsection{Softwarization, orchestration, virtualization and programmability}

SDN is designed to make networks more flexible, controllable and agile. As a consequence, SDN enables network control to become directly programmable that makes its ability to provide network virtualization, automation, and create new services on top of virtualized resources. There exists a plethora of open source SDN solutions for mobile networks, including Open Networking Operating System (ONOS), Central Office Rearchitectured as a Datacenter (CORD), O-RAN, Open Network Automation Platform (ONAP) \cite{onap}, AETHER and SD-RAN.

% Key ONF SDN platforms
\begin{figure}[!ht]
    \centering
    \includegraphics[width=\columnwidth]{././figures/png/key_ONF_SDN.png}
	\caption{Key ONF SDN platforms}
	\label{fig:key-ONF-SDN}
\end{figure}

Management and Orchestration (MANO) frameworks \cite{ersue2013etsi} build on top of the network programmability and extended softwarization for network functions, and are being used to meet the agile and flexible management solutions for virtual network services in the 5G and beyond era. There are popular open source NFV MANO projects, namely OSM \cite{osm} and ONAP \cite{onap}.

ETSI introduces the NFV MANO architecture, which comprises three main functional blocks, as further detailed below. MANO is an important component in managing the lifecycle of VNFs (including CFNs and PNFs) and hence managing overall infrastructure with agility and flexibility. The NFV MANO system entities, such as the Network Function Virtualization Orchestrator (NFVO), the Virtual Network Function Manager (VNFM) and the Virtual Infrastructure Manager (VIM), coordinate with each other over well-defined reference points to manage entities such as Network Functions Virtualization Infrastructure (NFVI), VNFs, CNFs, Physical Network Functions (PNFs) and Network Services (NSs). In the context of research testbeds, MANO framework provides efficiency by bringing network functions to several experimenters (tenants/users) at the same time. \Cref{fig:ETSI ENF-MANO architecture} illustrates these blocks with the reference points that connect them.

%Figure: ETSI ENF-MANO architecture
\begin{figure}[!t]
    \centering
    \includegraphics[width=\columnwidth]{././figures/png/ETSI_ENF_MANO_architecture.png}
	\caption{ETSI NFV-MANO architecture}
	\label{fig:ETSI ENF-MANO architecture}
\end{figure}

The three main components of the NFV-MANO architecture are detailed below:
\begin{enumerate}
    \item \textit{Virtual Infrastructure Manager (VIM)} performs controlling mechanisms for the NFV Infrastructure (NFVI) resources within an infrastructure provider. VIM is also responsible for receiving fault measurement and performance information of NFVI resources. Consequently, VIM can supervise NFVI resources allocation to the available VNFs;
    \item \textit{VNF Manager (VNFM)} conducts one or several VNFs and does the lifecycle management of VNFs. VNF lifecycle management involves establishing/configuring, preserving, and terminating VNFs;
    \item \textit{NFV Orchestrator (NFVO)} implements resource and service orchestration in the network. NFVO is split up into Resource Orchestrator (RO) and Network Service Orchestrator (NSO). First, the RO collects the current information regarding possible physical and virtual resources of NFVI through the VIM. Following this, the NSO applies a complete lifecycle management of multiple network services. In this way, the NFVO keeps updating the information about the available VNFs running on top of NFVI. As a result, the NFVO can initiate multiple network services. As part of the lifecycle management, the NFVO can also terminate a network service whenever no longer a service request is received for that specific service. In several solutions, NFVO and VNFM are integrated into the MANO section.
\end{enumerate}


Different frameworks have been developed in accordance with the NFV-MANO architecture, mainly aiming at providing fully-fledged solutions for the virtualized services lifecycle management. Such frameworks include multi-tenancy aspects, providing isolated slices of the infrastructure to each tenant, initially aiming at the execution of different vertical services on top of shared 5G infrastructure \cite{multi-tenant}. Such multi-tenancy aspects and isolation of traffic flows between each tenant of the infrastructure can be directly projected to the use of the same testbed infrastructure from multiple users concurrently, while providing guarantees for their performance. In  \Cref{tab:frameworks-for-VNF-lifecycle}, we list the different open source MANO frameworks that are currently widely utilized by the researchers as well as industry players like AT\&T, Telefonica and others. This table also  showcase the comparison between major open-source frameworks for VNF lifecycle management in terms of capabilities, multi-tenancy support, compliance or not with the NFV-MANO architecture, etc.

\input{././tables/frameworks_for_VNF_lifecycle}

% Table 3 below is presented to showcase the comparison between major open-source frameworks for VNF lifecycle management in terms of capabilities, multi-tenancy support, compliance or not with the NFV-MANO architecture, etc.

In the NFV world, containers are an emerging technology and the paradigm is standing between virtual machines and containers now. Containers show high utilization of computing resources and better performance than virtual machines. Multiple containers can be executed on the same host and share the same Operating System (OS) with other containers, each running isolated processes within its own secured space. Because containers share the base OS, the result is being able to run each container using significantly fewer resources than if each was a separate virtual machine (VM). Along with this trend, NFV industry has also been interested in the option of Containerized Network Functions (i.e., CNFs) instead of conventional Virtualized Network Functions (i.e., VNFs) due to its scalability and efficiency for operation and management. CNF-based solutions are also more appropriate for real-time networking functions. For those benefits, various mobile operators are trying to replace conventional VM-based NFV platforms with container-based platforms. 
%As shown in \Cref{fig:Container-vs-Virtual-Machines} below, 
Each VM includes a full copy of an operating system, the application, necessary binaries and libraries - taking up tens of GBs. VMs can be slow to boot, while Containers share the OS kernel with other containers, each running as isolated processes in user space. Containers take up less space than VMs (container images are typically tens of MBs in size), and thus handle more applications. Because they do not include the operating system, containers require fewer system resources and less overhead. They also tend to be faster to start/stop and they are ultra-portable across environments.

% % Figure: Container vs. Virtual Machines
% \begin{figure*}[t]
%     \centering
%     \includegraphics{././figures/png/Container-vs-Virtual-Machines.png}
% 	\caption{Container vs. Virtual Machines}
% 	\label{fig:Container-vs-Virtual-Machines}
% \end{figure*}	

For low-latency use cases, 5G Core Network (CN) and RAN components are motivated to run as Containerized Network Functions (CNFs), instead of VMs in the case of Virtual Network Functions (VNFs), supported by tools like Kubernetes, that can deploy the services directly on bare-metal. Integration with the aforementioned NFVO tools like e.g., OSM is also possible. Open-source projects are moving towards cloud-native design, but until they become a reality, a mix of VNFs and CNFs could be adopted. Edge computing will have requirements for low-latency, cost-efficient infrastructure, secure with AI/ML capabilities. CNFs will be widely considered for the cases of Edge/Fog computing, due to the low complexity and fast instantiation of cloud-native services that can be achieved. However, simply forklifting existing 5G RAN software to a COTS platform is not enough. To realize the value of Cloud RAN, one needs to embrace cloud native architecture. Cloud native architecture facilitates RAN functions to be realized as microservices in containers over bare metal servers, supported by technologies such as Kubernetes. The \Cref{tab:open-source-container-solutions}  lists some of the widely used open-source container solutions.

% Below table lists some of the widely used open-source container solutions.

\input{././tables/open_source_container_solutions}
For high-speed user-plane networking in the 5GC and advanced signal and information processing in the RAN, hardware accelerators are commonly used in industrial solutions to ensure real-time operation. For experimental network deployments, several open solutions in the context of AETHER and OAI can be now be leveraged to integrate P4 \cite{macdavidSOSR2021}, FPGA\cite{kaltenberger2021, oaixilinx2022} or GPU \cite{aerialSDK2022} based hardware accelerators in computing clusters. From a research perspective there are many challenges related to efficiently integrating such solutions with CNFs on generic computing platforms.

\subsection{Multi-access Edge Computing}

MEC (Multi-access Edge Computing)  has been developed as a solution for network operators, enabling the extension of telecommunications infrastructure with servers offering computing resources to users and service providers (including cloud service providers). The relevant standards are developed by the ETSI standardization organization within the ISG MEC (Industry Specification Group on Multi-access Edge Computing) working group. The ETSI MEC solution is now an integral part of the 5G network infrastructure, but it can also be used in LTE networks and other access networks. It should be emphasized that the MEC technique is a significant step in the development of telecommunications infrastructure towards a future, integrated communication and computing infrastructure.

%\begin{figure}[!h]
    %\centering
    %\includegraphics[width=\columnwidth] %{././figures/png/ETSI-MEC-bump-in-the-wire.png}
	%\caption{"Bump in the wire" scenario defining one of the ways to implement the MEC server}
	%\label{fig:ETSI-bump-in-the-wire}
%\end{figure}

Parallel to the standardization work, research is carried out on the specification of mechanisms and algorithms for MEC systems. In particular, as part of projects related to the implementation of NFV systems or orchestration in cloud systems, working groups were established to implement extensions of these systems and to support the computing technique at the network edge. Examples of such initiatives are: Open NFV Edge \cite{opennfv-edge}, Edge Automation through ONAP \cite{onap-project}, OpenStack Edge \cite{openstack-project}, or LinuxFoundation Edge \cite{lfedge-project}. The solutions proposed by the above projects are usually extensions of the architecture of orchestration systems developed for NFV backbone networks or cloud applications that offer the possibility of orchestrating applications at the edge of the network. Therefore, these solutions are not fully compatible with the ETSI MEC architecture. 

In addition, research projects aimed at developing prototypes of MEC systems fully compliant with ETSI standards have been developed \cite{5gcity-project},\cite{openness-project}. In particular, the SYMEC \cite{symec-project}, implemented an ETSI-compliant MEC platform on the low-energy ARM architecture. 

