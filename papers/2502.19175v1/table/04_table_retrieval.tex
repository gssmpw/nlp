\setlength{\tabcolsep}{0.2pt}
\begin{table}[t]
    \centering
    \scriptsize{%
    \begin{tabular}{lllccccccccccccc}
    \toprule
     & &  & \multicolumn{2}{c}{\textbf{DDxPlus}} & \multicolumn{2}{c}{\textbf{iCraft-MD}} & \multicolumn{2}{c}{\textbf{RareBench}} \\
    \cmidrule(lr){4-5} \cmidrule(lr){6-7} \cmidrule(lr){8-9}
     \textbf{Model}& \textbf{Source}& \textbf{Metric} & \textbf{RAG} & \textbf{Base} & \textbf{RAG} & \textbf{Base} & \textbf{RAG} & \textbf{Base} \\
    \midrule
    \multirow{4}{*}{\textbf{GPT-4o}} 
    & \multirow{2}{*}{\textbf{PubMed}} 
    & \textbf{GTPA@1} & 0.69 & 0.69 & 0.68 & 0.68 & 0.45 & 0.39 \\
    %& & \textbf{GTPA@3} & 0.88 & 0.88 & 0.77 & 0.76 & 0.60 & 0.58 \\
    & & \textbf{GTPA@5} & 0.90 & 0.90 & 0.79 & 0.77 & 0.72 & 0.72 \\
    %& & \textbf{GTPA@10} & 0.93 & 0.94 & 0.81 & 0.79 & 0.87 & 0.85 \\
    & & \textbf{Avg Rank} & 2.27 & 2.21 & 3.23 & 3.37 & 3.92 & 3.99 \\
    %& & \textbf{DDR} & 0.48 & 0.49 & - & - & - & - \\
    %& & \textbf{DDP} & 0.43 & 0.43 & - & - & - & - \\
    %& & \textbf{DDF1} & 0.40 & 0.39 & - & - & - & - \\
    \cmidrule{2-9}
    & \multirow{2}{*}{\textbf{Wiki}} 
    & \textbf{GTPA@1} & 0.69 & 0.69 & 0.69 & 0.68 & 0.45 & 0.39 \\
    %& & \textbf{GTPA@3} & 0.88 & 0.88 & 0.77 & 0.76 & 0.58 & 0.58 \\
    & & \textbf{GTPA@5} & 0.90 & 0.90 & 0.79 & 0.77 & 0.74 & 0.72 \\
    %& & \textbf{GTPA@10} & 0.94 & 0.94 & 0.81 & 0.79 & 0.85 & 0.85 \\
    & & \textbf{Avg Rank} & 2.24 & 2.21 & 3.22 & 3.37 & 4.00 & 3.99 \\
    %& & \textbf{DDR} & 0.49 & 0.49 & - & - & - & - \\
    %& & \textbf{DDP} & 0.44 & 0.43 & - & - & - & - \\
    %& & \textbf{DDF1} & 0.40 & 0.39 & - & - & - & - \\
    \midrule
    \multirow{4}{*}{\textbf{Llama3.1-70B}} 
    & \multirow{2}{*}{\textbf{PubMed}} 
    & \textbf{GTPA@1} & 0.56 & 0.54 & 0.44 & 0.40 & 0.38 & 0.39 \\
   % & & \textbf{GTPA@3} & 0.77 & 0.74 & 0.56 & 0.56 & 0.62 & 0.59 \\
    & & \textbf{GTPA@5} & 0.79 & 0.78 & 0.63 & 0.64 & 0.75 & 0.77 \\
    %& & \textbf{GTPA@10} & 0.79 & 0.80 & 0.74 & 0.69 & 0.84 & 0.83 \\
    & & \textbf{Avg Rank} & 3.42 & 3.53 & 4.72 & 4.87 & 3.96 & 4.05 \\
    %& & \textbf{DDR} & 0.37 & 0.37 & - & - & - & - \\
    %& & \textbf{DDP} & 0.39 & 0.42 & - & - & - & - \\
    %& & \textbf{DDF1} & 0.33 & 0.34 & - & - & - & - \\
    \cmidrule{2-9}
    & \multirow{2}{*}{\textbf{Wiki}} 
    & \textbf{GTPA@1} & 0.49 & 0.54 & 0.44 & 0.40 & 0.39 & 0.39 \\
    %& & \textbf{GTPA@3} & 0.74 & 0.74 & 0.59 & 0.56 & 0.59 & 0.59 \\
    & & \textbf{GTPA@5} & 0.77 & 0.78 & 0.66 & 0.64 & 0.75 & 0.77 \\
    %& & \textbf{GTPA@10} & 0.81 & 0.80 & 0.72 & 0.69 & 0.83 & 0.83 \\
    & & \textbf{Avg Rank} & 3.60 & 3.53 & 4.71 & 4.87 & 4.09 & 4.05 \\
    %& & \textbf{DDR} & 0.37 & 0.37 & - & - & - & - \\
    %& & \textbf{DDP} & 0.39 & 0.42 & - & - & - & - \\
    %& & \textbf{DDF1} & 0.33 & 0.34 & - & - & - & - \\
    \midrule
    \multirow{4}{*}{\textbf{UltraMedical-70B}} 
    & \multirow{2}{*}{\textbf{PubMed}} 
    & \textbf{GTPA@1} & 0.58 & 0.6 & 0.31 & 0.31 & 0.45 & 0.44 \\
    %& & \textbf{GTPA@3} & 0.68 & 0.73 & 0.37 & 0.38 & 0.65 & 0.63 \\
    & & \textbf{GTPA@5} & 0.7 & 0.76 & 0.38 & 0.39 & 0.71 & 0.7 \\
    & & \textbf{Avg Rank} & 4.63 & 6.55 & 7.08 & 7.01 & 4.2 & 4.47 \\
    \cmidrule{2-9}
    & \multirow{2}{*}{\textbf{Wiki}} 
    & \textbf{GTPA@1} & 0.58 & 0.6 & 0.31 & 0.31 & 0.44 & 0.44 \\
    %& & \textbf{GTPA@3} & 0.68 & 0.73 & 0.38 & 0.38 & 0.64 & 0.63 \\
    & & \textbf{GTPA@5} & 0.7 & 0.76 & 0.39 & 0.39 & 0.7 & 0.7 \\
    & & \textbf{Avg Rank} & 4.38 & 6.55 & 7.01 & 7.01 & 4.25 & 4.47 \\
    \midrule
    \multirow{4}{*}{\textbf{Llama3.1-8B}} 
    & \multirow{2}{*}{\textbf{PubMed}} 
    & \textbf{GTPA@1} & 0.42 & 0.48 & 0.29 & 0.27 & 0.35 & 0.33 \\
    %& & \textbf{GTPA@3} & 0.58 & 0.63 & 0.38 & 0.37 & 0.55 & 0.54 \\
    & & \textbf{GTPA@5} & 0.67 & 0.69 & 0.44 & 0.43 & 0.59 & 0.57 \\
    & & \textbf{Avg Rank} & 4.5 & 5.25 & 6.93 & 7.02 & 5.33 & 5.45 \\
    \cmidrule{2-9}
    & \multirow{2}{*}{\textbf{Wiki}} 
    & \textbf{GTPA@1} & 0.43 & 0.48 & 0.29 & 0.27 & 0.36 & 0.33 \\
    %& & \textbf{GTPA@3} & 0.58 & 0.63 & 0.38 & 0.37 & 0.52 & 0.54 \\
    & & \textbf{GTPA@5} & 0.67 & 0.69 & 0.44 & 0.43 & 0.67 & 0.57 \\
    & & \textbf{Avg Rank} & 4.56 & 5.25 & 6.93 & 7.02 & 4.8 & 5.45 \\
    \midrule
    \multirow{4}{*}{\textbf{UltraMedical3.1-8B}} 
    & \multirow{2}{*}{\textbf{PubMed}} 
    & \textbf{GTPA@1} & 0.27 & 0.33 & 0.19 & 0.27 & 0.21 & 0.22 \\
    %& & \textbf{GTPA@3} & 0.39 & 0.48 & 0.24 & 0.37 & 0.46 & 0.35 \\
    %& & \textbf{GTPA@5} & 0.46 & 0.51 & 0.26 & 0.43 & 0.48 & 0.42 \\
    & & \textbf{Avg Rank} & 6.81 & 6.88 & 8.38 & 7.02 & 6.23 & 7.02 \\
    \cmidrule{2-9}
    & \multirow{2}{*}{\textbf{Wiki}} 
    & \textbf{GTPA@1} & 0.25 & 0.33 & 0.18 & 0.18 & 0.27 & 0.22 \\
    %& & \textbf{GTPA@3} & 0.38 & 0.48 & 0.23 & 0.23 & 0.44 & 0.35 \\
    & & \textbf{GTPA@5} & 0.45 & 0.51 & 0.25 & 0.25 & 0.51 & 0.42 \\
    & & \textbf{Avg Rank} & 6.9 & 6.88 & 8.42 & 8.45 & 6.37 & 7.02 \\
    \bottomrule
    \end{tabular}%
    }
    \caption{Knowledge retrieval module performance with different datasets with varying sources (PubMed, Wikipedia) and methods, aggregated over 100 patients. \cc{what's the difference between RAG and Base (Zero-Shot)?}}
    \label{tab:performance_rag}
\end{table}