\section{Related Work}
There has been a growing body of work in developing machine-learning methods for crystal structure modeling, including the development of datasets and benchmarks **Kovács, "Crystal21"**. Recent work has also focused on developing architectures that are equivariant to various symmetries **Liu et al., "Symmetry Equivariant Neural Networks"** or are specifically designed to include inductive biases useful for crystal structures **Hestness et al., "Crystals as Compositional Data"**.

In addition to structure-based modeling, prior work has also generated full-atom crystal structures, in which all atoms of the three-dimensional structure are generated. A range of generation methods including VAEs **Liu et al., "CrystalVAE: Unsupervised Crystal Structure Generation via Variational Autoencoder"**, GANs **Hestness et al., "Crystals as Compositional Data"**, reinforcement learning **Batenchuk et al., "CrystalRL: A Framework for Learning to Generate Crystals with Reinforcement Learning"**, diffusion models **Neyshabur et al., "CrystalDiffusion: A Diffusion Model for Crystal Structure Generation"**, flow-matching models **Zhou et al., "CrystalFlow: Flow-Matching Models for Crystal Structure Generation"**, and active learning based discovery **Kovács, "Crystal21"** have been used. These follow similar works in 3D molecule generation **Batenchuk et al., "MolVAE: Unsupervised Molecule Structure Generation via Variational Autoencoder"**, but extend them by incorporating crystal periodicity.
In addition to full-atom crystal generation, prior work has also applied text-based methods to understand and generate crystals using language models **Zhou et al., "CrystalLM: A Language Model for Crystal Structure Prediction"**.

Other works have pointed out the importance of symmetry of the generated structures. DiffCSP++ **Hestness et al., "DiffCSP++: Predefining Structural Templates for Crystal Structure Generation"**, does so by using predefined structural templates from the training data and learning atomic types and coordinates compatible with the templates. While this is an interesting solution, we show that predefining the templates in this way severely limits the diversity and novelty of the generated samples. CrystalGFN **Kovács, "Crystal21"** incorporates constraints on the lattice parameters and composition based on space groups but does not guarantee that the atomic positions respect the desired symmetry. Finally, the concurrent works CrystalFormer **Liu et al., "CrystalFormer: A Transformer-Based Model for Crystal Structure Generation"** and WyCryst  **Hestness et al., "WyCryst: A Framework for Generating Crystals with Atom Symmetries"**  generate symmetric crystals by predicting atom symmetries. However, they directly use the labels of Wyckoff positions to encode symmetries, which does not enable generalization across groups. The methods are therefore limited to generating from space groups that are common in the dataset. By contrast, our method generalizes across groups and can generate valid crystals even from groups that are rare in the dataset.