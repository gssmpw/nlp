
% comments
\newif\ifcomment
\commenttrue
%\commenttrue % show comments
%\commentfalse % hide comments
\newcommand{\yigecomment}[1]{\ifcomment\textcolor{blue}{[Yige: #1]}\else\fi}
\newcommand{\yigerevise}[1]{\ifcomment\textcolor{blue}{#1}\else\fi}
\newcommand{\xcrevise}[1]{\ifcomment\textcolor{olive}{#1}\else\fi}
\newcommand{\xccomment}[1]{\ifcomment\textcolor{red}{[Xiangcheng: #1]}\else\fi}

\newcommand{\normcomment}[1]{\ifcomment\textcolor{teaal}{[Norm: #1]}\else\fi}
\newcommand{\yigenote}[1]{\ifcomment\textcolor{cyan}{[Yige's self-note: #1]}\else\fi}
\newcommand{\weinacomment}[1]{\ifcomment\textcolor{orange}{[Weina: #1]}\else\fi}
\newcommand{\bugcomment}[1]{\ifcomment\textcolor{red}{[bug and proposed fix: #1]}\else\fi}


% Change the shape of emph in italic environment
\AtBeginEnvironment{definition}{\renewcommand\eminnershape{\itshape\bfseries}}

\theoremstyle{plain}
\newtheorem{assumption}{Assumption}
\newtheorem{theorem}{Theorem}
% \newtheorem*{theorem*}{Theorem}
% \newtheorem{claim}{Claim}
\newtheorem{lemma}{Lemma}
% \newtheorem{proposition}{Proposition}
% \newtheorem{corollary}{Corollary}
% \newtheorem{conjecture}{Conjecture}


\newtheorem{innercustomcond}{Condition}
\newenvironment{customcond}[1]
  {\renewcommand\theinnercustomcond{#1}\innercustomcond}
  {\endinnercustomcond}


% \theoremstyle{definition}
% \newtheorem{definition}{Definition}

% \newtheorem{condition}{Condition}
% \newtheorem{property}{Property}



\theoremstyle{remark}
\newtheorem{remark}{\textit{Remark}}
\newtheorem*{remark*}{Remark}
% \newtheorem{example}{Example}



%%% -------macros for names ----------
\newcommand{\GoodSet}{\text{Good Set}}
\newcommand{\Goodset}{\text{Good Set}}
\newcommand{\goodset}{\text{good set}}
\newcommand{\setdashexpansion}{\text{set-expansion}}
\newcommand{\setexpansion}{\text{set expand}}

%%% -------Basic notation-------------
\renewcommand{\d}{\mathop{}\!\mathrm{d}}
\newcommand{\norm}[1]{\left\lVert#1\right\rVert}
\newcommand{\normplain}[1]{\lVert#1\rVert}
\newcommand{\normbig}[1]{\big\lVert#1\big\rVert}
\newcommand{\normBig}[1]{\Big\lVert#1\Big\rVert}
\newcommand{\E}[1]{\mathbb{E}\left[#1\right]}
\newcommand{\Eplain}[1]{\mathbb{E}[#1]}
\newcommand{\Ebig}[1]{\mathbb{E}\big[#1\big]}
\newcommand{\EBig}[1]{\mathbb{E}\Big[#1\Big]}
\newcommand{\Ebigg}[1]{\mathbb{E}\bigg[#1\bigg]}
\newcommand{\givenplain}{\;|\;}
\newcommand{\givenbig}{\;\big|\;}
\newcommand{\givenBig}{\;\Big|\;}
\newcommand{\givenbigg}{\;\bigg|\;}
\newcommand{\givenmiddle}{\;\middle|\;}
\newcommand{\Var}[1]{\text{Var}{\left[#1\right]}}
\newcommand{\Varbig}[1]{\text{Var}{\big[#1\big]}}
\newcommand{\VarBig}[1]{\text{Var}{\Big[#1\Big]}}
\newcommand{\Probplain}[1]{\mathbb{P}[#1]}
\newcommand{\Probbig}[1]{\mathbb{P}\big[#1\big]}
\newcommand{\ProbBig}[1]{\mathbb{P}\Big[#1\Big]}
\newcommand{\Prob}[1]{\mathbb{P}\left[#1\right]}
\newcommand{\R}{\mathbb{R}}
% \newcommand{\Z}{\mathbb{Z}}
\newcommand{\indibrac}[1]{\mathbbm{1}\!\left\{#1\right\}}
\newcommand{\indibracbig}[1]{\mathbbm{1}\!\big\{#1\big\}}
\newcommand{\indibracBig}[1]{\mathbbm{1}\!\Big\{#1\Big\}}
\newcommand{\abs}[1]{\left\lvert#1\right\rvert}
\newcommand{\absplain}[1]{\lvert#1\rvert}
\newcommand{\absbig}[1]{\big\lvert#1\big\rvert}
\newcommand{\absBig}[1]{\Big\lvert#1\Big\rvert}
\newcommand{\Thebrac}[1]{\Theta\left(#1\right)}
\newcommand{\obrac}[1]{o\left(#1\right)}
\newcommand{\Obrac}[1]{O\left(#1\right)}
\newcommand{\wbrac}[1]{\omega\left(#1\right)}
\newcommand{\Wbrac}[1]{\Omega\left(#1\right)}
\newcommand{\ceil}[1]{\left\lceil#1\right\rceil}
\newcommand{\floor}[1]{\left\lfloor#1\right\rfloor}
\newcommand{\floorBig}[1]{\Big\lfloor#1\Big\rfloor}
\newcommand{\ve}[1]{\bm{#1}}
\newcommand{\vzero}{\ve{0}}
\newcommand{\vun}{\ve{e}}
\newcommand{\vone}{\mathbbm{1}}



\newcommand{\cX}{\mathcal{X}}
\newcommand{\mx}{\bm{x}}

\newcommand{\ves}{\ve{s}}
\newcommand{\veS}{\ve{S}}
\newcommand{\vea}{\ve{a}}
\newcommand{\veA}{\ve{A}}
\newcommand{\sspa}{\mathbb{S}}
\newcommand{\aspa}{\mathbb{A}}

\newcommand{\sumN}{\sum_{i\in[N]}}
\newcommand{\sumell}{\sum_{\ell=0}^\infty}
\newcommand{\supell}{\sup_{\ell\in\mathbb{N}}}
\newcommand{\sumsa}{\sum_{s\in\sspa, a\in\aspa}}
\newcommand{\sums}{\sum_{s\in\sspa}}
\newcommand{\sumk}{\sum_{k\in[K]}}
\newcommand{\maxk}{\max_{k\in[K]}}
\newcommand{\maxmp}{\max_{m'\in[0,1]_N\colon m'\leq m}}

\newcommand{\rel}{\textup{rel}} % relaxation
\newcommand{\rmax}{r_{\max}}
\newcommand{\qmax}{g_{\max}}

\newcommand{\ravg}{R}
\newcommand{\rsysn}{\ravg(\pi, \veS_0)}
\newcommand{\rliminf}{\ravg^{-}(\pi, \veS_0)}
\newcommand{\rlimsup}{\ravg^{+}(\pi, \veS_0)}
\newcommand{\ropt}{\ravg^*(N)}
\newcommand{\rrel}{\ravg^\rel}

\newcommand{\btotal}{\alpha N}%{B_{\textup{total}}}
\newcommand{\bsub}{B}

\newcommand{\pibar}{{\sysbar{\pi}}}
\newcommand{\pibs}{{\pibar^*}}
%\newcommand{\lppriority}{\textup{LP-Priority}}
\newcommand{\lppriority}{\textup{Optimal Local Control}}
\newcommand{\piavg}{\widetilde{\pi}}
\newcommand{\syshat}[1]{\widehat{#1}}
\newcommand{\sysbar}[1]{\bar{#1}}

\newcommand{\intv}{\mathcal{I}}
\newcommand{\brq}{C}
\newcommand{\simplex}{\Delta}
% \newcommand{\threshbig}{N_{\pibar}}
\newcommand{\thresh}{\eta}
\newcommand{\threshbar}{\overline{\eta}}
\newcommand{\trankernel}{\Phi}
\newcommand{\insuffb}{C_>}
\newcommand{\distance}{h}
\newcommand{\distmax}{\bar{h}}
\newcommand{\rhoBudget}{\beta}
\newcommand{\rhoMargin}{\rho_1}
\newcommand{\rhoContr}{\rho_2}
\newcommand{\stepContr}{\kappa}
\newcommand{\xvar}{\sigma}
\newcommand{\driftvar}{\sigma'}
\newcommand{\gridset}{[0,1]_N}

\newcommand{\sempty}{S^{\emptyset}}

% \newcommand{\setbelow}[2]{{#1}_{\leq #2}}
% \newcommand{\setbelow}[2]{[N#2]}
% \newcommand{\setnm}[1]{[N#1]} % same as setbelow
\newcommand{\costvec}{c_\pibs}
\newcommand{\wnsqrt}{\norm{\wmat}_2^{1/2}}  % a quantity that frequently arises with \wmat-weighted L2 norm.

\newcommand{\Vsimp}{V_{\textup{ID}}}
\newcommand{\mcrs}{m_c}
\newcommand{\mlow}{\underline{m}}
\newcommand{\Mcrs}{M_c}
\newcommand{\Ngood}{N^\pibs_t}
\newcommand{\md}{m_d}
\newcommand{\Md}[1]{N\md(x)}

\newcommand{\statdist}{\mu^*} % stationary distribution over states. 
% \newcommand{\zmNoise}{\xi} % zero mean noise

\newcommand{\rhobar}{\bar{\rho}}
%
\newcommand{\wmat}{W}
\newcommand{\umat}{U}
\newcommand{\dynset}{D}
\newcommand{\dynsetr}{D}
% \newcommand{\xsetspace}{\mathcal{XD}}
% \newcommand{\constVnoise}{K_\textup{noise}}
% \newcommand{\constVset}{K_{\textup{set}}}
\newcommand{\ratiocw}{K_{c/h}} 
% \newcommand{\constDrift}{K_{\textup{drift}}}
% \newcommand{\constDist}{K_{\textup{dist}}}
\newcommand{\liph}{L_h}
\newcommand{\constConf}{K_{\textup{conf}}}
\newcommand{\constMonoA}{K_{\textup{monoA}}}
\newcommand{\constMonoB}{K_{\textup{monoB}}}
\newcommand{\lipCovAB}{L_\textup{covAB}}
\newcommand{\lipCovA}{L_\textup{covA}}
\newcommand{\lipCovB}{L_\textup{covB}}
\newcommand{\constCovAB}{K_\textup{covAB}}
\newcommand{\constCovA}{K_{\textup{covA}}}
\newcommand{\constCovB}{K_{\textup{covB}}}
\newcommand{\rhov}{\rho_V}
\newcommand{\Kv}{K_V}

\newcommand{\hw}{h_\wmat}
\newcommand{\hid}{h_{\textnormal{ID}}}
\newcommand{\hu}{h_\umat}
\newcommand{\SE}{\textnormal{SE}}
\newcommand{\lamw}{\lambda_\wmat}
\newcommand{\lamu}{\lambda_\umat}
\newcommand{\rhow}{\rho_{w}}
\newcommand{\rhou}{\rho_{u}}
\newcommand{\lipw}{L_{\wmat}}
\newcommand{\lipu}{L_{\umat}}

\newcommand{\Da}{D^{\pibs}}
\newcommand{\Db}{D^{\textup{OL}}}
\newcommand{\Dtemp}{\Db_{\textup{temp}}}

\newcommand{\Ltemp}{L}



\newcommand{\I}{\mathcal{I}}
\newcommand{\ID}{\textnormal{ID}}
\newcommand{\newID}{\text{newID}}
% \newcommand{\rel}{\textnormal{rel}}
\newcommand{\cardA}{\lvert\aspa\rvert}
\newcommand{\cardS}{\lvert\sspa\rvert}

\newcommand{\specrad}{\gamma_{\rho}}
\newcommand{\conf}{\text{conf}}
\newcommand{\mono}{\text{mono}}
\newcommand{\cov}{\text{cov}}

\newcommand{\tempm}{q}

\newcommand{\rembud}{\overline{C}^*} % remaining budget
\newcommand{\costIDreassign}{\delta} % a feasible threshold for cost
\newcommand{\gsizeIDreassign}{d} % a feasible group size in the ID reassignment algorithm