The user study shows that \textsc{WhatELSE} effectively helps users create engaging interactive narratives by enhancing both authorial control and player engagement through efficient narrative space editing. To validate the technical pipeline driving the transformation between narrative outline and instances, we conducted technical evaluations focusing on effectiveness in 1) generating the outline from instances and 2) generating instances from an outline.



\subsection{From Narrative Instances to Narrative Outline}

\presentation{\textsc{WhatELSE} provides an abstraction ladder with different levels of abstraction to generate an outline from instances using a prompting pipeline.} To examine the effectiveness of the pipeline, we employ two lexical-level measures, {\em concreteness rate}, and {\em imageability score}.  Both measures are adapted from large-scale crowdsourced annotations in previous studies that have been widely used in linguistic evaluations ~\cite{wilson1988mrc,brysbaert2014concreteness}. \evaluation{Both scores are lexicon-based, with each word assigned an averaged score from a batch of crowdsourced annotations; for each outline, we calculate the average score across all words in this outline, excluding stop words.} Intuitively, a higher concreteness rate indicates that the wording is more concrete and specific, corresponding to a lower level of abstraction. A lower imageability score suggests that the wording allows greater room for interpretation, corresponding to a higher level of abstraction. 

\presentation{We generated outlines for a sample of 100 stories from the Fairytale dataset~\cite{xu2022fantastic} at three different levels of abstraction (scene, sequence, and act level).} We reported the concreteness rate and imageability score of the generated outlines in Table ~\ref{tech_eval:abstraction_ladder}. The results show that our method effectively produces outlines at three distinct levels of abstraction, with significant differences in the lexical measures between each pair of abstraction levels. This demonstrates the system's ability to define narrative spaces with varying degrees of constraint.

%This demonstrates the systemâ€™s ability to facilitate creators' control over varying degrees of narrative variation within the outlined narrative space.


% our system helps users generate outlines based on a linear story. Practically, we designed the prompt template to help users generate outlines with three different levels of abstractions on a linear story. We evaluated the capability of our designed prompting on the public Fairytale dataset, from which we sampled 100 stories and used our prompts to generate outlines of the stories at the three levels of abstraction that we proposed (i.e., scene level, sequence level, act level). We use two lexical measures, concreteness rate, and imaginability score to evaluate the levels of abstraction of generated outlines. Both measures are from large-scale crowdsourced annotations collected previously on English writings. Intuitively, higher concreteness rate means the wording used in the outline makes it more concrete and specific, thus less abstraction. Meanwhile, higher imaginability score indicates the wording of the text leaves larger room for readers to imagine, subsequently a higher abstraction level. The measured levels of abstraction of generated outlines using our prompts are reported in Tab ~\ref{tech_eval:abstraction_ladder}. We can see that our prompts are capable of providing outlines at three different levels of abstraction, with momentum measures significantly differing between each pair of two levels of abstraction.



\begin{table}[h]

\small
% \resizebox{\linewidth}{!}{
\begin{tabular}{c|c|c|c}
% \Large
\toprule




%\thead{\textbf{Experiment}/ \\ Independent Var} 
\multirow{2}{*}{\textbf{Measurement}}
& \multicolumn{3}{c}{\textbf{Abstraction Level }} 
% {\thead{\textbf{ Exp 1:} \\ $y = $ Final Accuracy}} &
% {\thead{\textbf{ Exp 2:} \\ $y = $ Peer Accuracy}} &  {\thead{\textbf{ Exp 3:} \\ $y = $ Final Accuracy}}

%&  \textbf{Prob. of Superiority}
\\
\cline{2-4}
 & \textbf{Scene Level}  & \textbf{Sequence Level} & \textbf{Act Level}
\\
\midrule

Concreteness Rate & $3.56\pm 0.05$ & $3.09\pm0.06$  & $2.95\pm 0.06$ 
\\

% Peer Accuracy ($\beta_1$) & & &  $1.88^{***}$
% \\
% array([497.32914428, 453.64683276, 438.91406737])
% np.array(img_mat).std(axis=0)
% array([22.82068827, 32.41856082, 34.1765820


Imageability Score & $497.33\pm{22.82}$ & $453.64\pm{32.42}$ & $438.91\pm{34.17}$
\\

\bottomrule
\end{tabular}
% }
\vspace{2pt}
\caption{Measured abstraction level of the generated outline plot using the proposed prompt pipeline employed in Abstraction Ladder, to generate outline with distinct levels of abstraction from narrative examples. A lower concreteness rate and imageability score indicate the text is more abstract at the lexical level.}
\label{tech_eval:abstraction_ladder}
% \vspace{-25pt}
\end{table}


% \begin{table}[h]
% \begin{tabular}{|c|c|c|c|}
% \hline
% Abstraction Level   & Secne Level & Sequence Level & Act Level \\ \hline
% Concreteness Rate   &  $3.56\pm 0.05$           &  $3.09 \pm 0.06$               &    $2.95 \pm 0.06$        \\ \hline
% Imaginability Score &             &                &           \\ \hline
% \end{tabular}
% \caption{Evaluation results of abstraction ladder}
% \label{tech_eval:abstraction_ladder}

% \end{table}

%\noindent \textbf{Narrative Space Feedback}

\begin{table*}[ht]

% \small
% \resizebox{\linewidth}{!}{
\begin{tabular}{c|c|c|c|c}
% \Large
\toprule




%\thead{\textbf{Experiment}/ \\ Independent Var} 
\multirow{2}{*}{\textbf{Measurement}}
& \multicolumn{2}{c|}{\textbf{Human-generated Outline}} & \multicolumn{2}{c}{\textbf{LLM-generated Outline}} 
% {\thead{\textbf{ Exp 1:} \\ $y = $ Final Accuracy}} &
% {\thead{\textbf{ Exp 2:} \\ $y = $ Peer Accuracy}} &  {\thead{\textbf{ Exp 3:} \\ $y = $ Final Accuracy}}

%&  \textbf{Prob. of Superiority}
\\
\cline{2-5}
 & \textbf{$d_1$}  & \textbf{$d_{macro}$} & \textbf{$d_1$}  & \textbf{$d_{macro}$}
\\
\midrule

% Peer Accuracy ($\beta_1$) & & &  $1.88^{***}$
% \\

\presentation{Proposed IN Compiler} & {$0.65\pm 0.01$}             & $0.78\pm 0.01$  & $0.64\pm 0.01$ & $0.77\pm 0.01$
\\

\presentation{Baseline Prompt-based IN Compiler} & $0.51\pm 0.02$             & $0.63\pm 0.02$  & $0.61\pm 0.02$ & $0.73\pm 0.02$
\\

\bottomrule
\end{tabular}
% }
% \vspace{2pt}
\caption{Measured plot distance by averaged ROUGE-1 distance $d_{1}$ and the macro-averaged ROUGE distance $d_{macro}$ among the plots generated by baseline and our approach. Results show that \textsc{WhatELSE} IN Compiler leads to a larger averaged distance among the plots, and thus a greater diversity of plots within the narrative space.}
\label{tech_eval:plot_diversity}
% \vspace{-25pt}
\end{table*}

\begin{table*}[h]

% \small
% \resizebox{\linewidth}{!}{
\begin{tabular}{c|c|c|c|c}
% \Large
\toprule




%\thead{\textbf{Experiment}/ \\ Independent Var} 
\multirow{2}{*}{\textbf{Method}}
& \multicolumn{4}{c}{\textbf{Measurement}} 

\\
\cline{2-5}
 & \textbf{$d_1$}  & \textbf{$d_{macro}$} & {World-state Change (Neg)}  & {Character Involvement (Pos)}
\\
\midrule

% Peer Accuracy ($\beta_1$) & & &  $1.88^{***}$
% \\

\presentation{Proposed IN Compiler} & {$0.59\pm 0.01$}             & $0.74\pm 0.001$  & $1.00\pm 0.0$ & $1.70\pm 0.37$
\\

\presentation{Baseline Prompt-based IN Compiler} & $0.53\pm 0.01$             & $0.67\pm 0.01$  & $0.85\pm 0.08$ & $1.65\pm 0.41$ 
\\

\bottomrule
\end{tabular}
% }
% \vspace{2pt}
\caption{Measured impact of player action on game plot progression, by (1) averaged pairwise ROUGE-1 distance $d_{1}$ and the macro-averaged ROUGE distance $d_{macro}$ between pairs of the game plots driven by contrasting player actions, and (2) averaged world state change rate driven by the negative player action and the averaged character involvement driven by the positive action. Results show that the contrasting player actions make the proposed approach generate plots with larger pairwise distances. Additionally, in \textsc{WhatELSE} playtime, player actions lead to more stable world-state change and better character involvement than the baseline. }
\label{tech_eval:action_impact}
% \vspace{-25pt}
\end{table*}

\subsection{From Narrative Outline to Narrative Instances}
\presentation{We compared the plot quality generated using our approach with the baseline prompting-based approach (Figure~\ref{baseline})} from two aspects: {\em plot diversity} and {\em player impact}. 


\noindent \textbf{Plot Diversity}\hspace{2mm}  Plot diversity refers to the ability to generate a wide range of different plots within the narrative space. It indicates the level of interactivity and player agency supported by the plot generation method, as it showcases the system's ability to offer varied storylines within the narrative space described by the outline.

To quantitatively assess diversity among a set of $N$ plots generated within the narrative space, we calculate the averaged distance between each plot and the other $N - 1$ plots in the set. We then compute the average distance for each plot relative to the others. For distance calculation, we use the ROUGE score ~\cite{lin2004rouge}, a reference-based evaluation metric that measures text similarity. Adapting from the ROUGE-1 score $r_{1}$ targeting word level and macro averaged ROUGE score $r_{macro}$ measures similarity across multiple levels of wording, we compute the word-level distance $d_{1} = 1 - r_{1}$ and the macro distance $d_{macro} = (1 - r_{macro})$ between plots, respectively. As the ROUGE score indicates similarity between text, a higher averaged distance indicates the greater diversity of plots.

For comparison, we first collected two sets of outlines based on the \presentation{\textit{``Fairytale Forest''} story domain (Figure~\ref{baseline})}. The first set, consisting of 12 outlines, was generated by participants in the user study, each tied to one of two specific morals. Additionally, we developed a set of 50 outlines by prompting an LLM, focusing on various morals within the story domain. We simplify each outline by taking only the first act, resulting in 12 human-generated and 100 LLM-generated single-act outlines. These outlines were then used to guide plot generation without involving player actions, using the proposed narrative planning based approach and the baseline prompt-based approach.

We generated a set of 20 plots with each outline and then calculated the averaged distances $d_{1}$ and $d_{macro}$ among each set of plots. As shown in Table~ \ref{tech_eval:plot_diversity}, our approach generated more diverse plots within the same narrative space, indicating more variety of storylines and stronger player agency.








% Please add the following required packages to your document preamble:
% \usepackage{multirow}
% Please add the following required packages to your document preamble:
% \usepackage{multirow}
% \begin{table}[t]
% \begin{tabular}{|c|cc|cc|}
% \hline
% \multirow{2}{*}{Outline Content} & \multicolumn{2}{c|}{Human-generated Outline}                    & \multicolumn{2}{c|}{LLM-generated Outline}                      \\ \cline{2-5} 
% & \multicolumn{1}{l|}{Rouge 1 Distance} & Averaged Rouge Distance & \multicolumn{1}{l|}{Rouge 1 Distance} & Averaged Rouge Distance \\ \hline
% Prompting                        & \multicolumn{1}{c|}{$0.49\pm 0.02$}             & $0.37\pm 0.02$                    & \multicolumn{1}{c|}{xx}             & 0.34                    \\ \hline
% Gameplot Compiler (Ours)                & \multicolumn{1}{c|}{$0.35\pm 0.01$}             & $0.22\pm 0.007$                    & \multicolumn{1}{c|}{xx}             & 0.44                    \\ \hline
% \end{tabular}
% \caption{Player Impact}
% \label{tech_eval:plot_diversity}
% \end{table}



\noindent \textbf{Player Impact} \presentation{We use the term player impact to refer to the extent to which players' actions meaningfully influence the progression of the plot.} A higher player impact indicates that the narrative is more responsive to player actions, leading to different outcomes and providing a more personalized experience. 

Given a sequence of events ($S$), the following metrics measure the difference between the subsequent events ($S'$) in response to players taking different actions after the leading sequence $S$. 

\begin{itemize}
\item {\bf Subsequent Plot Divergence}\hspace{2mm} We execute a pair of contrasting player actions after $S$, and compare how the following plot progression diverges semantically based on the player's different actions. The contrasting actions are attacking/killing a character (negative action) and seeking help for a character in danger (positive action). This comparison is performed by calculating two types of ROUGE distances. Specifically, the distance is computed pairwisely between the two plots generated after the positive and negative actions. A higher ROUGE distance indicates a greater divergence between the two plots driven by contrasting player actions, thus reflecting their higher impact on the plot progression. 
\item {\bf Perceived World State Change}\hspace{2mm} The metric assesses the perceived alternation of world states caused by the player's actionn in a specific scenario. We execute a player action of killing a character, and count the frequency of the killed character's reappearance in the subsequent plots.
\item {\bf Player Character Involvement}\hspace{2mm} The metric examines whether the player's action increases the player character's involvement in the subsequent events in the plot. We calculate the frequency with which the player's character appears in the plots that follow the positive action of helping a character. This indicates the extent to which the player's actions influence their engagement in the narrative.
\end{itemize}


%Additionally, we take specific measures on the perceived world states change to evaluate perceived impacts of player actions. 
%on the game world and the player's involvement in the plot. 

%For instance, the action of killing a character is intended to prevent that character from appearing in subsequent plots, which may not be the case due to hallucination.

%However, the baseline approach could suffer from hallucination, leading to the reappearance of a supposedly killed character, 
%thereby ignoring the player's impact on the world state. We  


%Practically, we again take the story domain "Fairytale Forest" and a fixed story outline containing two acts for evaluation. 
 %Next, we input the designed positive or negative player actions and use both the prompt-based approach and our approach to generate a batch of 20 game plots following the player action. This process creates 20 pairs of game plots after contrasting player actions generated by each approach. We then calculate the average pairwise distance between plots using two types of ROUGE distance. Additionally, we compute the average change in the world state and player involvement for plots generated after the player's positive and negative actions, respectively. 
We use the \presentation{\textit{``Fairytale Forest''} story domain (Figure~\ref{baseline})} and a fixed story outline containing two acts for evaluation. The player character is set as the dove. To initialize, we generate the plot for the first act in the outline as $S$ and set the world state accordingly. We then execute the designed player actions, and then use our method and the baseline method to generate a batch of 20 plots following each player action to compute the above metrics.

As Table~\ref{tech_eval:action_impact} shows, our approach generates significantly more diverse plots following the player's contrasting actions. Moreover, our approach generates plot with better perceived world state change and character involvement following player's actions. Overall, \presentation{we found that \textsc{WhatELSE} integrates player actions with a higher impact in the narrative generation process.}


% Therefore, 

% capability of an approach to generate a wide range of different game plots based on the same outline. This reflects the core capability of a game plot generation method to offer diverse narrative paths, thereby determining the level of interactivity and freedom available to players within the game.



% \begin{table}[]
% \begin{tabular}{|c|c|c|c|c|}
% \hline
%                   & Pairwise $d_{1}$ & Pairwise $d_{macro}$ & World-state Change (Neg) & Character Involvement (Pos) \\ \hline
% Prompting         & $0.47\pm 0.01$                       & $0.33\pm 0.01$                             & $0.85\pm 0.08$                & $1.65\pm 0.41$                   \\ \hline
% Gameplot Compiler (Ours) & $0.41\pm 0.01$                       & $0.26\pm 0.01$                              & $1.0\pm 0.0$               & $1.7\pm 0.37$                   \\ \hline
% \end{tabular}
% \caption{Impact of Action}
% \label{tech_eval:action_impact}
% \end{table}


