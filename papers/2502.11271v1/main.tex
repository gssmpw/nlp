%%%%%%%% ICML 2025 EXAMPLE LATEX SUBMISSION FILE %%%%%%%%%%%%%%%%%

\documentclass{article}

% Recommended, but optional, packages for figures and better typesetting:
\usepackage{microtype}
\usepackage{graphicx}
\usepackage{subfigure}
\usepackage{booktabs} % for professional tables

% hyperref makes hyperlinks in the resulting PDF.
% If your build breaks (sometimes temporarily if a hyperlink spans a page)
% please comment out the following usepackage line and replace
% \usepackage{icml2025} with \usepackage[nohyperref]{icml2025} above.
\usepackage{hyperref}


% Attempt to make hyperref and algorithmic work together better:
\newcommand{\theHalgorithm}{\arabic{algorithm}}

% % Use the following line for the initial blind version submitted for review:
% \usepackage{icml2025}

% If accepted, instead use the following line for the camera-ready submission:
\usepackage[accepted]{icml2025}

% For theorems and such
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{amsthm}

% if you use cleveref..
\usepackage[capitalize,noabbrev]{cleveref}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% THEOREMS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{assumption}[theorem]{Assumption}
\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark}

% Todonotes is useful during development; simply uncomment the next line
%    and comment out the line below the next line to turn off comments
%\usepackage[disable,textsize=tiny]{todonotes}
\usepackage[textsize=tiny]{todonotes}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Author Commands
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{multirow} 
\usepackage{pifont}
\usepackage{amssymb}
\usepackage{xspace}
\usepackage{siunitx}
\usepackage{colortbl}  % Add this before using \columncolor
\usepackage{tcolorbox}
\usepackage{titletoc} % table of contents
\usepackage{svg}
\usepackage{twemojis}
\usepackage{multicol}

\newcommand{\std}[1]{{\scriptsize\textcolor{gray}{~\raisebox{0.5pt}{$\pm$}#1}}}

\definecolor{ForestGreen}{RGB}{34,139,34}
\newcommand{\COMMENTT}[1]{\textcolor{ForestGreen}{\# \text{#1}}}

\newcommand{\pan}[1]{\textcolor{cyan}{(Pan: #1)}}
\newcommand{\bowen}[1]{\textcolor{magenta}{(Bowen: #1)}}
\newcommand{\sheng}[1]{\textcolor{violet}{(Sheng: #1)}}
\newcommand{\james}[1]{\textcolor{red}{(James: #1)}}
\newcommand{\rahul}[1]{\textcolor{blue}{(Rahul: #1)}}
\newcommand{\joseph}[1]{\textcolor{navy}{(Joseph: #1)}}

\newcommand{\fix}[1]{\textcolor{blue}{#1}}

\newcommand{\command}[1]{\texttt{\textcolor{blue}{#1}}}

\newcommand{\red}[1]{\textcolor{red}{#1}}

\definecolor{darkgreen}{rgb}{0.0,0.5,0.0}
\newcommand{\cmark}{\textcolor{darkgreen}{\ding{51}}}
\newcommand{\xmark}{\textcolor{red}{\ding{55}}}

\newcommand{\vision}{\raisebox{-0.5ex}{\includegraphics[height=1em]{logos/image.png}}}
\newcommand{\calculator}{\raisebox{-0.5ex}{\includegraphics[height=1em]{logos/calculator.png}}}
\newcommand{\knowledge}{\raisebox{-0.5ex}{\includegraphics[height=1em]{logos/search.png}}}
\newcommand{\steps}{\raisebox{-0.5ex}{\includegraphics[height=1em]{logos/list-option.png}}}

% Tools
\newcommand{\base}{\raisebox{-0.5ex}{\includegraphics[height=1em]{logos/hat.png}}}
\newcommand{\www}{\raisebox{-0.5ex}{\includegraphics[height=1em]{logos/www.png}}}
\newcommand{\med}{\raisebox{-0.5ex}{\includegraphics[height=1em]{logos/microscope.png}}}
\newcommand{\code}{\raisebox{-0.5ex}{\includegraphics[height=1em]{logos/edit-code.png}}}
\newcommand{\image}{\raisebox{-0.5ex}{\includegraphics[height=1em]{logos/aperture.png}}}

% GAIA Example
\newcommand{\six}{\raisebox{-0.5ex}{\includegraphics[height=1em]{examples/mm_6.png}}\xspace}
\newcommand{\eight}{\raisebox{-0.5ex}{\includegraphics[height=1em]{examples/mm_8.png}}\xspace}
\newcommand{\fifty}{\raisebox{-0.5ex}{\includegraphics[height=1em]{examples/mm_50.png}}\xspace}
\newcommand{\fiftysix}{\raisebox{-0.5ex}{\includegraphics[height=1em]{examples/mm_50.png}\includegraphics[height=1em]{examples/mm_6.png}}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Author Commands (Models)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\model}{OctoTools\xspace}
\newcommand{\modelbase}{$\text{OctoTools}_\text{base}$\xspace}

\newcommand{\gpt}{GPT-4o\xspace}
\newcommand{\gptmini}{GPT-4o-mini\xspace}

\newcommand{\autogen}{AutoGen\xspace}
\newcommand{\langchain}{LangChain\xspace}
\newcommand{\gptplugin}{GPT-Functions\xspace}

\newcommand{\gptengine}{\texttt{gpt-4o-2024-08-06}\xspace}
\newcommand{\gptminiengine}{\texttt{gpt-4o-mini-2024-07-18}\xspace}

\newcommand{\defaulttool}{\texttt{generalist\_solution\_generator}\xspace}

% Add UTF-8 encoding support
\usepackage[utf8]{inputenc}
\usepackage{CJKutf8}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Author Commands (Tool Metadata)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Define colors for tool metadata boxes
\definecolor{toolcardbox}{RGB}{240, 248, 255} % Light blue background
\definecolor{toolcardborder}{RGB}{52, 52, 173} % Purple border

% Define custom textbox for examples
\newtcolorbox{textbox}[1][]{
    colback=white,
    colframe=toolcardborder,
    arc=1pt,                % small corner rounding
    boxrule=1pt,          % thin rule
    title=#1,               % uses optional argument as title
    fonttitle=\bfseries,
    left=5pt,               % additional space on left
    right=5pt,              % additional space on right
    top=5pt,                % additional space at top
    bottom=5pt,             % additional space at bottom
    before skip=1em,        % vertical skip before the box
    after skip=1em          % vertical skip after the box
}

% Define custom querybox for steps
\definecolor{querybg}{RGB}{245, 245, 245}      % Light gray background
\definecolor{queryframe}{RGB}{64, 64, 64}      % Dark gray frame
\definecolor{querybadge}{RGB}{169, 169, 169}   % Medium gray badge

\newtcolorbox{querybox}[1][]{
    colback=querybg,
    colframe=queryframe,
    arc=4pt,                % small corner rounding
    % boxrule=1pt,          % thin rule
    title=#1,               % uses optional argument as title
    fonttitle=\bfseries,
    left=5pt,               % additional space on left
    right=5pt,              % additional space on right
    top=5pt,                % additional space at top
    bottom=5pt,             % additional space at bottom
    before skip=1em,        % vertical skip before the box
    after skip=1em,          % vertical skip after the box
    colbacktitle=querybadge,  % background of the title (the 'badge')
    coltitle=black              % title text color, if desired
}


% Define custom plannerbox for steps
\definecolor{plannerbg}{RGB}{248, 230, 234}      % Light red-gray background
\definecolor{plannerframe}{RGB}{176, 36, 24}    % Steel red frame
\definecolor{plannerbadge}{RGB}{225, 151, 168}      % Dark red gray badge

\newtcolorbox{plannerbox}[1][]{
    colback=plannerbg,
    colframe=plannerframe,
    arc=4pt,                % small corner rounding
    % boxrule=1pt,          % thin rule
    title=#1,               % uses optional argument as title
    fonttitle=\bfseries,
    left=5pt,               % additional space on left
    right=5pt,              % additional space on right
    top=5pt,                % additional space at top
    bottom=5pt,             % additional space at bottom
    before skip=1em,        % vertical skip before the box
    after skip=1em,          % vertical skip after the box
    colbacktitle=plannerbadge,  % background of the title (the 'badge')
    coltitle=black              % title text color, if desired
}

% Define custom executorbox for steps
\definecolor{executorbg}{RGB}{240, 248, 255} % Light blue background
\definecolor{executorframe}{RGB}{37, 82, 144}    % Steel blue frame
\definecolor{executorbadge}{RGB}{167, 196, 230}      % Dark blue gray badge

\newtcolorbox{executorbox}[1][]{
    colback=executorbg,
    colframe=executorframe,
    arc=4pt,                % small corner rounding
    % boxrule=1pt,          % thin rule
    title=#1,               % uses optional argument as title
    fonttitle=\bfseries,
    left=5pt,               % additional space on left
    right=5pt,              % additional space on right
    top=5pt,                % additional space at top
    bottom=5pt,             % additional space at bottom
    before skip=1em,        % vertical skip before the box
    after skip=1em,          % vertical skip after the box
    colbacktitle=executorbadge,  % background of the title (the 'badge')
    coltitle=black              % title text color, if desired
}

% Define custom answerbox for steps
\definecolor{answerbg}{RGB}{239, 255, 229}      % Light green-tinted background
\definecolor{answerframe}{RGB}{34, 139, 34}     % Forest green frame
\definecolor{answerbadge}{RGB}{182, 200, 108}   % Light green badge

\newtcolorbox{answerbox}[1][]{
    colback=answerbg,
    colframe=answerframe,
    arc=4pt,                % small corner rounding
    % boxrule=1pt,          % thin rule
    title=#1,               % uses optional argument as title
    fonttitle=\bfseries,
    left=5pt,               % additional space on left
    right=5pt,              % additional space on right
    top=5pt,                % additional space at top
    bottom=5pt,             % additional space at bottom
    before skip=1em,        % vertical skip before the box
    after skip=1em,          % vertical skip after the box
    colbacktitle=answerbadge,  % background of the title (the 'badge')
    coltitle=black              % title text color, if desired
}

% Define custom textcolorbox for tool metadata
\newtcolorbox{textcolorbox}[1][]{
    colback=toolcardbox,
    colframe=toolcardborder,
    arc=1pt,                % small corner rounding
    boxrule=1pt,          % thin rule
    title=#1,               % uses optional argument as title
    fonttitle=\bfseries,
    left=5pt,               % additional space on left
    right=5pt,              % additional space on right
    top=5pt,                % additional space at top
    bottom=5pt,             % additional space at bottom
    before skip=1em,        % vertical skip before the box
    after skip=1em          % vertical skip after the box
}

\tcbuselibrary{listings}
\usepackage{listings}


\newtcblisting{codecolorbox}[2][]{%
    colback=toolcardbox,
    colframe=toolcardborder,
    arc=1pt,         % small corner rounding
    boxrule=1pt,     % thin rule
    title=#1,        % first optional argument becomes the box title
    fonttitle=\bfseries,
    listing only,
    listing options={
      language=#2,
      basicstyle=\ttfamily\footnotesize,
      keywordstyle=\color{blue!20!black}\bfseries,
      commentstyle=\itshape\color{green!40!black},
      stringstyle=\color{blue!20!black},
      showstringspaces=false,
      columns=flexible,
      breaklines=true,
      morekeywords={tool_name, tool_description, input_types, output_type, demo_commands, user_metadata}, % Add keywords you want in bold
    },
    left=5pt,
    right=5pt,
    top=-5pt,
    bottom=-5pt,
    % before skip=1em,
    % after skip=1em,
}

\newcommand{\toolinput}[1]{\textbf{Input (#1):}}
\newcommand{\tooloutput}[1]{\textbf{Output (#1):}}

\newtcblisting{answercodebox}{%
    colback=answerbg,
    colframe=white,
    arc=0pt,
    boxrule=0pt,
    listing only,
    listing options={
        language=Python,
        basicstyle=\ttfamily\footnotesize,
        keywordstyle=\color{blue!70!black}\bfseries,
        commentstyle=\itshape\color{green!40!black},
        stringstyle=\color{red!60!black},
        showstringspaces=false,
        columns=flexible,
        breaklines=true,
        inputencoding=utf8,
        extendedchars=true,
        texcl=true,
        escapeinside={(*@}{@*)},  % Define escape characters
    },
    left=0pt,
    right=0pt,
    top=-10pt,
    bottom=-10pt,
}

\newtcblisting{codebox}{%
    colback=toolcardbox,
    colframe=white,
    arc=0pt,
    boxrule=0pt,
    listing only,
    listing options={
        language=Python,
        basicstyle=\ttfamily\footnotesize,
        keywordstyle=\color{blue!70!black}\bfseries,
        commentstyle=\itshape\color{green!40!black},
        stringstyle=\color{red!60!black},
        showstringspaces=false,
        columns=flexible,
        breaklines=true,
        inputencoding=utf8,
        extendedchars=true,
        texcl=true,
        escapeinside={(*@}{@*)},  % Define escape characters
    },
    left=0pt,
    right=0pt,
    top=-10pt,
    bottom=-10pt,
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% End of Author Commands (Tool Metadata)
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% The \icmltitle you define below is probably too long as a header.
% Therefore, a short form for the running title is supplied here:

\icmltitlerunning{\model: An Agentic Framework with Extensible Tools for Complex Reasoning}


\begin{document}

\onecolumn 

\icmltitle{
\texorpdfstring{
\hspace{-2mm}
OctoTools: An Agentic Framework with Extensible Tools for Complex Reasoning\hspace{-2mm}
}{}}

\icmlsetsymbol{equal}{*}
\icmlsetsymbol{lead}{$\dagger$}
\icmlsetsymbol{stanford}{\twemoji{evergreen tree}}

\begin{icmlauthorlist}

\icmlauthor{Pan Lu}{equal,stanford},
\icmlauthor{Bowen Chen}{equal,stanford},
\icmlauthor{Sheng Liu}{equal,stanford},
\icmlauthor{Rahul Thapa}{stanford},
\icmlauthor{Joseph Boen}{stanford},
\icmlauthor{James Zou}{stanford}

\icmlEqualContribution \quad\quad\quad
\twemoji{evergreen tree} Stanford University

% \vspace{1mm}

% \raisebox{-1.0ex}{\includegraphics[height=1.2em]{logos/octotools.png}} \quad 
% \textbf{\url{https://octotools.github.io}}

% \raisebox{-0.4ex}{\includegraphics[height=1em]{logos/octotools.png}}\hspace{0.3em}\textbf{\url{https://octotools.github.io}}

\raisebox{-0.4ex}{\textbf{\texttt{Website:}} \textbf{\url{https://octotools.github.io}}} \vspace{2mm}


\raisebox{-0.4ex}{\includegraphics[height=1em]{logos/github.png}}\hspace{0.3em}\href{https://github.com/octotools/octotools}{Code}\hspace{0.5em} \quad
\raisebox{-0.4ex}{\includegraphics[height=1em]{logos/huggingface.png}}\hspace{0.3em}\href{https://huggingface.co/spaces/OctoTools/octotools}{Demo}\hspace{0.5em} \quad
\raisebox{-0.4ex}{\includegraphics[height=1em]{logos/octotools.png}}\hspace{0.3em}\href{https://octotools.github.io/#tool-cards}{Tool Cards}\hspace{0.5em} \quad
\raisebox{-0.4ex}{\includegraphics[height=1em]{logos/octotools.png}}\hspace{0.3em}\href{https://octotools.github.io/#visualization}{Visualization}
% \raisebox{-0.4ex}{\includegraphics[height=1em]{logos/octotools.png}}\hspace{0.3em}\href{https://octotools.github.io}{Website}

\end{icmlauthorlist}

\icmlcorrespondingauthor{Pan Lu}{panlu@stanford.edu}
\icmlcorrespondingauthor{James Zou}{jamesz@stanford.edu}

\vskip 0.3in

\begin{figure*}[h!]
    \centering
    \vspace{-3mm}
    \includegraphics[width=1.0\textwidth]{figs/framework_overall.pdf}
    \vspace{-6mm}
    \caption{The framework of \model. (1) \emph{Tool cards} define tool-usage metadata and encapsulate tools, enabling training-free integration of new tools without additional training or framework refinement. (2) The \emph{planner} governs both high-level and low-level planning to address the global objective and refine actions step by step. (3) The \emph{executor} instantiates tool calls by generating executable commands and save structured results in the context. The final answer is summarized from the full trajectory in the context. Furthermore, the \textit{task-specific toolset optimization} algorithm learns to select a beneficial subset of tools for downstream tasks. See Figure \ref{fig:model_example} for an example.}
\label{fig:model_framework}
\end{figure*}



\begin{figure}[h!]
\begin{minipage}{0.61\textwidth}
    \centerline{\large\bf Abstract}
\vspace{0.12in} 
\begin{quote}
    Solving complex reasoning tasks may involve visual understanding, domain knowledge retrieval, numerical calculation, and multi-step reasoning. Existing methods augment large language models (LLMs) with external tools but are restricted to specialized domains, limited tool types, or require additional training data. In this paper, we introduce OctoTools, a training-free, user-friendly, and easily extensible open-source agentic framework designed to tackle complex reasoning across diverse domains. OctoTools introduces standardized tool cards to encapsulate tool functionality, a planner for both high-level and low-level planning, and an executor to carry out tool usage. We validate OctoTools' generality across 16 diverse tasks (including MathVista, MMLU-Pro, MedQA, and GAIA-Text), achieving substantial average accuracy gains of 9.3\% over GPT-4o. Furthermore, OctoTools outperforms AutoGen, GPT-Functions and LangChain by up to 10.6\% when given the same set of tools. Through comprehensive analysis and ablations, OctoTools demonstrates advantages in task planning, effective tool usage, and multi-step problem solving.
 \end{quote}
\end{minipage}
\hfill
    \begin{minipage}{0.39\textwidth}
        \centering
        \includegraphics[width=1.0\textwidth]{figs/main_scores_bar_chart.pdf}
        \vspace{-6mm}
        \caption{Performance comparison across 16 benchmarks. Our \model framework achieves an average accuracy gain of 9.3\% over GPT-4o without function plugins and 7.3\% over LangChain, using the same tools under the same configuration.}
        \label{fig:main_scores_bar_chart}
    \end{minipage}
\end{figure}

% \vspace{-5mm}

\printAffiliationsAndNotice{\icmlEqualContribution. 
PL and RT started the project. PL completed the early framework. PL, BC refined the framework. PL, BC, and SL contributed to experiments and paper writing} 

\twocolumn

\input{body}

% In the unusual situation where you want a paper to appear in the
% references without citing it in the main text, use \nocite
% \nocite{langley00}
% \clearpage
\bibliography{ref}
\bibliographystyle{icml2025}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% APPENDIX
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\clearpage
\appendix
\onecolumn

% Create a new ToC for appendix only
\section*{Appendix Contents}
\setcounter{tocdepth}{2}
\renewcommand{\contentsname}{Appendix Contents}
\startcontents[appendix]  % Requires the 'titletoc' package
\printcontents[appendix]{}{1}{}

\input{app}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\end{document}
