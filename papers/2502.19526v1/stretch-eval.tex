\section{\queso{} comparison}


%





% %
% We integrate the \queso{} optimizer into our algorithm as an oracle
% and impose a one second time out for each call.
% %
% We note that \queso{} does not follow the given timeout strictly
% and often takes longer to run and return the result (around $4/5$ seconds per call).

% To evaluate the algorithm,
% we run it with \queso{} and compute the final circuit
% and the overall execution time, excluding time for file I/O (\secref{impl}).
% %
% Then, we execute default \queso{} on the whole circuit for the same total runtime
% and compare the quality of circuits produced.
% %
% For this experiment,
% we filter benchmarks based on their sizes and
% opt for benchmarks whose sizes are less than ten thousand gates.
% %
% This size limitation arises from file I/O overheads which make restrict our ability
% to run larger circuits within reasonable times.

% \figref{comp-queso} shows the results of the evaluation for seven benchmarks
% coming from four families of algorithms.
% %
% The ``QS'' column denotes \queso{} and the ``S'' column represents the \coam{} algorithm
% using \queso{} as the oracle.
% %
% In all cases, the \coam{} approach generates smaller circuits than the baseline \queso{}.
% %
% Similar to the case with \quartz{} (\secref{quartz}),
% we observe that the gap between the \coam{} approach and default \queso{} increases
% with circuit size.
% %
% Foe example,
% in the grover family,
% the ratio of optimization rate between \coam{} and \queso{}
% increases from $1.14$x for grover\_n7 to $1.4$x in grover\_n9.
% %
% For the circuit vqe\_n12,
% which is the largest circuit on the table,
% the final circuit size is $0.78$ times smaller compared to \queso{},
% which demonstrates the scalability of the \coam{} approach.
% %
% On average,
% the algorithm's circuits are $0.92$x smaller than those generated by \queso{}
% and the algorithm makes $1.27$x as many optimizations per second.
% %

\begin{figure*}
  \centering
  \input{fig/prelimqueso.0.01.tex}
  \caption{The figure compares the performance of $\coamt{\quartzt{0.06}}$ against standard \queso{}.
  The label ``S'' represents $\coamt{\quartzt{0.06}}$ and the label ``QS'' represents \queso{}.
  %
  The figure compares the circuit sizes (lower is better) and the optimization rates (higher is better) of both approaches.
  %
  The optimization rate measures the number of optimizations performed per second of execution.
  %
  The figure also shows the improvement factor $QS/S$ for circuit size and $S/QS$ for optimization rate,
  quantifying the improvement achieved by \coam{}.
  %
  The Time column takes the time it takes to run both of them.
  %
  \queso{} sometimes runs longer because its timeout functionality is not very precise.
  %
  }
  \label{fig:comp-low-queso}
\end{figure*}



In this section,
we compare the circuit quality by the \coam{} algorithm with configurations \coamwith{\quartzt{0.06}}
and \coamwith{\quartzt{0.6}} against the standard \queso{} optimizer.
%
Our methodology is the same,
for each configuration we take the running time,
and then execute \queso{} with the same running time.
%

We note that even though \queso{} implements a timeout facility,
it does not adhere to it.
%
We observed that the tool takes an unpredictable amount of time
taking as much as $200$x the given timeout.
%
To address this,
we changed the code in \queso{}, making it check timeouts more eagerly.
%
Though our changes reduced the unpredictability,
there is some difference in the running time with \queso{} running
longer than our algorithm.
%
We note that our algorithm never runs for a larger time.
%

\figref{comp-low-queso} compares the configuration \coamwith{\quartzt{0.06}}
with \queso{}, when given the same timeout.
%
We observe that in three cases \queso{} generates a better quality circuit,
but it also takes more time.
%
In twelve cases, our algorithm generates better quality circuits,
and these cases correspond to larger sized circuits,
showcasing the scalability benefits of our approach.
%
On average, our algorithm generates smaller circuits by a factor of $1.18$x
and its average optimization rate is $5$x compared to \queso{}.
%

\figref{comp-med-queso} similarly compares the configuration  \coamwith{\quartzt{0.06}}.




\begin{figure*}
  \centering
  \input{fig/prelimqueso.0.1.tex}
  \caption{The figure compares the performance of $\coamt{\quartzt{0.6}}$ against standard \queso{}.
  The label ``S'' represents $\coamt{\quartzt{0.06}}$ and the label ``QS'' represents \queso{}.
  %
  The figure compares the circuit sizes (lower is better) and the optimization rates (higher is better) of both approaches.
  %
  The optimization rate measures the number of optimizations performed per second of execution.
  %
  The figure also shows the improvement factor $QS/S$ for circuit size and $S/QS$ for optimization rate,
  quantifying the improvement achieved by \coam{}.
  %
  The Time column takes the time it takes to run both of them.
  %
  \queso{} sometimes runs longer because its timeout functionality is not very precise.
  %
  }
  \label{fig:comp-med-queso}
\end{figure*}
