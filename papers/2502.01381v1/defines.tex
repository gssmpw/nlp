%% Note
\newcommand{\spara}[1]{{\smallskip\noindent{\bf {#1}}}}
\newcommand{\mpara}[1]{{\medskip\noindent{\bf {#1}}}}

%% Standard Tatti Stuff
\newcommand{\set}[1]{\left\{#1\right\}}
\newcommand{\pr}[1]{\left(#1\right)}
\newcommand{\fpr}[1]{\mathopen{}\left(#1\right)}
\newcommand{\spr}[1]{\left[#1\right]}
\newcommand{\fspr}[1]{\mathopen{}\left[#1\right]}
\newcommand{\brak}[1]{\left<#1\right>}
\newcommand{\abs}[1]{{\left|#1\right|}}
\newcommand{\norm}[1]{\left\|#1\right\|}
\newcommand{\enset}[2]{\left\{#1 ,\ldots , #2\right\}}
\newcommand{\enpr}[2]{\pr{#1 ,\ldots , #2}}
\newcommand{\enlst}[2]{{#1} ,\ldots , {#2}}
\newcommand{\vect}[1]{\spr{#1}}
\newcommand{\envec}[2]{\vect{#1 ,\ldots , #2}}
\newcommand{\real}{\mathbb{R}}
\newcommand{\np}{\textbf{NP}}
\newcommand{\zpp}{\textbf{ZPP}}
\newcommand{\apx}{\textbf{APX}}
\newcommand{\naturals}{\mathbb{N}}
\newcommand{\integers}{\mathbb{Z}}
\newcommand{\funcdef}[3]{{#1}:{#2} \to {#3}}
\newcommand{\define}{\leftarrow}
\newcommand{\reals}{{\mathbb{R}}}

\DeclareRobustCommand{\dispfunc}[2]{%
  \ensuremath{%
  \ifthenelse{\equal{#2}{}}%
    {\mathit{#1}}%
    {\mathit{#1}\fpr{#2}}}}

\newcommand{\dens}[1]{\dispfunc{d}{#1}}
\newcommand{\jaccard}[1]{\dispfunc{J}{#1}}
\newcommand{\diff}[1]{\dispfunc{\Delta}{#1}}

\newcommand{\circulation}[1]{\dispfunc{circ}{#1}}
\newcommand{\cg}[1]{\dispfunc{H}{#1}}
\newcommand{\rg}[1]{\dispfunc{R}{#1}}
\newcommand{\score}[1]{\dispfunc{q}{#1}}
\newcommand{\pen}[1]{\dispfunc{p}{#1}}
\newcommand{\tree}[1]{\dispfunc{tree}{#1}}
\newcommand{\dtree}[1]{\dispfunc{d_{t}}{#1}}
\newcommand{\penlin}[1]{\dispfunc{p_l}{#1}}
\newcommand{\pencons}[1]{\dispfunc{p_c}{#1}}
\newcommand{\pensum}[1]{\dispfunc{p_s}{#1}}
\newcommand{\excess}[1]{\dispfunc{ex}{#1}}
\newcommand{\dist}[1]{\dispfunc{d}{#1}}
\newcommand{\dista}[1]{\dispfunc{d'}{#1}}
\newcommand{\spath}[1]{\dispfunc{sp}{#1}}
\newcommand{\bigO}[1]{\dispfunc{\mathcal{O}}{#1}}

\newcommand{\inback}[1]{\dispfunc{ib}{#1}}
\newcommand{\outback}[1]{\dispfunc{ob}{#1}}
\newcommand{\dbackone}[1]{\dispfunc{db_N}{#1}}
\newcommand{\dbacktwo}[1]{\dispfunc{db_P}{#1}}
\newcommand{\back}[1]{\dispfunc{b}{#1}}
\newcommand{\flux}[1]{\dispfunc{flux}{#1}}
%\newcommand{\diffback}[1]{\dispfunc{diff}{#1}}

\newcommand{\adj}[1]{\dispfunc{adj}{#1}}
\newcommand{\opt}[1]{\dispfunc{opt}{#1}}
\newcommand{\lopt}[1]{\dispfunc{o}{#1}}
\newcommand{\gain}[1]{\dispfunc{gain}{#1}}
\newcommand{\tagdic}[1]{\dispfunc{tag_{dic}}{#1}}
\newcommand{\adjlist}[1]{\dispfunc{adj}{#1}}

\newcommand{\find}[1]{\dispfunc{j_1}{#1}}
\newcommand{\gind}[1]{\dispfunc{j_2}{#1}}

\newcommand{\fcind}[1]{\dispfunc{ind_1}{#1}}
\newcommand{\gcind}[1]{\dispfunc{ind_2}{#1}}

\newcommand{\fflow}[1]{\dispfunc{f_1}{#1}}
\newcommand{\gflow}[1]{\dispfunc{f_2}{#1}}

\newcommand{\ftotal}[1]{\dispfunc{tf_1}{#1}}
\newcommand{\gtotal}[1]{\dispfunc{tf_2}{#1}}
\newcommand{\wtotal}[1]{\dispfunc{tw}{#1}}

\newcommand{\fdist}[1]{\dispfunc{d_1}{#1}}
\newcommand{\gdist}[1]{\dispfunc{d_2}{#1}}
%\newcommand{\frdist}[1]{\dispfunc{d_1'}{#1}}
%\newcommand{\grdist}[1]{\dispfunc{d_2'}{#1}}

\newcommand{\problemdts}{\textsc{TDS}\xspace}
\newcommand{\problemdcs}{\textsc{MDS}\xspace}
\newcommand{\problemcdcs}{\textsc{FAT}\xspace}
\newcommand{\problemcdcsm}{\textsc{FDS}\xspace}
\newcommand{\problemcdcsdiff}{\textsc{SDS}\xspace}
\newcommand{\problemfairedge}{\textsc{FEC}\xspace}
\newcommand{\greedy}{\textsc{Greedy}\xspace}
\newcommand{\binary}{\textsc{Binary}\xspace}

\newcommand{\matchprb}{\textsc{3DM-2}\xspace}

\newcommand{\circprb}{\textsc{Capacitated circulation}\xspace}
\newcommand{\uncircprb}{\textsc{Circulation}\xspace}
\newcommand{\fasprb}{\textsc{FAS}\xspace}
\newcommand{\mcutprb}{\textsc{Maximum Cut}\xspace}
\newcommand{\agonyprb}{\textsc{Agony}\xspace}
\newcommand{\genagonyprb}{\textsc{Agony-with-shifts}\xspace}
\newcommand{\relief}{\textsc{Relief}\xspace}
\newcommand{\algrr}{\textsc{rr}\xspace}

\newcommand{\alggrd}{\textsc{SDS-Grd}\xspace}
\newcommand{\alggrdfms}{\textsc{FDS-Grd}\xspace}
\newcommand{\alghard}{\textsc{Hard}\xspace}
\newcommand{\algisJcd}{\textsc{IsConstrained}\xspace}
\newcommand{\algsoftone}{\textsc{Itr}\xspace}
\newcommand{\algsofttwo}{\textsc{Grd}\xspace}
\newcommand{\algipc}{\textsc{FAT-IP}\xspace}
\newcommand{\algipcm}{\textsc{FDS-IP}\xspace}
\newcommand{\algipdcs}{\textsc{MDS-IP}\xspace}
\newcommand{\algipdiff}{\textsc{SDS-IP}\xspace}
\newcommand{\algexact}{\textsc{IP}\xspace}
\newcommand{\alggrdshort}{\textsc{GR}\xspace}

\newcommand{\dentds}{\ensuremath{d_{\mathit{tds}}}\xspace}
\newcommand{\denmds}{\ensuremath{d_{\mathit{mds}}}\xspace}
\newcommand{\denfds}{\ensuremath{d_{\mathit{fds}}}\xspace}
\newcommand{\sbsnorm}{\ensuremath{\sigma_{\mathit{nrm}}}\xspace}


\newcommand{\rhs}{\textsc{rhs}\xspace}
%\newcommand{\minagony}{\textsc{minagony}\xspace}
\newcommand{\canon}{\textsc{canon}\xspace}

%\newcommand{\imp}[1]{\dispfunc{r}{#1}}
\newcommand{\fm}[1]{\mathcal{#1}}
\newcommand{\prob}[1]{p\pr{#1}}
\newcommand{\mean}[2]{\operatorname{E}_{#1}\fspr{#2}}

\newcommand{\efrac}[2]{\scriptscriptstyle\frac{#1}{#2}}
\newcommand{\choosetwo}[1]{{\ensuremath{{#1} \choose 2}}}
\newcommand{\degree}[1]{\dispfunc{\mathrm{deg}}{#1}}
\newcommand{\full}[1]{\ensuremath{{#1}_0}}
\newcommand{\fullwght}[1]{\dispfunc{\wf_0}{#1}}

\newcommand{\dtname}[1]{\textsl{#1}}

\newcommand{\calG}{\ensuremath{{\mathcal G}}}
\newcommand{\calS}{\ensuremath{{\mathcal S}}}
\newcommand{\calC}{\ensuremath{{\mathcal C}}}

% \newcommand{\problemdlc}{\ensuremath{\textsc{DLCS}}}

\newcommand{\problemdlc}{\textsc{JCDS}\xspace}
\newcommand{\problemsoft}{\textsc{JWDS}\xspace}
\newcommand{\prbclique}{\textsc{Clique}\xspace}
\newcommand{\alglb}{\textsc{lb}\xspace}
\newcommand{\alglub}{\textsc{lub}\xspace}
\newcommand{\algcore}{\textsc{Core}\xspace}





%% PGF stuff
\SetKwComment{tcpas}{\{}{\}}
\SetCommentSty{textnormal}
\SetArgSty{textnormal}
\SetKw{False}{false}
\SetKw{True}{true}
\SetKw{Null}{null}
\SetKwInOut{Output}{output}
\SetKwInOut{Input}{input}
\SetKw{AND}{and}
\SetKw{OR}{or}
\SetKw{Break}{break}

\SetKwFor{Until}{until}{do}{}

% \pgfdeclarelayer{background}
% \pgfdeclarelayer{foreground}
% \pgfsetlayers{background,main,foreground}




% \definecolor{yafaxiscolor}{rgb}{0.3, 0.3, 0.3}

\definecolor{yafcolor1}{rgb}{0.4, 0.165, 0.553}
\definecolor{yafcolor2}{rgb}{0.949, 0.482, 0.216}
\definecolor{yafcolor3}{rgb}{0.47, 0.549, 0.306}
\definecolor{yafcolor4}{rgb}{0.925, 0.165, 0.224}
\definecolor{yafcolor5}{rgb}{0.141, 0.345, 0.643}
\definecolor{yafcolor6}{rgb}{0.965, 0.933, 0.267}
\definecolor{yafcolor7}{rgb}{0.627, 0.118, 0.165}
\definecolor{yafcolor8}{rgb}{0.878, 0.475, 0.686}
\definecolor{yafcolor9}{rgb}{0.178, 0.475, 0.686}
\definecolor{yafcolor10}{rgb}{0.878, 0.475, 0.286}

% \tikzstyle{exnode} = [inner sep = 1pt]
% \tikzstyle{labnode} = [sloped, text = black, font = \scriptsize, inner sep = 1pt]
% \tikzstyle{exedge} = [yafcolor5, draw, thick, >=latex, ->]
% \tikzstyle{exedge2} = [yafcolor2, draw, thick, >=latex, ->]



% \newlength{\yafaxispad}
% \setlength{\yafaxispad}{-4pt}
% \newlength{\yaftlpad}
% \setlength{\yaftlpad}{\yafaxispad}
% \addtolength{\yaftlpad}{-0pt}
% \newlength{\yaflabelpad}
% \setlength{\yaflabelpad}{-2pt}
% \newlength{\yafaxiswidth}
% \setlength{\yafaxiswidth}{1.2pt}
% \newlength{\yafticklen}
% \setlength{\yafticklen}{2pt}

% \makeatletter
% \def\pgfplots@drawtickgridlines@INSTALLCLIP@onorientedsurf#1{}
% \makeatother

% \newcommand{\yafdrawxaxis}[2]{
% 	\pgfplotstransformcoordinatex{#1}\let\xmincoord=\pgfmathresult 
% 	\pgfplotstransformcoordinatex{#2}\let\xmaxcoord=\pgfmathresult 
% 	\pgfsetlinewidth{\yafaxiswidth} 
% 	\pgfsetcolor{yafaxiscolor}
% 	\pgfpathmoveto{\pgfpointadd{\pgfpointadd{\pgfplotspointrelaxisxy{0}{0}}{\pgfqpointxy{\xmincoord}{0}}}{\pgfqpoint{-0.5\yafaxiswidth}{\yafaxispad}}}
% 	\pgfpathlineto{\pgfpointadd{\pgfpointadd{\pgfplotspointrelaxisxy{0}{0}}{\pgfqpointxy{\xmaxcoord}{0}}}{\pgfqpoint{0.5\yafaxiswidth}{\yafaxispad}}}
% 	\pgfusepath{stroke}

% }
% \newcommand{\yafdrawyaxis}[2]{
% 	\pgfplotstransformcoordinatey{#1}\let\ymincoord=\pgfmathresult 
% 	\pgfplotstransformcoordinatey{#2}\let\ymaxcoord=\pgfmathresult 
% 	\pgfsetlinewidth{\yafaxiswidth} 
% 	\pgfsetcolor{yafaxiscolor}
% 	\pgfpathmoveto{\pgfpointadd{\pgfpointadd{\pgfplotspointrelaxisxy{0}{0}}{\pgfqpointxy{0}{\ymincoord}}}{\pgfqpoint{\yafaxispad}{-0.5\yafaxiswidth}}}
% 	\pgfpathlineto{\pgfpointadd{\pgfpointadd{\pgfplotspointrelaxisxy{0}{0}}{\pgfqpointxy{0}{\ymaxcoord}}}{\pgfqpoint{\yafaxispad}{0.5\yafaxiswidth}}}
% 	\pgfusepath{stroke}
% }

% \newcommand{\yafdrawaxis}[4]{\yafdrawxaxis{#1}{#2}\yafdrawyaxis{#3}{#4}}

% \pgfplotscreateplotcyclelist{yaf}{% 
% {yafcolor1,mark options={scale=0.75},mark=o}, 
% {yafcolor2,mark options={scale=0.75},mark=square},
% {yafcolor3,mark options={scale=0.75},mark=triangle},
% {yafcolor4,mark options={scale=0.75},mark=o},
% {yafcolor5,mark options={scale=0.75},mark=o},
% {yafcolor6,mark options={scale=0.75},mark=o},
% {yafcolor7,mark options={scale=0.75},mark=o},
% {yafcolor8,mark options={scale=0.75},mark=o}} 

% \pgfplotsset{axis y line=left, axis x line=bottom,
% 	tick align=outside,
% 	compat = 1.3,
% 	tickwidth=\yafticklen,
% 	clip = false,
% 	every axis title shift = 0pt,
%     x axis line style= {-, line width = 0pt, opacity = 0},
%     y axis line style= {-, line width = 0pt, opacity = 0},
%     x tick style= {line width = \yafaxiswidth, color=yafaxiscolor, yshift = \yafaxispad},
%     y tick style= {line width = \yafaxiswidth, color=yafaxiscolor, xshift = \yafaxispad},
%     x tick label style = {font=\scriptsize, yshift = \yaftlpad},
%     y tick label style = {font=\scriptsize, xshift = \yaftlpad},
%     every axis y label/.style = {at = {(ticklabel cs:0.5)}, rotate=90, anchor=center, font=\scriptsize, yshift = -\yaflabelpad},
%     every axis x label/.style = {at = {(ticklabel cs:0.5)}, anchor=center, font=\scriptsize, yshift = \yaflabelpad},
%     x tick label style = {font=\scriptsize, yshift = 1pt},
%     grid = major,
%     major grid style  = {dash pattern = on 1pt off 3 pt},
% 	every axis plot post/.append style= {line width=\yafaxiswidth} ,
% 	legend cell align = left,
% 	legend style = {inner sep = 1pt, cells = {font=\scriptsize}},
% 	legend image code/.code={%
% 		\draw[mark repeat=2,mark phase=2,#1] 
% 		plot coordinates { (0cm,0cm) (0.15cm,0cm) (0.3cm,0cm) };% 
% 	} 
% }
\SetKw{Output}{output}



\newcommand{\floor}[1]{{\left\lfloor#1\right\rfloor}}

\newcommand{\poly}{\textbf{P}}


\DeclareRobustCommand{\dispfunc}[2]{%
	\ensuremath{%
		\ifthenelse{\equal{#2}{}}%
			{\mathit{#1}}%
			{\mathit{#1}\fpr{#2}}}}

\newcommand{\lhood}[1]{\dispfunc{\ell}{#1}}

\newcommand{\rlf}[1]{\dispfunc{rlf}{#1}}
\newcommand{\freq}[1]{\dispfunc{av}{#1}}
\newcommand{\bernoulli}[1]{\dispfunc{Bern}{#1}}
\newcommand{\geom}[1]{\dispfunc{geo}{#1}}
\newcommand{\kl}[1]{\dispfunc{KL}{#1}}
\newcommand{\est}[1]{\dispfunc{\Delta}{#1}}

\newcommand{\rateone}[1]{\dispfunc{r_1}{#1}}
\newcommand{\ratezero}[1]{\dispfunc{r_0}{#1}}

\newcommand{\cost}[1]{\dispfunc{c}{#1}}

\newcommand{\duration}[1]{\dispfunc{\Delta}{#1}}
\newcommand{\cnt}[1]{\dispfunc{c}{#1}}



\newcommand{\findgroups}{\textsc{FindGroups}\xspace}
\newcommand{\findsegments}{\textsc{FindSegments}\xspace}
\newcommand{\findlambda}{\textsc{UpdateLambda}\xspace}

%\newtheorem{theorem}{Theorem}[section]
% \newtheorem{lemma}{Lemma}[section]
% %\newtheorem{proposition}{Proposition}[section]
% \newtheorem{corollary}{Corollary}[section]
% %\newtheorem{definition}{Definition}[section]
% \newtheorem{problem}{Problem}[section]

%\newtheorem{example}{Example}[section]


\SetKw{Break}{break}


\pgfdeclarelayer{background}
\pgfdeclarelayer{foreground}
\pgfsetlayers{background,main,foreground}


\definecolor{yafaxiscolor}{rgb}{0.3, 0.3, 0.3}

\definecolor{yafcolor1}{rgb}{0.4, 0.165, 0.553}
\definecolor{yafcolor2}{rgb}{0.949, 0.482, 0.216}
\definecolor{yafcolor3}{rgb}{0.47, 0.549, 0.306}
\definecolor{yafcolor4}{rgb}{0.925, 0.165, 0.224}
\definecolor{yafcolor5}{rgb}{0.141, 0.345, 0.643}
\definecolor{yafcolor6}{rgb}{0.965, 0.933, 0.267}
\definecolor{yafcolor7}{rgb}{0.627, 0.118, 0.165}
\definecolor{yafcolor8}{rgb}{0.878, 0.475, 0.686}



\newlength{\yafaxispad}
\setlength{\yafaxispad}{-2pt}
\newlength{\yaftlpad}
\setlength{\yaftlpad}{\yafaxispad}
\addtolength{\yaftlpad}{-0pt}
\newlength{\yaflabelpad}
\setlength{\yaflabelpad}{-2pt}
\newlength{\yafaxiswidth}
\setlength{\yafaxiswidth}{1.2pt}
\newlength{\yafticklen}
\setlength{\yafticklen}{2pt}

\makeatletter
\def\pgfplots@drawtickgridlines@INSTALLCLIP@onorientedsurf#1{}
\makeatother


\newcommand{\yafdrawyaxis}[2]{
	\pgfplotstransformcoordinatey{#1}\let\ymincoord=\pgfmathresult 
	\pgfplotstransformcoordinatey{#2}\let\ymaxcoord=\pgfmathresult 
	\pgfsetlinewidth{\yafaxiswidth} 
	\pgfsetcolor{yafaxiscolor}
	\pgfpathmoveto{\pgfpointadd{\pgfpointadd{\pgfplotspointrelaxisxy{0}{0}}{\pgfqpointxy{0}{\ymincoord}}}{\pgfqpoint{\yafaxispad}{-0.5\yafaxiswidth}}}
	\pgfpathlineto{\pgfpointadd{\pgfpointadd{\pgfplotspointrelaxisxy{0}{0}}{\pgfqpointxy{0}{\ymaxcoord}}}{\pgfqpoint{\yafaxispad}{0.5\yafaxiswidth}}}
	\pgfusepath{stroke}
}


\newcommand{\yafdrawaxis}[4]{
	\pgfplotstransformcoordinatex{#1}\let\xmincoord=\pgfmathresult 
	\pgfplotstransformcoordinatex{#2}\let\xmaxcoord=\pgfmathresult 
	\pgfplotstransformcoordinatey{#3}\let\ymincoord=\pgfmathresult 
	\pgfplotstransformcoordinatey{#4}\let\ymaxcoord=\pgfmathresult 
	\pgfsetlinewidth{\yafaxiswidth} 
	\pgfsetcolor{yafaxiscolor}
	\pgfpathmoveto{\pgfpointadd{\pgfpointadd{\pgfplotspointrelaxisxy{0}{0}}{\pgfqpointxy{\xmincoord}{0}}}{\pgfqpoint{-0.5\yafaxiswidth}{\yafaxispad}}}
	\pgfpathlineto{\pgfpointadd{\pgfpointadd{\pgfplotspointrelaxisxy{0}{0}}{\pgfqpointxy{\xmaxcoord}{0}}}{\pgfqpoint{0.5\yafaxiswidth}{\yafaxispad}}}
	\pgfpathmoveto{\pgfpointadd{\pgfpointadd{\pgfplotspointrelaxisxy{0}{0}}{\pgfqpointxy{0}{\ymincoord}}}{\pgfqpoint{\yafaxispad}{-0.5\yafaxiswidth}}}
	\pgfpathlineto{\pgfpointadd{\pgfpointadd{\pgfplotspointrelaxisxy{0}{0}}{\pgfqpointxy{0}{\ymaxcoord}}}{\pgfqpoint{\yafaxispad}{0.5\yafaxiswidth}}}
	\pgfusepath{stroke}
}

\pgfplotscreateplotcyclelist{yaf}{% 
{yafcolor5,mark options={scale=0.75},mark=o}, 
{yafcolor2,mark options={scale=0.75},mark=square},
{yafcolor3,mark options={scale=0.75},mark=triangle},
{yafcolor4,mark options={scale=0.75},mark=o},
{yafcolor1,mark options={scale=0.75},mark=o},
{yafcolor6,mark options={scale=0.75},mark=o},
{yafcolor7,mark options={scale=0.75},mark=o},
{yafcolor8,mark options={scale=0.75},mark=o}} 

\pgfkeys{/pgf/number format/.cd,1000 sep={\,}}

\pgfplotsset{axis y line=left, axis x line=bottom,
	tick align=outside,
	tickwidth=\yafticklen,
	clip = false,
    x axis line style= {-, line width = 0pt, color=black!0},
    y axis line style= {-, line width = 0pt, color=black!0},
    x tick style= {line width = \yafaxiswidth, color=yafaxiscolor, yshift = \yafaxispad},
    y tick style= {line width = \yafaxiswidth, color=yafaxiscolor, xshift = \yafaxispad},
    x tick label style = {font=\small, yshift = \yaftlpad, inner xsep = 0pt},
    y tick label style = {font=\small, xshift = \yaftlpad},
    every axis y label/.style = {at = {(ticklabel cs:0.5)}, rotate=90, anchor=center, font=\small, yshift = -\yaflabelpad, inner sep = 0pt},
    every axis x label/.style = {at = {(ticklabel cs:0.5)}, anchor=center, font=\small, yshift = \yaflabelpad},
    x tick label style = {font=\small, yshift = 1pt},
    grid = major,
    major grid style  = {dash pattern = on 1pt off 3 pt},
	every axis plot post/.append style= {line width=\yafaxiswidth} ,
	legend cell align = left,
	legend style = {inner sep = 1pt, cells = {font=\scriptsize}},
	legend image code/.code={%
		\draw[mark repeat=2,mark phase=2,#1] 
		plot coordinates { (0cm,0cm) (0.15cm,0cm) (0.3cm,0cm) };% 
	} 
}

\newcommand{\pgfprintduration}[1]{%
	\ifthenelse{\equal{#1}{}}{---}{%
	\pgfmathsetmacro{\minutes}{floor(#1 / 60)}%
	\pgfmathsetmacro{\seconds}{#1 - 60*\minutes}%
	\pgfmathifthenelse{\minutes > 0}{"\pgfmathprintnumber{\minutes}m \pgfmathprintnumber[fixed,precision=0]{\seconds}s"}{"\pgfmathprintnumber{\seconds}s"}\pgfmathresult}}
