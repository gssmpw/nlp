\iffalse

\subsection{Optimization}
\label{sec:optimization}
Here, we describe the previous components for the overall optimization.

\begin{algorithm}
\caption{Multi-die and Multi-technology Floorplanning}
\label{alg:optimization}
\begin{algorithmic}[1]%\setstretch{.8}
\Require RTL code of $n$ function blocks, netlist N of blocks, max nets $\#net_{max}$, number of steps $K$
\Ensure Optimized floorplan solution $\mathbf{F}^{opt}$
\State Area list $A \leftarrow \text{ppaModel}(Blocks)$
\State Die assignment $dies \leftarrow \text{initialAssig}(blocks, A)$
\State Floorplan label
\For{each $die \in dies$}
  \State Create the B*-tree representation
  \State Insert dummy blocks
  \While{each $k \in K$}
    \State Perform one step if Floorplan (SA/RL)
    \If{$k \text{mod } 20 = 0$}
      \State Perform a Refinement
    \EndIf
    \If{$objective_{best} - ojbective_{best,i} < \epsilon$}
      \State Remove dummy blocks
      \State \Return Heterogeneous floorplan solution
    \EndIf
  \EndWhile
  \State Remove dummy blocks
  \State \Return Heterogeneous floorplan solution
\EndFor

\State Perform refinement in the multi-die integration


% \Require Initial placement $\mathbf{p}^0$, step size $\eta$, weight $\alpha$, max iterations $j_{max}$
% \Ensure Optimized placement $\mathbf{p}^{opt}$
% \State $\rho_{max} \leftarrow \text{max\_density}(\mathbf{p}^0)$ \Comment{Density of initial placement}
% \State $j \leftarrow 0$ \Comment{Iteration index}
% \While{$j \le j_{max}$}    
%     \If{gradient is sufficiently small}
%         \State \Return{$\mathbf{p}^{opt} \leftarrow \mathbf{p}^{j}$}
%     \EndIf
%        \State $\nabla_f P {\leftarrow} \text{backpropagation}(P(\mathbf{p}^j))$ \Comment{Gradients w.r.t. features}
%        \State $\nabla_f T {\leftarrow} \text{backpropagation}(T(\mathbf{p}^j))$ 
%        \State Compute $\nabla_\mathbf{p}P(\mathbf{p}^j)$ \Comment{Gradients w.r.t. placement}
%        \State Compute $\nabla_\mathbf{p}T(\mathbf{p}^j)$
%   \For{each $v_i \in V_{FF}\cup V_{mc}$} \Comment{Update cell locations}    
%         \State $\nabla_{p_i} \Phi(\mathbf{p}^j) \leftarrow \alpha \nabla_{p_i} P(\mathbf{p}^j) + (1-\alpha) \nabla_{p_i} T(\mathbf{p}^j)$
%         \State $p_i^{k+1} = p_i^k - \eta \cdot 2^{-k_i} \cdot \nabla_{p_i} \Phi(\mathbf{p}^j)$ \Comment{$k_i$ hops from FF}
%   \EndFor 
%   \For{each $b \in B$} \Comment{Enforce density constraint}
%     \State $i \leftarrow 1$ \Comment{Index of cells in $b$}
%     \While{$\rho_b > \rho_{max}$}
%         \State $p_i^{j+1} \leftarrow p_i^{j}$ \Comment{$p_i$ is location of cell $v_i$}
%         \State $i \leftarrow i+1$
%         \State Update $\rho_b$
%     \EndWhile
%   \EndFor
% \EndWhile
% \State \Return{$\mathbf{p}^{opt} \leftarrow \mathbf{p}^{j_{max}}$}
\end{algorithmic}
\end{algorithm}


\fi