


\begin{table*}[ht!]
\centering
\small % Reduce font size
\setlength{\tabcolsep}{4pt} % Reduce horizontal padding if needed
\begin{tabular}{l p{5.5cm} p{5.5cm}}
    \toprule
    \textbf{Dataset} & \textbf{Answerable} & \textbf{Unanswerable} \\
    \midrule
    SQUAD & 
    \textbf{Passage:} The first beer pump known in England is believed to [\dots]. %have been invented by John Lofting (b. Netherlands 1659--d. Great Marlow, Buckinghamshire 1742), an inventor, manufacturer, and merchant of London.
    \newline 
    \textbf{Question:} When was John Lofting born? 
    & 
    \textbf{Passage:} Starting in 2010/2011, Hauptschulen were merged  [\dots]. %with Realschulen and Gesamtschulen to form a new type of comprehensive school  in the German States of Berlin and Hamburg---called Stadtteilschule in Hamburg and Sekundarschule in Berlin (see: Education in Berlin, Education in Hamburg). 
    \newline 
    \textbf{Question:} In what school year were Hauptschulen last combined with Realschulen and Gesamtschulen? \\
    \midrule
    IDK & 
    \textbf{Passage:} Singapore has reported 16 deaths. \newline 
    \textbf{Question:} Where are the deaths? 
    & 
    \textbf{Passage:} Showed the arrest of the prime suspect. \newline 
    \textbf{Question:} Where was the arrest? \\
    \midrule
    BoolQ & 
    \textbf{Passage:} On April 20, 2018, ABC officially renewed \textit{Grey's Anatomy} for a network primetime drama record-tying fifteenth season. \newline 
    \textbf{Question:} Is season 14 the last of \textit{Grey's Anatomy}? 
    & 
    \textbf{Passage:} Discover is the fourth largest credit card brand in the U.S., behind Visa, MasterCard, and American Express, with nearly 44 million cardholders. \newline 
    \textbf{Question:} Are pasilla chiles and poblano chiles the same? \\
    \midrule
    Equation & 
    \textbf{Given equations:} \newline n = 53 \newline v = 90 \newline 
    \textbf{Final equation:} \newline n / v = 
    & 
    \textbf{Given equations:} \newline n = 17 \newline u = 38 \newline 
    \textbf{Final equation:} \newline n * t = \\
    \midrule
    Celebrity & 
    \textbf{Article:} Yesterday, I saw an article about Gerard Butler. They really are a great actor. \newline 
    \textbf{Question:} Do you know what their age is? 
    & 
    \textbf{Article:} Yesterday, I saw an article about Tania Scott. They really are a great actor. \newline 
    \textbf{Question:} Do you know what their age is? \\
    \bottomrule
\end{tabular}
\caption{Answerable and Unanswerable Examples from Different Datasets}
\label{tab:answerability}
\end{table*}




\section{Methodology}
We evaluate SAE probes for answerability detection with a specific focus on  generalization.

\myparagraph{SAE Probes}
We use the "Gemma Scope" SAEs pretrained by \citet{lieberum2024gemma} for the instruction-tuned model Gemma 2 \citep{team2024gemma}, and specifically the largest available ones with a width (number of dimensions) of 131k. \citet{lieberum2024gemma} provide SAEs trained on layers 20 and 31.
%
Note that answerability more generally (i.e., beyond specific types of answerability) is a rather high-level concept, which we assume to be represented in intermediate and later layers.
Unless otherwise specified, we search for features using 2k samples of SQUAD (balanced, leaving 1.8k for testing). We collect the feature activations on the last token position and then use 5-fold cross validation for finding SAE features that are predictive for answerability, thus obtaining 1-sparse SAE probes \citep{gurnee2023finding}.
%Note that the common naming as ``probes'' can be misleading, with these probes there are no parameters to be trained.
We then train final probes\footnote{We use SAE probes and SAE features synonymously.} (i.e., scale and bias) for best performing features, which are used for the out-of-distribution evaluation. See Appendix~\ref{app:prelims} for details. ``Top'' features are selected based on training set performance.




\myparagraph{Baselines: Linear Probes}
We train simple linear residual stream probes on the (in-domain) training dataset we also use for finding the SAE features. To ensure robustness, we employ bootstrap analysis across different training splits. %, revealing significant variability in out-of-distribution generalization [i don't recall if this true anymore]. % VT commented based on comment
Since we also focus on SAE features for the residual stream, this probing represents an upper bound for the SAE probing performance on in-domain data.
Observe that these probes achieve 85-90\% accuracy on the in-domain SQUAD data, and thus provide a strong benchmark for comparison. 

\myparagraph{Datasets}
We focus on context-based question answering in the English language.
%In the main experiments, we train and evaluate on SQUAD \cite{rajpurkar2018know} and additionally
We use established data as well as datasets specifically constructed  for out-of-distribution evaluation; for examples see Table~\ref{tab:answerability}.
%We use two established answerability datasets (BoolQ \cite{} and IDK \cite{}), and create two synthetic specialized datasets (math equations, celebrity names):
\begin{itemize}[leftmargin=*,topsep=0pt,noitemsep]
    \item \textbf{SQUAD} \citep{rajpurkar2018know}: Established dataset, passages plus questions relating to them. %Dataset consisting of a short context passage and a question relating to the context. We follow the training data split and prompting template provided by \citet{slobodkin2023curious}.
    \item \textbf{IDK} \citep{sulem2021we}: Dataset with questions in the style of SQUAD.
    % , containing both answerable and unanswerable examples. We specifically use the non-competitive and unanswerable subsets of the ACE-whQA dataset.
    \item \textbf{BoolQ\_3L} 
    \citep{sulem2022yes}: Context-based yes/no questions. % with answerable and unanswerable subsets.
    \item \textbf{Math Equations}: Synthetic dataset contrasting solvable equations with equations containing unknown variables.
    \item \textbf{Celebrity Recognition}: Context-based queries requiring background knowledge about celebrities; for construction details, see Appendix~\ref{app:datasets}.
    % For construction, we use a public dataset of actors and movies from IMDB\footnote{\url{https://www.kaggle.com/datasets/darinhawley/imdb-films-by-actor-for-10k-actors}}, and generate a list of the 1000 most popular actors after 1990, as measured by the total number of ratings their movies received. We construct an additional dataset of non-celebrity names by randomly generating first and last name combinations using the most common North American names from Wikipedia\footnote{\url{https://en.wikipedia.org/wiki/Lists_of_most_common_surnames_in_North_American_countries} and \url{https://en.wikipedia.org/wiki/List_of_most_popular_given_names?utm_source=chatgpt.com}}. 
\end{itemize}

% For the question-answering datasets (SQUAD, BoolQ, and IDK) we use the following consistent formatting:
%
% \begin{verbatim}
% Given the following passage and question, answer the question:
% Passage: {passage}
% Question: {question}
% \end{verbatim}
%
% For the equation dataset, we construct ...
%
% \begin{verbatim}
% "Given the following equations, determine the result of the final equation.
% Given equations:
% {eq_1}
% {eq_2}
% Final equation:
% {eq_3}"
% \end{verbatim}
%
% For the celebrity dataset, we use a public list of celebrity names from \cite{} and generate additional non-celebrity names using the most common north american first names and last names from wikipedia. 
%
% \begin{verbatim}
% "Yesterday, I saw an article about {name}. They really are a great actor. Do you know what their age is?"
% \end{verbatim}

% \subsection{Generalization Analysis}

% We evaluate generalization through multiple lenses:
% \begin{itemize}
%     \item Cross-dataset performance comparing SQUAD-trained features on out-of-distribution data
%     \item Prompt variation analysis testing robustness to input formatting
%     \item Analysis of using a combination of up to five SAE features 
%     \item Similarity analysis of top-performing SAE features and learned residual stream probes
% %    \item Feature consistency analysis across domains using attribution scores
% %    \item Ablation studies measuring the impact of individual features versus feature combinations
% \end{itemize}
%This approach reveals variance in feature transfer ability---while some SAE features show impressive generalization, others remain strongly domain-specific. Moreover, despite strong in-domain performance, residual stream probes exhibit inconsistent transfer when it comes to generalisation.

% \vt{brief intro sentence, why we choose the feature, compare (only) to regular probes}

% \myparagraph{Hypothesis} 
% % vs probe esp in terms of generalization hold their promise?

% \myparagraph{Datasets} 
% % mainly context-based QA
% % squad, generaliz on ambigqa, boolq, math celeb
% % figure with some prompt example, rest into appendix


% \myparagraph{Methods}  % if we don't have more about method we can rename it to models
% \vt{gemma scope since... , also experimented briefly with llama scope; @lovis anything what we could mention here specifically?}

% \paragraph{Linear probes}

% \lh{
% - Trained on 2000 samples of SQUAD (balanced, leaving 1800 for testing)
% - last token position
% - 5 fold cross validation
% - sweeping over regularization parameters with 26 logarithmically spaced steps between 0.0001 and 1
% - Fitting the final probe with the best regularization parameter on the whole training set
% - Trained probes are then evaluated on OOD datasets
% - Analysis is repeated 10 times with different random training set splits

% }



% \begin{table*}[h]
%     \centering
%     \begin{tabular}{|l|p{6cm}|p{6cm}|}
%         \hline
%         \textbf{Dataset} & \textbf{Answerable} & \textbf{Unanswerable} \\
%         \hline
%         SQUAD & Given the following passage and question, answer the question: \newline \textbf{Passage:} The first beer pump known in England is believed to have been invented by John Lofting (b. Netherlands 1659-d. Great Marlow Buckinghamshire 1742) an inventor, manufacturer and merchant of London.\newline \textbf{Question:} When was John Lofting born? & Given the following passage and question, answer the question:\newline \textbf{Passage:} Starting in 2010/2011, Hauptschulen were merged with Realschulen and Gesamtschulen to form a new type of comprehensive school in the German States of Berlin and Hamburg, called Stadtteilschule in Hamburg and Sekundarschule in Berlin (see: Education in Berlin, Education in Hamburg). \newline \textbf{Question:} In what school year were Hauptschulen last combined with Realschulen and Gesamtschulen?\\
%         \hline
%         IDK & Given the following passage and question, answer the question: \newline \textbf{Passage:} Singapore has reported 16 deaths.\newline \textbf{Question:} Where are the deaths? & Given the following passage and question, answer the question:\newline \textbf{Passage:} Showed the arrest of the prime suspect.\newline \textbf{Question:} Where was the arrest? \\
%         \hline
%         BoolQ & Given the following passage and question, answer the question: \newline \textbf{Passage:} On April 20, 2018, ABC officially renewed Grey's Anatomy for a network primetime drama record-tying fifteenth season.\newline \textbf{Question:} Is season 14 the last of grey's anatomy? & Given the following passage and question, answer the question:\newline \textbf{Passage:} Discover is the fourth largest credit card brand in the U.S., behind Visa, MasterCard and American Express, with nearly 44 million cardholders. \newline \textbf{Question:} Are pasilla chiles and poblano chiles the same?\\
%         \hline
%         Equation & Given the following equations, determine the result of the final equation.\newline \textbf{Given equations}:\newline n = 53\newline v = 90\newline \textbf{Final equation}:\newline n / v = & Given the following equations, determine the result of the final equation.\newline \textbf{Given equations}: \newline n = 17\newline u = 38\newline \textbf{Final equation}:\newline n * t = \\
%         \hline
%         Celebrity & Yesterday, I saw an article about Gerard Butler. They really are a great actor. Do you know what their age is? & Yesterday, I saw an article about Tania Scott. They really are a great actor. Do you know what their age is? \\
%         \hline
%     \end{tabular}
%     \caption{Answerable and Unanswerable Examples from Different Datasets}
%     \label{tab:answerability}
% \end{table*}






