\begin{figure*}
\centering
\begin{lstlisting}[breaklines=true, frame=shadowbox, numbers=left,]
function maximumSubarraySum(nums, k):
    max_sum = -infinity
    prefix_sum = 0
    val_to_min_prefix = empty map  // default value is infinity
    for each num in nums:
        if val_to_min_prefix[num] > prefix_sum:
            val_to_min_prefix[num] = prefix_sum
        prefix_sum += num
        candidate1 = prefix_sum - val_to_min_prefix[num + k]
        candidate2 = prefix_sum - val_to_min_prefix[num - k]
        max_sum = max(max_sum, candidate1, candidate2)
    return max(max_sum, 0)
\end{lstlisting}
\captionof{lstlisting}{Pseudocode converted from \Cref{lst:python-being-wrongly-pseudogen} with errors (line 12) }
\label{lst:pseudo-wrong-condition}
\end{figure*}
