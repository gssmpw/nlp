% This must be in the first 5 lines to tell arXiv to use pdfLaTeX, which is strongly recommended.
\pdfoutput=1
% In particular, the hyperref package requires pdfLaTeX in order to break URLs across lines.

\documentclass[11pt]{article}

% Change "review" to "final" to generate the final (sometimes called camera-ready) version.
% Change to "preprint" to generate a non-anonymous version with page numbers.
\usepackage[preprint]{acl}
\usepackage[most]{tcolorbox}
% Standard package includes
\usepackage{times}
\usepackage{latexsym}

% For proper rendering and hyphenation of words containing Latin characters (including in bib files)
\usepackage[T1]{fontenc}
\usepackage{booktabs}
% For Vietnamese characters
% \usepackage[T5]{fontenc}
% See https://www.latex-project.org/help/documentation/encguide.pdf for other character sets

\renewcommand{\UrlFont}{\ttfamily\small}
\usepackage{hyperref}
\usepackage{booktabs}
\usepackage{multirow}
% \usepackage{graphicx}
% \graphicspath{{./imgs/}}
\usepackage{footmisc}
% This is not strictly necessary, and may be commented out,
% but it will improve the layout of the manuscript,
% and will typically save some space.
\usepackage{microtype}
% \usepackage[protrusion=false,patches=none]{microtype}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{tablefootnote}
\usepackage{float}
\usepackage{url}
\usepackage[T1]{fontenc}

\usepackage{amsmath}
\usepackage{mathtools}
\usepackage{times}
\usepackage{latexsym}
\usepackage{textcomp}
\usepackage{tikz}
\usepackage{pgfplots}
% \usepackage{pgfplotstable}
\usepackage{graphbox}
\usepackage{multirow}
\usepackage{longtable}
\usepackage{supertabular,booktabs}
\usepackage{enumitem}
\usepackage{setspace}
% This assumes your files are encoded as UTF8
\usepackage[utf8]{inputenc}

% This is not strictly necessary, and may be commented out,
% but it will improve the layout of the manuscript,
% and will typically save some space.

% This is also not strictly necessary, and may be commented out.
% However, it will improve the aesthetics of text in
% the typewriter font.
\usepackage{inconsolata}

%Including images in your LaTeX document requires adding
%additional package(s)
\usepackage{graphicx}

% If the title and author information does not fit in the area allocated, uncomment the following
%
%\setlength\titlebox{<dim>}
%
% and set <dim> to something 5cm or larger.

\title{ATEB: Evaluating and Improving Advanced NLP Tasks for Text Embedding Models}

% Information retrieval 

% Author information can be set in various styles:
% For several authors from the same institution:
% \author{Author 1 \and ... \and Author n \\
%         Address line \\ ... \\ Address line}
% if the names do not fit well on one line use
%         Author 1 \\ {\bf Author 2} \\ ... \\ {\bf Author n} \\
% For authors from different institutions:
% \author{Author 1 \\ Address line \\  ... \\ Address line
%         \And  ... \And
%         Author n \\ Address line \\ ... \\ Address line}
% To start a separate ``row'' of authors use \AND, as in
% \author{Author 1 \\ Address line \\  ... \\ Address line
%         \AND
%         Author 2 \\ Address line \\ ... \\ Address line \And
%         Author 3 \\ Address line \\ ... \\ Address line}

% \author{First Author \\
%   Affiliation / Address line 1 \\
%   Affiliation / Address line 2 \\
%   Affiliation / Address line 3 \\
%   \texttt{email@domain} \\\And
%   Second Author \\
%   Affiliation / Address line 1 \\
%   Affiliation / Address line 2 \\
%   Affiliation / Address line 3 \\
%   \texttt{email@domain} \\}

\author{
 \textbf{Simeng Han\textsuperscript{1, 2}},
 \textbf{Frank Palma Gomez\textsuperscript{2}},
 \textbf{Tu Vu\textsuperscript{2}},
 \textbf{Zefei Li\textsuperscript{2}},
 \textbf{Daniel Cer\textsuperscript{2}},
 \\
 \textbf{Hansi Zeng\textsuperscript{3}},
 \textbf{Chris Tar\textsuperscript{2}},
 \textbf{Arman Cohan\textsuperscript{1}},
 \textbf{Gustavo Hernandez Abrego\textsuperscript{2}} \\
%  \textbf{Tenth Author\textsuperscript{1}},
%  \textbf{Eleventh E. Author\textsuperscript{1,2,3,4,5}},
%  \textbf{Twelfth Author\textsuperscript{1}},
%\\
%  \textbf{Thirteenth Author\textsuperscript{3}},
%  \textbf{Fourteenth F. Author\textsuperscript{2,4}},
%  \textbf{Fifteenth Author\textsuperscript{1}},
%  \textbf{Sixteenth Author\textsuperscript{1}},
%\\
%  \textbf{Seventeenth S. Author\textsuperscript{4,5}},
%  \textbf{Eighteenth Author\textsuperscript{3,4}},
%  \textbf{Nineteenth N. Author\textsuperscript{2,5}},
%  \textbf{Twentieth Author\textsuperscript{1}}
%\\
%\\
 \textsuperscript{1}Yale University,
 \textsuperscript{2}Google Deepmind
 \textsuperscript{3}University of Massachusetts Amherst
%  \textsuperscript{4}Affiliation 4,
%  \textsuperscript{5}Affiliation 5
%\\
%  \small{
%    \textbf{Correspondence:} \href{mailto:email@domain}{email@domain}
%  }
}

% only in braintex
% \usepackage[protrusion=false]{microtype}

\pgfplotsset{compat=1.18}
\begin{document}
\maketitle

\input{sections/0-abstract}
\input{sections/1-introduction}
\input{sections/2-relatedwork}
\input{sections/3-benchmark}
\input{sections/4-method}
\input{sections/5-experiments-baselines}
\input{sections/6-experiments-de-classification}
% \input{sections/7-analysis}
\input{sections/8-conclusion}


% We are going to create a new data mixture with which fine-tuning can lead to gains of the embedding model performance on our benchmark, without losing too much on traditional embedding tasks. 


% Appendix A.1 includes
% more details on our training setup. We will refer to
% our proposed model as PaLM 2 DE. 



% its performance is constrained by the lack of diverse fine-tuning data, emphasizing the critical role of robust and varied datasets in achieving broader task generalization. 
% These findings pave the way for further innovations in embedding model training and evaluation.
% \section{Experiments}
% Model: 
% \begin{itemize}
%     \item Gecko baseline [DONE]
%     \item OpenAI API embedding small [Need API key]
%     \item OpenAI API embedding large [Need API key]
%     \item Voyage API embedding [Need API key]
%     \item Gemma baseline [DONE]
%     \item Gemma prefinetuned with retrieval data  [DONE]
%     \item Gemma finetuned with retrieval data  [DONE] 
%     \item Gemma finetuned with DE classification task-specific setting.  [DONE]
%     \item Gemma adapter finetuned with DE classification task-specific data. [WIP - factuality]
% \end{itemize}

% % Data:
% % These include safety classification (BeaverTails Safety Classification \citep{ji2023beavertails}), factuality classification (ESNLI, DialFact, VitaminC), reasoning truth value classification (FOLIO), ranking instruction following capability of model responses (SHP, AlpacaFarm, LMSys, Genie, InstrSum), ranking helpfulness (BeaverTails Helpful, HH-RLHF Helpful), ranking harmlessness (HH-RLHF Harmless), and long-form document-level pairwise-classification (DIPPER) and long-form bitext-mining (Europarl, IWSLT17, NC2016).

% \begin{table*}[t!]

%     \centering
%     \resizebox{\textwidth}{!}{
%     \begin{tabular}{|l|l|l|l|l|l|l|l|l|l|}
%         \hline
%         \textbf{Model} & \textbf{BeaverTails Safety Classification} & \textbf{ESNLI} & \textbf{DialFact} & \textbf{VitaminC} & \textbf{FOLIO} & \textbf{SHP} & \textbf{AlpacaFarm} & \textbf{LMSys} & \textbf{Genie} \\ \hline
%         Gecko baseline & DONE &  &  &  &  &  &  &  &  \\ \hline
%         OpenAI API embedding small & \multicolumn{9}{c|}{\textit{Need API key}} \\ \hline
%         OpenAI API embedding large & \multicolumn{9}{c|}{\textit{Need API key}} \\ \hline
%         Voyage API embedding & \multicolumn{9}{c|}{\textit{Need API key}} \\ \hline
%         Gemma baseline & DONE &  &  &  &  &  &  &  &  \\ \hline
%         Gemma prefinetuned with retrieval data & DONE
%         &  &  &  &  &  &  &  &  \\ \hline
%         Gemma finetuned with retrieval data & DONE &  &  &  &  &  &  &  &  \\ \hline
%         Gemma finetuned with DE classification task-specific setting & DONE &  &  &  &  &  &  &  &  \\ \hline
%         Gemma adapter finetuned with DE classification task-specific data & WIP - factuality &  &  &  &  &  &  &  &  \\ \hline
%     \end{tabular}
%     }
%     \caption{Performance of different models across various datasets.}
%     \label{tab:experiments}
% \end{table*}

% Table. 

\bibliography{custom}

\appendix

\section{Appendix}
\label{sec:appendix}
\input{sections/Appendix}
% This is an appendix.

\end{document}
