 

\section{Case Studies}
\label{sec: case-studies-all}
\subsection{User Feedback on Generated Descriptions with Surprisal Features}
\label{sec: case-for-surprisal}

\begin{center}
\begin{tcolorbox}[colback=white,colframe=gray!20,width=0.95\textwidth]
{\footnotesize \textbf{Preferred Description (\agentname, Desc-B):} Discover the splendid charm of urban living at 547 S Clark St APT 405, a chic one-bedroom, one-bathroom condo in the heart of Chicago's desirable Printers Row. Priced at an enticing \$297,500, this condo harmonizes affordability with luxury, featuring an expansive 876 sqft layout adorned with elegant hardwood floors throughout and a cozy gas fireplace. Enjoy culinary delights with new stainless steel appliances and eye-catching granite countertops in the kitchen. \hl{The huge bedroom suite boasts a walk-thru closet area, offering ample built-in cabinet space and additional storage --  an rarity in similarly priced listings.} Revel in the tranquility of your spacious private balcony, perfect for unwinding with views of the bustling cityscape. Keep convenience at your fingertips with in-unit side-by-side laundry and parking in a secure garage. Built in 1998, this condo is a stone's throw away from Millennium Park and surrounded by public transportation, grocery stores, and cultural amenities, amplifying its urban attraction. With a manageable monthly HOA fee of \$389 and strong investment potential, this condo ensures financial peace of mind alongside lifestyle enrichment. Don't miss out on this prime opportunity in vibrant Cook County, where your ideal location meets impeccable structure and style.}
\vspace{0.2em}

{\footnotesize \textbf{Disfavored Description (\agentname [w/o Grounding], Desc-A):} Welcome to your dream condo in the vibrant Printers Row neighborhood! This stunning one-bedroom, one-bathroom home is not only affordable but packed with modern amenities and stylish features, all for \$297,500. Nestled in the heart of Chicago, 547 S Clark St APT 405 offers unparalleled convenience with easy access to public transportation, shopping, dining, and the iconic Millennium Park. Built in 1998, this condo boasts a huge bedroom suite, hardwood flooring throughout, and an inviting gas fireplace. The newly upgraded stainless steel appliances and eye-catching granite countertops make the kitchen a chef's delight. Enjoy your morning coffee on the spacious private balcony, while additional storage and a walk-thru closet area cater to all your organizational needs. The property is equipped with central air and in-unit laundry for ultimate comfort and convenience. With a \$389 monthly HOA fee, this condo promises both affordability and a secure investment in the bustling heart of Chicago. Don't miss the opportunity to embrace a lifestyle of ease and style in this perfect one-bedroom sanctuary!}

\vspace{0.2em}

{\footnotesize \textbf{User Comment:}
I selected Description B because while both descriptions effectively showcase the property's appealing features, Description B employs a more evocative and sensory language, creating a stronger emotional connection and a more vivid image of the lifestyle the condo offers. Specific points of comparison: 

- Language \& Tone:

Description B uses words like "splendid charm," "chic," and "harmonizes" to paint a picture of elegance and sophistication, creating a more aspirational tone.

Description A, while positive, uses more straightforward language, focusing on practicality and convenience.

- Emphasis on Space \& Luxury:

Description B highlights the "expansive 876 sqft layout," and the "huge bedroom suite," emphasizing the sense of space and luxury.

Description A also mentions the spaciousness but doesn’t create as strong an image of grandeur

- Unique Selling Points:

\hl{Description B specifically points out the rarity of the ample storage and built-in cabinetry in similarly priced listings, making the property stand out.}

Description A focuses on the general convenience and modern amenities, which, while attractive, are not as unique.

- Lifestyle \& Surroundings:

Description B paints a more vivid picture of the lifestyle the condo offers, inviting the buyer to "revel in the tranquility" of the balcony and highlighting the proximity to cultural amenities, creating a stronger sense of place.

Description A mentions the location and amenities but lacks the same level of detail and emotional connection.

- Overall:

Both descriptions are well-written and informative, but \hl{Description B's richer language, focus on unique features, and emphasis on lifestyle create a more compelling and emotionally resonant picture of the property.} It makes the condo feel more desirable and aspirational, which is likely to attract more potential buyers. 
}
    \end{tcolorbox}
\end{center}

The above is an example where the user considers the description generated by \agentname to be more persuasive, specifically because it includes surprisal features. 

Meanwhile, we acknowledge that it is also challenging to generate appropriate language to express surprising features. Here is an example that confuses the user: 

\begin{center}\begin{tcolorbox}[colback=white,colframe=gray!20,width=0.95\textwidth]
   {\footnotesize \textbf{Preferred Description (Human)}:  Step into a light-filled sanctuary where high ceilings and expansive windows create an open and airy atmosphere. The loft-style design seamlessly combines living and dining spaces, providing a versatile canvas for your personal style. Ascend to your personal rooftop oasis, where the cityscape becomes your backdrop. Whether you're hosting soirees under the stars or enjoying a quiet morning coffee, this terrace is a true escape from the ordinary.  Features include hardwood floors throughout, in-unit washer and dryer and new heat/central air conditioning. Secure building with intercom system, a deeded garage parking space and large storage room.  Situated in a boutique building, this condo provides the perfect blend of privacy and proximity to urban amenities. Easy access to public transportation, trendy cafes, and cultural hotspots make this location ideal for the urban dweller. }
    \vspace{0.2em}

    {\footnotesize \textbf{Disfavored Description (\agentname)}:  Nestled in the vibrant West Town neighborhood of Chicago, this exquisite loft-style condo at 11 N Green St UNIT 4C offers a light-filled sanctuary that merges modern living with trendy ambiance. Boasting an impressive 1,200 sqft of space, it features expansive windows framing a stunning cityscape backdrop, high ceilings, and an open floor plan, complemented by sleek hardwood floors and a cozy wood-burning fireplace in the living room. Residents will relish the rare luxury of a personal rooftop oasis—ideal for chic entertaining or serene reflection. Positioned among the top 2\% for amenities in Chicago, this condo includes in-unit laundry, an intercom system, garage parking, and a large storage room, making it both convenient and stylish. Priced at \$490,000, this move-in-ready home offers exceptional value with its central location and effortless access to public transportation, ideal for those seeking the perfect blend of urban convenience and sophisticated living. With its prime spot in Cook County and top-rated area amenities, this condo won't just be a place to live but a lifestyle to love! }
    \vspace{0.2em}

    {\footnotesize \textbf{User Comment:} Description B says it is in the top 2\% of amenities. What does that even mean. That is nonsense.  }
    \end{tcolorbox}\end{center}

\subsection{The Failing Cases of Human-Written Descriptions}
We also found cases where users dislike human-written descriptions over model-generated descriptions. The rationales behind the user preferences demonstrate the advantage of model-generated descriptions.

\begin{center}\begin{tcolorbox}[colback=white,colframe=gray!20,width=0.95\textwidth]
   {\footnotesize \textbf{Preferred Description (\agentname, Desc-B)}:  Welcome to 2220 N Sedgwick St APT 204, a charming one-bedroom condo nestled in the vibrant heart of Lincoln Park, Chicago's most coveted neighborhood. Priced competitively at \$310,000, this move-in-ready gem offers a harmonious blend of modern convenience and timeless elegance. Revel in the top-tier stainless steel appliances and sun-drenched open kitchen with a cozy breakfast island perfect for any culinary enthusiast. Rich hardwood flooring and cozy carpeting seamlessly blend aesthetics and comfort, while the queen-sized bedroom boasts ample storage. Enjoy serene moments on your private balcony overlooking the iconic neighborhood streets studded with historical charm. Built in 1900, this meticulously maintained brick structure highlights both character and longevity, ensuring a sound investment. With unparalleled access to public transportation and a safe, walkable community, this property meets the highest standards of city living. Enviably situated among Lincoln Park's garden-filled avenues, it’s the ideal starter home for those who value location and convenience without compromising on style or safety. }
    \vspace{0.2em}

    {\footnotesize \textbf{Disfavored Description (Human, Desc-A)}:  Don't miss out on this sunny 1 bedroom, 1 bathroom condo in the heart of Lincoln Park. Step in to the living space flooded with natural light from your private balcony windows. The open kitchen layout offers tons of storage space, updated stainless steel appliances, and a comfortable breakfast island. In your queen sized bedroom you'll find nicely appointed closets, and cozy carpeting. This perfect starter home features hardwood flooring throughout the living space, and a newer (2021) washer and dryer in unit. Storage included. }
    \vspace{0.2em}

    {\footnotesize \textbf{User Rating:} 4/5 }
    \vspace{0.2em}

    {\footnotesize \textbf{User Comment:} Description B doesnt even have the size, location, or other important facts.  }
    \vspace{0.2em}

   {\footnotesize \textbf{Analysis:} Sometimes human descriptions even miss important facts, while descriptions generated by our models do not. We present a fine-grained fact-checking study to check whether there is a hallucination in \cref{sec: exp_hallucination_verification}. }
    \end{tcolorbox}\end{center}

    \begin{center}\begin{tcolorbox}[colback=white,colframe=gray!20,width=0.95\textwidth]
   {\footnotesize \textbf{Preferred Description (\agentname)}:  Welcome to 832 W Wrightwood Ave \#3, an enchanting 2-bedroom, 1-bathroom condo nestled in the heart of Lincoln Park, Chicago's most prestigious neighborhood. Priced sensibly at \$450,000 and boasting a spacious 1,164 sqft of elegant living, this East Lincoln Park penthouse marries historical charm with contemporary amenities. Step inside to discover a warm ambiance highlighted by exposed brick, hardwood floors, and a cozy wood-burning fireplace. The remodeled eat-in island kitchen is an entertainer's dream, seamlessly flowing into a separate dining area perfect for intimate gatherings. With its skylight windows and bay windows, an abundance of natural light illuminates every corner. Enjoy the convenience of an in-unit laundry room, additional private storage, and central air without the high HOA fees typically found in comparable homes. The condo's prime location offers walkability to the vibrant amenities and serene lakefront of Lincoln Park, catering to every lifestyle need. A rare find in a top-tier location with superior accessibility and neighborhood charm, this condo promises both investment value and a delightful urban retreat. Don't miss the open house to experience this gem first-hand! }
    \vspace{0.2em}

    {\footnotesize \textbf{Disfavored Description (Human)}:  WALK TO IT ALL!! THIS BRIGHT TWO BEDROOM, 1 BATHROOM EAST LINCOLN PARK PENTHOUSE W/DECK HAS EXPOSED BRICK, BAY WINDOWS AND A WOOD BURNING FIREPLACE;EAT-IN ISLAND KITCHEN OPENS TO MASSIVE 23' WIDE LIVING ROOM WITH A SEPARATE DINING AREA. THE UNIT HAS BEAUTIFUL HARDWOOD FLOORS THROUGHOUT, A HUGE MASTER SUITE WITH TONS OF CLOSET/STORAGE SPACE. OTHER FEATURES INCLUDE ADDITIONAL PRIVATE STORAGE, IN-UNIT LAUNDRY ROOM WITH SIDE BY SIDE W/D AND PARKING. KITCHEN REMODELED IN 2016, BATHROOM REMODELED IN 2020. NEW AC CONDENSER IN 2022. }
    \vspace{0.2em}

    {\footnotesize \textbf{User Rating:} 4/5 }
    \vspace{0.2em}

    {\footnotesize \textbf{User Comment:} I think this description is much better because it isn't in all caps, which feels like I'm getting yelled at. }
    \vspace{0.2em}

   {\footnotesize \textbf{Analysis:} Human-drafted descriptions can look unpleasant.  }
    \end{tcolorbox}\end{center}

\subsection{The Dichotomy of User Preferences on Writing Styles}
\label{sec: case-study-for-main-benchmark}
In \cref{sec:survey}, we present the aggregated benchmark results to compare the persuasiveness of listing descriptions generated by different models. To get more qualitative insights into the strengths and weaknesses of different models, as well as the subjective nature of human feedback, we present a more detailed case study here. 

The first thing we noticed is the users' subtle preferences in \textbf{description length}: while some users like concise descriptions that directly go to the point, other users prefer longer descriptions because they want to know more details about the property they are interested. The following two examples of user feedback explain this point. 
\begin{center}\begin{tcolorbox}[colback=white,colframe=gray!20,width=0.95\textwidth]
    {\footnotesize \textbf{Preferred Description (Vanilla, Desc-A)}:  Welcome to your dream condo at 4345 S Indiana Ave UNIT 2N, nestled in the vibrant Bronzeville neighborhood of Chicago, IL. This exquisite 3-bedroom, 2-bath home offers 1,550 sqft of modern living infused with classic charm, all for an unbeatable price of \$275,000. Built in 2006, it features abundant natural light flooding through large windows, complemented by tall ceilings and an open living space. Imagine cozy evenings by the custom stone wood-burning fireplace or enjoying a morning coffee on your private second balcony. The master bedroom offers tranquility with a spacious walk-in closet, while the additional bedrooms provide generous space for family or guests. The kitchen is a chef's delight, equipped with stainless steel appliances including a range, microwave, and refrigerator. With central air cooling, hardwood flooring, and a sleek, contemporary style highlighted by recessed lighting, this condo is the perfect blend of comfort and sophistication. Adding to the allure, a secure garage parking spot is included. Security is assured with a modern security system, and the convenience of in-unit laundry completes this superb offering. Located in Cook County with easy access to all Chicago has to offer, this stylish condo is a must-see! }
    \vspace{0.2em}

    { \footnotesize \textbf{Disfavored Description (\agentname, Desc-B)}:  Welcome to your dream home at 4345 S Indiana Ave UNIT 2N, nestled in the heart of the vibrant Bronzeville neighborhood in Chicago. This stunning condo offers the epitome of comfortable living with 3 spacious bedrooms, 2 modern bathrooms, and a living area of 1,550 square feet, perfectly situated for a single mother seeking convenience and safety. The residence exudes warmth, featuring abundant natural light through large windows and a cozy custom stone wood-burning fireplace in an open living setting. The condo is a gem within the community, boasting one of the top amenities packages in the area, including a stylish stainless steel kitchen, a rare second private balcony, and garage parking that ensures convenience. Step into the master bedroom for a touch of luxury, indulge in the modern ambiance provided by recessed lighting, or relax in the welcoming family room with its captivating atmosphere. Temperature comfort is assured through efficient central air and heating. Notably, this property towers above others in terms of walkability and neighborhood amenities, making it an ideal choice for a family-focused lifestyle. Priced attractively at \$275,000, it’s a golden opportunity to secure a versatile home that evolves with your needs, ready to create cherished family memories. Discover the potential for a fulfilling life in a community known for its top-tier safety and accessibility, all while investing in a property you can pass down to the next generation. }
    \vspace{0.2em}

    {\footnotesize\textbf{User Rating:}  4/5}
    \vspace{0.2em}

    {\footnotesize\textbf{User Comment:}  Description A gets to the point faster, while still highlighting the important qualities of the home.}
    \vspace{0.2em}

    {\footnotesize \textbf{Analysis:}  Some users love \hl{concise} descriptions.}  
    \end{tcolorbox}\end{center}

\begin{center}\begin{tcolorbox}[colback=white,colframe=gray!20,width=0.95\textwidth]
   {\footnotesize \textbf{Preferred Description (Vanilla)}:  Welcome to 4454 S Shields Ave, a charming A-Frame single-family home nestled in the heart of Chicago's historic Fuller Park neighborhood. This inviting residence offers three cozy bedrooms and a well-appointed bathroom, all within a compact 956 square feet of open-concept living space that seamlessly combines comfort and style. Built in 1929, the home exudes classic character while featuring modern conveniences such as central air for cooling and a natural gas heating system. The property's allure is further enhanced by its unfinished basement, offering potential for personalized expansions. Imagine summer barbecues on your porch or taking a quick stroll to a nearby park, making this an ideal location for outdoor enthusiasts. With its proximity to local amenities and an incredible price of just \$219,900, this home represents a fantastic investment opportunity, especially with its rare, close-to-an-Olympic-sized swimming pool bonus. Discover the potential of this foreclosure property and make it your own urban oasis in Cook County. }
    \vspace{0.2em}

    {\footnotesize \textbf{Disfavored Description (SFT)}:  Welcome to this charming single-family home nestled in Fuller park! This listing features an open concept, 3 bedrooms, 1 full bathroom, and an unfinished basement that's just waiting for your personal touch. Located close to a park with an Olympic-sized swimming pool, you'll have endless recreational opportunities at your doorstep. With its prime location and potential for expansion, this property is a true gem waiting to be polished. Don't miss the chance to make this house your dream home! }
    \vspace{0.2em}

    {\footnotesize \textbf{User Rating:} 4/5 }
    \vspace{0.2em}

    {\footnotesize \textbf{User Comment:} Again, more description is better if I am really interested in a property. }
    \vspace{0.2em}

   {\footnotesize \textbf{Analysis:} Some users love \hl{longer} descriptions.  }
    \end{tcolorbox}\end{center}

Another important factor is the \textbf{embellishment} of descriptions. That is, in our particular marketing domain, is there a clear preference towards the embellished or plain style of descriptions. Here are two examples that showcase the different preferences from users: 

\begin{center}\begin{tcolorbox}[colback=white,colframe=gray!20,width=0.95\textwidth]
   {\footnotesize \textbf{Preferred Description (\agentname)}:  Welcome to your charming retreat at 7401 S Blackstone Ave, nestled in the vibrant Grand Crossing neighborhood of Chicago! Priced attractively at \$179,900, this delightful single-family home skillfully blends affordability and comfort. With three spacious bedrooms and two well-appointed baths, it perfectly accommodates family living. Highlights of this property include its exceptional flooring, ranking among the top 2\% in the area, and the effective recent improvements that make it standout in property condition. Inside, enjoy the luxury of new carpeting and stylish white shaker cabinetry, promising an inviting and modern ambiance. A versatile layout offers flexible options for home customization, meeting the varied needs of your lifestyle, from working to exercising at home. Step outside to a fenced-in yard, ideal for both privacy and play, further increasing its appeal. Though without a garage, the home features machine hookups, ample storage potential in a sub-basement, and a premium location providing easy access to all the amenities and family-friendly spots Chicago's Grand Crossing has to offer. Enhanced by durable brick construction, this home represents a significant investment opportunity, combining all the elements you desire in a new haven. Your perfect blend of convenience, comfort, and charm awaits! }
    \vspace{0.2em}

    {\footnotesize \textbf{Disfavored Description (Vanilla)}:  Welcome to 7401 S Blackstone Ave, an inviting single-family home nestled in Chicago's charming Grand Crossing neighborhood. Priced attractively at \$179,900, this 3-bedroom, 2-bathroom gem is perfect for those seeking comfort and convenience in an established community. Built in 1973, the residence boasts 933 square feet of living space and is beautifully updated with new carpeting throughout and stylish newer flooring. The kitchen shines with modern white shaker cabinetry, providing a fresh, contemporary feel. The home is well-equipped for practicality, featuring a dedicated laundry room with machine hookups for both gas and electric dryers. Adding to its appeal is a sub basement and a fenced-in yard, creating an ideal outdoor space for families or pet owners to enjoy. Conveniently located in Cook County, this home is serviced by Lake Michigan water and public sewer, and its brick construction ensures durability. With natural gas and forced air heating, you’ll be cozy year-round. This delightful abode represents a fantastic opportunity for homeownership without the burden of HOA fees. Don't miss your chance to make this delightful Chicago residence your own! }
    \vspace{0.2em}

    {\footnotesize \textbf{User Rating:} 3/5 }
    \vspace{0.2em}

    {\footnotesize \textbf{User Comment:} Description A is a bit more descriptive without going overboard, also talks about the neighborhood. }
    \vspace{0.2em}

   {\footnotesize \textbf{Analysis:} Some users love more \hl{descriptive} descriptions.  }
    \end{tcolorbox}\end{center}

\begin{center}\begin{tcolorbox}[colback=white,colframe=gray!20,width=0.95\textwidth]
   {\footnotesize \textbf{Preferred Description (Vanilla, Desc-B)}:  Welcome to your future home at 3457 S Lituanica Ave, nestled in the heart of Chicago's vibrant Bridgeport neighborhood. This charming single-family residence offers five spacious bedrooms and two full bathrooms, perfect for families seeking both comfort and style. Priced at an attractive \$549,000, this home sits on a generous 6,500 sqft lot, providing ample outdoor space for relaxation or entertaining. Crafted with enduring brick construction, the property boasts modern conveniences including a complete suite of appliances like a range, microwave, dishwasher, and more. The elegant hardwood flooring throughout adds a touch of sophistication, while the first-floor full bath caters to easy accessibility. Enjoy the convenience of in-unit laundry with a dedicated sink and stride out onto your private deck for a breath of fresh air. The two-car garage offers security and storage, supported by reliable utilities such as public sewer, natural gas heating, and Space Pac cooling. With easy access to Holden Elementary and local amenities, this home represents a delightful blend of classic charm and modern living in one of Cook County's most desirable neighborhoods. Don't miss the opportunity to make this house your home. }
    \vspace{0.2em}

    {\footnotesize \textbf{Disfavored Description (\agentname, Desc-A)}:  Nestled in the heart of Chicago's vibrant Bridgeport neighborhood, 3457 S Lituanica Ave offers unparalleled access and convenience, situated comfortably within Cook County. This spacious five-bedroom, two-bathroom single-family home is a standout choice, boasting top-tier features in location, accessibility, and outdoor living spaces. With its robust brick construction, this property provides a durable and inviting home environment, perfect for customization to suit your family’s evolving needs. Enjoy the luxury of a generous 6,500 sqft lot, among the best in its zipcode, offering a blank canvas for your dream garden or a secure playground for your child. The home’s interior shines with elegant hardwood flooring and practical features like in-unit laundry with sink. Practical comfort is ensured with space pac cooling and efficient natural gas heating, ensuring you feel at home year-round. Embrace Chicago living with easy access to nearby amenities, public transportation, and renowned neighborhood characteristics, all for an attractive price point of \$549,000—making it an excellent investment for future growth. }
    \vspace{0.2em}

    {\footnotesize \textbf{User Rating:} 3/5 }
    \vspace{0.2em}

    {\footnotesize \textbf{User Comment:} Description B does a better job at listing the amenities. }
    \vspace{0.2em}

   {\footnotesize \textbf{Analysis:} Some users love a \hl{plain style} of description that listing all amenities.  }
    \end{tcolorbox}\end{center}

These obervations suggest that there is no one-size-fits-all solution for writing style. Hence, future work could consider tailoring the description generation in the user's preferred writing style to further improve the persuasiveness.

\section{The Design of Survey and User Interfaces}
\label{app: interface}

\subsection{Survey Screening Interface}
\label{app: screening-interface}

The first stage of the survey is designed to ensure the human subject has sufficient experience in the home search process in order to analyze the features from a marketing description. We present description of an example listing and design quiz-like questions to verify whether the participant is able to make all correct responses. We showcases the web user interfaces in \cref{fig:screening_interface}.

\begin{figure}[h!]
    \centering
    \includegraphics[width=0.45\textwidth]{figures/survey_interface/screening.jpg}
    \includegraphics[width=0.45\textwidth]{figures/survey_interface/screening2.jpg}
    \caption{Survey Screening Interface}
    \label{fig:screening_interface}
\end{figure}

\subsection{Preference Elicitation Interface}
\label{app: preference-interface}
In the second stage of the survey, we design an interface to mimic the environment of online platforms that the model can observe the buyer's general profile and behaviors (e.g., recently browsed or liked listing) to some degree. In our case of real estate listing, we ask the buyer to provide their preferences in a 1-5 scale on five general categories (price, location, home features \& amenities, house size, investment value) and set a filter on the price range and number of bedrooms in the house they are looking for. This information allows us to select generally relevant listings to mitigate the anchoring effect that the marketing content can play little role to influence the buyer in the evaluation phase. Next, we choose 5 relevant listings and ask the buyer to rate them on a 1-5 scale and provide their reasoning. This process ensures that we can collect a reasonable amount of each buyer's preference information for the personalized persuasive content generation in the evaluation phase. Finally, we employ LLM to narrow the features that are likely preferred by the participants and ask for their ratings of importance on a 1-5 scale.  We showcases the web user interfaces in \cref{fig:preference_elicitation_interface}.

\begin{figure}[h!]
    \centering
    \includegraphics[width=0.45\textwidth]{figures/survey_interface/elicitation.jpg}
    \includegraphics[width=0.45\textwidth]{figures/survey_interface/elicitation2.jpg}
    \includegraphics[width=0.45\textwidth]{figures/survey_interface/rating.jpg}
    \caption{Preference Elicitation Interface}
    \label{fig:preference_elicitation_interface}
\end{figure}

\subsection{Human Evaluation Interface}
\label{app: comparison-interface}
In the last stage of the survey, it is to gather the human feedback on the persuasiveness of different models. 
Many previous works study persuasion by asking human how much does their opinion changes before and after reading an argument. In our task, human subjects often do not have any prior knowledge about item and this evaluation procedure would induce bias.
Instead, we implement two alternative evaluation schemes in our interface: one is the A/B test where the buyer is presented with a single listing along with two descriptions generated by two distinct models and then asked to report which description makes them more interested in the listing; the other is the interleaved test where a set of listings each with a single description generated by some model and the buyer is asked to select the listings that they are interested in based on their descriptions. Each time after a participant's choice of the preferred description, we ask participant to rate on a scale of 1-5 that one description is prefer over another and incentivized them to provide a detailed rationale of their responses. To illustrate this process, we present the web interface design in \cref{fig:comparison_interface}. 

\begin{figure}[h!]
    \centering
    \includegraphics[width=0.6\textwidth]{figures/survey_interface/comparison.jpg}
    \caption{Human Evaluation Interface}
    \label{fig:comparison_interface}
\end{figure}

\subsection{Feature Annotation Interface}
\label{app: feature_highlight_annotation_interface}
To ease the task of feature annotation, we also develop a user-friendly web interface. Its design is shown in  \cref{fig:feature_highlight_annotation_interface}.

\begin{figure}[h!]
    \centering
    \includegraphics[width=0.6\linewidth]{figures/annotation_interface.png}
    \caption{Annotation Interface}
    \label{fig:feature_highlight_annotation_interface}
\end{figure}

\section{Implementation Details}
\label{app: implementation-details}
In this section, we provide a full description of the implementation detail of \agentname.

\subsection{Signaling Module: Predicting Marketable Features}
\label{sec: highlight_model-app}
Our model assumes the existence of attribute-feature mappings in different marketing problems, with which a seller can use to influence the buyer's beliefs and behaviors. However, a key challenge lies in determining how to accurately obtain such mappings. Specifically, we must identify which \emph{signaling features} to include and under what conditions it is natural to market a product as possessing a particular feature. Traditionally, acquiring this knowledge from human experts is both labor-intensive and costly. 
Instead, we take a learning approach to uncover the mapping from our experiment dataset. 
While the raw dataset contains no annotation of any signaling feature, we employ LLMs to construct a high-quality feature schema and label the dataset accordingly in preparation for learning the attribute-feature mapping. 
This approach notably presents a novel unsupervised learning paradigm, harnessing the broad knowledge of LLMs to distill expert-level insights from unlabeled data with minimal human supervision.

\textbf{Inductive Construction of Feature Schema} 
Our dataset only contains the raw attributes of each product. In order to learn a high-quality attribute-feature mapping, the first task is to obtain a good representation of feature schema $S$. 
On the one hand, if we miss some useful signaling features, it could significantly hinder the performance of subsequent marketing task. On the other hand, there are so many possible token that can serve as the signaling features in the natural language space, and many of these tokens might have duplicate or similar meaning. If there is no structured representation of the features, the resulting label classes could be too sparse to learn.
Indeed, we discover that the feature schema obtained by directly prompting an LLM includes many similar features while miss some important ones.
Based on this observation, we turn to a more sophisticated prompting strategy to inductively improve the quality and representation of the feature schema (see a high-level sketch of the construction pipeline in \cref{fig:highlight_model_pipeline}).

First, we construct a basis of feature schema, represented as a list of tokens used in the human-written marketing description to describe some house features. We begin with \textit{Mixtral-8x7B-Instruct-v0.1}~\citep{jiang2024mixtral} to extract keywords or phrases $\{k_1, k_2, \dots\} = \llm([\mathcal{I}_{\text{Keyword}}; D_{\text{human}}])$ that summarize each human-written description $D_{\text{human}}$ under a keyword-extraction prompt $\mathcal{I}_{\text{Keyword}}$ (\cref{app: keyword_extraction_prompt}). We observed that, in some cases, the model output could not be directly parsed into a clean list of keywords, or it contained excessive quantifiers and modifiers. To address this, we re-prompted the model using $\mathcal{I}_{\text{Norm}}$ (\cref{app: keyword_normalization_prompt}) to normalize each keyword. Through this process, we initially extracted $112688$ keywords—too many to handle effectively. We then applied additional normalization steps, including lowercasing, lemmatization, and synset merging via NLTK~\citep{bird2009natural}. We also filtered the keywords, retaining only those that appeared in at least 50 descriptions. This reduced the final set to $1114$ keywords as our \emph{induction base}.

Next, we organize the feature-related keywords into a structured feature schema. Since many keywords are related to each others and hard to distinguish, we use a hierarchical representation of feature schema to better capture the relations between different feature classes and to ease the subsequent labeling task.
To achieve this goal, we prompted \textit{Claude-3.5-Sonnet}~\citep{claude3.5sonnet} with a 100-keyword batch to iteratively generate a  hierarchical schema that covers the majority of the keywords (an example run can be found in \cref{app: schema_induction}). We temporarily switched to \textit{Claude-3.5-Sonnet} because we found it particularly difficult for open-source models, even the state-of-the-art \textit{GPT-4o}~\citep{gpt4o}, to induce such a schema without grouping most keywords into overly broad categories like "others" or "misc", resulting in a shallow and uninformative schema. In contrast, when fed keywords in small batches, \textit{Claude-3.5-Sonnet} followed our instructions more faithfully, organizing the keywords into a carefully structured hierarchy. Every leaf node in the schema was associated with a set of relevant keywords. From this process, we obtain a relatively well-structured and comprehensive feature schema.

Finally, to evaluate the quality of the generated feature schema, monitor potential hallucination issues, and further refine the schema, we asked three human participants to conduct manual review.
We prompt 
\textit{Mixtral-8x7B-Instruct-v0.1} 
to determine whether a feature from the schema presents in each human-written description, and each participant is asked to independently verify this result (see our annotation interface in \cref{app: feature_highlight_annotation_interface}). Based on the participants' feedback on 636 samples, we found that features labeled by LLMs are mostly agreed across all human annotators, except for some ambiguous or subjective features (e.g., the aesthetic features of a house), where the agreement rates (around $60\%$) between models and human are about as good as that among human annotators.
We refine the schema for two more iterations, where we prompt LLMs to merge some similar features and reduce the ambiguity of some features with more precise example keywords.  We list our final feature schema in~\cref{app: final_feature_schema} and it is used in the subsequent stages of our pipeline.

\paragraph{Learning the Feature-Attribute Mapping}
With the feature schema, we guide the LLM to annotate for each product with attributes $\mathbf{x}$ whether each feature ${s}_i$ is described in the human-written marketing text (see the prompt in \cref{app: feature_extraction_based_on_description_prompt}).  We perform a few additional pre-processing steps to this correspondence data to supervise the learning of the feature-attribute mapping.

First, we found that some human-written marketing descriptions are of relatively low quality and these data points can negatively impact the learnt feature-attribute mapping. Hence, we only select marketing descriptions of products that are relatively popular, according to a simple heuristic ratio between the number of likes and views received by a listing recorded on the marketing platform. We expect the quality of feature-attribute mapping uncovered from this filtered set of human-written descriptions would be higher than average.

Next, we normalize the attributes of each listing $\mathbf{x}$ and embed existing knowledge of these attributes into their representation. 
Since the raw attributes of each listing $\mathbf{x}$ have different value types (categorical, integer, float, etc.), we convert each attribute $x_i$ into a natural language statement using the template, ``The attribute \textit{attribute\_name} is \textit{attribute\_value}.'', 
and then use an embedding model, \textit{SFR-Embedding-Mistral}~\citep{meng2024sfrembedding}, to convert each natural language statement into a fixed-dimensional vector $e_i = \llmembed\left(x_i\right) \in \mathcal{R}^d$. We also perform some standardized normalization techniques such as removing irrelevant attributes and dropping attributes with missing values.
Finally, we use a simple multi-layer perceptron (MLP) to learn the attribute-feature mapping as,
\begin{equation*}
    \pi\left(s_i \mid \mathbf{x}\right) = \sigma(O_i^T \text{ReLU}(W \bar{e}(\mathbf{x}))),
\end{equation*}
where $\bar{e}(X)$ is the mean-pooled attribute embedding, and $O_i \in \mathcal{R}^{d/2}, W \in \mathcal{R}^{d \times d/2}$ are the model's weights. The function $\sigma$ represents the sigmoid activation function. Here, we assume conditional independence between highlights given the raw features $X$.
We use the standard logistic loss function to training the neural network. 
We apply a random train-test split of $4:1$ ratio in our dataset and achieve testing accuracy $69.39\%$ and F1 score $67.43\%$. We find the accuracy to be reasonably high, given the stochastic nature of signaling process. That is, the features deterministically predicted based on our mapping cannot exactly match with the features used in the human written description with some degree of randomness --- just as the accuracy of predicting a fair coin toss is at most $50\%$. 

The typical implementation of a signaling scheme is to follow the attribute-feature mapping $\pi$ to randomly draw a signal $S_j$ with probability $s_j(\mathbf{x})$. This is necessary in theory to maintain the partial information carried by each signal. 
However, we implement a deterministic feature selection strategy to only use feature $S_j$ with probability above some threshold $\alpha$. This is because our generated marketing content only accounts for a tiny portion of the corpus so that it should have almost no influence on people's perception of a feature (e.g., the partial knowledge inferred upon observing each feature).
This also ensures that the product would have the feature with high probability, as our objective prioritizes the rigorousness of our marketing content. 
As a simple heuristics in our implementation, we set the threshold $\alpha=1/2$ and we will refer to this set of features as, 
\begin{equation}\label{eq:marketable-feature-app}
     \text{Marketable Features: } \quad  \mathcal{S}_1(\mathbf{x}) = \{S_j:  s_j(\mathbf{x}) \geq \alpha \}.
 \end{equation} 

\subsection{Personalization Module: Aligning with Preferences}
\label{sec: user_preference-app}

This stage seeks to steer the persuasive language generation toward the buyer's preference, which is another crucial objective of grounded persuasion. In particular, with the advent of LLM, there is an unprecedented opportunity for our data-driven approach could achieve much higher degree of personalization with significantly lower cost than the conventional marketing designed for a larger population. Our solution has two parts: the first part is to properly elicit the useful information about a user's preference and structure it in a good representation; the second part is to select a subset of features based on the user preference in order to maximize the influence to the user's belief. 

\paragraph{Structured Preference Representation}
As mentioned previously, our evaluation environment is built to have an information elicitation process from each buyer. However, such information cannot directly describe the user's preference. 
So, we ask the LLM to act like a human realtor to determine the features that the users might be interested in based on their initial selection.
To do this, we prompt the language model to convert the user preference into information structured according to the feature schema. 
We then ask the user to give a rating $r_j$ on a scale of 1-5 on how important each feature $S_j$ is. We also elicit the user's rationale behind this rating to nudge users to give more thoughts on their selection and thereby improve the credibility of their rating responses. While our implementation mostly relies on user surveys and the information processing power of LLMs, this design is a reasonable simulation of digital marketing in real-world applications, where $r_j$ can be learned through the standard industrial techniques of cookie analysis.

\paragraph{Personalized Feature Selection}
While the marketable features in \cref{eq:marketable-feature-app} are predicted at a population level, it is also useful to select features that are tailored to the user's special interests. 
However, because real-world marketing descriptions are not optimized for individual users, we cannot simply rely on a data-driven machine learning approach for personalization.
Instead, we leverage the innate capability of LLMs to understand and analyze human preference. In our implementation, we select a set of features that are marketable and preferred by the buyer and let the LLMs to decide which personalized features to emphasize on in the marketing content. 
Our heuristic method for personalized feature selection is to adjust the population-level feature scores $\mathbf{s}(\mathbf{x})$ with the user's rating over each feature $\mathbf{r}$ as follows,
\begin{equation}
     \text{Personalized Features: }  \mathcal{S}_2(\mathbf{x}) = \{ s_j | s_j(\mathbf{x}) +   c (r_j - r_0) \geq \alpha  \},  
 \end{equation} 
where the constant $c$ reflects the intensity of personal preference, $r_0$ is the basis rating of each attribute. In our human-subject experiment, we choose $c=0.01$, $r_0=2$ and set the threshold value $\alpha$ such as to select features of the top 10 highest scores. We list these features in the prompt to generate persuasive marketing description (see a full specification in \cref{app: highlight-preference-prompt}).

\subsection{Grounding Module: Capturing Surprisal via RAG}
\label{sec: surprisal-app}

The last stage is designed to better ground the persuasive language generation on factual evidences, problem contexts and localized information in automated marketing. There are many ways to improve the grounding for different settings of automated marketing. 
As a case study, we choose to focus on the surprising effect, a common marketing strategy studied by many work~\citep{lindgreen2005viral, ludden2008surprise, ely2015suspense}, under which the buyers would derive entertainment utility and have a deeper impression.
In our setting of real estate marketing, we consider the type of features that are relatively rare in its surrounding area.
That is, we say a marketable feature $S_j$ is \emph{surprising} if it is among the top $\beta$-quantile of the distribution of $S_j$ values under the prior distribution  $ s_j(\mu)$, or formally, 
 \begin{align}
     &\text{Surprising Features: } \mathcal{S}_3(\mathbf{x})   =  \{ S_j \subset \mathcal{S}_1: \nonumber \\
     &s_j(\mathbf{x}) \text{ is within $\beta$-quantile  of   distribution } s_j(\mu) \}.
 \end{align}
In our implementation, we determine a set of features for each listing that have its comparative advantage among different groups of similar listings. We consider two kinds of retrieval criteria: (1) select all listings within the proximal location at different levels of granularity (e.g., neighbourhood, zipcode or city); (2) select the 20 listings with the most similar features via an information retrieval system (implemented by the ElasticSearch framework\footnote{\url{https://www.elastic.co/elasticsearch}}) --- the search engine implementation details can be found in \cref{app: search_engine}. 
For each group of similar listings, we determine an empirical distribution function on each attribute score $\tilde{F}_i$. We then set $1 - \tilde{F}_i( p_i )$ as the percentile ranking of the listing's attribute $i$ among this group. 
We then select all attributes that are among the top $30\%$ percentile ranking for some group and provide the information in the prompt to generate persuasive marketing language (see a full specification in \cref{app: surprisal-prompt}). 
This gives the LLMs localized feature information at different granularity level. 

\section{Data Curation}
\label{app: dataset}

\subsection{Dataset raw attribute schema}
To ensure both quality and fidelity of our evaluation, we collect the real data of real estate listings on the market. The dataset for this experiment was sourced primarily from Zillow and includes around 50000 listings collected in the month of April in 2024. Each of these listings is from one of the top 30 most populous cities in the United States as described by the U.S. Census Bureau. Listings that were not residential in nature or were missing crucial data to this experiment were excluded from this dataset. This dataset is composed of 95 columns, with features ranging from number of bedrooms, price, views, and more (see \cref{tab:property-table}). These many features associated with each listing provide us sufficient space to develop and test improved models for grounded persuasion.

\begin{table}[h]

  \centering
  \begin{tabular}{ll}
    \toprule
    \textbf{Field Name}       & \textbf{Data Type}     \\
    \midrule
    bedrooms                  & float64                \\
    bathrooms                 & float64                \\
    price                     & float64                \\
    description               & object                 \\
    living\_area\_value       & float64                \\
    lot\_area\_value          & float64                \\
    area\_units               & object                 \\
    brokerage\_name           & object                 \\
    zipcode                   & object                 \\
    street\_address           & object                 \\
    home\_type                & object                 \\
    time\_on\_zillow          & object                 \\
    page\_view\_count         & float64                \\
    favorite\_count           & float64                \\
    home\_insights            & object                 \\
    neighborhood\_region      & object                 \\
    scraped\_at               & object                 \\
    url                       & object                 \\
    city                      & object                 \\
    state                     & object                 \\
    year\_built               & float64                \\
    county                    & object                 \\
    avg\_school\_rating       & float64                \\
    id                        & object                 \\
    time\_on\_zillow\_days    & float64                \\
    score                     & float64                \\
    jpeg\_urls                & array                  \\
    \bottomrule
  \end{tabular}
   \caption{Listing data, subset of important columns}
  \label{tab:property-table}
\end{table}
\subsection{Final Feature Schema}
\label{app: final_feature_schema}
Here is the condensed version of the final feature schema to save pages: 
\begin{lstlisting}
Interior Features:
    Rooms:
        [bath,bathroom,bedroom,kitchen,living room,secondary bedrooms,patio,backyard,closet,room,living,dining room,pantry,space,office,laundry room,dining,living space,living area,primary suite,master suite,family room,cellar,foyer,game room,great room,den,master bedroom,utility room,sunroom,bedroom suite,living areas,primary bedroom,office space,kitchenette,owner's suite,playroom,storage room,living rooms,ensuite,wet bar,loft area,sitting room,mud room,exercise room,clothes closets,walk-in closet,mudroom,conference room]
    Flooring:
        [flooring,stories,carpeting,hardwood floors,tile,tile floors,hardwood flooring,wood flooring,hardwood floors]
    Furniture:
        [desk,table,chair,bed,dressers,cupboards,sofa,bench,seating]
    Additional Spaces and Versatility:
        [bonus room,flex space,flex room,den]
    Kitchen Features:
        [countertop,granite countertops,marble countertops,island,cabinetry,kitchen island,kitchen cabinets,waterfall,dining space,cooktop]
    Architectural Elements:
        [roof,window,floor plan,cabinet,molding,staircase,brick,paneling,siding,beam,ceiling fans,stair,chandelier,finishing trim,baseboard,trim]
    Bathroom Features:
        [shower,vanity,powder room,jacuzzi,ensuite,half bath,water closet,mirror,faucet]
    Storage:
        [storage,closet space,cabinet space,shelving,storage space,mudroom,drawer,bookshelf,storage unit,clothes storage,bike storage]
    Comfort and Ambiance:
        Lighting:
            [lighting,natural light,light fixtures,skylight,lighting fixtures]
        Temperature Control:
            [fireplace,hvac,fan,ac,a/c,central air conditioning]
Exterior Features:
    Outdoor Spaces:
        [patio,backyard,yard,pool,spa,balcony,porch,deck,roof deck,outdoor space,rv parking,outdoor spaces,outdoor living space,fenced yard,pavers,garden,outdoor living,backyard oasis,pergola,gazebo,cabana,landscaping,shade,lawn,fountain,sod,outdoor bench]
    Outdoor Activities:
        [gardening,outdoor cooking,barbecue,bbq]
Location and Accessibility:
    Neighborhood Characteristics:
        [location,neighborhood,community,downtown,street,highway,expressway,commuting,located,highway access,outdoor living,city living]
    Nearby Amenities:
        [shopping,restaurant,park,school,grocery,cafe,hospital,food,stadium,museum,boutique,shopping centers,station,elementary,bus,trader joe's,golf,brewery,elementary school,school district,recreation facility]
    Cities/Regions:
        [Austin,Denver,Charlotte,Houston,Dallas,San Antonio,Nashville,Phoenix,Los Angeles,LA,Manhattan,Detroit,Philadelphia,Portland]
    Access and Transportation:
        [access to amenities,proximity to schools,proximity to restaurants,proximity to shops,access to shopping,bus stop,walking distance,proximity to shopping,freeway access,public transit nearby,public transportation,road]
    Walkability and Bikeability:
        [walkability,bike score,walk score]
Housing Types:
    [studio,cottage,ranch,duplex,townhome,brownstone,row home,bungalow]
Building Features:
    Structure:
        [condo,loft,unit,townhouse,estate,square feet,duplex,garage,carport,story,penthouse,sf,triplex,colonial]
    Parking:
        [garage,parking,parking space,parking spaces,garage door,parking spot]
Appliances:
    [appliance,refrigerator,dishwasher,washer/dryer,range,fridge,microwave,washer,ac unit,dryer,hood,laundry facilities,washer and dryer,oven,garbage disposal,wolf appliances,thermador appliances]
Amenities:
    [community center,community pool,spa,firepit,fire pit,outbuilding,tennis courts,club house,rooftop,rooftop deck,rooftop terrace,dog park,lounge,elevator,recreation room,gym,fitness center,clubhouse,swimming pool,pool,spa,sauna,hot tub,putting green,tennis courts,basketball,pickleball,tennis court,golf,management,booking,concierge,trash,maintenance,doorman,superintendent,nightlife,brewery]
Utilities and Systems:
    [plumbing,water heater,heater,hot water heater,water,water filtration system,gas,sprinkler system,hvac,ac,a/c,wiring,solar panels,solar,electrical panel,electricity,generator,security,security system,camera,internet,wifi,cable,phone,satellite,fiber,internet access,satellite TV,internet service,irrigation system,ac unit,hvac unit,central air conditioning]
Design and Style:
    Interior Design:
        [paint,style,home style,architecture,woodwork,ensemble,accent,open floor plan,drawing]
    Aesthetics:
        [elegance,sophistication]
    Architectural Styles:
        [tudor,colonial,craftsman,farmhouse]
Smart Home Features:
    [smart home technology,surround sound,home technology,camera]
Lifestyle Features:
    Work from Home:
        [workspace,home office]
    Entertainment:
        [entertaining space,party,entertainment options,wet bar,entertainment]
Sustainability Features:
    [solar system,sustainability,solar,heated floors,solar panels,tankless water heater]
Real Estate Financial and Legal Aspects:
    [condo fee,hoa fee,hoa fees,equity,hoa dues,condo fees,cdd fees,occupied,rental potential,income potential,appreciation,airbnb,investment opportunity,investor opportunity,warranty,pricing,rental income,income,financing,utility,sale,closing,furnished,slip,tax,flip tax,abatement,zoning,hoa,rental cap,option]
Water Features:
    [soaking tub,softener]
Views and Scenery:
    [mountain views,lake views,ocean views,sunset,city views,skyline,skyline views]
Property Characteristics:
    Specialty Rooms:
        [wine cellar,media room,suite]
    Distinctive Interior Elements:
        [exposed brick,high ceilings]
    Exterior Appearance:
        [curb appeal,facade,exterior paint]
    Atmosphere:
        [oasis,retreat,sanctuary,flow]
    Environment:
        [surroundings]
    Property Metrics:
        [lot,corner lot,sqft,br,walk score,foot,inch]
    Property Condition:
        Improvements:
            [improvement,tlc,fixer,flooded]
        Age and Status:
            [new,renovated,remodeled,renovated,rehabbed,home age,upgrade,update,built,finish,updated,move,readiness,move-in ready,maintained]
Real Estate Industry:
    [builder,agent]

\end{lstlisting}

\section{Hallucination Experiment Details}
\label{app: hallucination_experiments_details}
In this section, we introduce implementation details for hallucination verification experiments. 

We select \textit{price}, \textit{living area} (in sqft), \textit{\#{bedrooms}} and \textit{\#{bathroom}} as $X_{\text{hard}}$ and \textit{home insights}, \textit{address} as $X_{\text{soft}}$  according to a prior survey of user preference. 

We use structured output API\footnote{\url{https://platform.openai.com/docs/guides/structured-outputs/introduction}} on OpenAI to setup 
$\text{eval}_{\text{soft}}(L, x)$ {and} $\text{eval}_{\text{hard}}(L, x)$. This means in both cases, we need to first define the structured output class specification and then prompt the model with it.

For $\text{Faithful}_\text{hard}$, our structured output class specification is:
\begin{lstlisting}
    class MainInfo(BaseModel):
        price_mentioned: bool
        price: float
        living_area_mentioned: bool
        living_area: str
        bedrooms_mentioned: bool
        bedrooms: float
        bathrooms_mentioned: bool
        bathrooms: float
        address_mentioned: bool
        address: str
\end{lstlisting}
and our prompt for $\text{eval}_{\text{hard}}(L, x)$  is:
\begin{lstlisting}
messages=[
    {"role": "system", "content": "Extract Real Estate Information. Find the price (e.g, 290000.0), living area (e.g., '990.0 sqft'), bedrooms (e.g., 2) and bathrooms (e.g., 3) from the description. Not all information may be present, so you also have to determine whether each field is mentioned or not."},
    {"role": "user", "content": {description}}
]
\end{lstlisting}

We then compare the extracted information with $\text{supp}(L, X_{\text{hard}})$ to compute $\text{Faithful}_\text{hard}$. If certain attributes are mentioned (i.e., \textit{xx\_mentioned}=True) and the corresponding extracted values matched the listing info $\text{supp}(L, X_{\text{hard}})$, then we will give one score, otherwise zero.  

For $\text{Faithful}_\text{soft}$, we will compute it in two stages. First, we will conduct attribute extraction as in $\text{Faithful}_\text{hard}$, but with a different set of attributes $X_\text{soft}$. Our structured output class specification is:
\begin{lstlisting}
    class MainInfo(BaseModel):
        home_insights_mentioned: bool
        home_insights: list[str]
        address_mentioned: bool
        address: str
\end{lstlisting}
and our prompt is:
\begin{lstlisting}
example_home_insights =["Large island", "Oversized bathroom", "Open floor plan", "Lake views", "Orange l lines", "Newer stainless steel appliances", "Gorgeous hardwood floors", "Tons of cabinet space", "In-unit washer and dryer", "Skyline view", "Private balcony", "Beautiful city"]
example_addr = "1255 S State St UNIT 703 Chicago IL 60601"
messages=[
    {"role": "system", "content": "Extract Real Estate Information. Find the home insights (e.g., {example_home_insights}), and address (e.g., {example_addr}) from the description. Not all information may be present, so you also have to determine whether each field is mentioned or not."},
    {"role": "user", "content": {description}}
]    
\end{lstlisting}

In the second stage, we will use JSON mode API\footnote{\url{https://platform.openai.com/docs/guides/structured-outputs/json-mode}} to check whether the extracted attributes match $\text{supp}(L, X_{\text{soft}})$. Our matching prompt is:
\begin{lstlisting}
Given the following information:

1. Description: {description}
2. True value for {attribute_name}: {json.dumps(true_value)}
3. Extracted value for {attribute_name}: {json.dumps(extracted_value)}

Please analyze how well the extracted value matches the true value, considering the context provided in the description.

For 'home_insights', consider it a good match if a significant subset of the true insights is correctly identified.
For 'address', consider it a good match if at least a subset (e.g., city/state) is correctly identified, given it was mentioned in the description.

Provide a score between 0 and 10, where:
0 = Completely incorrect or irrelevant
5 = Partially correct or relevant
10 = Perfect match

Respond with a JSON object in the following format:
{{
    "score": int
}}

Where 'score' is an integer between 0 and 10.    
\end{lstlisting}
Finally we sum up all scores to compute $\text{Faithful}_\text{soft}$.

\section{Prompts}
\subsection{Keyword Extraction Prompt}
\label{app: keyword_extraction_prompt}%
    \begin{lstlisting}
`Your task is to extract attractive keywords. (e.g., 'modern amenities', 'great views', 'lush landscaping', 'bamboo flooring'). Please express these keywords as phrases or single word from the following house description. Each keyword should be separated by a comma. \n\nDescription: {desc}\n\nKeywords: 
\end{lstlisting}
\subsection{Keyword Extraction Normalization Prompt}
\label{app: keyword_normalization_prompt}
\begin{lstlisting}
    "Please remove the quantifiers, numbers, adjectives or any modifiers in the provided input. "
    "Uppercase or lowercase doesn't matter. "
    "If the given input is already precise enough, please provide the same input."
    "If you are not sure what to do, please also provide the input as it is. "
    "Do not explain or provide additional information."
    "Here are a few examples:"
    "\n\nInput: Two Bedrooms.\n\nOutput: Bedrooms."
    "\n\nInput: Newly Renovated Kitchen.\n\nOutput: Kitchen."
    "\n\nInput: landscape. \n\nOutput: landscape."
    "[Example Ends]"
    "Now, given the Input, please precisely provide the Output."
    "\n\nInput: {}\n\nOutput (should only be a noun phrase or keyword): "
\end{lstlisting}
\subsection{Schema Induction Prompt}
\label{app: schema_induction}
\begin{lstlisting}
Here is an initial listing keyword schema that I have, but it may not be comprehensive. I have a manually extracted comprehensive keyword list, but there are many duplicated words (e.g., different keywords may bear similar semantic meanings) and some of them may inspire new categories in this schema. I will give you that 1k+ keyword list in a file and the schema below. Can you do it this way: for every 100 keywords in the file, either try to assign it to one of the categories below, or create a new (sub)category and assign the keyword to this new (sub)category. You CANNOT use too broad categories like "others" "misc" and "uncategorized". Only create informative categories if necessary. Give me the final zip files containing all 100-ish intermediate assignment results. Each result should be represented as a JSON-like file with key=subcategory, value=[list_of_original_keywords_in_file], or key=category, value=subcategory (in other words, I want a rich hierarchical structure with the leaf nodes as a list of original keywords in the file). 

###schema### 
Appliances:
    Refrigerator
    Oven
    Dishwasher
    Washer/Dryer
    Microwave
    Garbage Disposal

Transportation:
    Garage
    Carport
    Parking Space
    Public Transit Nearby

Interior Features:
    Hardwood Floors
    Fireplace
    Central Air Conditioning
    Walk-in Closet
    Open Floor Plan
    High Ceilings

Exterior Features:
    Balcony
    Patio
    Deck
    Fenced Yard
    Garden
    Pool

Building Features:
    Elevator
    Fitness Center
    Laundry Room
    Security System
    Concierge

Utilities:
    Water
    Gas
    Electricity
    Cable/Satellite TV
    Internet

Neighborhood Features:
    Nearby Schools
    Parks
    Shopping Centers
    Restaurants
    Hospitals
    Recreation Facilities
\end{lstlisting}
\subsection{Feature Extraction Based on Description Prompt}
\label{app: feature_extraction_based_on_description_prompt}
\begin{lstlisting}
"Your task is to determine whether the given feature is mentioned in the description. The meaning of the feature will be explained by example keywords. Only respond with 'YES' or 'NO'. "
"Feature: {feature_name}. \n\nExample Keywords for explaining this feature: {keywords}\n\n"
"\n\nDescription: {human_description}\n\nResponse (Yes/No): "
\end{lstlisting}

\subsection{Persuasive Language Generation with Personalized Features}
\label{app: highlight-preference-prompt}
\begin{lstlisting}
"Your task is to generate a marketing description for a real estate listing with the provided features to highlight, and the client's preferences.
    - The listing has the following attributes:\n{attributes}
    - The listing has the following features (accounted for the client's preference) that are worth highlighting:\n{ highlight_features_reweighted }
    - The client has the following general preferences:\n{user_preference}
    - The client has the following specific preferences over features:\n    
    {feature_preference}
    - You should emphasize the feature or attributes that matches with the user's preference.
    Make sure the description is persuasive while concise under one paragraph."
\end{lstlisting}

\subsection{Persuasive Language Generation with Localized Feature Prompt}
\label{app: surprisal-prompt}

\begin{lstlisting}
"Your task is to generate a marketing description for a real estate listing with the provided features to highlight and a list of attributes that are competitive among similar listings."
    - The listing has the following attributes:\n{attributes}
    - Compared with {K} similar listings, the listing stands out in the following features that you want to emphasize:
    {surprisal_features}
    - Compared with listings in Chicago, the following features of this listing are competitive:\n
    {city_rankings}
    - Compared with listings in this neighborhood {neighbourhood}, the following features of this listing are competitive:\n
    {neighourhood_rankings}
    - Compared with listings in this zipcode {zipcode}, the following features of this listing are competitive:\n
    {zipcode_rankings}
    - Finally, You should explicitly highlight the listing features or attributes that stands out above or those ones that exactly matches with the user's preferences as a surprise factor.
    Make sure the description is persuasive while concise under one paragraph."
\end{lstlisting}
\subsection{User Simulation Prompt}
\label{app: simulation_prompt}
To avoid positional bias as demonstrated in \citep{zheng2023judging}, for each pairwise comparisons of descriptions generated by different models, we will prompt the GPT-4o-mini twice to generate separate scores as integers within $[0,100]$, and compare the final scores to decide which model wins. The prompt below shows an example of this prompt to obtain GPT-4o-mini judgement for the first description presented. ``Description 0'' and ``Description 1'' refers to descriptions generated by different models and are randomly shuffled. 
\begin{lstlisting}
You will be given a user profile, a listing and two descriptions of this listing. Optionally, you may also be given the user's history of preferences. Your task is to predict which description the user would prefer. \n\n
User Profile: {user_profile}
Listing: {listing}\n\n
Description 0: {description_0}\n\n
Description 1: {description_1}\n\n
Please first generate an analysis of the user's profile and history (if available), and then analyze why the user might prefer the first description. You can use the following format: 'The user might prefer the first description because...'
The score for the first description (an integer within [0, 100]): 
\end{lstlisting}

\subsection{Retriever Configuration}
\label{app: search_engine}

\begin{lstlisting}
    "mappings": {
            "properties": {
                "bedrooms": {"type": "float"},
                "bathrooms": {"type": "float"},
                "price": {"type": "float"},
                "description": {"type": "text"},
                "area": {"type": "float"},
                "street_address": {"type": "text"},
                "home_type": {"type": "keyword"},
                "state": {"type": "keyword"},
                "city": {"type": "keyword"},
                "page_view_count": {"type": "float"},
                "favorite_count": {"type": "float"},
                "home_insights": {"type": "keyword"},
                "neighborhood_region": {"type": "keyword"},
                "id": {"type": "keyword"}
            }
        }
\end{lstlisting}

\end{document}