\section{Related Work}
\label{sec:related}
\input{figs/overview}


\subsection{Token Compression} 

There has been a growing
interest in expanding the context window for large language models (LLMs). 
A line of methods leverage LLM itself to compress raw long input. 
One may classify these works into two principal groups. \textbf{i)} \textit{soft prompt-based}  methods that adapt LLMs to compress context into fewer tokens~\cite{zhang2024soaring,mu2024learning,chevalier2023adapting,gecontext}.
\textbf{ii)} \textit{selection-based} methods that remove redundant tokens based on information entropy computed by LLMs~\cite{li2023compressing,nottingham2024selective,jiang2023llmlingua,jiang2023longllmlingua,pan2024llmlingua}. 
Though impressive, all the long inputs still need to be handled by the heavy LLMs, which incurs high costs. 


Another line of work~\cite{mohtashami2023random,tworkowski2024focused} augment LLMs with the capacity to memorize previous long context information by external memory bank and retrieve relevant knowledge~\cite{xuretrieval,zhang2023retrieve,wumemorizing,wang2024augmenting}.
Our method is orthogonal to these existing strategies and can be combined with them to achieve longer context length.

   
The most related work is CEPE~\cite{yen2024long}, which employs a lightweight text encoder to handle long contexts and integrates the information into LLM via cross-attention.
CEPE achieves lower computational demands than approaches that compress long text entirely with LLMs. 
However, the text encoder in CEPE fails to decrease the text token count. 
In contrast, \ourname\ compresses long text into compact visual tokens, allowing for customizable compression ratios during the training and inference stage.






\subsection{Vision-centric Method}
Text tokenization~\cite{kenton2019bert,kudo-richardson-2018-sentencepiece, sennrich-etal-2016-neural} breaks down text into tokens, serving as a fundamental step in natural language processing (NLP). 
Though efficient,  tokenization-based methods lack robustness against spelling errors and face vocabulary bottlenecks. 
A new line of work tackles these issues in a tokenizer-free paradigm~\cite{salesky2021robust, rust2022language, gao2024improving}. 
The representative method Pixel~\cite{rust2022language} renders text as images and learns to reconstruct masked image patches at the pixel level. 
It demonstrates strong cross-language translation capabilities and tolerance for text perturbation. 
Along this direction, recent work explores rendering strategies~\cite{lotz2023text} and different pre-training objectives~\cite{chai2024dual}, \eg, contrastive learning~\cite{xiao2024pixel}, patch-and-text prediction ~\cite{gao2024improving}.


Despite advancements, these methods overlook long-text scenarios and rely on complicated training pipelines, \eg, multi-stage training and OCR-based text understanding~\cite{tai2024pixar}. 
In contrast, \ourname\ handles long text rendered as images and employs a simple yet effective contrastive loss, allowing to extract rich text information from pixel in an end-to-end manner.
An emerging family of multimodal methods~\cite{kim2022ocr, lee2023pix2struct, tschannen2023clippo,wang2024leveraging} leverage visual representations to process text and images together. 
CLIPPO~\cite{tschannen2023clippo} encodes image-text pair by a single vision transformer model, circumventing the need for text tokenization and halving the number of parameters compared to CLIP~\cite{radford2021learning}. 
It excels in both image-related tasks and natural language understanding tasks.


Additionally, visually-situated language understanding models aim to extract rich text information from various visual data sources, \eg, webpage screenshots~\cite{lee2023pix2struct}, tables images~\cite{zhang2023mpmqa}, and document pages~\cite{kim2022ocr, hu2024mplug}. 
These methods indicate perceiving text in a visual view holds great potential. 
In this work, we explore incorporating long-context information into LLMs by rendering plain text as images.


                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               





% CLIPPO是短文本，主要是caption，而在像素空间中理解长文本是否可行？