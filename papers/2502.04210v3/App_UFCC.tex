\section{Proof in~\texorpdfstring{\cref{sec:learn_compression}}{reference}}\label{sec:proof_undecidable}
\FCMundecidable*
\begin{proof}
We call the set above $\Fcal$, and suppose $\Fcal$ is decidable. Then there exists a Turing machine $D$ which inputs the index $k$ of any Turing machine $T_k$, and outputs a decision whether $T_k \in \Fcal$.

We reduce the halting problem to the above decision problem. Given any Turing machine $M$ and input $x$, we construct a new Turing machine $T_{M,x}$:
\begin{algorithmic}
\ttfamily
\State On input $0$, ignore the input $0$ and simulate $M$ on $x$
    \State If $M$ halts on $x$, then delete the output of $M$ and output $0$
    \State If $M$ does not halt on $x$, then rejects
\end{algorithmic}
We run the TM $D$ on $T_{M,x}$. By construction, $T_{M,x}$ either computes a trivial codebook $0\mapsto 0$, or rejects. If $D$ accepts $T_{M,x}$, then $T_{M,x}$ computes $0\mapsto 0$ and halts. If $D$ rejects $T_{M,x}$, then $M$ does not halt on $x$.

Therefore $D$ decides the halting problem, which is a contradiction.
\end{proof}