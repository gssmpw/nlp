\begin{algorithm}
\caption{Turning Point Temperature Selection \textsc(TURN)}
\label{alg:auto find}
\begin{algorithmic}[1]
\STATE {\bfseries Input:} Language Model $\mathcal{M}$, task $\mathcal{T}=\left(X_1, ..., X_k\right)$, temperature interval $t$, maximum temperature $t_{\max}$, sample size $N$, aggregation method $\mathcal{A}$.
\STATE {\bfseries Output:} Predicted Temperature $T_{\text{pred}}$.
\STATE Compute $J = \lfloor t_{\max}/t \rfloor$ \COMMENT{Number of choices}
\STATE Initialize entropy list $\mathcal{E} = []$
\FOR{$n = 1$ to $N$}
    \STATE Randomly select $X_i$ from $\mathcal{T}$
    \FOR{$j = 0$ to $J$}
        \STATE Generate a sample $Y$ using $\mathcal{M}$ with $T = j\cdot t$
        \STATE Compute token-level entropy of $Y$, add to $\mathcal{E}[j]$
    \ENDFOR
\ENDFOR
\STATE Compute $\mathcal{H}(j)=\text{Mean}\left(\mathcal{E}(j)\right)$ for all $j$
\STATE Compute $\ell(j) = \log \mathcal{H}(j)$ for all $j$
\STATE Find $j^* = \arg\min_j \left( \frac{d^2\ell}{dt^2}>0 \right)$
\STATE Compute $t^* = j^* \cdot t$
\STATE Add adaptation factor $\beta_{\mathcal{A}}$: $T_{\text{pred}} = t^* + \beta_{\mathcal{A}}$
\STATE {\bfseries Return} $T_{\text{pred}}$
%\STATE {\bfseries Return} $t^*$
\end{algorithmic}
\end{algorithm}
\vspace{-5mm}
