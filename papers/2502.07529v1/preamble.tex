\usepackage{enumitem}


\usepackage[capitalize,noabbrev]{cleveref}

\usepackage{crossreftools}
\pdfstringdefDisableCommands{%
    \let\Cref\crtCref
    \let\cref\crtcref
}


\usepackage{xargs} 
\usepackage{xstring}
\usepackage{etoolbox}

\usepackage{etoc}
\usepackage[bibliography=common]{apxproof}

\renewcommand*{\appendixprelim}{}


\usepackage{tcolorbox}
\newtcolorbox[auto counter, number within=section,crefname={insight}{insights}]{insightbox}[1][]{%
    colback=blue!5!white,
    colframe=blue!10!white,
    sharp corners,
    before upper={{\bfseries Insight~\thetcbcounter}.\ },
    #1
}

\newtcolorbox[auto counter, number within=section,crefname={insight}{insights}]{recommendationbox}[1][]{%
    colback=green!5!white,
    colframe=green!15!white,
    sharp corners,
    before upper={{\bfseries Recommendation~\thetcbcounter}.\ },
    #1
}




\newtheoremrep{thm}{Theorem}[section]
\newtheoremrep{cor}[thm]{Corollary}
\newtheoremrep{lemma}[thm]{Lemma}
\newtheoremrep{fact}[thm]{Fact}
\newtheoremrep{prop}[thm]{Proposition}

\newtheorem{definition}[thm]{Definition}
\newtheorem{assumption}[thm]{Assumption}
\newtheorem{example}[thm]{Example}
\theoremstyle{remark}
\newtheorem{remark}[thm]{Remark}

\crefname{thm}{theorem}{theorems}
\crefname{assumption}{assumption}{assumptions}
\crefname{cor}{corollary}{corollaries}
\crefname{prop}{proposition}{propositions}
\crefname{lemma}{lemma}{lemmas}
\crefname{fact}{fact}{facts}

\usepackage{mdframed}
\newmdtheoremenv{algo}{Algorithm}
\newmdtheoremenv{procedure}{Decision process}


\newlist{assnum}{enumerate}{1} %
\setlist[assnum]{label=(\roman*), ref=\theassumption(\roman*)}
\crefalias{assnumi}{assumption} 

\newlist{lemnum}{enumerate}{1} %
\setlist[lemnum]{label=(\roman*), ref=\thelemma(\roman*)}
\crefalias{lemnumi}{lemma} 

\newlist{thmnum}{enumerate}{1} %
\setlist[thmnum]{label=(\roman*), ref=\thethm(\roman*)}
\crefalias{thmnumi}{thm} 

\newlist{cornum}{enumerate}{1} %
\setlist[cornum]{label=(\roman*), ref=\thecor(\roman*)}
\crefalias{cornumi}{cor} 

\newlist{definitionnum}{enumerate}{1} %
\setlist[definitionnum]{label=(\roman*), ref=\thedefinition(\roman*)}
\crefalias{definitionnumi}{definition} 

\newlist{propnum}{enumerate}{1} %
\setlist[propnum]{label=(\roman*), ref=\theproposition(\roman*)}
\crefalias{propnumi}{prop} 


\newlist{examplenum}{enumerate}{1} %
\setlist[examplenum]{label=(\roman*), ref=\theexample(\roman*)}
\crefalias{examplenumi}{example} 

\newcommand\numberthis{\addtocounter{equation}{1}\tag{\theequation}}		%
\newcommand\dueto[1]{\text{\footnotesize#1}}
\newcommand\duetop[2]{\stackrel{\text{\clap{\itshape\tiny#1}}}{#2}}
\newcommand\defeq{\stackrel{\text{\clap{\itshape\tiny(def)}}}{=}}



\usepackage{dsfont}
\usepackage{nicefrac}

\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}

\newcommand{\z}{\bar{z}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\dom}{\text{dom}}
\newcommand{\prox}{\operatorname{prox}}
\newcommand{\proj}{\boldsymbol{\Pi}}
\newcommand{\norm}[1]{\left\Vert{#1}\right\Vert}
\newcommand{\set}[1]{\left\{#1\right\}}
\newcommand{\abs}[1]{\left\vert{#1}\right\vert}

\usepackage{tcolorbox}
\newtcolorbox{defbox}{colback=black!5!white,colframe=black!75!black}
\newtcolorbox{asmbox}{colback=black!5!white,colframe=black!75!black}
\newtcolorbox{thmbox}{colback=red!5!white,colframe=red!75!black}


\usepackage{braket}
\newcommand{\id}{\operatorname{id}}
\newcommand{\zer}{\operatorname{zer}}
\newcommand{\fix}{\operatorname{fix}}
\newcommand{\graph}{\operatorname{gph}}
\newcommand{\dist}{\operatorname{dist}}
\newcommand{\diag}{\operatorname{diag}}
\newcommand{\lmo}{\operatorname{lmo}}
\newcommand{\sign}{\operatorname{sign}}
\newcommand{\RMS}{\mathrm{RMS}}

\newcommandx{\QC}[2][1={},2={}]{\ifstrempty{#1}{Q#2}{Q_{#1}\ifstrempty{#2}{}{(#2)}}}
\newcommandx{\PC}[2][1={},2={}]{\ifstrempty{#1}{P#2}{P_{#1}\ifstrempty{#2}{}{(#2)}}}
\newcommandx{\HC}[2][1={},2={}]{\ifstrempty{#1}{H#2}{H_{#1}\ifstrempty{#2}{}{(#2)}}}
\newcommandx{\MC}[2][1={},2={}]{\ifstrempty{#1}{M#2}{M_{#1}\ifstrempty{#2}{}{(#2)}}}

\newcommandx{\EF}[2][1={k},2={}]{\mathbb E\ifstrempty{#1}{}{_{#1}}#2}


\usepackage{algorithm}
\usepackage[noend]{algpseudocode}
\newcommand{\algfont}[1]{\textbf{#1}}


\newcommand{\red}[1]{{\color[rgb]{1,0,0}#1}}
\newcommand{\blue}[1]{{\color[rgb]{0,0,1}#1}}



\newcommand{\equationbox}[1]{\noindent\fbox{
\addtolength{\linewidth}{-2\fboxsep}%
\addtolength{\linewidth}{-2\fboxrule}%
\begin{minipage}{\linewidth}
\vspace{-1em}
#1
\end{minipage}}}

\usepackage{adjustbox}

\usepackage{array,multirow,hhline,graphicx}
\usepackage{colortbl}
\newcommand{\STAB}[1]{\begin{tabular}{@{}c@{}}#1\end{tabular}}
\newcommand{\cellhl}{\cellcolor{SkyBlue!40}}

\usepackage{pifont}
\newcommand{\xmark}{\ding{55}}
\newcommand*\ruleline[1]{\par\noindent\raisebox{.8ex}{\makebox[\linewidth]{\hrulefill\hspace{1ex}\raisebox{-.8ex}{#1}\hspace{1ex}\hrulefill}}}


\newcommand\tp[1]{{\color{blue}TP: #1}}
\newcommand\KA[1]{{\color{red}KA: #1}}
\newcommand{\fmin}{f^\star}

\usepackage{xspace}
\newcommand{\Scion}{{\sc Scion}\xspace}
\newcommand{\uScion}{{\sc Unconstrained Scion}\xspace}
