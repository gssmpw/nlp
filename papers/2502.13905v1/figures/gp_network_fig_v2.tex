\tikzset{every picture/.style={line width=0.7pt}} % Set default line width
\begin{tikzpicture}[node distance=10mm and 10mm,
        process/.style={circle, draw, minimum size=6.5mm, align=center, inner sep=0.7pt},
        every node/.style={font=\normalsize},
        arr/.style={-Stealth},
        obs/.style={circle, draw, fill=gray!30, minimum size=6.5mm, align=center, inner sep=0.7pt}
    ]
    % Define nodes
    % input1 nodes (leaf nodes)
    \node[obs] (input1) {$\cusvector{\params}^{(1)}$};
    \node[process] (f1) [right=of input1, xshift=-0.2cm] {$\cusvector{\processfunction}^{(1)}$};
    \node[obs] (y1) [right=of f1] {$\cusvector{\tilde{\obsouts}}^{(1)}$};
    \node[process] (f2) [right=of y1, xshift=0.2cm] {$\cusvector{\processfunction}^{(2)}$};
    \node[obs] (y2) [right=of f2, xshift=0.2cm] {$\cusvector{\tilde{\obsouts}}^{(2)}$};
    \node[obs] (input2) [below=of f2, yshift=0.3cm] {$\cusvector{\params}^{(2)}$};

    % Connect nodes with arrows
    \draw[arr, draw=darkgreen] (input2) -- (f2);
    \draw[arr, draw=darkgreen] (input1) -- node[above, yshift=0.35cm]
    {$\probability(\cusvector{\processfunction}^{(1)}\vert \cusvector{\params}^{(1)})$} (f1);
    \draw[arr, draw=blue] (f1) -- node[below, yshift=-0.35cm]
    {$\probability(\cusvector{\obsouts}^{(1)}\vert\cusvector{\processfunction}^{(1)})$} (y1);
    \draw[arr, draw=red] (y1) -- node[above, yshift=0.35cm]
    {$\probability(\cusvector{\processfunction}^{(2)}\vert\cusvector{\params}^{(2)}, \cusvector{\tilde{\obsouts}}^{(1)})$} (f2);
    \draw[arr, draw=blue] (f2) -- node[below, yshift=-0.35cm, xshift=0.2cm]
    {$\probability(\cusvector{\obsouts}^{(2)}\vert\cusvector{\processfunction}^{(2)})$} (y2);

\end{tikzpicture}