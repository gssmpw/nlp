\tikzset{every picture/.style={line width=0.7pt}} % Set default line width
\begin{tikzpicture}[node distance=30mm and 10mm,
        process/.style={circle, draw, minimum size=6mm, align=center, inner sep=0.5pt},
        every node/.style={font=\footnotesize},
        arr/.style={-Stealth},
        obs/.style={circle, draw, fill=gray!30, minimum size=6mm, align=center, inner sep=0.5pt}
    ]
    % Define nodes
    \node[process] (f1) {$\cusvector{\processfunction}^{(1)}$};
    \node[obs] (x1) [above = of f1,yshift=-2.5cm, xshift=-1.0cm ] {$\cusvector{\params}^{(1)}$};
    \node[process] (y1) [above=of f1, yshift=-2.5cm] {$\cusvector{\obsouts}^{(1)}$};
    \node[process] (f2) [right= of f1, xshift=1.2cm]{$\cusvector{\processfunction}^{(2)}$};
    \node[process] (y2) [above=of f2, yshift=-2.5cm] {$\cusvector{\obsouts}^{(2)}$};
    \node[process] (f3) [right= of f2, xshift=1.0cm]{$\cusvector{\processfunction}^{(3)}$};
    \node[process] (y3) [above=of f3, yshift=-2.5cm] {$\cusvector{\obsouts}^{(3)}$};
    \node[process] (f4) [below= of f1, yshift=2.5cm, xshift=1.0cm]{$\cusvector{\processfunction}^{(4)}$};
    \node[obs] (y4) [left=of f4, xshift=-0.3cm] {$\cusvector{\obsouts}^{(4)}$};

    \node[process] (f5) [right= of f4]{$\cusvector{\processfunction}^{(5)}$};
    \node[obs] (y5) [right=of f5, xshift=0.0cm] {$\cusvector{\obsouts}^{(5)}$};

    \draw[arr] (f1) -- (y1);
    \draw[arr] (x1) -- (f1);
    \draw[arr] (f2) -- (y2);
    \draw[arr] (f3) -- (y3);
    \draw[arr] (f4) -- (y4);
    \draw[arr] (f5) -- (y5);

    \draw[arr] (f1) -- (f2);
    \draw[arr] (f2) -- (f3);
    \draw[arr] (f2) -- (f5);
    \draw[arr] (f1) -- (f4);
    \draw[arr] (f4) -- (f5);

    \plate [dashed, inner sep=0.15cm, draw=blue] {AL} {(f1) (f2) (f4) (f5) (y4) (y5)} {};
    \plate [dashed, inner sep=0.05cm, draw=red] {NL} {(f4) (y4)} {};
    \plate [dashed, inner sep=0.05cm, draw=red] {NL} {(f5) (y5)} {};

\end{tikzpicture}