\tikzset{every picture/.style={line width=0.7pt}} % Set default line width
\begin{tikzpicture}[node distance=10mm and 10mm,
        process/.style={circle, draw, minimum size=6.5mm, align=center, inner sep=0.7pt},
        every node/.style={font=\normalsize},
        arr/.style={-Stealth},
        obs/.style={circle, draw, fill=gray!30, minimum size=6.5mm, align=center, inner sep=0.7pt}
    ]
    % Define nodes
    \node[obs] (input1){$\cusvector{\params}^{(1)}$};
    \node[process] (f1) [right=of input1, xshift=-0.2cm] {$\cusvector{\processfunction}^{(1)}$};
    \node[obs] (y1) [right=of f1, yshift=1.5cm] {$\cusvector{\tilde{\obsouts}}^{(1)}$};
    \node[process, draw=none] (midpoint_f1) [right=of f1, xshift=-0.33cm] {};
    \node[process] (f2) [right=of midpoint_f1, xshift=0.5cm] {$\cusvector{\processfunction}^{(2)}$};
    \node[obs] (input2) [right=of f2, xshift=-0.1cm] {$\cusvector{\params}^{(2)}$};
    \node[process, draw=none] (midpoint_y1) [right=of y1, xshift=0cm] {};
    \node[obs] (y2) [right=of midpoint_y1] {$\cusvector{\tilde{\obsouts}}^{(2)}$};

    % Connect nodes with arrows
    \draw[arr, draw=darkgreen] (input1) -- node[below, yshift=-0.25cm, xshift=-0.25cm]
    {$\probability(\cusvector{\processfunction}^{(1)}\vert\cusvector{\params}^{(1)})$} (f1);
    \draw[arr, draw=darkgreen] (input2) -- (f2);
    \draw[arr, draw=blue] (f1) -- node[above, sloped, yshift=0.25cm]
    {$\probability(\cusvector{\obsouts}^{(1)}\vert\cusvector{\processfunction}^{(1)})$} (y1);
    \draw[arr, draw=red] (f1) -- node[below, yshift=-0.25cm, xshift=0.25cm]
    {$\probability(\cusvector{\processfunction}^{(2)}\vert\cusvector{\params}^{(2)}, \cusvector{\processfunction}^{(1)})$} (f2);
    \draw[arr, draw=blue] (f2) -- node[above, sloped, yshift=0.25cm]
    {$\probability(\cusvector{\obsouts}^{(2)}\vert\cusvector{\processfunction}^{(2)})$} (y2);

\end{tikzpicture}