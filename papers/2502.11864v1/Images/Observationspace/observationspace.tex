\begin{figure}
    \centering
    
    
 \resizebox{\columnwidth}{!}{\begin{tikzpicture}
 \draw[fill = teal, opacity=.4] (-6,0.5) rectangle (-4,-0.5) node[pos=0.5,text opacity=1] {\large Sensor};
 \draw[thick] (-4,0.5)--(-2.75,4.0);
 \draw[thick] (-4,-0.5)--(-2.75,-4.0);
        \node at (-2,0) {\includegraphics[width=0.07\textwidth]{Images/Observationspace/obs_img.png}};
        \draw[color=red] (-2,-3) rectangle (-1.7,-2.05);
        \draw[->] (-1,-2.425)--(-1.7,-2.425) node[right, color=red, pos=-0.2] {\large Agent};
        \draw[decorate, decoration = {brace}, rotate=180] (1.35,4)--(2.65,4) node[below,pos=0.5] {\large $4$};
        \draw[thick,decorate,decoration= {brace}, rotate=180] (2.7,4)--(2.7,-4) node[left,pos=0.5] {\large $25$};
        \node at (2,0) {\includegraphics[width=0.07\textwidth]{Images/Observationspace/gray_scale.png}};
        \node at (4,2.75) {\includegraphics[width=0.0065\textwidth, trim = 0 80 0 0, clip]{Images/Observationspace/flatte_scale.png}};
        \node at (4,-2.75) {\includegraphics[width=0.0065\textwidth, trim = 0 0 0 80, clip]{Images/Observationspace/flatte_scale.png}};
        \node at (4,0.25) {\vdots};
        \node at (4,1.25) {\vdots};
        \node at (4,-1.2) {\vdots};
        \node at (4,0.75) {\vdots};
        \node at (4,-.25) {\vdots};
        \node at (4, -.75) {\vdots};
        \draw[thick,->] (-1.35,0)--(1.39,0) node[above, pos=0.5] {\large Gray scaled};
        \node[rotate=90] at (3.3,0) {\large Flatten}; 
        \draw[pattern = crosshatch dots gray,fill = gray] (6,3.75)--(6.5,3.75)--(6.5,-2.25)--(6,-2.25)--(6,3.75);
        \draw[pattern color=gray!50,
pattern=north east lines,fill = cyan] (6,-2.25)--(6.5,-2.25)--(6.5,-3.25)--(6,-3.25)--(6,-2.25);
        \draw[fill=blue] (6,-3.75)rectangle(6.5,-3.25);
        \draw [thick,decorate, decoration={brace,amplitude=10pt}] (6.5,-3.25)--(6.5,-3.75);
        \node[text width=4.5cm] at (9.5,-3.375) {\large Uncertainty component\\ ($4$ element)};
        \draw[thick,->] (4.2,0)--(6,0);
        \draw[thick,decorate, decoration= {brace, amplitude=10pt}] (6.5,3.75)--(6.5,-2.25) ;
        \node[ text width=4.5cm] at (9.5,.75) {\large Vision component\\ ($100$ elements)};
        \draw[thick,decorate, decoration= {brace,amplitude=10pt}] (6.5,-2.25)--(6.5,-3.25);
        \node[ text width=4.5cm] at (9.5,-2.375) {\large Non-visual component\\ ($6$ elements)};
    \end{tikzpicture}}
\caption{Observation space setup. The observation space dimension increases when the uncertainty is added. We distinguish between three components: 1) Vision component -- consisting of a flattened and gray-scaled semantic segmentation image; 2) Non-visual component - containing, e.g., velocity; 3) Uncertainty component -- containing the one-hot encoded uncertainty information.}
    \label{fig:statespace}
\end{figure}