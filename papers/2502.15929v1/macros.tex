\newcommand\numberthis{\addtocounter{equation}{1}\tag{\theequation}}

% -- symbol macros --
\newcommand{\cmark}{\ding{51}}
\newcommand{\xmark}{\ding{55}}
\newcommand{\attrfrag}{{\sf attr-frag}}
\newcommand{\recdfrag}{{\sf rept-frag}}
\newcommand{\afrag}{\ensuremath{\mathsf{att}\textsf{-}\mathsf{frag}}}
\newcommand{\rfrag}{\ensuremath{\mathsf{r}\textsf{-}\mathsf{frag}}}
\renewcommand{\vec}[1]{#1}
\newcommand{\fr}{{\texttt{fr}}\,}
\newcommand{\ir}{{\texttt{it}}\,}

% -- math macros --
\newcommand{\bolda}{\ensuremath{\boldsymbol{a}}}
\newcommand{\boldb}{\ensuremath{\boldsymbol{b}}}
\newcommand{\boldc}{\ensuremath{\boldsymbol{c}}}
\newcommand{\boldd}{\ensuremath{\boldsymbol{d}}}
\newcommand{\bolde}{\ensuremath{\boldsymbol{e}}}
\newcommand{\boldf}{\ensuremath{\boldsymbol{f}}}
\newcommand{\boldg}{\ensuremath{\boldsymbol{g}}}
\newcommand{\boldh}{\ensuremath{\boldsymbol{h}}}
\newcommand{\boldi}{\ensuremath{\boldsymbol{i}}}
\newcommand{\boldj}{\ensuremath{\boldsymbol{j}}}
\newcommand{\boldk}{\ensuremath{\boldsymbol{k}}}
\newcommand{\boldl}{\ensuremath{\boldsymbol{l}}}
\newcommand{\boldm}{\ensuremath{\boldsymbol{m}}}
\newcommand{\boldn}{\ensuremath{\boldsymbol{n}}}
\newcommand{\boldo}{\ensuremath{\boldsymbol{o}}}
\newcommand{\boldp}{\ensuremath{\boldsymbol{p}}}
\newcommand{\boldq}{\ensuremath{\boldsymbol{q}}}
\newcommand{\boldr}{\ensuremath{\boldsymbol{r}}}
\newcommand{\bolds}{\ensuremath{\boldsymbol{s}}}
\newcommand{\boldt}{\ensuremath{\boldsymbol{t}}}
\newcommand{\boldu}{\ensuremath{\boldsymbol{u}}}
\newcommand{\boldv}{\ensuremath{\boldsymbol{v}}}
\newcommand{\boldw}{\ensuremath{\boldsymbol{w}}}
\newcommand{\boldx}{\bfx}
\newcommand{\boldy}{\ensuremath{\boldsymbol{y}}}
\newcommand{\boldz}{\ensuremath{\boldsymbol{z}}}
\newcommand{\boldzero}{\ensuremath{\boldsymbol{0}}}
\newcommand{\boldone}{\ensuremath{\boldsymbol{1}}}

\newcommand{\boldA}{\ensuremath{\boldsymbol{A}}}
\newcommand{\boldB}{\ensuremath{\boldsymbol{B}}}
\newcommand{\boldC}{\ensuremath{\boldsymbol{C}}}
\newcommand{\boldD}{\ensuremath{\boldsymbol{D}}}
\newcommand{\boldE}{\ensuremath{\boldsymbol{E}}}
\newcommand{\boldF}{\ensuremath{\boldsymbol{F}}}
\newcommand{\boldG}{\ensuremath{\boldsymbol{G}}}
\newcommand{\boldH}{\ensuremath{\boldsymbol{H}}}
\newcommand{\boldI}{\ensuremath{\boldsymbol{I}}}
\newcommand{\boldJ}{\ensuremath{\boldsymbol{J}}}
\newcommand{\boldK}{\ensuremath{\boldsymbol{K}}}
\newcommand{\boldL}{\ensuremath{\boldsymbol{L}}}
\newcommand{\boldM}{\ensuremath{\boldsymbol{M}}}
\newcommand{\boldN}{\ensuremath{\boldsymbol{N}}}
\newcommand{\boldO}{\ensuremath{\boldsymbol{O}}}
\newcommand{\boldP}{\ensuremath{\boldsymbol{P}}}
\newcommand{\boldQ}{\ensuremath{\boldsymbol{Q}}}
\newcommand{\boldR}{\bfR}
\newcommand{\boldS}{\ensuremath{\boldsymbol{S}}}
\newcommand{\boldT}{\ensuremath{\boldsymbol{T}}}
\newcommand{\boldU}{\ensuremath{\boldsymbol{U}}}
\newcommand{\boldV}{\ensuremath{\boldsymbol{V}}}
\newcommand{\boldW}{\ensuremath{\boldsymbol{W}}}
\newcommand{\boldX}{\ensuremath{\boldsymbol{X}}}
\newcommand{\boldY}{\ensuremath{\boldsymbol{Y}}}
\newcommand{\boldZ}{\ensuremath{\boldsymbol{Z}}}

\newcommand{\bfA}{\ensuremath{\mathbf{A}}}
\newcommand{\bfB}{\ensuremath{\mathbf{B}}}
\newcommand{\bfC}{\ensuremath{\mathbf{C}}}
\newcommand{\bfD}{\ensuremath{\mathbf{D}}}
\newcommand{\bfE}{\ensuremath{\mathbf{E}}}
\newcommand{\bfF}{\ensuremath{\mathbf{F}}}
\newcommand{\bfG}{\ensuremath{\mathbf{G}}}
\newcommand{\bfH}{\ensuremath{\mathbf{H}}}
\newcommand{\bfI}{\ensuremath{\mathbf{I}}}
\newcommand{\bfJ}{\ensuremath{\mathbf{J}}}
\newcommand{\bfK}{\ensuremath{\mathbf{K}}}
\newcommand{\bfL}{\ensuremath{\mathbf{L}}}
\newcommand{\bfM}{\ensuremath{\mathbf{M}}}
\newcommand{\bfN}{\ensuremath{\mathbf{N}}}
\newcommand{\bfO}{\ensuremath{\mathbf{O}}}
\newcommand{\bfP}{\ensuremath{\mathbf{P}}}
\newcommand{\bfQ}{\ensuremath{\mathbf{Q}}}
\newcommand{\bfR}{\ensuremath{\mathbf{R}}}
\newcommand{\bfS}{\ensuremath{\mathbf{S}}}
\newcommand{\bfT}{\ensuremath{\mathbf{T}}}
\newcommand{\bfU}{\ensuremath{\mathbf{U}}}
\newcommand{\bfV}{\ensuremath{\mathbf{V}}}
\newcommand{\bfW}{\ensuremath{\mathbf{W}}}
\newcommand{\bfX}{\ensuremath{\mathbf{X}}}
\newcommand{\bfY}{\ensuremath{\mathbf{Y}}}
\newcommand{\bfZ}{\ensuremath{\mathbf{Z}}}

\newcommand{\bfa}{\ensuremath{\mathbf{a}}}
\newcommand{\bfb}{\ensuremath{\mathbf{b}}}
\newcommand{\bfc}{\ensuremath{\mathbf{c}}}
\newcommand{\bfd}{\ensuremath{\mathbf{d}}}
\newcommand{\bfe}{\ensuremath{\mathbf{e}}}
\newcommand{\bff}{\ensuremath{\mathbf{f}}}
\newcommand{\bfg}{\ensuremath{\mathbf{g}}}
\newcommand{\bfh}{\ensuremath{\mathbf{h}}}
\newcommand{\bfi}{\ensuremath{\mathbf{i}}}
\newcommand{\bfj}{\ensuremath{\mathbf{j}}}
\newcommand{\bfk}{\ensuremath{\mathbf{k}}}
\newcommand{\bfl}{\ensuremath{\mathbf{l}}}
\newcommand{\bfm}{\ensuremath{\mathbf{m}}}
\newcommand{\bfn}{\ensuremath{\mathbf{n}}}
\newcommand{\bfo}{\ensuremath{\mathbf{o}}}
\newcommand{\bfp}{\ensuremath{\mathbf{p}}}
\newcommand{\bfq}{\ensuremath{\mathbf{q}}}
\newcommand{\bfr}{\ensuremath{\mathbf{r}}}
\newcommand{\bfs}{\ensuremath{\mathbf{s}}}
\newcommand{\bft}{\ensuremath{\mathbf{t}}}
\newcommand{\bfu}{\ensuremath{\mathbf{u}}}
\newcommand{\bfv}{\ensuremath{\mathbf{v}}}
\newcommand{\bfw}{\ensuremath{\mathbf{w}}}
\newcommand{\bfx}{\ensuremath{\mathbf{x}}}
\newcommand{\bfy}{\ensuremath{\mathbf{y}}}
\newcommand{\bfz}{\ensuremath{\mathbf{z}}}

\newcommand{\calA}{\ensuremath{\mathcal{A}}}
\newcommand{\calB}{\ensuremath{\mathcal{B}}}
\newcommand{\calC}{\ensuremath{\mathcal{C}}}
\newcommand{\calD}{\ensuremath{\mathcal{D}}}
\newcommand{\calE}{\ensuremath{\mathcal{E}}}
\newcommand{\calF}{\ensuremath{\mathcal{F}}}
\newcommand{\calG}{\ensuremath{\mathcal{G}}}
\newcommand{\calH}{\ensuremath{\mathcal{H}}}
\newcommand{\calI}{\ensuremath{\mathcal{I}}}
\newcommand{\calJ}{\ensuremath{\mathcal{J}}}
\newcommand{\calK}{\ensuremath{\mathcal{K}}}
\newcommand{\calL}{\ensuremath{\mathcal{L}}}
\newcommand{\calM}{\ensuremath{\mathcal{M}}}
\newcommand{\calN}{\ensuremath{\mathcal{N}}}
\newcommand{\calO}{\ensuremath{\mathcal{O}}}
\newcommand{\calP}{\ensuremath{\mathcal{P}}}
\newcommand{\calQ}{\ensuremath{\mathcal{Q}}}
\newcommand{\calR}{\ensuremath{\mathcal{R}}}
\newcommand{\calS}{\ensuremath{\mathcal{S}}}
\newcommand{\calT}{\ensuremath{\mathcal{T}}}
\newcommand{\calU}{\ensuremath{\mathcal{U}}}
\newcommand{\calV}{\ensuremath{\mathcal{V}}}
\newcommand{\calW}{\ensuremath{\mathcal{W}}}
\newcommand{\calX}{\ensuremath{\mathcal{X}}}
\newcommand{\calY}{\ensuremath{\mathcal{Y}}}
\newcommand{\calZ}{\ensuremath{\mathcal{Z}}}

% --theorem --
\newtheorem{lemma}{Lemma}[section]
\newtheorem{theorem}[lemma]{Theorem}
\newtheorem{corollary}[lemma]{Corollary}
\newtheorem{problem}[lemma]{Problem}
\newtheorem{definition}[lemma]{Definition}
\newtheorem{fact}[lemma]{Fact}
\newtheorem{proposition}[lemma]{Proposition}
\newtheorem{assumption}[lemma]{Assumption}
% \newtheorem{claim}[lemma]{Claim}
\newtheorem{claim}{Claim}[lemma]
\newtheorem{remark}[lemma]{Remark}

\newtheorem{innercustomthm}{Claim}
\newenvironment{customclaim}[1]
  {\renewcommand\theinnercustomthm{#1}\innercustomthm}
  {\endinnercustomthm}

\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}
\newcommand{\ber}[1]{\mathsf{Ber}\left(#1\right)}
\newcommand{\betad}[2]{\mathsf{Beta\left(#1, #2\right)}}
\newcommand{\chid}[1]{\mathsf{Chi}\left(#1\right)}
\newcommand{\cov}[2]{\mathsf{Cov}\left(#1,#2\right)}
\newcommand{\E}[2]{\mathbb{E}_{#1}\left[ #2 \right]}
\newcommand{\erf}{\mathsf{erf}}
\newcommand{\erfc}{\mathsf{erfc}}
\newcommand{\eps}{\varepsilon}
\newcommand{\expo}[1]{\mathsf{Expo}\left(#1\right)}
\newcommand{\gammad}[2]{\mathsf{Gamma}\left(#1, #2\right)}
\newcommand{\ggammad}[3]{\mathsf{Gamma}\left(#1, #2, #3\right)}
\newcommand{\gumbel}[1]{\mathsf{Gumbel}\left(#1\right)}
\newcommand{\gumbeld}[2]{\mathsf{Gumbel}\left(#1, #2\right)}
\newcommand{\indic}[1]{\mathbbm{1}_{#1}}
\newcommand{\lap}[1]{\mathsf{Lap}\left(#1\right)}
\newcommand{\normc}{\|\cdot\|_c}
\newcommand{\normrv}{\|\cdot\|_{rv}}
\newcommand{\norms}{\|\cdot\|_s}
\newcommand{\ord}{\mbox{ord}}
\renewcommand{\P}[2]{\mathbb{P}_{#1}\left[#2\right]}
\newcommand{\poi}[1]{\mathsf{Poi}\left(#1\right)}
\newcommand{\rnm}{\mathsf{RNM}}
\newcommand{\sign}{\mathsf{sign}}
\newcommand{\var}[1]{\mathsf{Var}\left(#1\right)}
\newcommand{\vecone}{\mathbf{1}}

\newcommand{\mj}[1]{{\color{purple}[Matthew: #1]}}
\newcommand{\ajy}[1]{{\color{blue}[AlexJYu: #1]}}
\newcommand{\ak}[1]{{\color{teal}[AlexK: #1]}}
% \newcommand{\mj}[1]{}
% \newcommand{\ajy}[1]{}
% \newcommand{\ak}[1]{}

% Text wrapped in \arxiv will show up only in Arxiv version, and text wrapped in \narxiv will show up only in non-Arxiv version.
\newcommand{\arxiv}[1]{#1}
\newcommand{\narxiv}[1]{#1}