\pdfoutput=1
\newcommand{\red}[1]{\textcolor{red}{ #1}}
\newcommand{\blue}[1]{\textcolor{blue}{ #1}}
\newcommand{\green}[1]{\textcolor{black}{ #1}}
\renewcommand{\baselinestretch}{1}

% \titlespacing*{\section}{0pt}{3pt}{3pt}
% \titlespacing*{\subsection}{0pt}{3pt}{2pt}
% \titlespacing*{\subsubsection}{0pt}{3pt}{2pt}

\documentclass[9pt, conference]{IEEEtran}
\usepackage{balance}
\usepackage{nopageno}
% \usepackage{graphicx}
% \usepackage{epstopdf}
\input{misc/customize}


\begin{document}

\title{Accelerating OTA Circuit Design: Transistor Sizing Based on~a Transformer Model and Precomputed Lookup Tables}

% \author{\IEEEauthorblockN{Subhadip Ghosh}
% \IEEEauthorblockA{\textit{University of Minnesota}\\
% Minneapolis, MN, USA}
% \and
% \IEEEauthorblockN{Endalk Y. Gebru}
% \IEEEauthorblockA{\textit{University of Minnesota}\\
% Minneapolis, MN, USA}
% \and
% \IEEEauthorblockN{Chandramouli Kashyap}
% \IEEEauthorblockA{\textit{Cadence Design Systems}\\
% Portland, OR, USA}
% \and
% \IEEEauthorblockN{Ramesh Harjani}
% \IEEEauthorblockA{\textit{University of Minnesota}\\
% Minneapolis, MN, USA}
% \and
% \IEEEauthorblockN{Sachin S. Sapatnekar}
% \IEEEauthorblockA{\textit{University of Minnesota}\\
% Minneapolis, MN, USA}
% }

\author{
Subhadip Ghosh$^1$, Endalk Y. Gebru$^1$, Chandramouli V. Kashyap$^2$, Ramesh Harjani$^1$, Sachin S. Sapatnekar$^1$ \\
$^1$\text{Department of Electrical and Computer Engineering, University of Minnesota}, Minneapolis, MN, USA \\
$^2$\text{Cadence Design Systems}, Portland, OR, USA
}


\maketitle

\begin{abstract}
Device sizing is crucial for meeting performance specifications in operational transconductance amplifiers (OTAs), and this work proposes an automated sizing framework based on a transformer model. The approach first leverages the driving-point signal flow graph (DP-SFG) to map an OTA circuit and its specifications into transformer-friendly sequential data. A specialized tokenization approach is applied to the sequential data to expedite the training of the transformer on a diverse range of OTA topologies, under multiple specifications. Under specific performance constraints, the trained transformer model is used to accurately predict DP-SFG parameters in the inference phase. The predicted DP-SFG parameters are then translated to transistor sizes using a precomputed look-up table-based approach inspired by the $g_m/I_d$ methodology. In contrast to previous conventional or machine-learning-based methods, the proposed framework achieves significant improvements in both speed and computational efficiency by reducing the need for expensive SPICE simulations within the optimization loop; instead, almost all SPICE simulations are confined to the one-time training phase. The method is validated on a variety of unseen specifications, and the sizing solution demonstrates over 90\% success in meeting specifications with just one SPICE simulation for validation, and 100\% success with 3--5 additional SPICE simulations. 
% \redHL{Can we quantify ``small'' -- e.g., ``after 3-5 iterations''? Can we change ``iteration'' to ``SPICE simulation''?\textbf{YES, How about ``additional'' with that?}}

\end{abstract}

\input{sec/1-Intro}
\input{sec/2-Background}
\input{sec/3-Proposed_Methodology}
\input{sec/4-Experiments_Results}
\input{sec/5-Conclusion}

% \redHL{The number of references is quite small and most of the last page is blank. This was understandable when you were page-limited, but it looks bad when the last page is mostly blank. (Don't you think about these things without being told?) I have tried to mitigate this by using the full form of each journal/conference to take up more space (also changed to IEEEtran instead of ieeetr2, which allows me to turn off ``{\em et al.}''). I am not even sure you have run a good enough literature review. There are no references from Helmut Graeb's group, and he has done a LOT of work on OTAs -- missing his work is a glaring omission. Nothing from Georges Gielen's group. Plus I am sure there are other groups you have missed. {\bf Please answer this question: have you really made the effort to read all papers on OTA sizing?} I suspect not. Don't you think 2 years is enough time to show the will to conduct a full literature review? What do you do with your time??} SSS_NOTE

\newpage
% \bstctlcite{IEEEexample:BSTcontrol}
% \bibliographystyle{alpha}
% \bibliographystyle{misc/ieeetr2}
\bibliographystyle{misc/IEEEtran}
% \bibliography{main.bib}
% Generated by IEEEtran.bst, version: 1.14 (2015/08/26)
\begin{thebibliography}{10}
\providecommand{\url}[1]{#1}
\csname url@samestyle\endcsname
\providecommand{\newblock}{\relax}
\providecommand{\bibinfo}[2]{#2}
\providecommand{\BIBentrySTDinterwordspacing}{\spaceskip=0pt\relax}
\providecommand{\BIBentryALTinterwordstretchfactor}{4}
\providecommand{\BIBentryALTinterwordspacing}{\spaceskip=\fontdimen2\font plus
\BIBentryALTinterwordstretchfactor\fontdimen3\font minus \fontdimen4\font\relax}
\providecommand{\BIBforeignlanguage}[2]{{%
\expandafter\ifx\csname l@#1\endcsname\relax
\typeout{** WARNING: IEEEtran.bst: No hyphenation pattern has been}%
\typeout{** loaded for the language `#1'. Using the pattern for}%
\typeout{** the default language instead.}%
\else
\language=\csname l@#1\endcsname
\fi
#2}}
\providecommand{\BIBdecl}{\relax}
\BIBdecl

\bibitem{harjani_89}
R.~Harjani, R.~Rutenbar, and L.~Carley, ``{OASYS}: A framework for analog circuit synthesis,'' \emph{IEEE Transactions on Computer-Aided Design of Integrated Circuits and Systems}, vol.~8, no.~12, pp. 1247--1266, Dec. 1989.

\bibitem{koza_96}
J.~R. Koza, F.~H. Bennett, D.~Andre, and M.~A. Keane, ``Automated design of both the topology and sizing of analog electrical circuits using genetic programming,'' in \emph{Artificial Intelligence in Design '96}, J.~S. Gero and F.~Sudweeks, Eds.\hskip 1em plus 0.5em minus 0.4em\relax Dordrecht, Netherlands: Springer, 1996, pp. 151--170.

\bibitem{Kruiskamp_95}
W.~Kruiskamp and D.~Leenaerts, ``{DARWIN}: {CMOS} opamp synthesis by means of a genetic algorithm,'' in \emph{Proceedings of the ACM/IEEE Design Automation Conference}, 1995, pp. 433--438.

\bibitem{gielen_90}
G.~Gielen, H.~Walscharts, and W.~Sansen, ``Analog circuit design optimization based on symbolic simulation and simulated annealing,'' \emph{IEEE Journal of Solid-State Circuits}, vol.~25, no.~3, pp. 707--713, Jun. 1990.

\bibitem{vural_12}
R.~A.~Vural and T.~Yildirim, ``Analog circuit sizing via swarm intelligence,'' \emph{AEU -- International Journal of Electronics and Communications}, vol.~66, p. 732–740, Sep. 2012.

\bibitem{abel_22}
I.~Abel and H.~Graeb, ``{FUBOCO}: Structure synthesis of basic op-amps by functional block composition,'' \emph{ACM Transactions on Design Automation of Electronic Systems}, vol.~27, no.~6, Jun. 2022.

\bibitem{abel_22_2}
I.~Abel, M.~Neuner, and H.~E. Graeb, ``A hierarchical performance equation library for basic op-amp design,'' \emph{IEEE Transactions on Computer-Aided Design of Integrated Circuits and Systems}, vol.~41, no.~7, pp. 1976--1989, 2022.

\bibitem{hershenson_01}
M.~Hershenson, S.~Boyd, and T.~Lee, ``Optimal design of a {CMOS} op-amp via geometric programming,'' \emph{IEEE Transactions on Computer-Aided Design of Integrated Circuits and Systems}, vol.~20, no.~1, pp. 1--21, Jan. 2001.

\bibitem{budak_21}
A.~F. Budak, P.~Bhansali, B.~Liu, N.~Sun, D.~Z. Pan, and C.~V. Kashyap, ``{DNN-Opt}: An {RL} inspired optimization for analog circuit sizing using deep neural networks,'' in \emph{Proceedings of the ACM/IEEE Design Automation Conference}, 2021, pp. 1219--1224.

\bibitem{settaluri_20}
K.~Settaluri, A.~Haj-Ali, Q.~Huang, K.~Hakhamaneshi, and B.~Nikolic, ``{AutoCkt}: Deep reinforcement learning of analog circuit designs,'' in \emph{Proceedings of the Design, Automation \& Test in Europe}, 2020, pp. 490--495.

\bibitem{Wang_2020}
H.~Wang, K.~Wang, J.~Yang, L.~Shen, N.~Sun, H.-S. Lee, and S.~Han, ``{GCN-RL} circuit designer: Transferable transistor sizing with graph neural networks and reinforcement learning,'' in \emph{Proceedings of the ACM/IEEE Design Automation Conference}, 2020, pp. 1--6.

\bibitem{choi_23}
M.~Choi, Y.~Choi, K.~Lee, and S.~Kang, ``Reinforcement learning-based analog circuit optimizer using {$g_m/I_D$} for sizing,'' in \emph{Proceedings of the ACM/IEEE Design Automation Conference}, 2023.

\bibitem{vaswani_17}
A.~Vaswani, N.~Shazeer, N.~Parmar, J.~Uszkoreit, L.~Jones, A.~N. Gomez, L.~Kaiser, and I.~Polosukhin, ``Attention is all you need,'' in \emph{Advances in Neural Information Processing Systems}, vol.~30, Dec. 2017, pp. 5998--6008.

\bibitem{ochoa_98}
A.~Ochoa, ``A systematic approach to the analysis of general and feedback circuits and systems using signal flow graphs and driving-point impedance,'' \emph{IEEE Transactions on Circuits and Systems II}, vol.~45, no.~2, pp. 187--195, Feb. 1998.

\bibitem{schmid_18}
H.~Schmid and A.~Huber, ``Analysis of switched-capacitor circuits using driving-point signal-flow graphs,'' \emph{Analog Integrated Circuits and Signal Processing}, vol.~96, pp. 495--507, Sep. 2018.

\bibitem{Mason53}
S.~J. Mason, ``Feedback theory-some properties of signal flow graphs,'' \emph{Proceedings of the IRE}, vol.~41, no.~9, pp. 1144--1156, 1953.

\bibitem{schmid_yt}
{H. Schmid}, ``{{HT FHNW EIT}: Analog and mixed-signal circuits and signal processing},'' \url{https://tube.switch.ch/channels/d206c96c}.

\bibitem{rico_16}
R.~Sennrich, B.~Haddow, and A.~Birch, ``Neural machine translation of rare words with subword units,'' in \emph{Annual Meeting of the Association for Computational Linguistics}, Aug. 2016, pp. 1715--1725.

\bibitem{silviera_96}
F.~Silveira, D.~Flandre, and P.~Jespers, ``A {$g_m$/$I_D$} based methodology for the design of {CMOS} analog circuits and its application to the synthesis of a silicon-on-insulator micropower {OTA},'' \emph{IEEE Journal of Solid-State Circuits}, vol.~31, no.~9, pp. 1314 -- 1319, Oct. 1996.

\bibitem{jespers_17}
P.~Jespers and B.~Murmann, \emph{Systematic Design of Analog {CMOS} Circuits: Using Pre-Computed Lookup Tables}.\hskip 1em plus 0.5em minus 0.4em\relax Cambridge, UK: Cambridge University Press, 2017.

\bibitem{lyu_18}
W.~Lyu, P.~Xue, F.~Yang, C.~Yan, Z.~Hong, X.~Zeng, and D.~Zhou, ``An efficient {Bayesian} optimization approach for automated optimization of analog circuits,'' \emph{IEEE Transactions on Circuits and Systems I}, vol.~65, no.~6, pp. 1954--1967, Jun. 2018.

\bibitem{liu_09}
B.~Liu, Y.~Wang, Z.~Yu, L.~Liu, M.~Li, Z.~Wang, J.~Lu, and F.~V. Fernández, ``Analog circuit optimization system based on hybrid evolutionary algorithms,'' \emph{Integration}, vol.~42, no.~2, pp. 137--148, Apr 2009.

\end{thebibliography}

%misc/cram,misc/main.bib,misc/pim.bib}

%\input{sec/9-appendix}
%\clearpage
% \newpage
%\input{sec/10-supplementary_material}
% \blueHL{checks}
% \begin{itemize}
%     \item Please use $\sqrt{xyz}$ instead of $\sqrt xyz$. Your sqrt sign only appears over x if you do the latter.
% \item Please number the first equation in Sec IIIA.
% \item Please use $\log$ instead of log within an equation.
% \item Also use $\left ( and \right )$ in scenarios where the parentheses are too small, e.g., in (2).
% \item Please double-check that notation is suitably italicized in the text, (e.g., use $B$ in the line after eq. (1) instead of B; there are several other instances).
% \item When you write "where..." after an equation, it is a continuation of the sentence that contains the equation. So, you should use no indentation and should not capitalize it ("Where...")
% \item Remove single period that is alone on a line after the P\_NOISE equation.
% \item PJ -> pJ
% \item Never start a sentence with "E.g" - it just does not work that way. Use "For example, ..." if you need to say that.
% \item I assume you will do this anyway, but just to be complete
% Pay attention to figure sizes, text readability, etc.
% \item Make your captions more descriptive (e.g., all figures on p4 have very short/insufficiently descriptive captions). Check all figures.
% \item Check for "( xxx" - extra space after "(" - this is a common issue in your writing and easy to fix with search-replace.
% \item There are numerous easy-to-find issues in the reference section (capitalization problems, at least one incorrect journal name, capitalization problems in the month, etc.)
% \end{itemize}
\end{document}
