
\begin{manualtheorem}{2}[Part (2): Fairness Regret of \textsc{Explore-First}]
\label{thm:ExploreFirstFairnessRegret}
For any feasible MA-MAB instance $\mathcal{I}$ with $T$ sufficiently large and $C_i=c \forall i\in [n]$,     expected fairness regret of \textsc{Explore-First} algorithm is upper-bounded by $O\left(\frac{n}{ a_{\min}} T^{2/3} \sqrt{\log(T)} \right)  $.  Here $a_{\min}:=\min_{i\in [n], j\in [m]}A_{i, j}$.
\end{manualtheorem}

\begin{proof}
Using Lemma (\ref{fairness-reform}) and the fact that $\pi^t = [1/2, 1/2]$ for $t<2t'$, the fairness regret of \textsc{Explore-First} is given as follows.
\begin{align} \label{proof:FR-EF}
\mathcal{R}_{FR}(T) & \leq \sum_{t=1}^T\sum_{i=1}^n \left|(A_{i,1}-A_{i,2}).(x^*-x^t)\right|_+ \nonumber \\
    &  = \sum_{i=1}^n\sum_{t=1}^{2t'}|c\Amax_i - A_{i, 1}/2-A_{i, 2}/2|_++\sum_{t=2t'+1}^T\sum_{i=1}^n\max\Big\{ \left|A_{i,1}-A_{i,2}\right|_+\left|x^*-x^t\right|_+,\ \left|A_{i,2}-A_{i,1}\right|_+  \left|x^t - x^*\right|_+\Big\} \nonumber \\
    &  = \sum_{t=2t'+1}^T\sum_{i=1}^n\max\Big\{ \left|A_{i,1}-A_{i,2}\right|_+\left|x^*-x^t\right|_+,\ \left|A_{i,2}-A_{i,1}\right|_+  \left|x^t - x^*\right|_+\Big\} \nonumber \tag{with the sufficient condition for feasibility, $c\in (0, 1/2]$}\\
    & \leq \sum_{t=2t'+1}^T (n-n_1) |x^t - x^*|_+ +  n_1  |x^* - x^t|_+ .
\end{align}
Similar to the bound on $x^*-x^t$ derived in Lemma~\ref{lem:lemOne}, we bound $x^t-x^*$ taking different cases.
\newline
We first upper-bound the probability of the event $F_\delta=\left\{ \frac{\widehat{A}_{i^*, 1}}{\widehat{A}_{i^*, 2}} - \frac{2c\delta}{1+\delta} \geq \frac{A_{i^*, 1}}{A_{i^*, 2}} \right\}$ for $\delta\in (0, 1)$ and $i^*\in [n]$ when $\frac{A_{i^*, 1}}{A_{i^*, 1}}<c$, which will be used in our proof. As $\frac{A_{i^*, 1}}{A_{i^*, 2}}<c$, $F_\delta$ implies $\frac{\widehat{A}_{i^*, 1}}{\widehat{A}_{i^*, 2}}\geq \frac{A_{i^*, 1}}{A_{i^*, 2}}\left(\frac{1+3\delta}{1+\delta} \right)$. 
\newline
Further, $F_\delta \cap \{\widehat{A}_{i^*, 1}\leq A_{i^*, 1}(1+3\delta) \} \subseteq \{\widehat{A}_{i^*, 1}\leq A_{i^*, 1}(1+3\delta) \}\cap \{ \widehat{A}_{i^*, 2}\leq (1+\delta)A_{i^*, 2} \}$.
\begin{align*}
    \mathbb{P}\left(F_\delta \cap \{\widehat{A}_{i^*, 1}\leq A_{i^*, 1}(1+3\delta) \}\right) &\leq \mathbb{P}\left(\{\widehat{A}_{i^*, 1}\leq A_{i^*, 1}(1+3\delta) \}\right) \mathbb{P}\left(\{ \widehat{A}_{i^*, 2}\leq (1+\delta)A_{i^*, 2} \}\right) \tag{From independence of $\widehat{A}_{i^*, 1}$ \& $\widehat{A}_{i^*, 2}$}\\
    &\leq \mathbb{P}\left(\{ \widehat{A}_{i^*, 2}\leq (1+\delta)A_{i^*, 2} \}\right)\\
    &\leq \exp{\left(-\frac{t'}{2}(A_{i^*, 2}/\sigma)^2\delta^2 \right)} \tag{From Lemma~\ref{lemma:chernoff-utb}}
\end{align*}
Also, $\mathbb{P}(F_\delta \cap \{\widehat{A}_{i^*, 1}> A_{i^*, 1}(1+3\delta) \})\leq \mathbb{P}(\{\widehat{A}_{i^*, 2}\leq (1+\delta)A_{i^*, 2}\})\leq \exp{\left(-\frac{t'}{2}(A_{i^*, 2}/\sigma)^2\delta^2 \right)}$ (Lemma~\ref{lemma:chernoff-utb}). Thus, we have the following.
\begin{align*}
    \mathbb{P}(F_\delta) &= \mathbb{P}(F_\delta\cap \{\widehat{A}_{i^*, 1}\geq A_{i^*, 1}(1+3\delta) \}) + \mathbb{P}(F_\delta\cap \{\widehat{A}_{i^*, 1}< A_{i^*, 1}(1+3\delta) \})\\
    & \leq 2\exp\left(-\frac{t'}{2}(A_{i^*, 2}/\sigma)^2\delta^2 \right)
    \\
    &\leq  2\exp\left(-\frac{t'}{2}(a_{\min}/\sigma)^2\delta^2 \right).
\end{align*}
From Lemma~\ref{lem:lemOne}, we also recall that $E_\delta=\{\frac{\widehat{A}_{i', 1}}{\widehat{A}_{i', 2}}\leq \frac{A_{i', 1}}{A_{i', 2}}-\frac{2c\delta}{1+\delta}\}$ for $\delta \in (0, 1)$ and $i'\in [n]$.
We now consider different cases for bounding $x^t-x^*$ and subsequently the fairness regret.
\newline
\textbf{Case (I) $x^*<1, x^t<1$:} 
From Lemma~\ref{lem:lemOne}, we have that $|x^*-x^t|_+\leq \frac{2c\delta}{(1-c)(1+\delta)}$ under $\widebar{E_\delta}$.
For bounding, $x^t-x^*$, we first note that, $x^*<1\implies \frac{A_{i^*, 1}}{A_{i^*, 2}}<c$ and $x^t<1\implies \frac{\widehat{A}_{i', 1}}{\widehat{A}_{i', 2}}<c$.
\begin{align*}
    x^t-x^* = \frac{1-c}{1-\frac{\widehat{A}_{i',1}}{\widehat{A}_{i',2}}}-\frac{1-c}{1-\frac{A_{i^*,1}}{A_{i^*,2}}} &\leq \frac{1-c}{1-\frac{\widehat{A}_{i^*,1}}{\widehat{A}_{i^*,2}}}-\frac{1-c}{1-\frac{A_{i^*,1}}{A_{i^*,2}}} \ \tag{From the definition of $i'$ and $\widebar{F_\delta}$}\\
    &\leq (1-c) \left(\frac{1}{1-\frac{\widehat{A}_{i^*,1}}{\widehat{A}_{i^*,2}}}-\frac{1}{1-\frac{A_{i^*,1}}{A_{i^*,2}}}\right)
\end{align*}
The first inequality follows by noting that under $\widebar{F_\delta},\ i^*\in \{i: \widehat{A}_{i, 2}>\widehat{A}_{i, 1}\}$ and then we use the fact that $i'$ is the argmin obtained after searching over the set $\{i: \widehat{A}_{i, 2}>\widehat{A}_{i, 1}\}$. Now, using $\frac{A_{i^*, 1}}{A_{i^*, 2}}<c$, we have the following with probability $1-\mathbb{P}(F_\delta)$,
\begin{align*}
    x^t-x^* &\leq (1-c) \left(\frac{1}{1-\frac{\widehat{A}_{i^*,1}}{\widehat{A}_{i^*,2}}}-\frac{1}{1-\frac{\widehat{A}_{i^*, 1}}{\widehat{A}_{i^*, 2}} + \frac{2c\delta}{1+\delta}}\right)\\
    &\leq \frac{2c\delta}{(1+\delta)(1-c)}.
\end{align*}
\newline
\textbf{Case (II) $x^*<1, x^t=1$:} From Lemma~\ref{lem:lemOne}, we have that $|x^*-x^t|_+=0$.
For bounding, $x^t-x^*$, we first note that $x^*<1\implies \frac{A_{i^*, 1}}{A_{i^*, 2}}<c$. Also, $x^t=1 $ implies either $ \frac{\widehat{A}_{i', 1}}{\widehat{A}_{i', 2}}\geq c$ or $\{i:\widehat{A}_{i', 1}<\widehat{A}_{i', 2}\}=\phi$.

\begin{align*}
    x^t-x^* = \frac{c-\frac{A_{i^*, 1}}{A_{i^*, 2}}}{1-\frac{A_{i^*, 1}}{A_{i^*, 2}}} 
\end{align*}

Consider events $G = \{i:\widehat{A}_{i, 2}> \widehat{A}_{i, 1}\}\neq \phi\}$ and $F_\delta$. As RHS is a decreasing function in $\frac{\widehat{A}_{i^*, 1}}{\widehat{A}_{i^*, 2}}$, with probability $\left(1-\mathbb{P}(F_\delta)\right)\mathbb{P}(G)$, we have the following.
\begin{align*}
    x^t-x^* \leq \frac{c-\frac{\widehat{A}_{i^*, 1}}{\widehat{A}_{i^*, 2}} + \frac{2c\delta}{1+\delta}}{1-\frac{\widehat{A}_{i^*, 1}}{\widehat{A}_{i^*, 2}} + \frac{2c\delta}{1+\delta}}
    \leq \frac{c-\frac{\widehat{A}_{i', 1}}{\widehat{A}_{i', 2}} + \frac{2c\delta}{1+\delta}}{1-\frac{\widehat{A}_{i', 1}}{\widehat{A}_{i', 2}} + \frac{2c\delta}{1+\delta}} \leq \frac{2c\delta}{(1-c)(1+\delta)}
\end{align*}
where the second inequality follows from the definition of $i'$ which implies $\frac{\widehat{A}_{i^*, 1}}{\widehat{A}_{i^*, 2}}\geq \frac{\widehat{A}_{i', 1}}{\widehat{A}_{i', 2}}$ and the last inequality uses that $\frac{\widehat{A}_{i', 1}}{\widehat{A}_{i', 2}}\geq c$.

Now, for the event $G$, we will lower bound $\mathbb{P}(\widehat{A}_{i,1}-\widehat{A}_{i,2}> 0)$ for an $i\in [n]$ for which $A_{i,2}> A_{i,1}$. Notice that such an index always exists as $[n]\setminus [n_1]$ is considered non-empty (to avoid a trivial policy).
\begin{align*}
\mathbb{P}(\widehat{A}_{i,1}-\widehat{A}_{i,2}> 0) &= \mathbb{P}\left((\widehat{A}_{i,1}- A_{i,1})-(\widehat{A}_{i,2}-A_{i,2})> A_{i,2}-A_{i,1}\right)\\
&= \mathbb{P}\left(e^{\lambda(\widehat{A}_{i,1}- A_{i,1})-\lambda(\widehat{A}_{i,2}-A_{i,2})}> e^{\lambda(A_{i,2}-A_{i,1})}\right) \ \tag{for $\lambda\in \mathbb{R}, \
\lambda>0$}\\
&\leq \mathbb{E}\left[ e^{\lambda(\widehat{A}_{i,1}- A_{i,1})-\lambda(\widehat{A}_{i,2}-A_{i,2})} \right]e^{\lambda(A_{i,1}-A_{i,2})} \ \tag{Markov's inequality} \\
&\leq \exp\left({\frac{\lambda^2\sigma^2}{t'}}\right) \exp\left({\lambda(A_{i,1}-A_{i,2})}\right). \ \tag{Subgaussian's property}
\end{align*}
In the last inequality, we have used that as the rewards $X_{i, j}$ are assumed to be $\sigma$-subgaussian, each of $\widehat{A}_{i,1}- A_{i,1}$ and $\widehat{A}_{i,2}-A_{i,2}$ will be 0-mean $\frac{\sigma}{\sqrt{t}}$-subgaussians. Also, as the difference of two subgaussian random variables is a subgaussian random variable, $\widehat{A}_{i,1}- A_{i,1}-(\widehat{A}_{i,2}-A_{i,2})$ is a 0-mean subgaussian with parameter $\frac{\sqrt{2}\sigma}{\sqrt{t}}$.
On choosing $\lambda=\frac{(A_{i,2}-A_{i,1})t'}{2\sigma^2}$, we obtain the tightest upper-bound on the RHS, giving $ \mathbb{P}(\widehat{A}_{i,1}-\widehat{A}_{i,2}> 0) \leq \exp\left(-\frac{(A_{i,2}-A_{i,1})^2t'}{4\sigma^2}\right)\leq \exp\left(-\frac{(a_{\min}-1)^2t'}{4\sigma^2}\right).$ Thus, $\mathbb{P}(G)\geq 1-\exp\left(-\frac{(a_{\min}-1)^2t'}{4\sigma^2}\right)$.
\newline
\textbf{Case (III) $x^*=1, x^t<1$:} Here, $|x^t-x^*|_+=0$ as $x^t-x^*<0$ and from Lemma~\ref{lem:lemOne}, we have that with probability atleast $\mathbb{P}(\widebar{E_\delta})$, $|x^*-x^t|_+\leq \frac{2c\delta}{1+\delta}$.
\newline
\newline
Thus, combining all the cases, the expected fairness regret of \textsc{Explore-First} algorithm is given as follows.
\begin{align*}
    \mathbb{E}\left[ \mathcal{R}_{\textsc{FR}}(T) \right]&\leq (T-2t')\Bigg[n\left( \mathbb{P}(\widebar{E_\delta})\frac{2c\delta}{(1-c)(1+\delta)} + \mathbb{P}(E_\delta) \right) +\\
    &\quad (n-n_1) \left(\max\left\{ \mathbb{P}(\widebar{F_\delta})\mathbb{P}(G)\frac{2c\delta}{(1-c)(1+\delta)} + 1-\mathbb{P}(\widebar{F_\delta})\mathbb{P}(G),\   
    \mathbb{P}(\widebar{F_\delta})\frac{2c\delta}{(1-c)(1+\delta)} + \mathbb{P}(F_\delta)
    \right\} \right)\Bigg]\\
    &\leq (T-2t')\Bigg[n\left( \mathbb{P}(\widebar{E_\delta})\frac{2c\delta}{(1-c)(1+\delta)} + \mathbb{P}(E_\delta) \right) + \\
    &\quad (n-n_1)\left( \mathbb{P}(\widebar{F_\delta})\mathbb{P}(G)\frac{2c\delta}{(1-c)(1+\delta)} + 1-\mathbb{P}(\widebar{F_\delta})\mathbb{P}(G)+\   
    \mathbb{P}(\widebar{F_\delta})\frac{2c\delta}{(1-c)(1+\delta)} + \mathbb{P}(F_\delta)
     \right)\Bigg]\\
    &\leq (T-2t')\Bigg[n\left( \mathbb{P}(\widebar{E_\delta})\frac{2c\delta}{(1-c)(1+\delta)} + \mathbb{P}(E_\delta) \right) + \\
    &\quad (n-n_1)\left( \mathbb{P}(\widebar{F_\delta})\frac{2c\delta}{(1-c)(1+\delta)} + 1-\mathbb{P}(\widebar{F_\delta})\mathbb{P}(G)+\   
    \mathbb{P}(\widebar{F_\delta})\frac{2c\delta}{(1-c)(1+\delta)} + \mathbb{P}(F_\delta)
     \right)\Bigg]\\
     &\leq (T-2t')\Bigg[n\left( \mathbb{P}(\widebar{E_\delta})\frac{2c\delta}{(1-c)(1+\delta)} + \mathbb{P}(E_\delta) \right)+\\&\quad (n-n_1)\left\{\mathbb{P}(\widebar{F_\delta})\left(\frac{4c\delta}{(1-c)(1+\delta)}+\exp{\left(-\frac{(a_{\min}-1)^2t'}{4\sigma^2}\right)}\right) + 2\mathbb{P}(F_\delta)\right\}\Bigg]\\
     &\leq (T-2t')\Bigg[6n\left( 1-2\exp{\left(-\frac{t'}{2\sigma^2}\delta^2a^2_{\min}\right)}\right)\left(\frac{c\delta }{(1-c)(1+\delta)}+\exp{\left(-\frac{(a_{\min}-1)^2t'}{4\sigma^2}\right)}\right)+ \exp{\left(-\frac{t'}{2\sigma^2}\delta^2a^2_{\min}\right)} \Bigg]\\
     &\textup{Choose }2t'=T^{2/3} \textup{ and }\delta = \left(\frac{2\sigma}{ a_{\min}}\right)\sqrt{\frac{\log{T}}{3T^{2/3}}} \textup{ with }T \textup{ large enough such that }\delta\in(0, 1) \textup{, to get}\\
     & \leq 6nT^{2/3}\left( \frac{2c\sigma \sqrt{\log{T}}}{(1-c)a_{\min}} +\exp\left(-\frac{(a_{\min}-1)^2T^{2/3}}{8\sigma^2}\right)+1\right)\\
     & \leq 6nT^{2/3}\left( \frac{2\sigma \sqrt{\log{T}}}{a_{\min}} +\exp\left(-\frac{(a_{\min}-1)^2T^{2/3}}{8\sigma^2}\right)+1\right) \tag{with the sufficient condition for feasibility, $c\in (0, 1/2]$}\\
     &\leq 24nT^{2/3}\frac{\sigma \sqrt{\log{T}}}{a_{\min}}.
\end{align*}
This proves the claim. Our proof needs $c<1$, which is justified because $c=1$ would simplify the corresponding fairness constraint to be $ \langle A_i,\pi\rangle = \Amax_i$, which in turn specifies fixes coordinates of $\pi$ making the problem simpler.
\end{proof}