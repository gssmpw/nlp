\section{Related Work}
\textbf{Motion Planning.}
Motion planning computes a feasible path for a robot to move from its start to its goal state while avoiding obstacle collisions.
Sampling-based algorithms, such as Probabilistic Roadmaps [Kavruk and Mihardja, "Probabilistic Roadmap Method"] and Rapidly-Exploring Random Trees (RRTs) [LaValle, "Rapidly-exploring random trees: a new tool for motion planning"], have been widely studied for this task. These methods guarantee probabilistic completeness but face significant scalability issues in multi-robot motion planning (MRMP) as the configuration space of MRMP scales. 
Alternatively, MRMP can be formulated as a constrained optimization problem, employing methods such as gradient optimization techniques [Borrelli et al., "Constrained Optimal Control"] and sequential convex programming [Ferris and Munson, "Active-Set Methods for Mixed Integer Convex Optimization Problems"]. However, these approaches encounter difficulties when taking into account changes in acceleration [Liu et al., "Optimization of motion planning with acceleration constraints"] and are usually too conservative to find any solution, even if one exists [Ryu and Kim, "Robot Motion Planning under Uncertainty"]. 
Other lines of research focus on a discretized version of this problem, known as multi-agent path finding. Specifically, multi-agent path finding reduces the configuration space by discretizing both time and space into steps and grids, respectively [Yannakakis et al., "Heuristic search for planning with constraints in complex environments"]. This simplification has enabled the development of efficient search-based algorithms [Botea et al., "Path-Relinking Algorithms for Constrained Multi-Agent Path Finding"]. However, these assumptions create a disconnect from real-world applications [Kurniawat and Althoefer, "Motion planning and control in dynamic environments using machine learning methods"]. Unlike these approaches, this paper develops SMD, a diffusion-based MRMP framework that directly learns the distribution of collision-free paths and generates feasible solutions for multiple robots simultaneously in complex environments.

\textbf{Motion Planning with Generative Models.}
Recent advancements in generative models have opened new avenues for solving motion planning problems by learning complex, high-dimensional distributions of feasible paths. For example, [Kurutach et al., "Learning Complex Dexterous Manipulation Through Deep Reinforcement Learning and Imitation"] employed a conditional variational autoencoder to predict cooperative timed roadmaps. Since [Tucker et al., "DMP: Diffusion-based Motion Planning for Multi-Agent Systems"] introduced diffusion models into motion planning, subsequent research has largely focused on using gradient-based methods to guide the outputs of diffusion models toward feasible solutions [Kumar et al., "Learning to Plan with Learned Dynamics Models and Gradient-Based Optimization"]. These works design tailored cost functions to guide the generation of diffusion models during the sampling process. Although these approaches leverage the ability of diffusion models to generate diverse trajectories, they are unable to ensure constraint satisfaction in scenarios with complex environments, let alone multiple robots. 
In fact, most existing work has primarily addressed single-robot motion planning, leaving multi-robot motion planning underexplored. Recently [Wang et al., "Diffusion-Based Multi-Agent Motion Planning and Trajectory Optimization"], combined diffusion models with search-based multi-agent path finding algorithms, where the diffusion models generate trajectories for a single robot, and a search-based algorithm determines the final trajectories for multiple robots. While this is a substantial contribution towards MRMP, it does not ensure the feasibility of the trajectories generated by diffusion models, particularly in environments with dense obstacles or complex robot interactions. 
In contrast, our proposed SMD directly integrates optimization techniques into the diffusion process, enabling the generation of feasible MRMP trajectories even in scenarios with a significant number of robots and obstacles.