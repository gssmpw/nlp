\section{Related Work}
\textbf{Motion Planning.}
Motion planning computes a feasible path for a robot to move from its start to its goal state while avoiding obstacle collisions.
Sampling-based algorithms, such as Probabilistic Roadmaps____ and Rapidly-Exploring Random Trees (RRTs)____ have been widely studied for this task. These methods guarantee probabilistic completeness but face significant scalability issues in multi-robot motion planning (MRMP) as the configuration space of MRMP scales. 
Alternatively, MRMP can be formulated as a constrained optimization problem, employing methods such as gradient optimization techniques____ and sequential convex programming____. However, these approaches encounter difficulties when taking into account changes in acceleration____ and are usually too conservative to find any solution, even if one exists____. 
Other lines of research focus on a discretized version of this problem, known as multi-agent path finding. Specifically, multi-agent path finding reduces the configuration space by discretizing both time and space into steps and grids, respectively____. This simplification has enabled the development of efficient search-based algorithms____. However, these assumptions create a disconnect from real-world applications____. Unlike these approaches, this paper develops SMD, a diffusion-based MRMP framework that directly learns the distribution of collision-free paths and generates feasible solutions for multiple robots simultaneously in complex environments.

\textbf{Motion Planning with Generative Models.}
Recent advancements in generative models have opened new avenues for solving motion planning problems by learning complex, high-dimensional distributions of feasible paths. For example, ____ employed a conditional variational autoencoder to predict cooperative timed roadmaps. Since____ introduced diffusion models into motion planning, subsequent research has largely focused on using gradient-based methods to guide the outputs of diffusion models toward feasible solutions____. These works design tailored cost functions to guide the generation of diffusion models during the sampling process. Although these approaches leverage the ability of diffusion models to generate diverse trajectories, they are unable to ensure constraint satisfaction in scenarios with complex environments, let alone multiple robots. 
In fact, most existing work has primarily addressed single-robot motion planning, leaving multi-robot motion planning underexplored. Recently,____ combined diffusion models with search-based multi-agent path finding algorithms, where the diffusion models generate trajectories for a single robot, and a search-based algorithm determines the final trajectories for multiple robots. While this is a substantial contribution towards MRMP, it does not ensure the feasibility of the trajectories generated by diffusion models, particularly in environments with dense obstacles or complex robot interactions. 
In contrast, our proposed SMD directly integrates optimization techniques into the diffusion process, enabling the generation of feasible MRMP trajectories even in scenarios with a significant number of robots and obstacles.