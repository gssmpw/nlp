

\begin{table*}[!t]
\renewcommand\arraystretch{0.6}
\centering
\caption{$0$-shot and $5$-shot accuracy (\%) on the Massive Multitask Language Understanding (MMLU) dataset~\citep{hendrycks2021mmlu}. Each block is based on the same foundation model specified at the first row. We organize all results using the fine-tuning dataset (Alpaca or Flan-v2) and the bit width of quantization. The bit width of `$4+16$' refers to the original QLoRA where the final version for inference is in \textsf{FP16}.}
\label{tab:main}
\setlength{\tabcolsep}{0.8mm}
{\resizebox{0.98\textwidth}{!}{
\begin{tabular}{lcc:ccccc:ccccc}
\vspace{-5em}
& & & & & & & & & & &\\
& & & & & & & & & & &\\
& & & & & & & & & & &\\
& & & & & & & & & & &\\
& & & & & & & & & & &\\
& & & & & & & & & & &\\
& & & & & & & & & & &\\
& & & & & & & & & & &\\
\toprule
\multirow{2}{*}{\textbf{Method}} & \multirow{2}{*}{\textbf{Dataset}} & \multirow{2}{*}{\textbf{\#Bits}} & \multicolumn{5}{c}{\textbf{MMLU} ($0$-shot)} & \multicolumn{5}{c}{\textbf{MMLU} ($5$-shot)} \\
& & & \textbf{Hums.} & \textbf{STEM} & \textbf{Social} & \textbf{Other} & \textbf{Avg.} &\textbf{Hums.} & \textbf{STEM} & \textbf{Social} & \textbf{Other} & \textbf{Avg.} \\
\midrule
\noalign{\vspace{0.1em}}
  LLaMA-7B & -- & 16 & 32.4 & 26.6 & 31.4 & 37.2 & 32.1 & 33.3 & 29.8 & 37.8 & 38.0 & 34.6 \\
\noalign{\vspace{0.1em}}\hdashline[0.8pt/1pt]\noalign{\vspace{0.1em}}
  \textit{QLoRA} & \textit{Alpaca} & \textit{4+16} & \textit{38.1} & \textit{31.1} & \textit{41.6} & \textit{46.9} & \textit{39.4} & \textit{36.1} & \textit{31.9} & \textit{42.0} & \textit{44.5} & \textit{38.4} \\
\noalign{\vspace{0.1em}}\hdashline[0.8pt/1pt]\noalign{\vspace{0.1em}}
  QLoRA w/ GPTQ & Alpaca & 4  & 35.7 & 30.9 & 38.0 & 44.0 & 37.1 & 33.8 & 31.3 & 37.4 & 42.2 & 36.0 \\
  PEQA         & Alpaca & 4  & -- & -- & -- & -- & -- & 34.9 & 28.9 & 37.5 & 40.1 & 34.8 \\
  \ours{}      & Alpaca & 4  & 36.9 & 31.4 & 40.3 & 44.9 & \textbf{38.3} & 36.6 & 32.4 & 44.8 & 44.9 & \textbf{39.4} \\
  QLoRA w/ GPTQ & Alpaca & 3  & 31.5 & 28.9 & 31.8 & 36.8 & 32.2 & 31.6 & 30.1 & 35.6 & 39.8 & 34.0 \\
  \ours{}      & Alpaca & 3  & 36.0 & 34.1 & 42.0 & 42.3 & \textbf{38.3} & 35.6 & 30.5 & 41.5 & 42.7 & \textbf{37.4} \\
\noalign{\vspace{0.1em}}\hdashline[0.8pt/1pt]\noalign{\vspace{0.1em}}
  \textit{QLoRA} & \textit{FLAN v2} & \textit{4+16} & \textit{40.9} & \textit{32.5} & \textit{47.8} & \textit{49.5} & \textit{42.6} & \textit{41.4} & \textit{35.0} & \textit{49.8} & \textit{52.0} & \textit{44.3} \\
\noalign{\vspace{0.1em}}\hdashline[0.8pt/1pt]\noalign{\vspace{0.1em}}
  QLoRA w/ GPTQ & FLAN v2 & 4  & 39.7 & 32.5 & 46.4 & 48.1 & 41.6 & 36.5 & 33.7 & 46.9 & 50.3 & 41.4 \\
  \ours{}      & FLAN v2 & 4  & 44.0 & 35.3 & 52.3 & 52.6 & \textbf{45.9} & 43.9 & 38.0 & 54.3 & 53.0 & \textbf{47.0} \\
  QLoRA w/ GPTQ & FLAN v2 & 3  & 36.7 & 30.2 & 38.4 & 40.1 & 36.5 & 32.2 & 31.7 & 42.7 & 42.8 & 36.9 \\
  \ours{}      & FLAN v2 & 3  & 41.4 & 35.1 & 52.0 & 50.2 & \textbf{44.4} & 41.3 & 36.0 & 52.8 & 50.2 & \textbf{44.7} \\
\midrule
   LLaMA-13B & -- & 16 & 40.6 & 36.7 & 48.9 & 48.0 & 43.3 & 44.0 & 35.9 & 53.2 & 52.9 & 46.3 \\
\noalign{\vspace{0.1em}}\hdashline[0.8pt/1pt]\noalign{\vspace{0.1em}}
   \textit{QLoRA} & \textit{Alpaca} & \textit{4+16} & \textit{45.2} & \textit{38.3} & \textit{55.0} & \textit{54.6} & \textit{48.1} & \textit{46.0} & \textit{37.3} & \textit{55.8} & \textit{55.1} & \textit{48.4} \\
\noalign{\vspace{0.1em}}\hdashline[0.8pt/1pt]\noalign{\vspace{0.1em}}
   QLoRA w/ GPTQ & Alpaca & 4  & 44.7 & 38.0 & 54.4 & 54.0 & 47.6 & 45.4 & 37.4 & 55.7 & 54.3 & 48.0 \\
   PEQA         & Alpaca & 4  & -- & -- & -- & -- & -- & 43.0 & 37.7 & 53.6 & 49.0 & 45.0 \\
   \ours{}      & Alpaca & 4  & 44.3 & 38.0 & 55.1 & 55.5 & \textbf{47.9} & 48.4 & 38.3 & 54.9 & 55.2 & \textbf{49.2} \\
   QLoRA w/ GPTQ & Alpaca & 3  & 43.5 & 36.2 & 52.3 & 52.6 & 45.9 & 43.6 & 36.1 & 53.0 & 52.7 & 46.1 \\
   \ours{}      & Alpaca & 3  & 43.9 & 37.3 & 53.1 & 54.3 & \textbf{46.9} & 44.3 & 38.8 & 53.4 & 53.8 & \textbf{47.3} \\
\noalign{\vspace{0.1em}}\hdashline[0.8pt/1pt]\noalign{\vspace{0.1em}}
   \textit{QLoRA} & \textit{FLAN v2} & \textit{4+16} & \textit{48.0} & \textit{39.2} & \textit{58.2} & \textit{56.7} & \textit{50.3} & \textit{49.9} & \textit{40.1} & \textit{60.2} & \textit{57.9} & \textit{51.9} \\
\noalign{\vspace{0.1em}}\hdashline[0.8pt/1pt]\noalign{\vspace{0.1em}}
   QLoRA w/ GPTQ & FLAN v2 & 4  & 47.6 & 39.6 & 57.6 & 56.0 & 50.0 & 49.4 & 40.9 & 59.7 & 57.6 & 51.7 \\
   \ours{}      & FLAN v2 & 4  & 47.7 & 41.4 & 59.6 & 57.2 & \textbf{51.1} & 50.0 & 41.5 & 60.5 & 58.4 & \textbf{52.4} \\
   QLoRA w/ GPTQ & FLAN v2 & 3  & 46.6 & 37.9 & 55.9 & 55.7 & 48.9 & 46.5 & 38.2 & 57.2 & 56.1 & 49.3 \\
   \ours{}      & FLAN v2 & 3  & 47.4 & 39.4 & 57.7 & 56.0 & \textbf{49.9} & 49.3 & 40.0 & 60.0 & 57.5 & \textbf{51.5} \\
\midrule
  LLaMA-33B & -- & 16 & 51.0 & 42.7 & 63.3 & 60.4 & 54.1 & 56.2 & 45.9 & 67.1 & 63.9 & 58.2 \\
\noalign{\vspace{0.1em}}\hdashline[0.8pt/1pt]\noalign{\vspace{0.1em}}
  \textit{QLoRA} & \textit{Alpaca} & \textit{4+16} & \textit{52.2} & \textit{44.9} & \textit{64.3} & \textit{61.8} & \textit{55.5} & \textit{55.4} & \textit{46.0} & \textit{66.4} & \textit{63.6} & \textit{57.7} \\
\noalign{\vspace{0.1em}}\hdashline[0.8pt/1pt]\noalign{\vspace{0.1em}}
  QLoRA w/ GPTQ & Alpaca & 4  & 51.7 & 44.7 & 63.4 & 61.0 & 54.9 & 53.9 & 46.6 & 66.3 & 62.9 & 57.1 \\
  \ours{}      & Alpaca & 4  & 51.6 & 44.9 & 65.0 & 61.8 & \textbf{55.4} & 55.8 & 46.4 & 67.0 & 64.0 & \textbf{58.1} \\
  QLoRA w/ GPTQ & Alpaca & 3  & 49.5 & 43.3 & 63.1 & 61.0 & 53.8 & 53.3 & 45.0 & 64.1 & 61.4 & 55.8 \\
  \ours{}      & Alpaca & 3  & 50.6 & 44.6 & 64.0 & 61.2 & \textbf{54.7} & 54.3 & 45.8 & 65.2 & 62.6 & \textbf{56.8} \\
\noalign{\vspace{0.1em}}\hdashline[0.8pt/1pt]\noalign{\vspace{0.1em}}
  \textit{QLoRA} & \textit{FLAN v2} & \textit{4+16} & \textit{56.3} & \textit{46.5} & \textit{68.6} & \textit{64.6} & \textit{58.8} & \textit{57.2} & \textit{48.6} & \textit{69.8} & \textit{65.2} & \textit{60.0} \\
\noalign{\vspace{0.1em}}\hdashline[0.8pt/1pt]\noalign{\vspace{0.1em}}
  QLoRA w/ GPTQ & FLAN v2 & 4  & 54.9 & 46.4 & 68.2 & 63.6 & 58.0 & 57.4 & 48.6 & 69.2 & 64.9 & 59.8 \\
  \ours{}      & FLAN v2 & 4  & 54.2 & 47.0 & 69.7 & 65.5 & \textbf{58.7} & 57.9 & 48.8 & 71.0 & 65.5 & \textbf{60.6} \\
  QLoRA w/ GPTQ & FLAN v2 & 3  & 54.0 & 44.3 & 65.8 & 62.7 & 56.5 & 55.7 & 47.4 & 67.9 & 64.0 & 58.5 \\
  \ours{}      & FLAN v2 & 3  & 53.1 & 45.0 & 66.9 & 63.0 & \textbf{56.7} & 56.8 & 46.9 & 68.9 & 63.7 & \textbf{58.9} \\
\midrule
  LLaMA-65B & -- & 16 & 56.4 & 45.2 & 68.0 & 64.1 & 58.3 & 61.4 & 51.9 & 73.6 & 67.6 & 63.4 \\
\noalign{\vspace{0.1em}}\hdashline[0.8pt/1pt]\noalign{\vspace{0.1em}}
  \textit{QLoRA} & \textit{Alpaca} & \textit{4+16} & \textit{55.5} & \textit{49.3} & \textit{70.4} & \textit{66.9} & \textit{60.1} & \textit{60.3} & \textit{52.7} & \textit{72.9} & \textit{67.4} & \textit{63.1} \\
\noalign{\vspace{0.1em}}\hdashline[0.8pt/1pt]\noalign{\vspace{0.1em}}
  QLoRA w/ GPTQ & Alpaca & 4  & 54.8 & 48.9 & 69.8 & 66.1 & 59.4 & 60.4 & 52.5 & 73.0 & 67.2 & \textbf{63.0} \\
  \ours{}      & Alpaca & 4  & 57.1 & 48.2 & 70.7 & 64.9 & \textbf{60.0} & 60.8 & 50.5 & 72.5 & 66.7 & 62.5 \\
  QLoRA w/ GPTQ & Alpaca & 3  & 57.4 & 47.9 & 67.2 & 65.1 & 59.3 & 59.6 & 50.0 & 70.6 & 66.1 & 61.4 \\
  \ours{}      & Alpaca & 3  & 57.6 & 48.4 & 69.3 & 65.4 & \textbf{60.0} & 59.3 & 49.6 & 71.9 & 66.0 & \textbf{61.5} \\
\noalign{\vspace{0.1em}}\hdashline[0.8pt/1pt]\noalign{\vspace{0.1em}}
  \textit{QLoRA} & \textit{FLAN v2} & \textit{4+16} & \textit{58.8} & \textit{52.5} & \textit{74.0} & \textit{67.4} & \textit{62.8} & \textit{59.8} & \textit{52.9} & \textit{75.0} & \textit{69.6} & \textit{63.9} \\
\noalign{\vspace{0.1em}}\hdashline[0.8pt/1pt]\noalign{\vspace{0.1em}}
  QLoRA w/ GPTQ & FLAN v2 & 4  & 57.8 & 51.9 & 73.5 & 67.8 & 62.3 & 59.2 & 52.5 & 75.0 & 69.3 & \textbf{63.5} \\
  \ours{}      & FLAN v2 & 4  & 64.1 & 52.6 & 74.8 & 69.1 & \textbf{65.1} & 57.6 & 51.1 & 73.9 & 67.4 & 62.1 \\
  QLoRA w/ GPTQ & FLAN v2 & 3  & 58.5 & 50.2 & 71.5 & 66.9 & \textbf{61.5} & 59.9 & 51.7 & 73.4 & 67.9 & 63.0 \\
  \ours{}      & FLAN v2 & 3  & 57.5 & 49.5 & 72.4 & 66.9 & 61.2 & 61.7 & 51.1 & 73.8 & 68.4 & \textbf{63.6} \\
\bottomrule
\end{tabular}}}
\vspace{-1em}
\end{table*}
