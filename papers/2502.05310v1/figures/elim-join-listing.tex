\begin{wrapfigure}{r}{0.6\textwidth}
\vspace{-0.3cm}
\begin{ccodebox}
\begin{lstlisting}[style=haskell]
elimJoin :: Tree (Join ': s) p n v -> Tree s p n v
elimJoin = elimEffect (\(Node (Join l r) child) ->
  bindTree (elimJoin l) (\lv ->
    bindTree (elimJoin r) (\rv ->
      elimJoin (child (trackPair (lv, rv))))))
\end{lstlisting}
\end{ccodebox}
\vspace{-0.4cm}
\caption{Defining \code{elimJoin}.}
\vspace{-0.4cm}
\end{wrapfigure}
