\begin{wrapfigure}{l}{0.54\textwidth}
  \definecolor{sys-msg-color}{gray}{0.85}
  \definecolor{ex-msg-color}{gray}{0.95}
  \newcommand{\lab}[2]{$\textsc{\textbf{#1}}_{\kern0.08em \textbf{#2}}$\ }
  \newcommand{\msgSep}{0.15cm}
  \newcommand{\placeholder}[2]{$\langle\texttt{#1}_{#2}\rangle$}
  \newcommand{\xs}{0.8cm}
  \begin{tikzpicture}[
    msg/.style={font=\sffamily\footnotesize, text width=6.1cm, draw, rounded corners=1.5mm, inner sep=1.2ex, anchor=north east, minimum height=0.6cm},
    sys/.style={fill=sys-msg-color},
    exinst/.style={fill=ex-msg-color},
    inst/.style={fill=sys-msg-color},
    ans/.style={align=right, text width=, dash pattern=on 2pt off 2pt, -, fill=ex-msg-color},
    finalans/.style={ans,fill=sys-msg-color},
  ]
    \node[msg,sys] (sys) {\lab{system}{0} Generate a program that meets the given specification. You may be required to respond in one of the following formats: \textit{detailed} (precede your answer with a chain of thoughts), \textit{direct} (answer with a program and nothing else) and \textit{negative} (answer with an incorrect program and explain why it does not respect the specification).};
    \node[msg,exinst] (ex1) [below=\msgSep of sys] {\lab{instance}{1} Spec: \placeholder{spec}{1}. Answer mode: \emph{detailed}.};
    \node[msg,ans] (ans1) at ([yshift=-\msgSep, xshift=\xs] ex1.south east) { Reasoning: \placeholder{reasoning}{1}. Answer: \placeholder{prog}{1}. };
    \node[msg,exinst] (ex2) at ([yshift=-\msgSep, xshift=-\xs] ans1.south east) {\lab{instance}{2} Spec: \placeholder{spec}{2}. Answer mode: \emph{direct}.};
    \node[msg,ans] (ans2) at ([yshift=-\msgSep, xshift=\xs] ex2.south east) { \placeholder{prog}{2} };
    \node[msg,inst] (inst) at ([yshift=-\msgSep, xshift=-\xs] ans2.south east) {\lab{instance}{0} Spec: \placeholder{spec}{0}. Answer mode: \emph{detailed}.};
  \end{tikzpicture}
  \caption{Example of a Few-Shot Prompt.}\label{fig:full-prompt}
\end{wrapfigure}
