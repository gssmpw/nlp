
\begin{algorithm}
\footnotesize
\caption{Simulating Rumor Spread with LLM Agents
% Simulation of Spread of Rumors with LLM Agents
}
\begin{algorithmic}[1]
\State \textbf{Input:} $G$ social network, $N$ agent personas $\{p_{i}\}_{i=1}^{N}$, $L$ list of rumors $\{r_{j}\}_{i=j}^{L}$, number of time steps $T$
\State \textbf{Output:} $B$, the belief in rumors, where $\langle b_{ij} \rangle \in [0,1]$ represents the belief of agent $a_i$ in rumor $r_j$.
\For{$i = 1$ \textbf{to} $N$}\Comment{Agent Initialization}
    \State Assign node $n_i$ of $G$ to agent $a_i$
    \State Initialize agent $a_i$ with persona $p_i$
    \State $friend\_list_i = \{\}$ 
    \For{each edge $e_{ix}$ in $G$ connecting $n_i$ to $n_x$}
        \State Add $a_x$ to $friend\_list_i$
    \EndFor
\EndFor
\For{$j = 1$ \textbf{to} $L$}\Comment{Rumor Initialization}
    \State Select an agent $a_i$ based on Initialization Strategy
    \State Append $r_{j}$ to $a_i$ post history.
\EndFor
\For{$t = 1$ \textbf{to} $T$}\Comment{Simulation}
    \State Select an agent $a_i$ based on Activation Strategy
    \State Agent $a_i$ reads post history and makes a new post
    \For{$a_x$ in $\{a_i, friend\_list_i\}$}
        \State Add the new post to post history of $a_x$
    \EndFor
    \For{$j = 1$ \textbf{to} $L$}
        \State Agent $a_i$ updates opinion of $r_{j}$ to $\langle b_{ij} \rangle$ in $B$
    \EndFor
\EndFor
\end{algorithmic}
\label{alg:alg1}
\end{algorithm}




