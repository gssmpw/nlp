% \begin{figure}
%     \centering
%     \begin{tikzpicture}
%     \scriptsize{
%         \begin{axis}[
%             at={(0em,0)},
%             ybar,
%             bar width=16pt, % Set width of bars
%             width=0.48\textwidth,
%             height=0.3\textwidth,
%             ymajorgrids,
%             grid style=dashed,
%             enlarge x limits=0.3,
%             legend style={at={(0.27,0.98)},
%                 anchor=north,
%                 legend columns=1, /tikz/every even column/.append style={column sep=2.0cm}},
%             symbolic x coords={Llama3, Gemma2, Mistral-NeMo},
%             xtick=data,
%             nodes near coords,
%             nodes near coords align={vertical},
%             ymin=50, ymax=65, % You can adjust these values as needed
%             ylabel={Win Rate (\%)},
%             title={AlpacaEval2}
%         ]
%         \addplot[nodes near coords, nodes near coords align={vertical}, nodes near coords style={/pgf/number format/fixed, /pgf/number format/precision=2},fill=white,draw=red, area legend, postaction={pattern=north east lines}, pattern color=red] coordinates {(Llama3,52.28) (Gemma2,55.34) (Mistral-NeMo,59.32)};
%         \addplot[nodes near coords, nodes near coords align={vertical}, nodes near coords style={/pgf/number format/fixed, /pgf/number format/precision=2},fill=magenta!30,draw=red, area legend,postaction={pattern=crosshatch},pattern color=red] coordinates {(Llama3,53.54) (Gemma2,59.71) (Mistral-NeMo,62.07)};
%         {\legend{Decay from answer, Decay from prompt}
%         \end{axis}}


%         \scriptsize{
%         \begin{axis}[
%             at={(27em,0)},
%             ybar,
%             bar width=16pt, % Set width of bars
%             width=0.48\textwidth,
%             height=0.3\textwidth,
%             ymajorgrids,
%             grid style=dashed,
%             enlarge x limits=0.30,
%             legend style={at={(0.5,-0.15)},
%                 anchor=north,legend columns=-1},
%             symbolic x coords={Llama3, Gemma2, Mistral-NeMo},
%             xtick=data,
%             nodes near coords,
%             nodes near coords align={vertical},
%             ymin=40, ymax=70, % You can adjust these values as needed
%             ylabel={Win Rate (\%)},
%             title={Arena-Hard}
%         ]
%         \addplot[nodes near coords, nodes near coords align={vertical}, nodes near coords style={/pgf/number format/fixed, /pgf/number format/precision=1},fill=white,draw=red, area legend, postaction={pattern=north east lines}, pattern color=red] coordinates {(Llama3,42.8) (Gemma2,64.2) (Mistral-NeMo,60.5)};
%         \addplot[nodes near coords, nodes near coords align={vertical}, nodes near coords style={/pgf/number format/fixed, /pgf/number format/precision=1},fill=magenta!30,draw=red, area legend,postaction={pattern=crosshatch},pattern color=red] coordinates {(Llama3,47.3) (Gemma2,66.4) (Mistral-NeMo,62.3)};
%         % \legend{Decay from answer, Decay from prompt}
%         \end{axis}}
%     \end{tikzpicture}
%     \caption{Visualization of the LC Win Rate (\%) for three open-source models under different decay mechanisms (answer-based and prompt-based decay) in the AlpacaEval2 benchmark.}
%     \label{fig:alpaca_eval2_lc_wr}
% \end{figure}



\begin{figure}[t]
    \centering
    
    \subfloat[AlpacaEval 2 \label{fig:alpacaeval2}]{
        \begin{tikzpicture}
        \scriptsize{
            \begin{axis}[
                ybar,
                bar width=16pt, % Set width of bars
                width=0.52\textwidth,
                height=0.3\textwidth,
                ymajorgrids,
                grid style=dashed,
                enlarge x limits=0.28,
                legend style={at={(0.26,0.98)},
                    anchor=north,
                    legend columns=1, /tikz/every even column/.append style={column sep=2.0cm},fill opacity=0.5, draw opacity=0.5},
                symbolic x coords={Llama3, Gemma2, Mistral-NeMo},
                xtick=data,
                nodes near coords,
                nodes near coords align={vertical},
                ymin=50, ymax=65, % You can adjust these values as needed
                ylabel={LC Win Rate (\%)},
            ]
            \addplot[nodes near coords, nodes near coords align={vertical}, nodes near coords style={/pgf/number format/fixed, /pgf/number format/precision=2},fill=white,draw=red, area legend, postaction={pattern=north east lines}, pattern color=red] coordinates {(Llama3,52.3) (Gemma2,55.3) (Mistral-NeMo,59.3)};
            \addplot[nodes near coords, nodes near coords align={vertical}, nodes near coords style={/pgf/number format/fixed, /pgf/number format/precision=2},fill=magenta!30,draw=red, area legend,postaction={pattern=crosshatch},pattern color=red] coordinates {(Llama3,53.5) (Gemma2,59.7) (Mistral-NeMo,62.1)};
            % \addplot[fill=orange!20,ybar,bar width=4.5em,opacity=0.4,xshift=0em] coordinates {(Llama3,51)};
            \legend{Decay from answer, Decay from prompt}
            \end{axis}}
        \end{tikzpicture}
    }
    \hspace{0.1in}
    \subfloat[Arena-Hard \label{fig:arena-hard}]{
        \begin{tikzpicture}
        \scriptsize{
            \begin{axis}[
                ybar,
                bar width=16pt, % Set width of bars
                width=0.52\textwidth,
                height=0.3\textwidth,
                ymajorgrids,
                grid style=dashed,
                enlarge x limits=0.28,
                legend style={at={(0.26,0.98)},
                    anchor=north,
                    legend columns=1, /tikz/every even column/.append style={column sep=2.0cm},fill opacity=0.5, draw opacity=0.5},
                symbolic x coords={Llama3, Gemma2, Mistral-NeMo},
                xtick=data,
                nodes near coords,
                nodes near coords align={vertical},
                ymin=40, ymax=70, % You can adjust these values as needed
                ylabel={Win Rate (\%)},
            ]
            \addplot[nodes near coords, nodes near coords align={vertical}, nodes near coords style={/pgf/number format/fixed, /pgf/number format/precision=1},fill=white,draw=red, area legend, postaction={pattern=north east lines}, pattern color=red] coordinates {(Llama3,42.8) (Gemma2,64.2) (Mistral-NeMo,60.5)};
            \addplot[nodes near coords, nodes near coords align={vertical}, nodes near coords style={/pgf/number format/fixed, /pgf/number format/precision=1},fill=magenta!30,draw=red, area legend,postaction={pattern=crosshatch},pattern color=red] coordinates {(Llama3,47.3) (Gemma2,66.4) (Mistral-NeMo,62.3)};
            \legend{Decay from answer, Decay from prompt}
            \end{axis}}
        \end{tikzpicture}
    }
    
    \caption{Visualization of the LC Win Rate (\%) on three models under different decay mechanisms (answer-based and prompt-based decay) in the AlpacaEval 2 and Arena-Hard benchmarks.}
    \label{fig:alpaca_eval2_lc_wr}
\end{figure}