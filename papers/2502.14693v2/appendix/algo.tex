\newpage
\section{Algorithm}

\begin{algorithm}[H]
    \caption{Introspective Monte Carlo Tree Search (I-MCTS)}
    \begin{algorithmic}[1]
        \REQUIRE Problem description $p$, dataset $D$, metadata $d$, LLM $LLM$, rollout number $k$, blending constant $\gamma$.
        
        \STATE Initialize Tree with root node $x_{\text{root}}$
        \FOR{$i$ = 1 \textbf{to} $k$}
            \STATE node $x \leftarrow$ select(Tree) \COMMENT{Selection using UCT formula}
            \STATE $X_{\text{child}} \leftarrow$ expand(Tree, $x$, $x_{\text{parent}}$, $x_{\text{sibling}}$) \COMMENT{Introspective expansion}
            \STATE Choose the highest score node $x_{\text{sample}}$ from $X_{\text{child}}$
            \STATE Retrieve solution $\sigma_{\text{sol}}(x_{\text{sample}})$
            \STATE $\sigma_{\text{sol}}, s_{\text{actual}} \leftarrow \text{simulate}(\sigma_{\text{sol}}(x_{\text{sample}}), p, d, D, M)$
            \STATE $s_{\text{LLM}} \leftarrow LLM_{\text{value}}(\sigma_{\text{sol}}(x_{\text{sample}}))$
            \STATE $Q(x_{\text{sample}}) \leftarrow \alpha(x_{\text{sample}}) \cdot s_{\text{LLM}} + (1 - \alpha(x_{\text{sample}})) \cdot s_{\text{actual}}$
            \STATE Backpropagate(Tree, $Q(x_{\text{sample}})$)
        \ENDFOR
        \STATE $x_{\text{best}} \leftarrow \underset{x \in \text{Tree}}{\text{argmax}}(Q(x))$

        \ENSURE $\sigma_{\text{sol}}(x_{\text{best}})$
    \end{algorithmic}
    \label{alg:i-mcts}
\end{algorithm}

