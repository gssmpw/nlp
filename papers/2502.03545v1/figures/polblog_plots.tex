\begin{tikzpicture}
    \def\y{5.5}
    \draw [draw=black] (0,\y) rectangle (13.25,\y + 0.5);

    \node (all_s) at (0.2, \y + 0.25) {};
    \node (all_e) at (2, \y + 0.25) {{\small All nodes}};
    \node (top_s) at (3, \y + 0.25) {};
    \node (top_e) at (4.5, \y + 0.25) {\small \textsc{Top}};
    \node [circle, minimum size=0.2cm, fill=BrickRed, inner sep=0pt] (_) at (3.65, \y + 0.25) {};
    \node (mes_s) at (5.25, \y + 0.25) {};
    \node (mes_e) at (6.75, \y + 0.25) {\small \textsc{Mes}};
    \node [diamond, minimum size=0.2cm, fill=NavyBlue, inner sep=0pt] (_) at (5.9, \y + 0.25) {};
    \node (bos_s) at (7.5, \y + 0.25) {};
    \node (bos_e) at (9, \y + 0.25) {\small \textsc{Bos}};
    \draw [draw = ProcessBlue, fill = ProcessBlue] (8.08, \y + 0.17) rectangle (8.24, \y + 0.33);
    \node (abs_s) at (9.75, \y + 0.25) {};
    \node (abs_e) at (11.75, \y + 0.25) {\small \textsc{SeqAbsorb}};
    \node [isosceles triangle,
        minimum width=0.2cm,
        minimum height=0.2cm,
        fill=OliveGreen,
        inner sep=0pt,
        shape border rotate=90,
        isosceles triangle stretches]
        (_) at (10.4, \y + 0.235) {};

    \path[thick]
    (all_s) edge[draw=gray,densely dashed] (all_e)
    (top_s) edge[draw=BrickRed] (top_e)
    (mes_s) edge[draw=NavyBlue] (mes_e)
    (bos_s) edge[draw=ProcessBlue] (bos_e)
    (abs_s) edge[draw=OliveGreen] (abs_e)
    ;

    \begin{axis}[
        name=katz_plot_10,
        width=6cm,
        height=4.3cm,
        ytick=\empty,
        xlabel={prob. of deletion \\ $k=10$},
        xlabel style={align=center,yshift=5pt},   % Adjust the shift of xlabel
        xtick={0.1,0.3,0.5,0.7,0.9},
        ylabel={avg. fraction \\ of the minority \\ (Katz rules)},
        ylabel style={align=center,yshift= 0pt},   % Adjust the shift of ylabel
        ytick={0, 0.1, 0.2, 0.3, 0.4, 0.5}, % Ensure specific ticks
        ymin=-0.05, ymax=0.55,
        tick label style={font=\scriptsize},
        label style={font=\small}
    ]
    \addplot[color=gray,thick,dashed]
    table[x, y index=1] {data/polblogs_katz_plot_10.dat};

    \addplot[color=BrickRed,mark=*,thick,error bars/.cd,y dir=both,y explicit]
    table[x expr=\thisrowno{0}-0.02, y index=3, y error index=4] {data/polblogs_katz_plot_10.dat};

    \addplot[color=NavyBlue,mark=diamond*,thick,error bars/.cd,y dir=both,y explicit]
    table[x expr=\thisrowno{0}-0.01, y index=5, y error index=6] {data/polblogs_katz_plot_10.dat};

    \addplot[color=ProcessBlue,mark=square*,thick,error bars/.cd,y dir=both,y explicit]
    table[x expr=\thisrowno{0}, y index=7, y error index=8] {data/polblogs_katz_plot_10.dat};

    \addplot[color=OliveGreen,mark=triangle*,thick,error bars/.cd,y dir=both,y explicit]
    table[x expr=\thisrowno{0}+0.01, y index=9, y error index=10] {data/polblogs_katz_plot_10.dat};
    \end{axis}
    \begin{axis}[
        name=katz_plot_20,
        at={(katz_plot_10.south east)},
        width=6cm,
        height=4.3cm,
        ytick={0, 0.1, 0.2, 0.3, 0.4, 0.5},
        ymin=-0.05, ymax=0.55,
        yticklabels = {\empty,\empty,\empty,\empty,\empty,\empty},
        xtick={0.1,0.3,0.5,0.7,0.9},
        % xticklabels={{0.9}, {0.7}, {0.5}, {0.3}, {0.1}},
        % xticklabels={{1}, {10}, {20}, {30}, {40}, {50}},
        tick label style={font=\scriptsize},
        label style={font=\small},
        xlabel={prob. of deletion \\ $k=20$},
        xlabel style={align=center,yshift=5pt}
    ]
    \addplot[color=gray,thick,dashed]
    table[x, y index=1] {data/polblogs_katz_plot_20.dat};

    \addplot[color=BrickRed,mark=*,thick,error bars/.cd,y dir=both,y explicit]
    table[x expr=\thisrowno{0}-0.02, y index=3, y error index=4] {data/polblogs_katz_plot_20.dat};

    \addplot[color=NavyBlue,mark=diamond*,thick,error bars/.cd,y dir=both,y explicit]
    table[x expr=\thisrowno{0}-0.01, y index=5, y error index=6] {data/polblogs_katz_plot_20.dat};

    \addplot[color=ProcessBlue,mark=square*,thick,error bars/.cd,y dir=both,y explicit]
    table[x expr=\thisrowno{0}, y index=7, y error index=8] {data/polblogs_katz_plot_20.dat};

    \addplot[color=OliveGreen,mark=triangle*,thick,error bars/.cd,y dir=both,y explicit]
    table[x expr=\thisrowno{0}+0.01, y index=9, y error index=10] {data/polblogs_katz_plot_20.dat};
    \end{axis}
    \begin{axis}[
        name=katz_plot_50,
        at={(katz_plot_20.south east)},
        width=6cm,
        height=4.3cm,
        xtick={0.1,0.3,0.5,0.7,0.9},
        ytick={0, 0.1, 0.2, 0.3, 0.4, 0.5},
        ymin=-0.05, ymax=0.55,
        yticklabels = {\empty,\empty,\empty,\empty,\empty,\empty},
        tick label style={font=\scriptsize},
        label style={font=\small},
        xlabel={prob. of deletion \\ $k=50$ },
        xlabel style={align=center,yshift=5pt}
    ]
    \addplot[color=gray,thick,dashed]
    table[x, y index=1] {data/polblogs_katz_plot_50.dat};

    \addplot[color=BrickRed,mark=*,thick,error bars/.cd,y dir=both,y explicit]
    table[x expr=\thisrowno{0}-0.02, y index=3, y error index=4] {data/polblogs_katz_plot_50.dat};

    \addplot[color=NavyBlue,mark=diamond*,thick,error bars/.cd,y dir=both,y explicit]
    table[x expr=\thisrowno{0}-0.01, y index=5, y error index=6] {data/polblogs_katz_plot_50.dat};

    \addplot[color=ProcessBlue,mark=square*,thick,error bars/.cd,y dir=both,y explicit]
    table[x expr=\thisrowno{0}, y index=7, y error index=8] {data/polblogs_katz_plot_50.dat};

    \addplot[color=OliveGreen,mark=triangle*,thick,error bars/.cd,y dir=both,y explicit]
    table[x expr=\thisrowno{0}+0.01, y index=9, y error index=10] {data/polblogs_katz_plot_50.dat};
    \end{axis}
    \begin{axis}[
        name=pr_plot_10,
        at={(katz_plot_10.north west)},
        width=6cm,
        height=4.3cm,
        % xlabel={prob. of deletion \\ $k=10$},
        % xlabel style={align=center,yshift=5pt},   % Adjust the shift of xlabel
        xtick={0.1,0.3,0.5,0.7,0.9},
        ymin=-0.05, ymax=0.55,
        xticklabels = {\empty,\empty,\empty,\empty,\empty},
        ytick={0, 0.1, 0.2, 0.3, 0.4, 0.5}, % Ensure specific ticks
        ylabel={avg. fraction \\ of the minority \\ (PageRank rules)},
        ylabel style={align=center,yshift=0pt},   % Adjust the shift of ylabel
        legend pos=north east,
    %    ymajorgrids=true,
    %    xmajorgrids=true,
    %    grid style=dashed,
        legend cell align={left},
        legend style={nodes={scale=0.8, transform shape}},
        tick label style={font=\scriptsize},
        label style={font=\small},
        legend style={font=\small}
    ]
    
    \addplot[color=gray,thick,dashed]
    table[x, y index=1] {data/polblogs_pr_plot_10.dat};

    \addplot[color=BrickRed,mark=*,thick,error bars/.cd,y dir=both,y explicit]
    table[x expr=\thisrowno{0}-0.02, y index=3, y error index=4] {data/polblogs_pr_plot_10.dat};

    \addplot[color=NavyBlue,mark=diamond*,thick,error bars/.cd,y dir=both,y explicit]
    table[x expr=\thisrowno{0}-0.01, y index=5, y error index=6] {data/polblogs_pr_plot_10.dat};

    \addplot[color=ProcessBlue,mark=square*,thick,error bars/.cd,y dir=both,y explicit]
    table[x expr=\thisrowno{0}, y index=7, y error index=8] {data/polblogs_pr_plot_10.dat};

    \addplot[color=OliveGreen,mark=triangle*,thick,error bars/.cd,y dir=both,y explicit]
    table[x expr=\thisrowno{0}+0.01, y index=9, y error index=10] {data/polblogs_pr_plot_10.dat};
    
    \end{axis}
    \begin{axis}[
        name=pr_plot_20,
        at={(pr_plot_10.south east)},
        width=6cm,
        height=4.3cm,
        xtick={0.1,0.3,0.5,0.7,0.9},
        ymin=-0.05, ymax=0.55,
        xticklabels = {\empty,\empty,\empty,\empty,\empty},
        ytick={0, 0.1, 0.2, 0.3, 0.4, 0.5},
        yticklabels = {\empty,\empty,\empty,\empty,\empty,\empty},
        tick label style={font=\scriptsize},
        label style={font=\small}
    ]
    \addplot[color=gray,thick,dashed]
    table[x, y index=1] {data/polblogs_pr_plot_20.dat};

    \addplot[color=BrickRed,mark=*,thick,error bars/.cd,y dir=both,y explicit]
    table[x expr=\thisrowno{0}-0.02, y index=3, y error index=4] {data/polblogs_pr_plot_20.dat};

    \addplot[color=NavyBlue,mark=diamond*,thick,error bars/.cd,y dir=both,y explicit]
    table[x expr=\thisrowno{0}-0.01, y index=5, y error index=6] {data/polblogs_pr_plot_20.dat};

    \addplot[color=ProcessBlue,mark=square*,thick,error bars/.cd,y dir=both,y explicit]
    table[x expr=\thisrowno{0}, y index=7, y error index=8] {data/polblogs_pr_plot_20.dat};

    \addplot[color=OliveGreen,mark=triangle*,thick,error bars/.cd,y dir=both,y explicit]
    table[x expr=\thisrowno{0}+0.01, y index=9, y error index=10] {data/polblogs_pr_plot_20.dat};
    \end{axis}
    \begin{axis}[
        name=pr_plot_50,
        at={(pr_plot_20.south east)},
        width=6cm,
        height=4.3cm,
        xtick={0.1,0.3,0.5,0.7,0.9},
        ymin=-0.05, ymax=0.55,
        xticklabels = {\empty,\empty,\empty,\empty,\empty},
        ytick={0, 0.1, 0.2, 0.3, 0.4, 0.5},
        yticklabels = {\empty,\empty,\empty,\empty,\empty,\empty},
        tick label style={font=\scriptsize},
        label style={font=\small}
    ]
    \addplot[color=gray,thick,dashed]
    table[x, y index=1] {data/polblogs_pr_plot_50.dat};

    \addplot[color=BrickRed,mark=*,thick,error bars/.cd,y dir=both,y explicit]
    table[x expr=\thisrowno{0}-0.02, y index=3, y error index=4] {data/polblogs_pr_plot_50.dat};

    \addplot[color=NavyBlue,mark=diamond*,thick,error bars/.cd,y dir=both,y explicit]
    table[x expr=\thisrowno{0}-0.01, y index=5, y error index=6] {data/polblogs_pr_plot_50.dat};

    \addplot[color=ProcessBlue,mark=square*,thick,error bars/.cd,y dir=both,y explicit]
    table[x expr=\thisrowno{0}, y index=7, y error index=8] {data/polblogs_pr_plot_50.dat};

    \addplot[color=OliveGreen,mark=triangle*,thick,error bars/.cd,y dir=both,y explicit]
    table[x expr=\thisrowno{0}+0.01, y index=9, y error index=10] {data/polblogs_pr_plot_50.dat};
    \end{axis}
\end{tikzpicture}