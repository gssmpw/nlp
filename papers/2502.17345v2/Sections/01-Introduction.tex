\section{Introduction}\label{introduction}

Tourism plays a fundamental role in the economy of many countries. Currently, the massive size of the tourism industry requires Information and Communication Technology (ICT) to make services more intelligent, enhance user (tourist) experience, and improve user engagement. Thus, the last decades have witnessed an explosion of digital services to build Smart Tourism~\cite{eu-capital:23}{,} where users actively participate in their trips. Similarly, the prevalence of mobile devices and advancements in wireless communication allowed the emergence of location-based social networks (LBSNs)~\cite{silva-urban:19}, constituting a rich source of spatial-temporal datasets describing social network users' mobility and interest information. These datasets have been commonly leveraged in the last few years by itinerary recommendation systems aiming to offer more personalized services~\cite{lim-tour:18, shini-extensive:20, yochum-linked:20,halder-survey:24}. 

Personalized Tour Itinerary Recommendation (PTIR) systems are another important component of Smart Tourism. Given the set of Point-of-Interests (POIs) of a city, the time availability for the tour visit, and the user's preferences, the mission of PTIR systems is to identify a tour itinerary (i.e., a sequence of ordered POIs) that maximizes the user's experience while adhering to her time availability constraint. Previously proposed PTIR systems assume that trip experience depends on POI popularity~\cite{choudhury-automatic:10}, user's interest in the POI category (e.g., Shopping, Entertainment, etc.)~\cite{brilhante-where:13, yu-personalized:16, lim-personalized:18}, or other user's preferences mined from LBSNs~\cite{chen-persolnalized:20, chen-trip:23}.

With the deployment of 5G networks worldwide and the future Beyond 5G extension, a new trend in Smart Tourism is Mobile Augmented Reality (MAR) technologies, which allow users to project computer-generated augmentations on top of real-world images using mobile devices (e.g., smartphones or wearables). This task, however, involves processing-hungry computer vision and rendering algorithms, which are hard to fulfill by resource-constrained mobile devices. Thus, realizing MAR requires a compromise between mobility, battery life, and performance. One way to achieve this compromise is to exploit the processing capabilities of Multi-access Edge Computing (MEC) and offload the MAR computation to the wireless network edge~\cite{chen-empirical:17,zhou-5g:24}. Edge computation offloading results in enhanced user experience and smaller footprints of the bandwidth-demanding media traffic to the wireless network~\cite{siriwardhana-survey:21}. Consequently, as advanced mobile networks become prevalent and MAR applications use more sophisticated video formats and resolutions, the user experience when visiting a POI will also depend on the applications (e.g., social network, Mobile Video Streaming (MVS), MAR) she will consume, and the quality that the ICT infrastructure will deliver such applications.

In the above context, neglecting to account for the edge resources when recommending a tour itinerary can create a frustrating experience for users once they seek an advanced, combined physical and virtual visit experience. Thus, the coupling between MEC resource allocation and PTIR systems is the {primary} motivation for this work. Consider, for example, a Metropolitan Tourism Centre (MTC) that provides smart tourism services. The MTC leases network and computing resources from a network operator as a network slice. The network slice comprises mobile wireless coverage in each POI, MEC server capabilities near the POIs, and remote cloud computing resources accessed through the Internet, as illustrated in Figure~\ref{fig:ICT-Infrastructure}. The MTC also offers a PTIR system to help users build their tour itineraries according to their preferences and the applications they consume. However, instead of issuing recommendations for itineraries that rank as the top most relevant according to individual preferences, {the PTIR system proposes an itinerary to individual users that is still attractive according to their preferences but, at the same time, optimizes the MEC resource allocation when running the selected applications.} Although such recommendations can slightly affect the recommended POIs, they aim at higher MEC resource allocation efficiency and, thus, a better global (multi-users) physical and virtual experience.

This work advances the state-of-the-art {recommendation of} personalized tour itineraries by considering new preferences {that will be} available with the prevalence of advanced mobile networks and MAR applications. In this context, we jointly approach the design of PTIR algorithms and the resource allocation at the network edge, making the following contributions:

\begin{itemize}

\item We formulate an optimization problem for recommending personalized tour itineraries for users considering their preferences, the applications they will consume during the tour, and the corresponding resource allocation required at the network edge. The objective is to find a single itinerary for each user so that the set of chosen itineraries maximizes the sum of the profits perceived by all the users, prioritizing the MEC resource allocation while satisfying the users and the infrastructure constraints. This paper significantly extends our previous paper~\cite{fonseca-personlized:19}, which, to the best of our knowledge,
was the first work to formulate {and evaluate} this problem (cf. Section~\ref{sec:related-work}). 

\item We devise the next-generation of Touristic services (+Tour), an algorithm that efficiently solves the above problem using {Dynamic Programming and Mixed Integer Linear Programming~\cite{hillier2015introduction}}. 

\item We then infer the potential interest of users in types of applications or services. For this, we automatically extract POI popularity and user preferences on POIs from a real-world location-based photo-sharing application (Flickr). The resulting dataset describes users' visits in 13 tourist cities on four continents. We then conduct and present an exploratory analysis of this dataset to understand preferences and users' visiting patterns. We then propose a methodology to identify user interest in applications based on such investigations.

{\item We introduce two new metrics, namely, \textbf{Allocation Efficiency} (\textbf{AE}) and \textbf{User Experience} (\textbf{UE}) to assess the performance of the algorithms on allocating resources in the network edge and on the overall user experience provided by the recommended itinerary.}

{\item We provide a dataset based on real-world POI visitation history from 13 cities spread across 4 continents. This dataset includes 20461 valid tour sequences generated by 8407 users who visited 401 POIs divided across 20 unique categories.}

\item Using the collected dataset, we evaluate the effectiveness of +Tour in three different resource utilization scenarios. In addition, we compare the results obtained by +Tour with those produced by a modified version of PersTour~\cite{lim-personalized:18}, a state-of-the-art solution for recommending personalized tour itineraries. +Tour outperforms the modified version of PersTour in all scenarios, showing gains up to 11\% for resource allocation efficiency and 40\% for user experience. In addition, +Tour performs similarly to {a modified version of} PersTour in traditional metrics for evaluating PTIR systems. We also show that +Tour can optimally solve the problem for instances of realistic size {(250 users per instance in an environment with the scale outlined in Table~\ref{tab:dataset})} in a reasonable amount of time {(Figure~\ref{fig:time})}.

\item We make the +Tour source code and the processed dataset publicly available.

\item {Finally, we highlight that our proposal induces the users to cooperate by strategically recommending each tourist itinerary using information from a group of tourists that may compete for resources. An MTC adopting +Tour would benefit from this induced cooperative behavior, which could improve the usersâ€™ experience and, consequently, retain current clients and attract new ones. Even in other contexts, cooperative behavior is generally desired. For example, the authors of \cite{rehman2022ITS} show how a transport company can improve resilience and security by using a cooperative intelligent transportation system. In \cite{fang2023COVID}, the authors investigate the impact of cooperative behavior between social organizations during the COVID-19 pandemic outbreak in Shanghai and find consistent advantages of cooperative multi-organization management. While it is well-known that cooperation among regional departments plays an important role in facilitating the equitable disposal of construction waste across regions, through modeling and simulation, the authors of \cite{mengdi2024recycling} are able to identify cross-regional cooperation strategies for recycling enterprises, enhancing the efficiency of construction waste treatment and fostering the coordinated development of urban areas.}

\end{itemize}

\begin{figure}[t]
    \centering
    \includegraphics[width=0.50\textwidth]{Figures/ICT-Infrastructure.pdf}
    \caption{User spots with {advanced mobile networks} ICT infrastructure.}
    \label{fig:ICT-Infrastructure}
\end{figure}

The rest of this paper is organized as follows. Section~\ref{sec:related-work} discusses the related work. Section~\ref{sec:system-model} introduces the system model. The problem formulation is formalized in Section~\ref{sec:problem-formulation}, while +Tour is detailed {and analyzed} in Section~\ref{sec:solution}. Data characterization is presented in Section~\ref{sec:data-characterization}, and the experimental evaluation is detailed in Section~\ref{sec:evaluation}. Section~\ref{sec:conclusions} concludes the paper and outlines future work.