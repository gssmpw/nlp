\usepackage{blkarray}                                      % to support matrix
%\usepackage[noend]{algpseudocode}
\usepackage{algpseudocode}                                 % new algorithm package
\usepackage{algorithm}
%\usepackage{algorithm2e}
\usepackage{graphicx}                                      % include pdf figures
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{amsthm}
\usepackage[mathcal]{eucal}
\usepackage{mathrsfs}
\usepackage{booktabs}
\usepackage{enumerate}
\usepackage{multirow}
\usepackage[subrefformat=parens,farskip=0pt,justification=centering]{subfig}
%\usepackage{subfig}
\captionsetup[subfigure]{labelformat=simple}               % avoid "double brackets" in sub-figure caption
\renewcommand\thesubfigure{(\alph{subfigure})}             % "Fig.~1b"-->"Fig.1(b)"
\usepackage{color}
\usepackage{cite}                                          % more citations in one bracket
\usepackage{comment}                                       % use comment
\usepackage{soul}                                          % use highlight command \hl{}
\soulregister\cite7
\soulregister\ref7
\soulregister\pageref7
\usepackage{etoolbox}                                      % commands \newtoggle, \toggletrue, \iftoggle
\usepackage{url}
\usepackage{nth}                                           % nth command
\usepackage{bm}                                            % bm command
\usepackage{courier}
\usepackage{makecell}
\usepackage{balance}
\usepackage{threeparttable}
\usepackage[bookmarks=false]{hyperref}
\hypersetup{
    colorlinks = true,
    citecolor  = blue,
    linkcolor  = blue,
    urlcolor   = blue,
}
\usepackage{tikz}
\usetikzlibrary{positioning,calc,fit,decorations.pathmorphing,shapes.geometric, shapes.gates.logic.US, calc}
\usetikzlibrary{arrows,arrows.meta,decorations.markings,shapes,shapes.arrows}
\usetikzlibrary{backgrounds}
\usepackage{filecontents}                                  % support to pgfplots
\usepackage{pgfplots}
\usepackage{pgfplotstable}
\usepackage{scalefnt}
\usepgfplotslibrary{groupplots}
\pgfplotsset{compat=newest}
\usepackage{caption}
\usepackage{cleveref}
\Crefformat{figure}{Fig.~#2#1#3}                           % "Fig.", instead of "Figure"
\Crefname{subfigure}{Fig.}{Figs.}
\Crefname{figure}{Fig.}{Figs.}
\Crefformat{table}{TABLE~#2#1#3}                           % "TABLE", instead of "Table"
\captionsetup[table]{skip=0pt}
\captionsetup{labelsep=space}

% ==== local color definitions
\definecolor{CUpurple}{RGB}{117,15,109}
\definecolor{CUgold}{RGB}{221,163,0}
\definecolor{CUribbon}{RGB}{244,223,176}
\definecolor{CUblack}{RGB}{34,24,21}
\definecolor{USTgold}{RGB}{153,102,0}
\definecolor{USTyellow}{RGB}{204,153,0}
\definecolor{USTyellowlight}{RGB}{255,212,0}
\definecolor{USTorange}{RGB}{255,166,26}
\definecolor{USTblue}{RGB}{0,51,102}
\definecolor{USTmiddle}{RGB}{0,116,188}
\definecolor{USTlight}{RGB}{99,202,225}
\definecolor{USTgray}{RGB}{204,204,204}
\definecolor{USTred}{RGB}{237,27,47}
\definecolor{USTdarkred}{RGB}{124,35,72}

% ==== Local new commands
\newcommand{\calH}{\mathcal{H}}
\newcommand{\calL}{\mathcal{L}}
\newcommand{\calN}{\mathcal{N}}
\newcommand{\calO}{\mathcal{O}}
\newcommand{\calP}{\mathcal{P}}
\newcommand{\calQ}{\mathcal{Q}}
\newcommand{\calV}{\mathcal{V}}
\newcommand{\calKL}{\mathcal{KL}}
\newcommand{\norm}[1]{\left\lVert#1\right\rVert}
\newcommand{\tensor}[1]{\mathcal{#1}}      % define tensor command
\renewcommand{\vec}[1]{\boldsymbol{#1}}    % re-define vec command
\newcommand{\mathbbm}[1]{\text{\usefont{U}{bbm}{m}{n}#1}}
\DeclareMathOperator*{\argmin}{argmin}
\DeclareMathOperator*{\argmax}{argmax}
\newcommand\blfootnote[1]{                 % footnote w/o. label
  \begingroup
  \renewcommand\thefootnote{}\footnote{#1}%
  \addtocounter{footnote}{-1}%
  \endgroup
}


% === beamer style block
\usepackage{tcolorbox}
\tcbuselibrary{skins,breakable}
\newenvironment{myblock}[1]{%
    \tcolorbox[beamer,%
    noparskip,breakable,
    colback=white,colframe=CUHKmiddle,%
    colbacklower=white,%
    title=#1]}%
    {\endtcolorbox}


% =============================================================
%              page size setting (in compact mode)
% =============================================================
\paperwidth   = 8.5in                                      % US Letter
\paperheight  = 11.0in
%\paperwidth  = 8.26in                                     % A4
%\paperheight = 11.69in
\usepackage[top=0.75in,bottom=0.75in,left=0.55in,right=0.55in]{geometry}
\setlength{\textfloatsep}{10pt plus 1pt minus 1pt}         % set space between float and text
\setlength{\floatsep}{10pt plus 1pt minus 1pt}             % set space between two floats
\setlength{\intextsep}{4pt plus 1pt minus 1pt}             % set space between text and float
\setlength{\abovecaptionskip}{2pt}                         % set space between figure and caption
\setlength{\belowcaptionskip}{2pt}                         % set space between figure and caption
\setlength{\columnsep}{14pt}                               % set space between columns
% ==== reduce space around equations
\setlength{\belowdisplayskip}{4pt} \setlength{\belowdisplayshortskip}{4pt}
\setlength{\abovedisplayskip}{4pt} \setlength{\abovedisplayshortskip}{4pt}
% ==== reduce section and subsection title spacing
\newcommand{\subparagraph}{}
\usepackage{titlesec}
\titlespacing*{\section}{0pt}{1.8ex plus .2ex minus .2ex}{0.4ex plus .2ex}
\titlespacing*{\subsection}{0pt}{1.0ex plus .2ex minus .2ex}{0.2ex plus .2ex}


% =============================================================
%                   Theorem Definitions
% =============================================================
\newtheorem{myproblem}{\textbf{Problem}}
\newtheorem{mydefinition}{\textbf{Definition}}
\newtheorem{mytheorem}{\textbf{Theorem}}
\newtheorem{mycorollary}{\textbf{Corollary}}
\newtheorem{mylemma}{\textbf{Lemma}}
\newtheorem{myclaim}{\textbf{Claim}}
\newtheorem{myapplication}{\textbf{Application}}
\newtheorem{myexample}{\textbf{Example}}
\newtheorem{myconjecture}{\textbf{Conjecture}}
\newtheorem{myassumption}{Assumption}
\newtheorem{myprop}{Property}

\crefname{mytheorem}{Theorem}{Theorems}
\crefname{mylemma}{Lemma}{Lemmas}
\crefname{myclaim}{Claim}{Claims}
\crefname{myproperty}{Property}{Properties}
\crefname{mycorollary}{Corollary}{Corollaries}

\algrenewcommand\textproc{\texttt}
\newcommand{\tabincell}[2]{
    \begin{tabular}{@{}#1@{}}#2\end{tabular}
}

% long line in algorithm
% e.g.: \Statex[4] ...;
\makeatletter
\let\OldStatex\Statex
\renewcommand{\Statex}[1][3]{%
  \setlength\@tempdima{\algorithmicindent}%
  \OldStatex\hskip\dimexpr#1\@tempdima\relax
}
\makeatother


% =============================================================
%          Definitions to support latexdiff
% =============================================================
%DIF PREAMBLE EXTENSION ADDED BY LATEXDIFF
%DIF UNDERLINE PREAMBLE %DIF PREAMBLE
\RequirePackage[normalem]{ulem} %DIF PREAMBLE
\RequirePackage{color}\definecolor{RED}{rgb}{1,0,0}\definecolor{BLUE}{rgb}{0,0,1} %DIF PREAMBLE
\providecommand{\DIFadd}[1]{{\protect\color{blue}{#1}}}                           %DIF PREAMBLE
\providecommand{\DIFdel}[1]{{\protect\color{red}\sout{#1}}}                       %DIF PREAMBLE
%DIF SAFE PREAMBLE %DIF PREAMBLE
\providecommand{\DIFaddbegin}{}                                                   %DIF PREAMBLE
\providecommand{\DIFaddend}{}                                                     %DIF PREAMBLE
\providecommand{\DIFdelbegin}{}                                                   %DIF PREAMBLE
\providecommand{\DIFdelend}{}                                                     %DIF PREAMBLE
%DIF FLOATSAFE PREAMBLE %DIF PREAMBLE
\providecommand{\DIFaddFL}[1]{\DIFadd{#1}}                                        %DIF PREAMBLE
\providecommand{\DIFdelFL}[1]{\DIFdel{#1}}                                        %DIF PREAMBLE
\providecommand{\DIFaddbeginFL}{}                                                 %DIF PREAMBLE
\providecommand{\DIFaddendFL}{}                                                   %DIF PREAMBLE
\providecommand{\DIFdelbeginFL}{}                                                 %DIF PREAMBLE
\providecommand{\DIFdelendFL}{}                                                   %DIF PREAMBLE
%DIF END PREAMBLE EXTENSION ADDED BY LATEXDIFF


% =============================================================
%          Local revision functions 
% =============================================================
\newcommand{\todo}[1]{\textcolor{red}{[TODO: #1]}}
\newcommand{\revise}[1]{\DIFadd{#1}}

% ==== Logs:
%
%  05/2021: beamer style block
%  01/2020: todo & revise functions
%  02/2019: vec commend
%  10/2018: captionsetup: remove ":" in caption; eucal package
%  12/2016: titlespacing
%  09/2016: captionsetup
%  07/2016: support to pgfplots
%  07/2016: threeparttable
%  05/2016: setlength intextsep & columnsep
%  04/2016: definitions supporting latexdiff
%  04/2016: remove bookmarks in hyperref
%  02/2016: tabincell
%  02/2016: hyperref
%  12/2015: copy from "ieee_conference"
%

