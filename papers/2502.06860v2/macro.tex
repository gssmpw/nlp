\usepackage{enumitem}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{multirow}
\usepackage{bigdelim}
\usepackage{wrapfig}
\usepackage{xspace}
\usepackage{color}
\usepackage{booktabs}
\usepackage{dsfont}
\usepackage{ifthen}
\usepackage{subcaption}
\usepackage{bbold}
\usepackage{xcolor, pgf}
\usepackage{color, colortbl}
\usepackage[normalem]{ulem} %
\usepackage{placeins}
\usepackage{soul}
\usepackage[many]{tcolorbox}

\usepackage{adjustbox}
\usepackage{arydshln}

\usepackage{algorithm}
\usepackage{algorithmicx}
\usepackage{algpseudocode}
\algnewcommand\algorithmicinput{\textbf{Input:}}
\algnewcommand\INPUT{\item[\algorithmicinput]}
\algnewcommand\algorithmicoutput{\textbf{Output:}}
\algnewcommand\OUTPUT{\item[\algorithmicoutput]}
\algnewcommand\algorithmicforeach{\textbf{for each}}
\algtext*{EndFor}%

\algdef{S}[FOR]{ForEach}[1]{\algorithmicforeach\ #1\ \algorithmicdo}
\algrenewcommand{\alglinenumber}[1]{\color{red!80!blue}\footnotesize#1:}
\renewcommand{\algorithmiccomment}[1]{\hfill$\triangleright$\textcolor{blue}{#1}}
\algnewcommand\Func[2]{\textcolor{green}{#1}\textcolor{green}{(#2)}}
\algnewcommand\Insert[2]{Insert {#1} to #2.}
\algnewcommand\Input[1]{\State \textbf{Input: } #1}
\algnewcommand\Output[1]{\State \textbf{Output: } #1}
\renewcommand{\algorithmicrequire}{\textbf{Input:}}
\renewcommand{\algorithmicensure}{\textbf{Output:}}

\newlength\myboxwidth
\setlength{\myboxwidth}{\dimexpr\textwidth-2\fboxsep}

\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{green}{rgb}{0, 0.6, 0}
\definecolor{orange}{rgb}{1, 0.5, 0}
\definecolor{mahogany}{rgb}{0.75, 0.25, 0.0}
\definecolor{purple}{rgb}{0.6, 0, 0.6}
\definecolor{darkgreen}{rgb}{0, 0.3, 0}
\definecolor{orange}{rgb}{1, 0.5, 0.}
\definecolor{lightblue}{rgb}{0.52, 0.75,0.91}
\definecolor{softgreen}{rgb}{0.66,0.87,0.74}
\definecolor{softred}{rgb}{0.96,0.71,0.69}
\newcommand{\ichao}[1]{\textcolor{blue}{{ichao: #1}}}
\newcommand{\unsure}[1]{\textcolor{orange}{#1}}

\colorlet{soullightblue}{lightblue!50}
\newcommand{\besthint}[1]{\sethlcolor{soullightblue}\hl{#1}}
\newcommand{\bestcell}[1]{\cellcolor{lightblue!50}#1}
\newcommand{\seccell}[1]{\cellcolor{secondblue!50}#1}

\definecolor{purpleD}{rgb}{.8941, .8, .9043}
\definecolor{greenD}{rgb}{.7145, .9249, .7999}

\DeclareRobustCommand{\xxcmt}[1]{
  \begingroup
  \definecolor{hlcolor}{RGB}{168,221,188}\sethlcolor{hlcolor}%
  \hl{\textbf{xx:} #1}%
  \endgroup
}
\DeclareRobustCommand{\todo}[1]{
  \begingroup
  \definecolor{hlcolor}{RGB}{245,183,177}\sethlcolor{hlcolor}%
  \hl{\textbf{TODO:} #1}%
  \endgroup
}

\newcommand{\discuss}[1]{\textcolor{orange}{\textbf{#1}}}
\newcommand{\upd}[1]{\colorbox{yellow}{#1}}
\newcommand{\expect}{\mathop{\mathbb{E}}\nolimits}
\newcommand{\ignore}[1]{}
\newcommand{\none}[1]{}
\newcommand{\com}[1]{}
\newcommand{\cmt}[1]{\begin{sloppypar}\large\textcolor{red}{#1}\end{sloppypar}}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\minimize}{minimize}

\newcommand{\finalprompt}{\mathcal{P}_{\mathrm{stylized}}}
\newcommand{\inputprompt}{\mathcal{P}_{\mathrm{input}}}
\newcommand{\augprompt}{\mathcal{P}_{\mathrm{aug}}}
\newcommand{\completesketch}{\mathcal{S}_{\mathrm{complete}}}
\newcommand{\intermediatesketch}{\mathcal{\bar{S}}_{\mathrm{complete}}}
\newcommand{\inputsketch}{\mathcal{S}_{\mathrm{input}}}
\newcommand{\optsketch}{\mathcal{S}_{\mathrm{opt}}}
\newcommand{\guideimg}{\mathcal{I}_{\mathrm{guide}}}
\newcommand{\rastersketch}{\mathcal{I}_\mathrm{sketch}}

\tcbset{top=0mm,bottom=0mm,left=0mm,right=0mm,fonttitle=\bfseries\scriptsize\color{gray},colbacktitle=white,enhanced,attach boxed title to top center={yshift=-1mm},boxed title style={top=0mm,bottom=0mm,left=0mm,right=0mm}}

\usepackage{listings}
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\usepackage{lstautogobble}  %
\usepackage{color}          %
\usepackage{zi4}            %

\definecolor{bluekeywords}{rgb}{0.13, 0.13, 1}
\definecolor{greencomments}{rgb}{0, 0.5, 0}
\definecolor{redstrings}{rgb}{0.9, 0, 0}
\definecolor{graynumbers}{rgb}{0.5, 0.5, 0.5}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}

\lstdefinestyle{anotherstyle}{
    autogobble,
    columns=fullflexible,
    showspaces=false,
    showtabs=false,
    breaklines=true,
    showstringspaces=false,
    breakatwhitespace=true,
    escapeinside={(*@}{@*)},
    commentstyle=\color{greencomments},
    keywordstyle=\color{bluekeywords},
    stringstyle=\color{redstrings},
    numberstyle=\color{graynumbers},
    basicstyle=\ttfamily\footnotesize,
    frame=l,
    framesep=12pt,
    xleftmargin=12pt,
    tabsize=4,
    captionpos=b
}

\lstset{style=mystyle}

\newcommand{\methodName}{AutoSketch\xspace}

\usepackage[frozencache,cachedir=.]{minted}%
\usepackage{etoolbox}
\usemintedstyle{trac}
\newminted{python}{autogobble,escapeinside=||,fontsize=\footnotesize}

\BeforeBeginEnvironment{minted}{
    \begin{tcolorbox}[arc=1pt,colback=black!3!white,colframe=black!16!white,boxrule=0.3mm,before skip=1mm,after skip=1mm,top=.5mm,bottom=.5mm,left=1mm,right=1mm]
}
\AfterEndEnvironment{minted}{
    \end{tcolorbox}
}
