\begin{algorithm}[bth]
\begin{algorithmic}[1]
    \item[{\bf Function} doLoadBalancing():]{}
    \STATE $tid_{\text{thief}} \gets req\gg40$
    \STATE $pushed\_tasks \gets 0$
    \WHILE{$ (!\texttt{isTargetQFull}(tid_{\text{thief}}, tid_{\text{i}})) \AND (!\texttt{isMyQEmpty}())$}
        \STATE $task \gets \texttt{removeXQueueTask}(tid_{\text{i}})$
        \STATE $\texttt{pushXQueueTask}(tid_{\text{thief}}, task)$
        \STATE $pushed\_tasks \gets pushed\_tasks + 1$
        \IF{$pushed\_tasks \geq N_{\text{steal}}$}
            \STATE break
        \ENDIF
    \ENDWHILE
\end{algorithmic}

\vspace{1ex}

\caption{Work stealing design}
\label{algo:ws-logic}
\end{algorithm}