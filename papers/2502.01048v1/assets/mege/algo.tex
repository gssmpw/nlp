\begin{algorithm}[h]
\caption{Training procedure to compute $\Setm$ and $\Setp$}
\begin{algorithmic}
\label{alg:mege:procedure}

\REQUIRE $k \in \mathbb{N}_{\geq 2} \ ,\ \s{D} = \{ \s{V}_i \}_{i=1}^k $
\STATE $\Setm \gets{} \{\}$, $\Setp \gets{} \{\}$

\FORALL{$ i \in  \{1,~\ldots{},~k \}  $}
\STATE \textbf{Train} $\f_i$ on $\s{D} \setminus \s{V}_i$
\FORALL{$(\vx, \vy) \in \s{D}$}
\STATE \textit{// generate explanations on all dataset} 
\STATE $ \explanation_{\vx}^{(i)} \gets{} \explainer(\f_i, \vx)$
\ENDFOR
\ENDFOR

\FORALL{$ i \in  \{1,~\ldots{},~k \}$}
\FORALL{$(\vx, \vy) \in \s{V}_i$}
\FORALL{$ j \in  \{1,~\ldots{},~k \mid i \neq j \}$}

\STATE \textit{// $\f_{j}$ was trained on $\vx$, $\f_{i}$ was not} 
\STATE $ \delta_{\vx}^{(i,j)} \gets{} d( \explanation_{\vx}^{(i)}, \explanation_{\vx}^{(j)} )$

\IF{$\f_{i}(\vx) = \vy $ \AND $\f_{j}(\vx) = \vy$}
\STATE \textit{// both model are correct}
\STATE $\Setm \gets{} \Setm \cup \{ \delta_{\vx}^{(i,j)} \}$

\ELSIF{$\f_i(\vx) = \vy $ \OR $\f_j(\vx) = \vy$}
\STATE \textit{// only one model is correct}
\STATE $\Setp \gets{} \Setp \cup \{ \delta_{\vx}^{(i,j)} \}$

\ENDIF
\ENDFOR
\ENDFOR
\ENDFOR

\STATE \textbf{Return} $\Setm, \Setp$

\end{algorithmic}
\end{algorithm}
