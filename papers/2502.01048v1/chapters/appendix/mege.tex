\input{assets/mege/algo}
\subsection{distance over explanations}
\label{ap:mege:distances}

\paragraph{Spatial correlation}
The first test concerns the spatial distance between two areas of interest for an explanation. It is desired that the spatial distance between areas of interest be expressed by the distance used. As a results, two different but spatially close explanations should have a low distance. The test consists in generating several masks representing a point of interest, starting from a left corner of an image of size (32 x 32) and moving towards the right corner by interpolating 100 different masks. The distance between the first image and each interpolation is then measured (see Fig. \ref{dist:move}). 

\begin{figure}[h]
  \centering
  \includegraphics[width=0.99\textwidth]{assets/mege/move_point_samples.png}
  \includegraphics[width=0.90\textwidth]{assets/mege/move_point_values.pdf}
  \caption{
    Distances with moving interest point. The first line shows the successive interpolations between the baseline image (left), and the target image (right). The second line shows the evolution of the distance between each interpolation and the baseline image.
    }
  \label{dist:move}
\end{figure}

The different distances evaluated pass this sanity check, i.e. a monotonous growth of the distance, image of the spatial distance of the two points of interest. 

\paragraph{Noise test}

The second test concerns the progressive addition of noise. It is desired that the progressive addition of noise to an original image will affect the distance between the original noise-free image and the noisy image. Formally, with $\vx$ the original image, and $\varepsilon\ \sim\ \mathcal{N}(0, \bm{I}\sigma^2)$ an isotropic Gaussian noise, we wish the distance $d$ to show a monotonic positive correlation $\operatorname{corr}( d(\vx, \vx + \varepsilon), \sigma^2 )$.

In order to validate this prerogative, a Gaussian noise with a progressive intensity $\sigma$ is added to an original image, and the distance between each of the noisy images and the original image is measured. For each value of $\sigma$ the operation is repeated 50 times.

\begin{figure}[h]
  \centering
  \includegraphics[width=0.99\textwidth]{assets/mege/add_noise_samples.png}
  \includegraphics[width=0.99\textwidth]{assets/mege/add_noise_values.pdf}
  \caption{
    Distances with noisy images.
    The first line shows original noise-free image (left) and noisy copies computed by increasing $\sigma$. The second line shows the distances between each noisy image and the baseline image.
    }
  \label{dist:noise}
\end{figure}
Over the different distances tested, they all pass the sanity test : there is a monotonous positive correlation (as seen in Fig. \ref{dist:noise}). Although SSIM and $\ell_2$ have a higher variance.

One will nevertheless note the instability of the Dice score in cases where the areas of interest have a low surface area, as well as a significant computation cost for the Wasserstein distance. For all these reasons, we chose to stay in line with previous work using the absolute value of Spearman rank correlation.

