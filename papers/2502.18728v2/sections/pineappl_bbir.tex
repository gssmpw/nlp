\begin{figure}
  \centering
  \scalebox{0.9}{
  \begin{tikzpicture}[every node/.style={inner sep=0,outer sep=0}]
      \def\lvl{20pt}

    \node (root) at (0, 0) [bddnode] {$\bigoplus$};
    \node at ($(root) + (0bp, 15bp)$) {{\color{gray} 0.75}};

    \node (mul1) at ($(root) + (-100bp, -\lvl)$) [bddnode] {$\bigotimes$};
    \node at ($(mul1) + (-23bp, 0)$) {{\color{gray} 0.675}};
    \node (mul2) at ($(root) + (100bp, -\lvl)$) [bddnode] {$\bigotimes$};
    \node at ($(mul2) + (23bp, 0)$) {{\color{gray} 0.075}};

    \node[bddformula] (term5) at ($(mul1) + (50bp, -\lvl)$) {$0.9$};
    \node[bddformula] (term6) at ($(mul2) + (-50bp, -\lvl)$) {$0.1$};

    \node (cup) at ($(mul1) + (-10bp, -\lvl)$) [bddnode] {$\sqcup$};
    \node at ($(cup) + (-20bp, 0)$) {{\color{gray} 0.75}};
    \node (cup2) at ($(mul2) + (10bp, -\lvl)$) [bddnode] {$\sqcup$};
    \node at ($(cup2) + (20bp, 0)$) {{\color{gray} 0.75}};


    \node[bddformula] (term1) at ($(cup) + (-50bp, -\lvl)$) {$\Pr[\texttt{boots}] = 0.75$};
    \node[bddformula] (term2) at ($(cup) + (50bp, -\lvl)$) {$\Pr[\overline{\texttt{boots}}] = 0.25$};

    \node[bddformula] (term3) at ($(cup2) + (-50bp, -\lvl)$) {$\Pr[\texttt{boots}] = 0.75$};
    \node[bddformula] (term4) at ($(cup2) + (50bp, -\lvl)$) {$\Pr[\overline{\texttt{boots}}] = 0.25$};

    \begin{scope}[on background layer]
      \draw [highedge] (root) -- (mul1) ;
      \draw [highedge] (root) -- (mul2);
      \draw [highedge] (mul1) -- (term5);
      \draw [highedge] (mul2) -- (term6);
      \draw [highedge] (mul1) -- (cup);
      \draw [highedge] (mul2) -- (cup2);
      \draw [highedge] (cup) -- (term1);
      \draw [highedge] (cup) -- (term2);
      \draw [highedge] (cup2) -- (term3);
      \draw [highedge] (cup2) -- (term4);
    \end{scope}
    \end{tikzpicture}
  }
\caption{Branch-and-bound circuit of the MMAP query over Equation~\ref{eq:partial-pineappl}.}
\label{fig:bbir-pineappl}
\end{figure}