\section{Related Work}
A common approach for estimating HTE in the presence of censoring relies on estimating the censoring mechanism. Specifically, in IPCW \citep{robins_estimation_1994} the censoring probability is first estimated, and the HTE is then estimated using non-censored observations, which are up-weighted by their censoring probability. A similar approach is used in meta-learners that handle right-censoring \citep{golmakani_superlearner_2020, bo_metalearner_2024}. However, a key drawback of relying on such modeling is that when the censoring probability is low, poorly estimated, or influenced by unobserved covariates, this can lead to biased HTE estimates.

Other methods focus on  specific estimands in the unconfounded setting. For instance, \citet{hendersen_individualized_2020} developed nonparametric Bayesian accelerated failure time models to estimate differences in expected log-failure times. \citet{zhu_targeted_2020} introduced a targeted maximum likelihood framework for differences in survival probabilities, while \citet{chapfuwa_enabling_2021} analyzed differences in survival time. In contrast, we propose a more general estimand and can accommodate to confounded settings. 

Non-parametric methods are often used for their flexibility in modeling complex relationships. Recently, \citet{cui_estimating_2023} proposed CSF, a non-parametric approach for HTE estimation with right-censored survival data. CSF extends the causal forest framework of \citet{athey_generalized_2019} by incorporating an IPCW approach combined with doubly robust estimating equations. They demonstrated the superiority of their approach over multiple other methods including vanilla IPCW, S-learner \citep{kunzel_metalearners_2019}, and an adaptation of the virtual twins method \citep{foster_subgroup_2011}. However, since CSF relies on estimating the censoring probability, it is subject to the same limitations associated with such approaches. We compare with CSF extensively throughout this work. We further note that unlike our proposed method, CSF cannot utilize IV. 



As highlighted by \citet{goos_ensemble_2000}, incorporating randomness can enhance the performance of tree-based methods. Building on this idea, \citet{zhu_recursively_2012} proposed the recursively imputed survival trees (RIST), a nonparametric approach for estimating the probability of remaining event-free given a set of covariates, based on right-censored survival data. RIST employs extremely randomized trees, enabling more effective utilization of censored observations compared to other tree-based methods. This results in improved model fit and reduced prediction error.

 

To estimate causal effects in the presence of confounding, IV methods can be employed\cite{angrist_identification_1996, abadie_semiparametric_2003, hernan_instruments_2006}. An IV variable is associated with treatment assignment, affects the outcome only through the treatment, and is independent of unmeasured confounders. In survival data, IV methods have been widely studied. For example, \citet{tchetgen_tchetgen_instrumental_2015} proposed a regression-based IV approach using additive hazard models, while \citet{sorensen_causal_2019} and \citet{mackenzie_using_2014} applied IV methods within the Cox proportional hazard framework. \citet{martinussen_instrumental_2017} introduced an IV-based approach for estimating structural cumulative survival models to capture time-varying effects on the survival function, and \citet{kjaersgaard_instrumental_2015} developed a pseudo-observation approach that accounts for the parametric contribution of covariates. In contrast, this work focuses on directly estimating HTE, which can be defined by different estimands, using nonparametric methods.  This approach offers greater flexibility in capturing complex relationships between covariates and treatment effects and as we show can readily incorporate IV methods.