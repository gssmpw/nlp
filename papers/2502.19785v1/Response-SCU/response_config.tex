\usepackage[includeheadfoot,top=20mm, bottom=20mm, footskip=2.5cm]{geometry}

% Typography
\usepackage[T1]{fontenc}
\usepackage{times}
%\usepackage{mathptmx} % math also in times font
\usepackage{amssymb,amsmath}
\usepackage{microtype}
\usepackage[utf8]{inputenc}

% Misc

\usepackage[dvipsnames]{xcolor}
\usepackage{graphicx}
\usepackage[hidelinks]{hyperref} %textopdfstring from pandoc
\usepackage{soul} % Highlight using \hl{}
\usepackage[bottom]{footmisc}
\usepackage[binary-units=true]{siunitx}
\usepackage[caption=false,font=footnotesize]{subfig}
\renewcommand{\figurename}{Fig.}
\usepackage[export]{adjustbox}
\usepackage{multirow}
\usepackage{caption}
\usepackage[normalem]{ulem}
\usepackage{xifthen}

\usepackage{enumitem}

% Table
%\usepackage{booktabs}
\usepackage{colortbl}
%\usepackage{tabularx}
%\usepackage{adjustbox} % center large tables across textwidth by surrounding tabular with \begin{adjustbox}{center}
%\renewcommand{\arraystretch}{1.5} % enlarge spacing between rows
\usepackage{makecell}
\usepackage{array}
\usepackage{tikz}
\usetikzlibrary{trees}
\usepackage{tabularx}
\usepackage{threeparttable}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{longtable}
\usepackage{rotating}
\usepackage{ragged2e}
\usepackage{enumerate}
\usepackage{floatrow}
\usepackage{diagbox}



\usepackage[capitalize,noabbrev]{cleveref}

% Section styles
\usepackage{titlesec}
\titleformat{\section}{\normalfont\large}{\makebox[0pt][r]{\bf \thesection.\hspace{4mm}}}{0em}{\bfseries}
\titlespacing{\section}{0em}{1em}{0em} % left before after
\titleformat{\subsection}{\normalfont}{\makebox[0pt][r]{\bf \thesubsection.\hspace{4mm}}}{0em}{\bfseries}
\titlespacing{\subsection}{0em}{1em}{-0.3em} % left before after

% Paragraph styles
\setlength{\parskip}{0.6\baselineskip}%
\setlength{\parindent}{0pt}%

\makeatletter
\def\hrulefill{\leavevmode\leaders\hrule height 3pt depth -2.6pt\hfill\kern\z@}
\makeatother

% Quotation styles
\usepackage{csquotes}
\newenvironment{change}[1][]%
{\begin{displayquote}\vspace{-12pt}\par\noindent\ifthenelse{\isempty{#1}}{\hrulefill{}}{\hrulefill{}\hspace{0.5em}#1\hspace{0.5em}\hrulefill{}}\nopagebreak\vspace{-4pt}\par}%
{\nopagebreak\vspace{-6pt}\par\noindent\hrulefill{}\vspace{-6pt}\end{displayquote}}

% Table styles
%\let\oldtabular=\tabular
%\let\endoldtabular=\endtabular
%\renewenvironment{tabular}[1]{\begin{adjustbox}{center}\begin{oldtabular}{#1}}{\end{oldtabular}\end{adjustbox}}


% Shortcuts

%% Define that \RC and \AR should start and format the whole paragraph 
\usepackage{suffix}
\long\def\RC#1\par{\makebox[0pt][r]{\bf RC:\hspace{4mm}}\textbf{\textit{#1}}\par} %\RC
\WithSuffix\long\def\RC*#1\par{\textbf{\textit{#1}}\par} %\RC*
\long\def\AR#1\par{\makebox[0pt][r]{AR:\hspace{10pt}}{#1}\par} %\AR
\WithSuffix\long\def\AR*#1\par{{#1}\par} %\AR*

% Define title defaults if not defined by user
\providecommand{\lettertitle}{Author Response to Reviews of}
\providecommand{\papertitle}{Title}
\providecommand{\authors}{Authors}
\providecommand{\journal}{Journal}
\providecommand{\manuscriptid}{--}

\newcommand{\doublebar}[2][0]{\skew#1\bar{\textit{\b #2}}}
\newcommand{\preamble}{%  <--  you are putting a space
% Make title
{\Large\bf \lettertitle}\\[1em]
{\huge \papertitle}\\[1em]
{\authors}\\
{\it \journal, }{\manuscriptid}\\
\hrule

% Legend, Revision Requirement
\hfill {\bfseries RC:} \textbf{\textit{Reviewers' Comment}},\(\quad\) AR: {Author Response}, \(\quad\) $\underline{\overline{\mbox{A\rev{a}}}}$: Manuscript \rev{changes}
}

\newcommand{\rev}[1]{{\color{blue}#1}}




% Definition
\usepackage{amsthm}
\newtheorem{definition}{Definition}
\newtheoremstyle{plain}
  {\topsep}   % ABOVESPACE
  {\topsep}   % BELOWSPACE
  {\itshape}  % BODYFONT
  {0pt}       % INDENT (empty value is the same as 0pt)
  {\bfseries} % HEADFONT
  {.}         % HEADPUNCT
  {5pt plus 1pt minus 1pt} % HEADSPACE
  {\thmname{#1}\thmnumber{ #2}\thmnote{ #3}}%           % CUSTOM-HEAD-SPEC
