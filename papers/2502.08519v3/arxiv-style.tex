\usepackage[letterpaper, left=1in, right=1in, top=1in, bottom=1in]{geometry}
\usepackage{paralist}
\usepackage{xparse}

\usepackage[dvipsnames]{xcolor}
\usepackage[colorlinks=true, linkcolor=green!70!black, citecolor=green!70!black,urlcolor=black,breaklinks=true]{hyperref}
\usepackage{microtype}

\usepackage{algorithm}


 \usepackage{natbib}
 \bibliographystyle{plainnat}
 \bibpunct{(}{)}{;}{a}{,}{,}


\usepackage{amsthm}
\usepackage{mathtools}
\usepackage{amsmath}
\usepackage{bbm}
\usepackage{amsfonts}
\usepackage{amssymb}
\let\vec\undefined
% \usepackage{MnSymbol} %

\usepackage{xpatch}


\theoremstyle{definition}  %
\newtheorem{exercise}{Exercise}
\newtheorem{claim}{Claim}
\newtheorem{lemma}{Lemma}
\newtheorem{conjecture}{Conjecture}
\newtheorem{corollary}{Corollary}
\newtheorem{proposition}{Proposition}
\newtheorem{fact}{Fact}
\newtheorem{assumption}{Assumption}
\newtheorem{problem}{Problem}
\newtheorem{question}{Question}
\newtheorem{model}{Model}
\theoremstyle{plain}
\newtheorem{remark}{Remark}
\newtheorem{example}{Example}
\newtheorem{theorem}{Theorem}
\newtheorem{observation}{Observation}

\newtheorem{definition}{Definition}
\newtheorem{openproblem}{Open Problem}

\numberwithin{observation}{section}


\numberwithin{claim}{section}
\numberwithin{fact}{section}
\numberwithin{lemma}{section}
\numberwithin{proposition}{section}
\numberwithin{theorem}{section}
\numberwithin{corollary}{section}
\numberwithin{definition}{section}


\xpatchcmd{\proof}{\itshape}{\normalfont\proofnameformat}{}{}
\newcommand{\proofnameformat}{\bfseries}

\newcommand{\notimplies}{\nRightarrow}

\makeatletter
\newcommand{\neutralize}[1]{\expandafter\let\csname c@#1\endcsname\count@}
\makeatother
\newenvironment{thmmod}[2]
  {\renewcommand{\thetheorem}{\ref*{#1}#2}%
   \neutralize{theorem}\phantomsection
   \begin{theorem}}
   {\end{theorem}}

   \newenvironment{lemmod}[2]
  {\renewcommand{\thelemma}{\ref*{#1}#2}%
   \neutralize{lemma}\phantomsection
   \begin{lemma}}
  {\end{lemma}}


\usepackage{prettyref}
\newcommand{\pref}[1]{\prettyref{#1}}
\newcommand{\pfref}[1]{Proof of \prettyref{#1}}
\newcommand{\savehyperref}[2]{\texorpdfstring{\hyperref[#1]{#2}}{#2}}
\newrefformat{eq}{\savehyperref{#1}{\textup{(\ref*{#1})}}}
\newrefformat{eqn}{\savehyperref{#1}{Equation~\ref*{#1}}}
\newrefformat{lem}{\savehyperref{#1}{Lemma~\ref*{#1}}}
\newrefformat{def}{\savehyperref{#1}{Definition~\ref*{#1}}}
\newrefformat{line}{\savehyperref{#1}{line~\ref*{#1}}}
\newrefformat{thm}{\savehyperref{#1}{Theorem~\ref*{#1}}}
\newrefformat{corr}{\savehyperref{#1}{Corollary~\ref*{#1}}}
\newrefformat{cor}{\savehyperref{#1}{Corollary~\ref*{#1}}}
\newrefformat{sec}{\savehyperref{#1}{Section~\ref*{#1}}}
\newrefformat{app}{\savehyperref{#1}{Appendix~\ref*{#1}}}
\newrefformat{ass}{\savehyperref{#1}{Assumption~\ref*{#1}}}
\newrefformat{asm}{\savehyperref{#1}{Assumption~\ref*{#1}}}
\newrefformat{ex}{\savehyperref{#1}{Example~\ref*{#1}}}
\newrefformat{fig}{\savehyperref{#1}{Figure~\ref*{#1}}}
\newrefformat{alg}{\savehyperref{#1}{Algorithm~\ref*{#1}}}
\newrefformat{rem}{\savehyperref{#1}{Remark~\ref*{#1}}}
\newrefformat{conj}{\savehyperref{#1}{Conjecture~\ref*{#1}}}
\newrefformat{prop}{\savehyperref{#1}{Proposition~\ref*{#1}}}
\newrefformat{proto}{\savehyperref{#1}{Protocol~\ref*{#1}}}
\newrefformat{prob}{\savehyperref{#1}{Problem~\ref*{#1}}}
\newrefformat{claim}{\savehyperref{#1}{Claim~\ref*{#1}}}
\newrefformat{op}{\savehyperref{#1}{Open Problem~\ref*{#1}}}
\newrefformat{fact}{\savehyperref{#1}{Fact~\ref*{#1}}}

\newrefformat{prog}{\savehyperref{#1}{\textup{(\ref*{#1})}}}
% \renewcommand{\pref}[1]{\Cref{#1}}
% For Cref/cref
\newcommand{\vec}[1]{\bm{#1}}
