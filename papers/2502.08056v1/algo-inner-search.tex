
\begin{algorithm}[h]
\caption{\sysname\ Inner-most Layer Search}
\label{alg:inner}
  \small
\begin{algorithmic}[1]
\STATE \textbf{Input:} $C_{chosen}$: configs chosen in upper layers, $b$: this layer's assigned budget
\STATE
\FUNCTION{InnerOpt\hspace{0.4em}($C_{chosen}$, $b$)}
    \FOR{$k = 0, \dots, b$}
        \STATE $\lambda$ = TPE\_sample(1) \COMMENT{Sample one config in this layer}
        \STATE $f = $ evaluate\_workflow($\gamma,\ \lambda$)
        \IF{early\_stop(f)}
        \STATE break
        \ENDIF
        \STATE TPE\_add\_observations($\{f\}$)
    \ENDFOR
\STATE \textbf{Return} Best metrics in all trials
\ENDFUNCTION

\end{algorithmic}
\end{algorithm}