\begin{figure}[ht!]  
    \centering
    % \resizebox{\textwidth}{!}{%
    \begin{tikzpicture}
        \node[anchor=west] (w) at (0,0) {$w$};
        \node[draw,minimum height=0.5cm,label={north:$B_1$},anchor=west] (B1) at ($(w)+(1,0)$) {$a$};
        \node[draw,minimum height=0.5cm,label={north:$B_2$},anchor=west] (B2) at ($(B1.east)+(0.1,0)$) {$ab$};
        \node[draw,minimum height=0.5cm,label={north:$B_3$},anchor=west] (B3) at ($(B2.east)+(0.1,0)$) {$abc$};
        \node[draw,minimum height=0.5cm,label={north:$B_4$},anchor=west] (B4) at ($(B3.east)+(0.1,0)$) {$d$};
        \node[draw,minimum height=0.5cm,label={north:$B_5$},anchor=west] (B5) at ($(B4.east)+(0.1,0)$) {$babca$};
        \node[anchor=west] at ($(w.west)+(0,-0.8)$) {Initialize: $B_1=[0,0,a]$, $\ctb=2$, and $\ctc=1$};
        \node[anchor=west] at ($(w.west)+(0,-1.4)$) {Intermediate Steps:};
        \node[anchor=north west] (table) at ($(w.west)+(0,-1.5)$) {
        \begin{tabular}{ccccccc}
        $\ctb$ & $\ctc$ & $\ell_\ctb$ & $z$ & $B_\ctb$ & updated $\ctb$ & updated $\ctc$ \\
        \hline
        $2$ & $1$ & $1$ & $1$ & $[1,1,b]$ & $3$ & $3$ \\
        $3$ & $3$ & $2$ & $3$ & $[2,2,c]$ & $4$ & $6$ \\
        $4$ & $6$ & $0$ & N/A & $[0,0,d]$ & $5$ & $7$ \\
        $5$ & $7$ & $4$ & $6$ & $[3,4,a]$ & $6$ & $12$
        \end{tabular}
        };
        \node[anchor=west] (output) at ($(table.south west)+(0,-0.3)$) {Output: $(B_1=[0,0,a],B_2=[1,1,b],B_3=[2,2,c],B_4=[0,0,d],B_5=[3,4,a])$};
    \end{tikzpicture}
    % }%
    \caption{Example of Running the LZ77 Compression for a string $w=``aababcdbabca$''.}
    \figlab{fig:LZ77}
\end{figure}

         
        