\begin{tikzpicture}
\begin{groupplot}[
  group style={
    group name=my plots,
    group size=1 by 1,
    xlabels at=edge bottom,
    xticklabels at=edge bottom,
    vertical sep=7pt
  },
  xtick=data,
  x tick label style={font=\scriptsize,rotate=45,text height=3pt]},
  xticklabels from table={graphs/data/energy_sys.data}{Model},
  legend style={fill=white, at={(0.5,1.05,1.15)}, anchor=south, font=\scriptsize},
]

\nextgroupplot[
  width=\columnwidth, height=3.5cm,
  label style={align=center},
  ylabel={Normalized execution time},
  bar width=5pt,
  ybar=0pt,
  ymin=0,
  typeset ticklabels with strut,
  legend columns=5,
  legend style={at={(0.5,-0.95,1.15)}, anchor=south, font=\scriptsize},
]

% Plotting each baseline and SystolicX
\addplot[fill=darkgoldenrod, postaction={pattern=north west lines}]
table[
  x expr = \coordindex,
  y = FP16,
]{graphs/data/energy_sys.data};
\addlegendentry{\em FP16}

\addplot[fill=asparagus, postaction={pattern=north east lines}]
table[
  x expr = \coordindex,
  y = INT8(W8/A8),
]{graphs/data/energy_sys.data};
\addlegendentry{\em INT8 (W8/A8)}

\addplot[fill=lightgray, postaction={pattern=grid}]
table[
  x expr = \coordindex,
  y = INT4(W4/A8),
]{graphs/data/energy_sys.data};
\addlegendentry{\em INT4 (W4/A8)}

\addplot[fill=lightblue, postaction={pattern=crosshatch}]
table[
  x expr = \coordindex,
  y = INT3(W3/A8),
]{graphs/data/energy_sys.data};
\addlegendentry{\em INT3 (W3/A8)}

\addplot[fill=teal, postaction={pattern=dots}]
table[
  x expr = \coordindex,
  y = SystolicX,
]{graphs/data/energy_sys.data};
\addlegendentry{\em SystolicX}

\end{groupplot}

\end{tikzpicture}
