\begin{tikzpicture}
\begin{groupplot}[
  group style={
    group name=my plots,
    group size=1 by 1,
    xlabels at=edge bottom,
    xticklabels at=edge bottom,
    vertical sep=7pt
  },
  xtick=data,
  x tick label style={font=\scriptsize,rotate=45,text height=3pt]},
  xticklabels from table={graphs/data/performance_gpu.data}{Model},
  legend style={fill=white, at={(0.5,1.05,1.15)}, anchor=south, font=\scriptsize},
]

\nextgroupplot[
  width=\columnwidth, height=3.2cm,
  label style={align=center},
  ylabel={Normalized\\execution time},
  bar width=5pt,
  ybar=0pt,
  ymin=0,
  typeset ticklabels with strut,
  legend columns=5,
  legend style={at={(0.5,-1.1,1.15)}, anchor=south, font=\scriptsize},
]

% Plotting each baseline and SystolicX
\addplot[fill=darkgoldenrod, postaction={pattern=north west lines}]
table[
  x expr = \coordindex,
  y = int8,
]{graphs/data/performance_gpu.data};
\addlegendentry{\em W8A8}

\addplot[fill=asparagus, postaction={pattern=north east lines}]
table[
  x expr = \coordindex,
  y = perf,
]{graphs/data/performance_gpu.data};
\addlegendentry{\em HALO (perf-opt)}

\addplot[fill=lightgray, postaction={pattern=grid}]
table[
  x expr = \coordindex,
  y = acc,
]{graphs/data/performance_gpu.data};
\addlegendentry{\em HALO (acc-opt)}

\addplot[fill=lightblue, postaction={pattern=crosshatch}]
table[
  x expr = \coordindex,
  y = bal,
]{graphs/data/performance_gpu.data};
\addlegendentry{\em HALO (bal)}
\end{groupplot}

\end{tikzpicture}
