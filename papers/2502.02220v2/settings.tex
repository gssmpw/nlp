\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{xspace}

\usepackage{amsmath,amssymb,amsfonts,amsthm}
\usepackage{mathtools}
\usepackage{stmaryrd}
\usepackage{etoolbox}
\usepackage{float}
\usepackage{bm}
\usepackage{multicol}

\usepackage{cleveref}
\crefname{claim}{claim}{claims}
\crefname{conjecture}{conjecture}{conjectures}

\usepackage{tabto}
\NumTabs{12}

\usepackage{tikz}
\usetikzlibrary{decorations.pathreplacing,calc,arrows}
\usetikzlibrary{patterns}
\newcommand{\tikzmark}[1]{\tikz[overlay,remember picture] \node (#1) {};}

\newcommand*{\AddNote}[4]{%
    \begin{tikzpicture}[overlay, remember picture]
        \draw [decoration={brace,amplitude=0.4em},decorate,ultra thick,gray]
          ($(#3)!(#2.south)!($(#3)-(0,1)$)$) --  
          ($(#3)!(#1.south)!($(#3)-(0,1)$)$)  
                node [align=center, text width=2.5cm, pos=0.5, right=-1.9cm] {\rotatebox{90}{\textsc{#4}}};
    \end{tikzpicture}
}%

\usepackage{colortbl}

\usepackage{algorithm}
\usepackage[noend]{algpseudocode}
\renewcommand{\algorithmicrequire}{\textbf{Input:}}
\renewcommand{\algorithmicensure}{\textbf{Output:}}
\renewcommand{\algorithmiccomment}[1]{\hfill{\color{gray}$\triangleright$ \textit{#1}}}
\algnewcommand\algorithmicfixed{\textbf{Fixed:}}
\algnewcommand\Fixed{\item[\algorithmicfixed]}
\algnewcommand\algorithmicswitch{\textbf{switch}}
\algnewcommand\algorithmiccase{\textbf{case}}
\algnewcommand\algorithmicforeach{\textbf{foreach}}
\algnewcommand\algorithmicnondet{\textbf{nondet}}
\algnewcommand\algorithmicor{\textbf{or}}
\algnewcommand\algorithmicassert{\textbf{assert}}
\algnewcommand\algorithmiclet{\textbf{let}}
\algnewcommand\Assert[1]{\State \algorithmicassert(#1)}
\algdef{SE}[SWITCH]{Switch}{EndSwitch}[1]{\algorithmicswitch\ #1\ \algorithmicdo}{\algorithmicend\ \algorithmicswitch}%
\algtext*{EndSwitch}%
\algdef{SE}[CASE]{Case}{EndCase}[1]{\algorithmiccase\ #1\ \textbf{:}}{\algorithmicend\ \algorithmiccase}%
\algtext*{EndCase}%
\algdef{S}[FOR]{ForEach}[1]{\algorithmicforeach\ #1\ \algorithmicdo}%
\algdef{SE}[NONDET]{Nondet}{EndNondet}{\algorithmicnondet\ }{\algorithmicend\ \algorithmicnondet}%
\algtext*{EndNondet}%
\algdef{SE}[Or]{Or}{EndOr}{\algorithmicor\ }{\algorithmicend\ \algorithmicor}%
\algtext*{EndOr}%
\algdef{SE}[LET]{Let}{EndLet}{\algorithmiclet\ }{\algorithmicend\ \algorithmiclet}%
\algtext*{EndLet}%

\AtBeginEnvironment{algorithm}{\linespread{1.05}}

\usepackage{todonotes}
\colorlet{jorge}{red!50!black!80}
\colorlet{alessio}{blue!70!black!80}
% \newcommand{\jg}[1]{{\textcolor{jorge}{$\diamondsuit$ \textbf{JG:} \textit{#1}}}}
% \newcommand{\am}[1]{{\textcolor{alessio}{$\clubsuit$ \textbf{AM:} \textit{#1}}}}
% \newcommand{\jg}[1]{}
% \newcommand{\am}[1]{}

\makeatletter
\newenvironment{breakablealgorithm}
  {% \begin{breakablealgorithm}
   \begin{center}
     \refstepcounter{algorithm}% New algorithm
     \hrule height.8pt depth0pt \kern2pt% \@fs@pre for \@fs@ruled
     \renewcommand{\caption}[2][\relax]{% Make a new \caption
       {\raggedright\textbf{\fname@algorithm~\thealgorithm} ##2\par}%
       \ifx\relax##1\relax % #1 is \relax
         \addcontentsline{loa}{algorithm}{\protect\numberline{\thealgorithm}##2}%
       \else % #1 is not \relax
         \addcontentsline{loa}{algorithm}{\protect\numberline{\thealgorithm}##1}%
       \fi
       \kern2pt\hrule\kern2pt
     }
  }{% \end{breakablealgorithm}
     \kern2pt\hrule\relax% \@fs@post for \@fs@ruled
   \end{center}
  }
\makeatother


\newcommand{\negspace}{\vspace{-5pt}}

\usepackage{caption}
\captionsetup{skip=-4pt}