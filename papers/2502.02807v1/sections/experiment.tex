\section{Experiments}
%Our experiment focuses on evaluating the counselor agent's ability to demonstrate MI competency and counseling effectiveness. First, we design the experiment setup involving simulated clients consulting different counseling agents using our proposed counselor simulation method and other baseline methods (See ยง\ref{sec:experiment setting}). For fair comparison, we adopt only one client simulation method which programs a LLM to mimic clients with different  profiles (i.e., behavior problems, motivation topics, and personal attributes).  We propose an evaluation scheme covering three criteria, namely: (a) MI competency, (b) client experience, (c) success in motivating change, and (c) topic exploration.  We finally report the counselor agent's performance in Section~\ref{sec:mi competence}, \ref{sec:client evaluation}), and \ref{sec:topic exploration}) respectively. Finally, we report the results of a human expert evaluation (ยง\ref{sec:expert evalution}) comparing counselor agents using our method and COS against the human counsellors.

\subsection{Experiment Setup}
\label{sec:experiment setting}

%\subsubsection{Generation Framework}
Following the STAR framework and experiment setup used in previous works~\citep{tu2024towards,chiu2024computational,yosef2024assessing,wu2023towards}, we implement three specialized LLM-based agents, namely, {\em client}, {\em counselor}, and {\em moderator} agents. Their respective prompts can be found in the Appendix~\ref{app:implementation}.

The counselor agent is role-played using some counselor agent methods. Other than CAMI, we include other baseline methods described in ยง\ref{sec:baselines}.  The client agent is also simulated using different input profiles. To ensure the client's behavior is realistic and consistent with real users, we develop the client agent to maintain its state and generate responses consistent with its state, profile, and current session context using multiple modules instead of a simple prompt used in previous works~\cite{chiu2024computational,yosef2024assessing,wu2023towards}. The detailed client simulation design is given in Appendix~\ref{app:client simulation}. 
The moderator oversees the conversation session between the counselor and client agents, and decides to end the session when: 1) the counselor or client proactively concludes the session, 2) the client becomes motivated to change, or 3) the session reaches the maximum of 50 turns (which is similar what we observed in real world sessions, e.g., AnnoMI).

We employ \texttt{gpt-4o-2024-08-06} as the LLM backbone for both the client and the moderator. For counselor, we employ both \texttt{gpt-4o-2024-08-06} and \texttt{Llama-3.1-70B} as the LLM backbone.
The session simulation begins with the counselor's response: ``\textit{Hello. How are you?}'' The client then responds with ``\textit{I am good. What about you?}'' Based on the session history, the counselor continues to generate the next response. This process repeats until the moderator decides to end the session.

\begin{comment}
\subsection{Client Simulation}
\label{app:client simulation}
Unlike previous works that predominantly simulate simple client personas~\citep{yosef2024assessing,wu2023towards} or use examples~\citep{chiu2024computational} in LLM prompts, we simulate a client with a few modules that model state transition, dynamic engagement, action selection, and response generation separately. An input {\em client's profile} includes the client's behavioral problem, state of mind, persona, motivation, beliefs, and interests. As the counseling session progresses, the session context (utterance history) is also provided to the client simulator.

During a conversation session, a client is guided through different states to identify changes that can address their behavioral problem. Aligned with the counselor's setting, we also utilize the three states defined in transtheoretical model of health behavior change~\citep{prochaska2005transtheoretical,prochaska2008initial}. The goal of the state transition module is to maintain consistency with how the client may change states during MI counseling, as well as the client's profile. As our work aims to assess the counselor's effectiveness in motivating the client through topic exploration, we focus on the transition between first two states. In the Precontemplation state, the counselor focuses on building trust, establishing change goals, understanding the client's motivations, and addressing misconceptions before evoking a desire to change. The client is expected to enter the Contemplation state only when motivated by specific reason(s) introduced by the counselor. The state transition module thus ensures consistency by analyzing the counselor's utterances to identify mentions of the client's motivations. If such a mention is found, the next state is Contemplation; otherwise, the state remains unchanged.

Each client has specific interests. For example, a parent may be interested in parenting, while a teenager student may be interested in education and friendship. During the engaging stage of MI counseling, the client demonstrates dynamic engagement with topics raised by the counselor, which provides a signal to guide the session. To realistically simulate this behavior, we incorporate a dynamic engagement module. In the client's profile, we designate the fine grained topic ralated to motivation as the ground truth topic. The distance between the current topic and the ground truth topic is used to instruct the client in providing various types of feedback. However, since our topic tree consists of a limited number of topics, the counselor may raise topics that are not covered by the topic tree. To flexibly estimate the distance between topics, we define three topic levels along the path in the topic tree and design four levels of distance, ranging from most distant (not the same superclass topic) to closest (the same fine-grained topic). Based on each level of distance, the client demonstrates different dynamic engagement levels.

Previous works focus on persona but ignore diverse dialogue actions. Moreover, LLMs like ChatGPT are aligned to generate friendly responses~\citep{shen2023large,kopf2024openassistant}. Clients simulated by simple LLM prompting often display overly compliant behavior or a narrow set of actions compared to real human clients~\citep{kang2024can}. To address this challenge, we incorporate an action selection module that uses session context and the client's receptivity (as provided in the profile) to determine appropriate actions. Based on a sample strategy and a receptivity-aware action distribution derived from real data, the client can exhibit realistic behaviors without being overly compliant. Finally, the response generation module takes the state, engagement level, and action as input to generate the response.    
\end{comment}

\subsection{Baseline Counselor Simulation Methods}
\label{sec:baselines}

%DIIR~\citep{xie2024few} is a retrieval-augmented framework that infers natural language strategies from expert demonstrations and reuses these strategies at inference time. 
We compare our counselor agent method with four state-of-the-art LLM-based counselor agent methods, including: 1) \textbf{Base}: Following \citet{steenstra2024virtual}, the Base counselor agent incorporates only a system prompt that includes the task description and knowledge about MI techniques. 2) \textit{Dialogue Strategy Learning via Inductive Reasoning} (\textbf{DIIR}) (see ยง~\ref{sec:related}) 
3) \textit{Chain of Strategy} (\textbf{CoS}): Following \citet{hsu2023helping,sun2024chain}, the CoS (Chain-of-Strategy) counselor agent uses a chain of modules to generate responses after strategy selection. Since the original CoS prompt is not available, we implement it as an ablated version of CAMI without state inference and topic exploration. 4) \textit{CAMI without Topic Exploration} (\textbf{CAMI-TE}) To evaluate the effectiveness of topic exploration, we introduce CAMI-TE, which is the ablated version of CAMI without the topic exploration module. 
%{\color{red} (EP: Does the retrieval-augmented framework improve our method?)} {\color{orange} (Yizhe We haven't incorporated this method in our framework as we don't focus on strategy selection before.)} 
To prevent data leakage, we use other sessions in AnnoMI~\citep{wu2022anno,wu2023creation} not included in the client's set as demonstrations.

We use the high-quality subset of the AnnoMI dataset~\citep{wu2022anno,wu2023creation} and manually annotate 38 client profiles whose sessions contain sufficient information and were successfully motivated by human counselors. These clients cover a good diverse set of motivation topics and interests. To obtain more reliable results, each counselor simulation method generates five sessions for each client profile. We therefore have 190 (= 38 $\times$ 5) generated sessions for each method.  For the automated evaluation that follows, we average the results for the 5 sessions generated for each client profile before averaging over all the 38 client profiles to derive the results of each counselor simulation method. 

\subsection{MI Competency}
\label{sec:mi competence}
The Motivational Interviewing Treatment Integrity (MITI)~\citep{moyers2016motivational} and Motivational Interviewing Skill Code (MISC)~\citep{miller2003manual} are commonly used to evaluate the competency of MI counselors. 

\noindent
\textbf{MITI Behavior Scores.} Following~\citet{xie2024few}, we employ a fine-tuned classifier on crowd-sourced dataset~\citep{welivita2022curating} to retrieve the five most possible behavior labels, followed by GPT-4o deciding the final label out of the five. The detailed implementation can be found in Appendix~\ref{app:miti annotation}.  We report the following behavior-counts: 1) \emph{Reflection Question Ratio (R/Q)}, defined by the number of reflections by the counselor agent divided by the number of questions asked by the counselor; 2) \emph{Proportion of Open Questions (\%OQ)}, defined by the number of open questions asked by counselor divided by the number of questions (including both open and closed questions); 3) \emph{Proportion of Complex Reflections (\%CR)}, defined by the number of paraphrase and summary reflections divided by the total number of reflections; 4) \emph{Proportion of MI-Consistent Responses (\%MIC)}, defined by the number of MI-consistent responses divided by the sum of MI-consistent and MI-inconsistent responses; and 5) \emph{Percent Therapist Talk Time (\%TTT)}, defined by the number of minutes the counselor spoke divided by the total talk time (counselor and client combined). Word count is used to approximate talk time instead.

\begin{table}[tb]
\resizebox{0.49\textwidth}{!}{
\begin{tabular}{clllll}
\toprule
                      & R/Q$\uparrow$    & \%OQ$\uparrow$    & \%CR$\uparrow$    & \%MIC$\uparrow$   & \%TTT$\downarrow$          \\ \midrule
Expert                & \textgreater 2.0 & \textgreater 70\% & \textgreater 50\% & \textgreater 90\% & \textless 50\% \\
Prof.           & \textgreater 1.0 & \textgreater 50\% & \textgreater 40\% & \textgreater 80\% & \textless 60\% \\ \midrule
HQ                  & 1.28             & 52.1\%$^p$       & 51.4\%$^e$           & 82.4\%$^p$           & 53.4\%$^p$ \\ 
LQ                   & 0.34             & 16.2\%           & 14.22\%           & 40.5\%           & 59.6\%$^p$\\ \midrule
\multicolumn{6}{c}{\cellcolor[HTML]{E0E0E0}GPT-4o Based Counselor}                                                           \\
Base                  & 0.18             & 92.3\%$^e$             & 37.6\%            & 85.0\%$^p$            & 42.7\%$^e$         \\
DIIR                  & 0.42             & 98.9\%$^e$             & \textbf{82.4}\%$^e$   & 89.1\%$^p$            & 54.9\%$^p$         \\
CoS                   & 0.29             & 96.5\%$^e$             & 49.1\%$^p$            & 94.5\%$^e$            & 38.3\%$^e$         \\
C$\ast$-TE                & 0.37             & 97.2\%$^e$             & 51.1\%$^e$            & 94.7\%$^e$            & 36.1\%$^e$         \\
CAMI                  & \textbf{0.56}    & \textbf{99.0}\%$^e$    & 57.3\%$^e$            & \textbf{96.6}\%$^e$   & \textbf{34.8}\%$^e$         \\ \midrule
\multicolumn{6}{c}{\cellcolor[HTML]{E0E0E0}Llama-3.1 70B Based Counselor}                                                    \\
Base                  & 0.34             & 34.3\%            & 13.1\%            & 55.4\%            & 47.9\%$^e$         \\
DIIR                  & 0.97             & 76.8\%$^p$           & \textbf{71.5}\%$^e$   & 85.4\%$^p$            & 45.0\%$^e$         \\
CoS                   & 0.77             & 75.2\%$^p$           & 58.9\%$^e$            & 87.1\%$^p$            & 43.9\%$^e$         \\
C$\ast$-TE  & 0.89             & 76.6\%$^p$           & 61.2\%$^e$            & 88.9\%$^p$            & 40.4\%$^e$         \\
CAMI                  & \textbf{1.11}$^p$  & \textbf{83.7}\%$^e$   & 60.5\%$^e$            & \textbf{90.7}\%$^e$  & \textbf{38.4}\%$^e$         \\ \bottomrule
\end{tabular}}
\caption{MI behavior count-based evaluation results. ``Prof.'' and ``C$\ast$-TE'' denote Proficiency and CAMI-TE respectively.  CAMI outperforms other baselines in most metrics, except for the percentage of complex reflections. Although DIIR shows a high percentage of complex reflections, it may overuse them, which is also a concern~\citep{steenstra2024virtual}. All models perform poorly on the R/Q metric, indicating a significant preference for questions over reflections. The values with $^e$ and $^p$ superscripts meet the thresholds for ``Expert'' and ``Proficiency'' levels respectively. HQ and LQ represent the performance of human counselors in high- and low-quality AnnoMI sessions respectively.}
\label{tab:miti}
\end{table}

\noindent
\textbf{MITI Global Scores.} We also report four MITI global scores, assigned on a 5-point Likert scale for each counseling session, including: 1) \emph{Cultivating Change Talk}, which measures the extent to which the clinician actively encourages the clientโs language in support of the change goal and their confidence in making that change; 2) \emph{Softening Sustain Talk}, which measures the extent to which the clinician avoids focusing on reasons against change or for maintaining the status quo; 3) \emph{Partnership}, which measures the extent to which the clinician conveys an understanding that expertise and wisdom about change primarily reside within the client; and 4) \emph{Empathy}, which measures the extent to which the clinician attempts to understand the clientโs perspective and experience, essentially trying to "try on" what the client feels or thinks. The global score prediction task is designed to take the entire session transcript as input and predict a single value (1-5) for one of the four global scores. We employ GPT-4o with the prompt from previous work~\citep{cohen2024motivational}.

\begin{table}[tb]
\resizebox{0.49\textwidth}{!}{
\begin{tabular}{lrrrr}
\toprule
     & Cultivate$\uparrow$ & Soften$\uparrow$ & Partner$\uparrow$ & Empathy$\uparrow$ \\ \midrule
HQ & 2.85                    & 2.88                   & 2.97        & 3.49    \\
LQ  & 2.43                    & 2.47                   & 2.26        & 2.45    \\ \midrule
\multicolumn{5}{c}{\cellcolor[HTML]{E0E0E0}GPT-4o Based Counselor}                     \\
Base & 2.33                    & 2.70                   & 2.15        & 3.04    \\
DIIR & 2.21                    & 2.64                   & 2.37        & 3.10    \\
CoS  & 2.40                    & 2.71                   & 2.33        & 3.23    \\
CAMI-TE  & 2.43                 & 2.78                   & 2.37        & 3.28    \\
CAMI & \textbf{2.62}           & \textbf{2.86}          & \textbf{2.58} & \textbf{3.37}    \\ \midrule
\multicolumn{5}{c}{\cellcolor[HTML]{E0E0E0}Llama-3.1 70B Based Counselor}              \\
Base & 2.10                    & 2.34                   & 2.08        & 2.57    \\
DIIR & 2.13                    & 2.57                   & 2.28        & 2.87    \\
CoS  & 2.14                    & 2.61                   & 2.13        & 3.07    \\
CAMI-TE  & 2.20                 & 2.64                   & 2.23        & 3.12    \\
CAMI & \textbf{2.38}           & \textbf{2.78}          & \textbf{2.37} & \textbf{3.33}    \\ \bottomrule
\end{tabular}}
\caption{Results of the MI global score evaluation. Our method outperforms others in all four scores. Note that ``Cultivate'', ``Soften'' and ``Partner'' are abbreviations for Cultivating Change Talk, Softening Sustain Talk, and Partnership respectively. }
\label{tab:global score}
\end{table}

As shown in Tables~\ref{tab:miti} and ~\ref{tab:global score}, CAMI outperforms the baselines (including DIIR) in most MI competency metrics. This suggests that CAMI is capable of selecting MI-adherent strategies during counseling. While DIIR outperforms our method in \%CR, the very high \%CR of DIIR (82.4\%) may indicate overuse of complex reflection~\citep{steenstra2024virtual}. On the other hand, all counselor agents perform poorly on R/Q, indicating a preference for using questions instead of reflection (especially open questions, as indicated by the high \%OQ). Upon manual inspection of the generated conversations, we found that almost every counselor's response involved raising questions to continue the session, which differs from the human counselors in the HQ sessions.

\begin{comment}
    
\subsection{Client Experience}
\label{sec:client evaluation}

In addition to MI competence, client experience is also widely used to evaluate counseling sessions. Following previous work~\citep{wang2024towards}, we evaluate session outcomes, therapeutic alliance, and self-reported feelings using questionnaires such as the Client Evaluation of Counselor Scale~\citep{hamilton2000construct} and the Working Alliance Inventory - Short Revised (WAI-SR;\citep{hatcher2006development}). We employ GPT-4o with the prompt from\citet{wang2024towards} to provide scores for each generated session.


\begin{table}[tb]
\resizebox{0.49\textwidth}{!}{
\begin{tabular}{lrrrrrr}
\toprule
     & SO$\uparrow$ & TA$\uparrow$          & Depth$\uparrow$         & Smoothness$\uparrow$    & Positivity$\uparrow$    & Arousal$\uparrow$       \\ \midrule
HQ & 0.76            & 0.78               & 4.21          & 5.13          & 4.67          & 4.01          \\
LQ  & 0.41            & 0.48               & 3.43          & 3.11          & 3.60          & 3.63          \\ \midrule
\multicolumn{7}{c}{\cellcolor[HTML]{E0E0E0}GPT-4o Based Counselor}                                                 \\
Base & 0.66            & 0.69               & 3.26          & 4.33          & 4.30          & 3.47          \\
DIIR & 0.65            & 0.68               & 3.32          & 4.17          & 4.13          & 3.48          \\
CoS  & 0.68            & 0.71               & 3.37          & 4.42          & 4.31          & 3.60          \\
CAMI-TE  & 0.69         & 0.71               & 3.42          & 4.47          & 4.35          & 3.63          \\
CAMI & \textbf{0.72}   & \textbf{0.75}      & \textbf{3.63} & \textbf{4.82} & \textbf{4.43} & \textbf{3.71} \\ \midrule
\multicolumn{7}{c}{\cellcolor[HTML]{E0E0E0}Llama-3.1 70B Based Counselor}                                          \\
Base & 0.58            & 0.61               & 2.93          & 3.24          & 3.71          & 3.12          \\
CoS  & 0.63            & 0.63               & 3.08          & 3.40          & 3.84          & 3.23          \\
DIIR & 0.61            & 0.57               & 3.02          & 3.08          & 3.37          & 3.18          \\
CAMI-TE  & 0.61         & 0.59               & 3.09          & 3.13          & 3.49          & 3.23          \\
CAMI & \textbf{0.68}   & \textbf{0.68}      & \textbf{3.47} & \textbf{3.88} & \textbf{3.97} & \textbf{3.66}          \\ \bottomrule
\end{tabular}}
\caption{Results of the client experience assessment, including session outcome (SO), therapeutic alliance (TA), and self-reported feelings scores. The self-reported feelings scores include Depth, Smoothness, Positivity, and Arousal. }
\label{tab:client assessment}
\end{table}

As shown in Table~\ref{tab:client assessment}, CAMI achieves higher client assessment compared to other baselines. However, compared to the high-quality human counseling sessions, there is still significant room for improvement. Furthermore, the performance of some baselines falls below that of low-quality sessions. This indicates that while LLM-based counselor agents may demonstrate MI technique competence, there are other aspects that need to be addressed to further improve the client experience.
\end{comment}

\subsection{Success Rate and Exploration Focus}
% \subsection{Success Rate in Outcome and Topic Exploration}
\label{sec:topic exploration}

\textbf{Success rate.} Successful change talk is the main goal of MI. We therefore introduce \textit{success rate} defined by the proportion of clients with whom the counselor agent successfully evokes change talk, resulting in increased motivation to change at the end of session. Since successful evocation of change talk occurs when the counselor and client collaboratively identify the underlying motivational topics, we also evaluate success rates for each superclass topic. As shown in Table~\ref{tab:success}, CAMI demonstrates the highest success rate in all five superclass topics, achieving the best overall performance. In contrast, counselor agents without topic exploration (i.e., Base, DIIR, CoS and CAMI-TE) tend to focus on only a few topics, such as Health and Relationships, and often fail to explore the less common topics (e.g., Law, Education, and, to some extent, Economy). %Additionally, we observe variation in topic preferences across different LLMs; for example, the Llama-based counselor tends to raise economy-related topics, whereas the GPT-4o-based counselor does not.

\begin{table}[tb]
\resizebox{0.49\textwidth}{!}{
\begin{tabular}{crrrrr|c}
\toprule
 & HE & EC & RE & LA & ED & Overall \\ 
 & (105) & (30)& (40)& (5)& (10)& (190)\\ \midrule
\multicolumn{7}{c}{\cellcolor[HTML]{E0DEDE}GPT-4o Based Counselor}                                                                                                   \\
Base      & 47.6 & 0.0   & 25.0                                                                & 0.0 & 0.0     & 31.5                    \\
DIIR      & 52.4 & 0.0   & 27.5                                                                & 0.0 & 0.0     & 34.7                    \\
CoS       & 54.3 & 0.0   & 32.5                                                                & 0.0 & 20.0    & 37.9                    \\
CAMI-TE    & 54.3 & 0.0   & 32.5                                                                & 0.0 & 30.0    & 38.4                    \\
CAMI      & \textbf{57.1} & \textbf{23.3}  & \textbf{70.0}     & \textbf{40.0} & \textbf{40.0}    & \textbf{53.1}                    \\ \midrule
\multicolumn{7}{c}{\cellcolor[HTML]{E0DEDE}Llama-3.1 70B Based Counselor}                                                                                            \\
Base      & 48.6 & 6.7   & 12.5                                                                & 0.0 & 0.0     & 30.5                    \\
DIIR      & 57.4 & 10.0  & 10.0                                                                & 0.0 & 0.0     & 35.2                    \\
CoS       & 60.0 & 26.6  & 22.5                                                                & 0.0 & 0.0     & 42.1                    \\
CAMI-TE    & 60.0 & 30.0  & 22.5                                                                & 0.0 & 0.0     & 42.6                    \\
CAMI      & \textbf{61.9} & \textbf{36.7}  & \textbf{45.0}     & \textbf{40.0}  & \textbf{20.0}   & \textbf{51.1}              \\ \bottomrule
\end{tabular}}
\caption{Success rate of counselor agents for clients with different superclasses of motivation topics (HE: Health, EC: Economy, RE: Relationship, LA: Law, ED: Education). The number of clients with motivation topics covered by each superclass is shown in parentheses. CAMI achieves highest overall success rate, and is able to cope well in all superclass topics including the less popular ones.}
\label{tab:success}
\end{table}

{\bf Exploration focus.} To further demonstrate the impact of topic exploration,
%enhances the counselor agent's ability to explore a wider range of topics and delve deeper into specific topics, we measure \textit{exploration diversity} and \textit{exploitation precision}. Exploration diversity is assessed through Shannon Entropy, which measures the breadth of topics (referred to as diversity) the counselor engages with across all generated conversations. For this, GPT-4o is utilized to categorize each counselor utterance into topics based on our predefined topic tree structure, focusing only on superclass and coarse-grained topics. 
we use GPT-4o to assess how close are the topics explored in counselor's responses from the client's fine-grained motivation topic as counselor agents using baseline methods could not explore topics.  We thus prompt GPT-4o to take a counselor's response and client's fine-grained topic as input, determine the topic embedded in the former, and return the exploration focus metric.  Exploration focus (FOC) is a number from 0 (exact match between the topic embedded in counselor's response and client's topic at the fine-grained level) to 3 (the topic embedded in counselor's response does not match the superclass, coarse-grained and fine-grained topics of the client). As shown in Table~\ref{tab:diversity}, CAMI excels at exploration focus which gives it the edge to evoke change talk.
%delving into specific topics by perceiving client feedback. The diverse topic coverage indicates the counselor's capacity to robustly engage with different clients, while closer alignment to the ground truth topic suggests the agent's ability to effectively evoke change talk.

As CAMI can reveal its explored topics, we also evaluate how well the client agent can correctly decipher the topic embedded in the counselor's response. Our results show that the client is quite accurate in determining the correct explored topic 74.92\% and 70.14\% of the time with CAMI using GPT-4o and Llama-3.1 70B respectively.

\begin{table}[tb]
\centering
\scalebox{0.8}{
\begin{tabular}{l|ccccc}
\toprule
              & Base & DIIR & CoS  & CAMI-TE & CAMI \\ \midrule
GPT-4o        & 2.62 & 2.59 & 2.64 & 2.60    & \textbf{2.37} \\
Llama-3.1 70B & 2.81 & 2.72 & 2.77 & 2.74    & \textbf{2.44} \\
\bottomrule
\end{tabular}
}
\caption{Exploration Focus Results ($\downarrow$).}
\label{tab:diversity}
\end{table}

\subsection{State Inference Accuracy}
\label{sec:state_inf_accuracy}

We evaluate the accuracy of inferring client's state by the state inference module of the CAMI counselor agent.  Since CAMI-TE shares the same state inference module, it shares the same state inference accuracy as CAMI. We could not perform the same evaluation on the other baseline methods as they are not equipped with the state inference module. Our experiments show that CAMI using GPT-4o and Llama-3.1 70B infer the correct client state most of the time at 93.32\% and 88.56\% respectively.  This high accuracy thus allows CAMI to generate more client-centered responses, increasing the effectiveness of MI counseling.

\begin{comment}    
{\bf Topic exploration and state inference accuracy.} Moreover, it is essential for the client simulator to accurately perceive the current topic and provide appropriate signals, while the counselor must perceive this feedback to estimate the clientโs state and choose the correct exploration direction. The mutual perception ability of both the client and counselor is fundamental to building a successful counseling session. To assess this capability, we evaluate the accuracy of the client simulator in predicting the distance between the current topic and the client's area of interest within the dynamic engagement module, as well as the accuracy of the counselor agent in inferring the client's state within the state inference module and selecting the appropriate exploration direction within the topic exploration module. During the interaction, the state and engagement level of the client, as well as the counselor's topic, are predefined; therefore, we use these predefined labels as ground truth to assess accuracy.

As shown in Table~\ref{tab:perception}, the powerful LLM-based client simulator performs quite well in distinguishing between topics, achieving an accuracy above 70\%. Although the client is the same, the differing performance may be attributed to the counselor agent with different LLM backbones, which may not follow the given topic instruction well or may express the topic ambiguously. On the counselor side, agents with both LLM backbones perform well in state inference, indicating that this is a relatively easy task for the counselor agent. However, both agents struggle to explore more precise directions within the topic tree, suggesting that current counselor agents fall short in perceiving client feedback, especially for topic exploration. Upon in-depth manual inspection, we found that in most situations, the counselor prefers to switch between different topics until the client gives a significant positive signal, at which point they then proceed. We also observed that, despite providing the previous exploration path to the counselor, they may repeatedly choose topics that had already been explored and dropped earlier.

\begin{table}[tb]
\centering
\resizebox{0.49\textwidth}{!}{
\begin{tabular}{ccc}
\toprule
Client                   & \multicolumn{2}{c}{Counselor} \\ \cline{2-3} 
\multicolumn{1}{c}{Topic Distance} & State Inference  & Exploration Direction  \\ \midrule
\multicolumn{3}{c}{\cellcolor[HTML]{E0E0E0}GPT-4o Based Counselor}                      \\
\multicolumn{1}{c}{74.92}          & 93.32             & 67.81                  \\ \midrule
\multicolumn{3}{c}{\cellcolor[HTML]{E0E0E0}Llama-3.1 70B Based Counselor}              \\
\multicolumn{1}{c}{70.14}          & 88.56             & 54.36                  \\ \bottomrule
\end{tabular}}
\caption{Results of the mutual perception ability of both the client and counselor within the generation framework. The GPT-4o-based client performs well in distinguishing between topics. Counselors with both LLM backbones perform well in state inference but struggle with accurately perceiving client feedback.}
\label{tab:perception}
\end{table}
\end{comment}


\subsection{Expert Evaluation}
\label{sec:expert evalution}


In addition to automatic evaluation, we also involve three co-authors (two with strong counseling credential and expertise and another is a social science student with rich experience in peer support and counseling) to assess the overall performance of CoS and CAMI. Each assessor is to rate the simulated counselor counseling clients simulated using five client profiles randomly selected from AnnoMI such that both the high and low quality sessions for these clients exist in AnnoMI. The sessions are then evaluated by MITI Ratings, Change Talk Exploration, Success in Eliciting Change Talk, and Realism of both Counselor and Client. \footnote{Detailed instructions about these measures are given in Appendix~\ref{app:expert evaluation}.}

As shown in Table~\ref{tab:expert evaluation}, other than the counselors in HQ sessions, CAMI yields the best results across all the metrics, significantly outperforming the CoS counselor (p-value $< 0.005$). The counselors in LQ sessions unsurprisingly perform the worst. Although CAMI performs better than other LLM-based counselor agent, there is still room for improvement compared to high-quality human counselors. Experts also provided feedback regarding CAMI's performance, noting some behaviors that are not recommended, such as overusing questions and consistently reflecting on the positive aspects of the client's problematic behavior, indicating areas for future improvement.

\begin{table}[tb]
\resizebox{0.49\textwidth}{!}{
\begin{tabular}{cc|cc|cc}
\toprule
\multicolumn{2}{c|}{}                                             & HQ        & LQ        & CoS  & CAMI \\ \midrule
\multicolumn{1}{r|}{\multirow{4}{1.5cm}{MITI Global Ratings}} & Cultivating $\cdots$ & 4.06      & 1.68      & 2.74 & \textbf{3.68} \\
\multicolumn{1}{r|}{}                             & Softening $\cdots$  & 3.90      & 1.74      & 2.74 & \textbf{3.32} \\
\multicolumn{1}{r|}{}                             & Partnership  & 4.26      & 1.46      & 3.60 & \textbf{3.90} \\
\multicolumn{1}{r|}{}                             & Empathy      & 4.26      & 1.38      & 3.72 & \textbf{4.00} \\ \midrule
\multicolumn{2}{r|}{Change Talk Exploration}                      & 4.18      & 1.58      & 3.00 & \textbf{3.94} \\ \midrule
\multicolumn{2}{r|}{Evoking Change Talk}                        & 2.68      & 1.20      & 1.80 & \textbf{2.40} \\ \midrule
\multicolumn{2}{r|}{Realism of Counselor}                            & 4.68      & 2.32      & 3.06 & \textbf{3.60} \\ \midrule
\multicolumn{2}{r|}{Realism of Client}                               & 4.68      & 4.00      & 4.00 & \textbf{4.32} \\ 
\bottomrule
\end{tabular}}
\caption{Results of expert evaluation. ``Cultivating $\cdots$'' and ``Softening $\cdots$'' are abbreviations for "Cultivating Change Talk" and "Softening Sustain Talk" respectively. CAMI outperforms CoS and LQ counselors but a gap still exists between CAMI and HQ counselors. Note that the maximum score of ``Evoking Change Talk'' is 3, while that of other criteria is 5.}
\label{tab:expert evaluation}
\end{table}


