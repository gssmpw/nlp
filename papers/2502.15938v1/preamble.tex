\usepackage[svgnames,usenames,dvipsnames,table]{xcolor}         % colors
\usepackage{iclr2025_conference,times}
% Optional math commands from https://github.com/goodfeli/dlbook_notation.
\input{math_commands.tex}
\usepackage{booktabs}       % professional-quality tables
\usepackage[hyphens]{url}
\usepackage[colorlinks=true, citecolor=Navy, breaklinks=true]{hyperref}       % hyperlinks
\usepackage{nicefrac}       % compact symbols for 1/2, etc.
\usepackage{caption}
\usepackage{subcaption}
\usepackage{graphicx}
\usepackage{wrapfig}
\usepackage[most]{tcolorbox}
\usepackage{multirow}
\usepackage[capitalize,noabbrev]{cleveref}
\usepackage{enumitem}

% tikzing:
\usepackage{tikz}
\usepackage{pgfplots}
\usetikzlibrary{arrows.meta}  % Load the arrows.meta library

\renewcommand{\UrlFont}{\small\ttfamily}  % Make URL font smaller and typewriter

\newcommand{\fix}{\marginpar{FIX}}
\newcommand{\new}{\marginpar{NEW}}

% How big to make the single-maxlr-figs in the appendix:
\newcommand{\onefigscale}{0.55}
\newcommand{\wdfigscales}{0.93}
% For putting figures side-by-side:
\newcommand{\shrinkfigthree}{0.35}
\newcommand{\shrinkfigthreeb}{0.34}
\newcommand{\shrinkfigtwo}{0.45}
\newcommand{\shrinkfigimgs}{0.49}
\newcommand{\shrinkfigfour}{0.24}

% Math symbol shortcuts
\newcommand{\hateta}{\tilde{\eta}}
\newcommand{\maxlr}{1.6\mbox{e-}02}
\newcommand{\maxlrdetail}{1.62\mbox{e-}02}
% My abbreviations:
\newcommand{\tenx}{\mbox{10}\times}
\newcommand{\dtoz}{\mbox{D2Z}}
\newcommand{\mup}{\mbox{$\mu$P}}
\newcommand{\supar}{\mbox{S$\mu$Par}}
\newcommand{\mutransfer}{\mbox{$\mu$Transfer}}
% How to refer to schedules
\newcommand{\invsqrt}{\mbox{\emph{InvSqrt}}}
\newcommand{\constant}{\mbox{\emph{Constant}}}
\newcommand{\linear}{\mbox{\emph{Linear}}}
\newcommand{\cosine}{\mbox{\emph{Cosine}}}
\newcommand{\rational}{\mbox{\emph{Rational}}}
\newcommand{\step}{\mbox{\emph{Step}}}
\newcommand{\wsd}{\mbox{\emph{WSD}}}
\newcommand{\cyclic}{\mbox{\emph{Cyclic}}}
% derivations
\newcommand{\baralpha}{\bar{\alpha}}
% Shortcutes:
\newcommand{\dmodel}{d_{\text{model}}}
\newcommand{\dhead}{d_{\text{head}}}
\newcommand{\dffn}{d_{\text{ffn}}}
\newcommand{\nlayers}{n_{\text{layers}}}

% tikz work
\newcommand{\tikzscale}{1.2}
\newcommand{\tikztextscale}{0.75}

% Color box highlighting
\newcommand{\inlinehighlight}[2][black]{%
  \tcbox[on line, colframe=#1, colback=white, size=fbox, boxsep=1pt, boxrule=1.2pt, arc=2pt, outer arc=2pt]{#2}%
}

% For when we want to use href but not our default schema
\newcommand{\specialhref}[3]{%
  \hypersetup{urlcolor=#2, urlbordercolor=#2}% Set custom color
  \href{#1}{#3}%
  \hypersetup{urlcolor=darkblue, urlbordercolor={0 1 1}}% Revert to default
}

%textmarker style from colorbox doc
\tcbset{textmarker/.style={%
  enhanced,
  parbox=false,boxrule=0mm,boxsep=0mm,arc=0mm,
  outer arc=0mm,left=6mm,right=3mm,top=4pt,bottom=3pt,
  toptitle=1mm,bottomtitle=1mm,oversize,
  left skip=0mm,
  right skip=8mm
}}

% Key results
\newtcolorbox{findingBox}{textmarker,
    borderline west={6pt}{0pt}{yellow},
    colback=yellow!10!white}

\newcounter{fcounter}
\setcounter{fcounter}{0}
%\newcommand\finding[1]{
%        \refstepcounter{fcounter}\vspace{2pt}
%        \begin{tcolorbox}[colback=blue!10!white,colframe=blue!80!black,boxsep=1pt,left=2pt,right=2pt,top=1pt,bottom=1pt]\noindent\emph{\textbf{Finding \arabic{fcounter}}: #1}
%        \end{tcolorbox}\vspace{0pt}
%}
\newcommand\finding[1]{
        \refstepcounter{fcounter}\vspace{1.0pt}
        \begin{findingBox}\noindent\emph{\textbf{Finding \arabic{fcounter}}: #1}
        \end{findingBox}\vspace{-0.5pt}
}
\crefname{fcounter}{Finding}{Findings}

% Hypotheses
\newtcolorbox{hypothesisBox}{textmarker,
    borderline west={6pt}{0pt}{blue},
    colback=blue!10!white}

\newcounter{hcounter}
\setcounter{hcounter}{0}
%\newcommand\hypothesis[1]{
%        \refstepcounter{hcounter}\vspace{2pt}
%        \begin{tcolorbox}[colback=gray!10!white,colframe=gray!80!black,boxsep=1pt,left=2pt,right=2pt,top=1pt,bottom=1pt]\noindent\emph{\textbf{Hypothesis \arabic{hcounter}}: #1}
%        \end{tcolorbox}\vspace{0pt}
%}
\newcommand\hypothesis[1]{
        \refstepcounter{hcounter}\vspace{1.0pt}
        \begin{hypothesisBox}\noindent\emph{\textbf{Hypothesis \arabic{hcounter}}: #1}
        \end{hypothesisBox}\vspace{-0.5pt}
}
\crefname{hcounter}{Hypothesis}{Hypotheses}


% Don't use \cite!
\renewcommand{\cite}[1]{\PackageError{MyPackage}{Do not use \string\cite\space with natbib. Use \string\citet\space or \string\citep}{See the natbib package documentation for explanation.}}
