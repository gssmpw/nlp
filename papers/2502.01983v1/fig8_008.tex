\begin{figure}
    \centering
\begin{tikzpicture}[scale=0.6,decoration={
    markings,
    mark=at position 0.5 with {\arrow{>}}}]

\begin{scope}[shift={(0,0)}]

%\draw[thin,yellow] (0,0) grid (4,4);

\draw[thick,dashed] (0,4) -- (4,4);

\draw[thick,dashed] (0,0) -- (4,0);

\draw[thick,postaction={decorate}] (0.75,0) .. controls (1,1.5) and (1.75,2) .. (2,2);

\draw[thick,postaction={decorate}] (3.25,0) .. controls (3,1.5) and (2.25,2) .. (2,2);

\draw[thick,postaction={decorate}] (2,2) -- (2,4);

\node at (2,4.5) {$1-q$};

\node at (0.75,-0.5) {$p-q$};

\node at (3.25,-0.5) {$1-p$};

\node at (6,2) {$=$};

\end{scope}

\begin{scope}[shift={(8,0)}]

%\draw[thin,yellow] (0,0) grid (4,4);

\draw[thick,dashed] (0,4) -- (4,4);

\draw[thick,dashed] (0,0) -- (4,0);

%\draw[thin] (3.25,0) .. controls (3.0,1.5) and (2.25,2) .. (2,2);

\draw[thick,postaction={decorate}] (0.75,0) .. controls (1,1.5) and (1.75,2) .. (2,2);

\draw[thick,postaction={decorate}] (2,2) .. controls (2.52,2) and (2.9,1.25) .. (3,1);

\draw[thick,postaction={decorate}] (3.25,0) .. controls (3.2,0.25) and (3.1,0.75) .. (3.0,1);


\draw[thick,postaction={decorate}] (2,3) -- (2,4);

\draw[thick,postaction={decorate}] (2,3) -- (2,2);

\node at (1,2.35) {$q-1$};

\draw[thick,fill] (2.15,3) arc (0:360:1.5mm);

\draw[thick,fill] (3.15,1) arc (0:360:1.5mm);

\draw[thick,postaction={decorate}] (3,1) .. controls (3.5,1.25) and (3.5,3.25) .. (2,3);

\node at (3.4,2.85) {$0$};

\node at (2.1,1) {\rotatebox[origin=c]{35}{$p-1$}};

\node at (2,4.5) {$1-q$};

\node at (0.75,-0.5) {$p-q$};

\node at (3.25,-0.5) {$1-p$};

\node at (6,2) {$=$};

\end{scope}


\begin{scope}[shift={(16,0)}]
%\draw[thin,yellow] (0,0) grid (4,4);

\draw[thick,dashed] (0,4) -- (4,4);

\draw[thick,dashed] (0,0) -- (4,0);


\draw[thick,postaction={decorate}] (0.5,0) .. controls (3.75,1) and (3.75,2) .. (2,2);

\draw[thin] (3.5,0) .. controls (0.25,1) and (0.25,2) .. (2,2);


\draw[thick,postaction={decorate}] (2,2) .. controls (0.45,1.93) and (0.7,1.3) .. (1.25,1);

\draw[thick,postaction={decorate}] (2,0.55) .. controls (1.75,0.65) and (1.5,0.75) .. (1.25,1);

\draw[thick,postaction={decorate}] (3.5,0) .. controls (3,0.15) and (2.5,0.35) .. (2,0.55);


\draw[thick,postaction={decorate}] (2,3) -- (2,4);

\draw[thick,postaction={decorate}] (2,3) -- (2,2);

\node at (2.9,2.55) {$q-1$};

\node at (4,1.5) {$p-q$};

\draw[thick,fill] (2.15,3) arc (0:360:1.5mm);

\draw[thick,fill] (1.4,1) arc (0:360:1.5mm);

\draw[thick,postaction={decorate}] (1.25,1) .. controls (0,1.25) and (0,3.5) .. (2,3);

\node at (0,2) {$0$};

\node at (1.90,1.45) {\rotatebox[origin=c]{-20}{$p-1$}};

\node at (2,4.5) {$1-q$};

\node at (0.5,-0.5) {$p-q$};

\node at (3.5,-0.5) {$1-p$};

\end{scope}



\end{tikzpicture}
    \caption{A local symmetry transformation around a trivalent vertex, i.e., change cyclic order at vertex and $2$ orientation reversals at a vertex and insert the $0$-line in the middle and right figures.}
    \label{fig8_008}
\end{figure}