 \documentclass[letterpaper, 10 pt, conference]{ieeeconf}
\IEEEoverridecommandlockouts    
\overrideIEEEmargins 
\usepackage[dvipsnames]{xcolor}
%\usepackage[letterpaper, left=1in, right=1in, bottom=1in, top=0.75in]{geometry}
 % Comment this line out if you need a4\pagestyle{plain}paper


\usepackage{lettrine}
\usepackage{balance}
\usepackage{graphicx}
\input {boldfacemath.tex}
\usepackage{svg}
\usepackage{float}
\usepackage{hyperref}
\usepackage{academicons}
\usepackage{xcolor}

% updated version 
\newcommand{\update}[1]{{\color{black}  #1}}
% to be done command
\newcommand{\tbd}[1]{{\color{Maroon}  \textbf{to correct - } #1}}

\newcommand{\pieter}[1]{{\color{orange}\footnotesize PvG: #1}}
\newcommand{\mirko}[1]{{\color{WildStrawberry}\footnotesize MM: #1}}
\newcommand{\antonio}[1]{{\color{magenta} \footnotesize AF: #1}}
\let\proof\relax
\let\endproof\relax
\usepackage{amsthm}
\theoremstyle{plain}% default
\newtheorem{result}{\textbf{Result}}[section]
\newtheorem{exmp}{\textbf{Example}}[section]
\newtheorem{proposition}{Proposition}
\newtheorem{thm}{Theorem}
\newtheorem{lem}{Lemma}
\newtheorem{assumpt}{Assumption}
\newtheorem{problem}{Problem}
\newtheorem{corollary}{Corollary}[thm]
\usepackage{comment}
\usepackage[font=small]{caption}
\usepackage{subcaption}
\usepackage{calc}
\newtheorem{rem}{\textbf{Remark}}[section]
\usepackage{mathtools} 
%\usepackage{subfig}
% \title{\LARGE \bf
% A unified control method for a vehicle morphing between fully actuated and under-actuated propulsion modes
% }
\title{\LARGE \bf
Unified Feedback Linearization for Nonlinear Systems with\\ Dexterous and Energy-Saving Modes}
\usepackage{orcidlink}

\author{Mirko Mizzoni$^1$\orcidlink{0009-0006-2165-3475}, Pieter van Goor$^1$\orcidlink{0000-0003-4391-7014}, and Antonio Franchi$^{1,2}$\orcidlink{0000-0002-5670-1282}
\thanks{$^1$Robotics and Mechatronics group, Faculty of Electrical Engineering,  Mathematics, and Computer Science (EEMCS), University of Twente, 7500 AE Enschede, The Netherlands. {\footnotesize \tt m.mizzoni@utwente.nl}, {\footnotesize \tt p.c.h.vangoor@utwente.nl}, {\footnotesize \tt a.franchi@utwente.nl}}
\thanks{$^2$Department of Computer, Control and Management Engineering, Sapienza University of Rome, 00185 Rome, Italy, {\footnotesize \tt antonio.franchi@uniroma1.it}}\thanks{This work was partially funded by the Horizon Europe research agreement no. 101120732 (AUTOASSESS).}}


\begin{document}


\maketitle
\thispagestyle{empty}
\pagestyle{empty}

% takeawya lesson
% abstract >-> statement of a thereom 
% the paper will represent the proof 
% of my statement

\begin{abstract}
Systems with a high number of inputs compared to the degrees of freedom (e.g. a mobile robot with Mecanum wheels) often have a minimal set of \textit{energy-efficient} inputs needed to achieve a \textit{main task} (e.g. position tracking) and a set of \text{energy-intense} inputs needed to achieve an additional \textit{auxiliary task} (e.g. orientation tracking). 
This letter presents a unified control scheme, derived through feedback linearization, that can switch between two modes: 
an \textit{energy-saving mode}, which tracks the main task using only the energy-efficient inputs while forcing the \textit{energy-intense} inputs to zero, and a \textit{dexterous mode}, which also uses the energy-intense inputs to track the auxiliary task as needed.
The proposed control guarantees the exponential tracking of the main task and that the dynamics associated with the main task evolve independently of the a priori unknown switching signal.
When the control is operating in dexterous mode, the exponential tracking of the auxiliary task is also guaranteed.
Numerical simulations on an omnidirectional Mecanum wheel robot validate the effectiveness of the proposed approach and demonstrate the effect of the switching signal on the exponential tracking behavior of the main and auxiliary tasks.
\end{abstract}


\section{Introduction}
In many mechatronics systems, for example robotic or transportation systems involving high-dimensional and omnidirectional motion~\cite{TAHERI2020103958}, the full control input is not always necessary to complete a task. 
\begin{figure}[t]
    \centering
\includegraphics[trim={3.9cm 3.6cm 2.8cm 2.8cm},clip,scale=0.35]{mizzo1.pdf}
    \caption{A four Mecanum wheels omnidirectional vehicle. This system is capable of lateral movement (dexterous mode), but this comes at the cost of higher power consumption compared to the more efficient forward-only motion (energy-saving mode). The application of the generic nonlinear controller introduced in this work to this system ensures independent and decoupled exponential stabilization of the position output, along with either the orientation (in dexterous mode) or the lateral speed (in energy-saving mode), depending on the a priori unknown operation mode selected by an external source.}
    \label{fig:model}
\end{figure} 
For instance, Mecanum wheel robots (see Fig.~\ref{fig:model}) are renowned for their omnidirectional mobility, allowing seamless movement in all directions on a flat surface. 
Nevertheless, the sideways movement is so energy-demanding that sometimes it is preferred to avoid or limit it, especially for tasks in which it is not strictly required. 
Another example is flying morphing platforms, such as those described in~\cite{aboudorra2023omnimorph,Ryll2022FASTHex}, which allow additional lateral forces that can be deactivated to conserve energy during point-to-point translation tasks.
This redundancy allows for selective input constraints that can optimize energy consumption by deactivating unnecessary degrees of freedom. 
Such strategies are especially relevant in systems where task requirements are confined to a lower-dimensional subspace, as observed in robotic manipulators and mobile platforms.
The principle of exploiting redundancy for efficiency ~\cite{siciliano_redound,10008952,deluca_tp} is inspired by biological motor control systems, which prioritize tasks-relevant actions while minimizing unnecessary effort.
Methods such as null space projection
~\cite{7097068,zhang2021improved,9326869} have demonstrated the feasibility of reducing actuator usage without compromising task performance.
For example, in \cite{7017672}, auxiliary tasks were achieved by prescribing motion in the null space of the quadrotor-arm Jacobian while preserving the primary task.
Nevertheless, these methods are tailored to the specific structure of the systems and are not general or easy to extend.
Moreover, the auxiliary tasks are not typically perfectly achieved since they are framed as the minimization of the argument of a given cost function, without the guarantee that this minimum is achieved.
Nonlinear Model Predictive Control (nMPC) offers a powerful alternative~\cite{ref_mpc}, enabling the prioritization of specific inputs through a carefully designed energy cost function ~\cite{2020l-BicMazFarCarFra,10591286}. While it has shown strong practical performance, nMPC is inherently susceptible to local minima, which can compromise system robustness.
Additionally, the presence of conflicting objectives may introduce instability, further limiting its reliability ~\cite{He2015OnSO}.


The present work addresses a class of system that are suitable to be controlled in two possible modes: \textit{energy-saving mode} and \textit{dexterous mode}.
These are system which have a primary \textit{main task} that has to be fulfilled at any time, and in parallel to that, an exogenous system (e.g., a human operator) decides at any time if (1) a secondary \textit{auxiliary task} must be also executed (\textit{dexterous mode}) or (2) a minimum number of control inputs should be used (i.e., have to be non-zero) in order to  minimize energy consumption (\textit{energy-saving mode}).


The main contribution is the development of a generic control framework for nonlinear systems with \textit{theoretical guarantees}.
This framework employs a mode-switching signal to transition between an \textit{energy-saving mode}, where unnecessary inputs are disabled to prioritize the \textit{main task}, and a \textit{dexterous mode}, where the remaining inputs are utilized to address the \textit{auxiliary task}. 
Crucially, we demonstrate that the satisfaction of the \textit{main task} is preserved throughout the processâ€”before, during, and after the switching event.



The paper is organized as follows. Section~\ref{sec:MotExmp} introduces a motivating example. 
Section~\ref{subs:preliminaries}  presents the required notions for describing our framework.
In Sections~\ref{subs:sect_4} and~\ref{sect:method}, we formulate the problem and present the proposed solution.
The paper concludes with a continuation of the motivating example and corresponding simulations.


%\textit{Notations}: In what follows, $c_\theta$ and $s_\theta$ are used as a shorthand for $\cos\theta$ and $\sin\theta$, respectively.

\section{Notation}
We use the shorthand notation \( c_\theta \) for \( \cos\theta \) and \( s_\theta \) for \( \sin\theta \). 
We denote the identity matrix of size \( n \times n \) by \( \mathbf{I}_n \).
Given a vector $\av_m$, we denote its  $i$-th entry by  $a_{m,i}$.

\section{Motivating Example}\label{sec:MotExmp}

As a simple motivating example, consider a four Mecanum wheel omnidirectional vehicle (see Fig.~\ref{fig:model}) whose configuration is given
by the variables $(x,y,\theta)\in \mathbb{R}^2\times \mathcal{S}^1$ representing the
coordinates of the center point and the orientation angle of the vehicle in an inertial
frame, respectively.



The system has three inputs: the sagittal ($v_1$) and transversal ($v_2$) velocities, and the turning rate of the vehicle ($v_3$). 
These inputs are mapped one-to-one to a three dimensional subspace of the four-wheel angular velocities through a simple kinematic relation that is omitted here for simplicity, see~\cite{Muir1990} for the details. 
The dynamical model is given by
\begin{equation}
\Sigma_{\text{4W}}: \left\{ 
\begin{split}
    \dot{x}&=v_1c_\theta -v_2s_\theta,  \\
    \dot{y}&=v_1s_\theta + v_2 c_\theta, \\
     \dot{\theta}&=v_3,
\end{split}
\right.
\label{eq:4w}
\end{equation}
This type of vehicle is more dexterous than non-holonomic systems, like differential drive robots and car-like vehicles, thanks to its ability to also move laterally.
This makes it an ideal solution for precise maneuvering in restricted spaces and motivates its wide use in logistics~\cite{logistics4W,logistics4W_2}.
The downside, as has been shown in~\cite{zhou2016experimental}, is that this vehicle consumes twice the energy when moving in the transversal direction at a given speed as when moving in the sagittal direction at the same speed.

Our goal is obtain a single control scheme that allows the vehicle to seamlessly switch between a \emph{dexterous mode}, where the transversal velocity input $v_2$ is used and each degree of freedom of the configuration $(x,y,\theta)$ is controlled independently, and an \emph{energy-saving mode}, where only the position variables $(x,y)$ are controlled independently (as in a non-holonomic vehicle) and $v_2$ is nullified to minimize the energy consumed. 
We treat the decision about when to switch between the two modes as an a priori unknown exogenous signal $\sigma\in\{0,1\}$, which could be provided by, e.g., a high level operator, depending on the task at hand.
For example, dexterous mode might be requested for accurate maneuvering and manipulation in narrow spaces, and energy saving mode for long distance transportation in large spaces. 

Model identification followed by feedback linearization control schemes are both effective and widely used in practice in industrial robotic systems due to their precise knowledge of system model parameters. 
A naive approach to obtain the sought feedback linearizing controller would be to switch between two different control schemes, one designed  for the dexterous mode and one designed for the energy-saving mode.
In dexterous mode the vector relative degree of the outputs $(x,y,\theta)$ is $\{1,1,1\}$ and a suitable controller is given by
%
\begin{equation}
\begin{split}
   \begin{pmatrix}
v_1\\
v_2\\
v_3
\end{pmatrix} = \begin{pmatrix}
c_\theta & -s_\theta & 0\\
s_\theta & c_\theta & 0\\
0 & 0 & 1
\end{pmatrix}^{-1}\begin{pmatrix}
    \dot{x}^d + k_{p1}(x^d-x) \\
    \dot{y}^d + k_{p2}(y^d-y)  \\
    \dot{\theta}^d + k_{p3}(\theta^d-\theta)
\end{pmatrix}\ ,
\end{split}
\label{eq:contrUFull}
\end{equation}
where $k_{p1},k_{p2},k_{p3} > 0$ are chosen gains.
In energy-saving mode, when $v_2=0$, one can add a dynamic extension of the input $v_1$ which leads to
a vector relative degree of the outputs $(x,y)$ equal to $\{2,2\}$, and a suitable controller is given by

\begin{equation}
\left\{
     \begin{split}
        v_2 &= 0 , \quad v_1(0)\neq 0,\\
        \begin{pmatrix}
        \dot{v}_1\\
        v_3
        \end{pmatrix} 
        &=
             \begin{pmatrix}
        c_\theta & -v_1 s_\theta  \\
        s_\theta & v_1 c_\theta
        \end{pmatrix}^{-1}
                \begin{pmatrix}
        w_1\\
        w_2
        \end{pmatrix}\\ 
        w_1&=  \ddot{x}^d + k_{p1}(x^d - x) + k_{d1}(\dot{x}^d -\dot{x}),\\
        w_2&=\ddot{y}^d + k_{p2}(y^d - y) + k_{d2}(\dot{y}^d -\dot{y}),
    \end{split}
    \right.
    \label{eq:contrUUnd}
\end{equation}
where $k_{p1},k_{p2},k_{d1},k_{d2} > 0$ are chosen gains~\cite{DELUCA2000687}.


The first issue with simply switching between two unrelated control schemes is in the behavior of the output error dynamics.
In both cases, the position $(x,y)$ is controlled as an output of the system, but the relative degree is changed.
This means that it may not be possible to switch between the controllers without inducing a transient behavior in the error dynamics, and in the worst case, it may not even be possible to guarantee stability or convergence when switching occurs.
Another issue in practice is that when $\sigma$ switches, for example, from $1$ to $0$, the transversal velocity $v_2$ is instantaneously set to zero and therefore it is subject to a discontinuous jump, which is undesirable in practice due to the fact that no real vehicle can change its velocity instantaneously due to its inertia. 
Attempting to abruptly halt the vehicle's lateral motion would likely result in slippage or, worse, damage to components of the actual vehicle.
To address this challenge, our goal is to develop a unified controller which receives as input a desired trajectory of the position, a desired orientation angle trajectory, and an exogenous switching signal $\sigma$ which dictates the mode of our controller. 
We require that:
\begin{enumerate}
    \item The position tracking error is exponentially stable and evolves independently of the value of $\sigma$.
    \item The orientation tracking error is exponentially stable whenever $\sigma = 1$ (dexterous mode).
    \item The transversal velocity is brought exponentially to zero whenever $\sigma = 0$ (energy-saving mode) without discontinuity. 
\end{enumerate}

\input{Preliminaries}
\input{Theory}
\input{Example}
\input{Remarks}
\input{Conclusion}

\balance
\bibliographystyle{IEEEtran}
\bibliography{bibAlias,bibAF,bibCustom,ref2}



\end{document}
