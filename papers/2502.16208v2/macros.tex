% Definitions

\newcommand{\Nat}{\ensuremath{\mathbb{N}}}
\newcommand{\Reals}{\ensuremath{\mathbb{R}}}
\newcommand{\Realsnn}{\ensuremath{\Reals_{\geq0}}}

\newcommand{\NP}{\mathsf{NP}}
\newcommand{\coNP}{\mathsf{coNP}}


\newcommand{\powerset}{\mathscr{P}}% requires package mathrsfs
\newcommand{\powersetf}{\powerset_{\mathsf{f}}}

\newcommand{\last}{\textit{last}}

\newcommand{\mult}{\ }

\newcommand{\proj}{\mathrm{pr}}

\newcommand{\charac}{\mathbf{1}}


%LTL
\newcommand{\Finally}{\Diamond}
\newcommand{\Until}{\mathbin{\mathsf{U}}}

\newcommand{\limp}{\Rightarrow}

%Polytopes

\newcommand{\norm}[1]{\lVert{#1}\rVert}
\newcommand{\abs}[1]{\lvert{#1}\rvert}
\newcommand{\bvec}[1]{\boldsymbol{#1}}
\newcommand{\Poly}{\mathsf{Poly}}
\newcommand{\Simp}{\mathsf{Simp}}
\newcommand{\DPoly}{\mathsf{DPoly}}
\newcommand{\DSimp}{\mathsf{DSimp}}
\newcommand{\Triang}{\mathsf{Triang}}

\newcommand{\vertices}{\mathbb{V}}

% Measure Theory

%\newcommand{\Dist}{\mathcal{D}}
\newcommand{\Dist}{\mathsf{Dist}}
\newcommand{\Dirac}{\delta}

\newcommand{\Cyl}{\mathrm{Cyl}}
\newcommand{\Salg}{\bm{\Sigma}}
\newcommand{\PMeas}{\mathsf{PMeas}}
\newcommand{\diff}{\mathbf{d}}
\newcommand{\sect}[1]{{|_{#1}}}


%\newcommand{\Prob}{\mathit{Prob}}
%\newcommand{\Prob}{\mathrm{Pr}}
\newcommand{\Prob}{\mathbb{P}}
\newcommand{\Expect}{\mathbb{E}}



%Polytopal stochastic games

\newcommand{\maxplay}{{\Box}}
\newcommand{\minplay}{{\Diamond}}

\newcommand{\psgtrans}{\Theta}
%% \newcommand{\psgnodes}{\mathcal{S}}
%% \newcommand{\psgnmax}{\psgnodes_\maxplay}
%% \newcommand{\psgnmin}{\psgnodes_\minplay}
\newcommand{\psgnodes}{\sgnodes}
\newcommand{\psgnmax}{\sgnmax}
\newcommand{\psgnmin}{\sgnmin}

\newcommand{\StochK}{\mathcal{K}}

\newcommand{\reward}{\mathit{r}}
%\newcommand{\rewardK}{\reward_\StochK}


%Stochastic games

\newcommand{\Probabilistic}{\mathsf{p}}

\newcommand{\sgtrans}{\theta}
%\newcommand{\sgnodes}{S}
\newcommand{\sgnodes}{\mathcal{S}}
\newcommand{\sgnmax}{\sgnodes_\maxplay}
\newcommand{\sgnmin}{\sgnodes_\minplay}
\newcommand{\sgnprob}{\sgnodes_\Probabilistic}
%\newcommand{\sgactions}{A}
\newcommand{\sgactions}{\mathcal{A}}

%\newcommand{\enabled}{A}
\newcommand{\enabled}{\sgactions}

\newcommand{\StochG}{\mathcal{G}}
\newcommand{\StochH}{\mathcal{H}}

%\newcommand{\rewardG}{\reward_\StochG}

\newcommand{\EndComp}{\mathit{EC}}


\newcommand{\GamePaths}{\mathsf{Paths}}
\newcommand{\FinGamePaths}{\mathsf{FPaths}}

% Quantitative Objectives

\newcommand{\textrew}{\mathsf{rew}}

\newcommand{\Rewards}[1]{\textrew_{#1}}
\newcommand{\TRewards}{\Rewards{\mathsf{t}}}
\newcommand{\ARewards}{\Rewards{\mathsf{a}}}
\newcommand{\DRewards}[1]{\Rewards{#1}}
\newcommand{\GRewards}{\Rewards{\fgen}}
\newcommand{\discfactor}{\gamma}
\newcommand{\fgen}{\mathsf{f}}

\newcommand{\FRewards}[1]{\widehat{\textrew}_{#1}}
\newcommand{\FTRewards}{\FRewards{\mathsf{t}}}
\newcommand{\FARewards}{\FRewards{\mathsf{a}}}
\newcommand{\FDRewards}[1]{\FRewards{#1}}
\newcommand{\FGRewards}{\FRewards{\fgen}}


\newcommand{\goal}{\mathit{G}}

%Interpretation of PSG

\newcommand{\StochGK}{{\StochG_{\StochK}}}
\newcommand{\StochGKp}{{\StochG_{\StochK'}}}
\newcommand{\StochHK}{{\StochH_{\StochK}}}
%\newcommand{\rewardGK}{\reward_{\StochGK}}

%Strategies

\newcommand{\strat}{\pi}
\newcommand{\starredstrat}{\strat^*}
\newcommand{\supv}[1]{{#1}^{\mathsf{v}}}
\newcommand{\supx}[1]{{#1}^{\mathsf{x}}}
\newcommand{\stratv}{\supv{\strat}}
\newcommand{\stratx}{\supx{\strat}}
%% \newcommand{\stratprime}{\strat'}
%% \newcommand{\hatstrat}{\hat{\strat}}
%% \newcommand{\uniformstrat}{\strat^{\mathsf{u}}}

%\newcommand{\fairidx}{\textsl{f}}
\newcommand{\memorylessidx}{\textsl{M}}
\newcommand{\deterministicidx}{\textsl{D}}
\newcommand{\semimarkovidx}{\textsl{S}}
\newcommand{\extremeidx}{\textsl{X}}

\newcommand{\Strategies}[1]{\Pi_{#1}}
\newcommand{\MemorylessStrats}[1]{\Strategies{#1}^{\memorylessidx}}
%\newcommand{\FairStrats}[1]{\Strategies{#1}^{\fairidx}}
%\newcommand{\MemorylessFairStrats}[1]{\Strategies{#1}^{\memorylessidx\fairidx}}
%\newcommand{\SemiMarkovFairStrats}[1]{\Strategies{#1}^{\semimarkovidx\fairidx}}
\newcommand{\SemiMarkovStrats}[1]{\Strategies{#1}^{\semimarkovidx}}
\newcommand{\XStrats}[1]{\Strategies{#1}^{\extremeidx}}
\newcommand{\XSemiMarkovStrats}[1]{\Strategies{#1}^{\extremeidx\semimarkovidx}}
\newcommand{\DetMemorylessStrats}[1]{\Strategies{#1}^{\memorylessidx\deterministicidx}}
\newcommand{\XDetMemorylessStrats}[1]{\Strategies{#1}^{\extremeidx\memorylessidx\deterministicidx}}
%\newcommand{\DetMemorylessFairStrats}[1]{\Strategies{#1}^{\memorylessidx\deterministicidx\fairidx}}
\newcommand{\DetStrats}[1]{\Strategies{#1}^{\deterministicidx}}












% used for masking relations
\newcommand{\M}{\mathbin{\mathbf{M}}} 
% masking TS relation
%\def\Masking{\preceq_{mask}}
\def\Masking{\preceq_{m}}
% weak masking TS relation
%\def\WeakMasking{\preceq^w_{mask}}
\def\WeakMasking{\preceq^w_{m}}
% masking payoff cunction
%\def\FMask{f_{mask}}
\def\FMask{f_{\milestones}}
% masking distance
%\def\DeltaMask{\delta_{mask}}
\def\DeltaProbMask{\delta_{m}^{p}}
% set of all transition systms
\def\AllTS{\mathfrak{A}}
% Refuter id
\def\Refuter{\mathsf{R}}
% Verifier id
\def\Verifier{\mathsf{V}}
% Probabilistic player
\def\Probabilistic{\mathsf{P}}
% Error state
\def\ErrorSt{{v_{\text{err}}}}
% Error state in symbolic game
\def\ErrorStSG{\ErrorSt^{\SymbG_{A,A'}}}
% Init State
\def\InitVertex{v_0^\StochG}
\def\InitVertexH{v_0^\StochH}
% Init State in symbolic game
%\def\InitVertexSG{v_0^{\SymbG_{A,A'}}}
\def\InitVertexSG{v_0^{\SymbG}}
% Supremo
%\def\Sup{\mbox{sup}}
\def\Sup{\sup}
% infimo
%\def\Inf{\mbox{inf}}
\def\Inf{\inf}
% max brp
\def\MaxBRP{M}
% the projection operator
%\def\pr#1#2{\mbox{pr}_{#1}(#2)}
%SigmaF
\def\SigmaF{\Sigma_{\mathcal{F}}}
%SigmaM
\def\SigmaM{\Sigma_{\mathcal{M}}}
%MaskD
\def\MaskD{\textsf{MaskD}}
%val
\def\val{\mathop{\textup{val}}}
\def\support#1{\mathit{Supp}\left(#1\right)}
\def\image#1{\mathit{Im}(#1)}
\def\faults{\mathcal{F}}
\def\RFP{\mathit{RFP}}
%\def\inf{\mathop{inf}}
%\def\equations#1{\mathit{Eq}(#1)}
%\def\equationsbin#1#2{\mathit{Eq}(#1)(#2)}
%\def\post#1{\mathit{post}(#1)}
%\def\outputbin#1#2{\mathit{out}(#1,#2)}
%\def\output#1#2#3{\mathit{out}_{#1}(#2,#3)}
\def\couplings#1#2{\mathbb{C}(#1,#2)}
%% \def\verticesletter{\mathbb{V}}
%% \def\vertices#1{\verticesletter(#1)}
%% \def\vvertices#1{\verticesletter^{#1}}
% the projection operator
%\def\pr#1#2{\operatorname{pr}_{#1}(#2)}
\def\pr#1#2{{#2}[{#1}]}
%\def\pr#1#2{(#2)_{#1}}
\DeclareMathOperator*{\argmin}{argmin}
\DeclareMathOperator*{\argmax}{argmax}

% Probabilistic macros
%Dist
%\def\Dist{\textsf{Dist}}
%R-respecting coupling
\def\RelCoupling{R^{\#}}
%M-respecting coupling
\newcommand{\MaskCoup}{\mathbin{\mathbf{M^{\#}}}} 
% Expectation 
% Symbolic Graph 
\def\SymbG{\mathcal{SG}}
% Stochastic Masking Game Graph 
\def\StochH{\mathcal{H}}
\def\Stochgame#1{\mathcal{#1}}
% Milostone Stochastic Masking Game Graph 
\def\MilestoneG{\mathcal{MG}}
\def\post{\mathit{Post}}
\def\pre{\mathit{Pre}}
\def\Apre{\forall\pre}
\def\Epre{\exists\pre}
\def\AFairpre{{\forall\pre_\fairidx}}
\def\EFairpre{{\exists\pre_\fairidx}}
\def\AFairpreH{{\forall\pre^\StochH_\fairidx}}
\def\EFairpreH{{\exists\pre^\StochH_\fairidx}}
\def\SymbAFairpre{{\forall\pre^\SymbG_\fairidx}}
\def\SymbEFairpre{{\exists\pre^\SymbG_\fairidx}}
\def\Eq{\mathit{Eq}}
\def\out{\mathit{out}}
%\def\Dist{\mathit{Dist}}
%\def\Dist{\mathcal{D}}
%\def\Dirac{\Delta}
%\def\Dirac{\bm{\delta}}
%\def\reward{\mathit{r}}
\def\LP{\mathit{LP}}
\def\tuple#1{{\langle{#1}\rangle}}
\def\val#1#2{\mathit{Val}_{#1}(#2)}

\def\bbracket#1{{\llbracket #1 \rrbracket}}
\def\pparenthesis#1{{\llparenthesis #1 \rrparenthesis}}





% strategies for player 2
% \def\Strategies#1{\Pi_{#1}}
\def\dedrule#1#2{\frac{\textstyle #1}{\textstyle #2}}
\def\U{\mathbin{\textsf{U}}}

% milestones macros
%\newcommand{\milestones}{\mathcal{M}}
\newcommand{\milestones}{\mathsf{m}}
\newcommand{\mreward}{\reward_\milestones}


% a new hyphen, better suited for mathematical written
\mathchardef\mhyphen="2D

% a new primed xrightarrow 
\newcommand*{\xrightarrowprime}[2][]{\mathrel{{\xrightarrow[#1]{#2}}{}'}}
\def\PRISM{\textsf{PRISM}\xspace}
\def\PRISMGAMES{\textsf{PRISM-Games}\xspace}

\def\LTL{\textsf{LTL}}
\def\Bellman{\Gamma}
\def\BellmanH{\Bellman^\StochH}



% Proof env
% \renewenvironment{proof}{\noindent\textbf{Proof.}}{\hfill$\diamond$}

\spnewtheorem*{proofofclaim}{Proof of claim}{\itshape}{\rmfamily}
\def\qedclaim{\hfill\emph{(End of claim)}\qed}


\newcommand{\codett}[1]{\ensuremath{\mathtt{#1}}}




\usepackage{color}


\definecolor{lightblue}{RGB}{220,220,255}
\definecolor{lightred}{RGB}{255,224,224}
\definecolor{lightgreen}{RGB}{224,255,224}
\definecolor{lightyellow}{RGB}{255,255,224}
\definecolor{lightpurple}{RGB}{255,224,255}
\definecolor{darkerred}{RGB}{64,0,0}
\definecolor{darkred}{RGB}{128,0,0}
\definecolor{darkblue}{RGB}{0,0,128}
\definecolor{darkgreen}{RGB}{0,128,0}
\definecolor{darkpurple}{RGB}{128,0,128}
\definecolor{black}{RGB}{0,0,0}

\newcommand{\colorpar}[3]{\colorbox{#1}{\parbox{#2}{#3}}}
\newcommand{\marginremark}[3]{\marginpar{\colorpar{#2}{\linewidth}{\color{#1}#3}}}
\newcommand{\remarkPC}[1]{\marginremark{darkblue}{lightblue}{\scriptsize{[PC]~ #1}}}
\newcommand{\remarkPRD}[1]{\marginremark{darkred}{lightred}{\tiny{[PRD]~ #1}}}
\newcommand{\remarkRD}[1]{\marginremark{darkgreen}{lightgreen}{\tiny{[RD]~ #1}}}
\newcommand{\remarkLP}[1]{\marginremark{darkpurple}{lightpurple}{\tiny{[LP]~ #1}}}


\newcommand{\highlightedremark}[4]{%
  \begin{center}\fcolorbox{#1}{#2}{%
  \begin{minipage}{.98\linewidth}\color{#1}%
  \textbf{\THICKhrulefill[ #3 ]\THICKhrulefill}%
  \par\noindent#4\end{minipage}}\end{center}%
}

\makeatletter
\def\THICKhrulefill{\leavevmode \leaders \hrule height 5pt\hfill \kern \z@}
\makeatother
\newcommand{\hrmkPRD}[1]{\highlightedremark{darkred}{lightred}{PRD}{#1}}
\newcommand{\hrmkPC}[1]{\highlightedremark{darkblue}{lightblue}{PC}{#1}}
\newcommand{\hrmkRD}[1]{\highlightedremark{darkgreen}{lightgreen}{RD}{#1}}
\newcommand{\hrmkLP}[1]{\highlightedremark{darkpurple}{lightpurple}{LP}{#1}}

\newcommand{\redtext}[1]{\textcolor{red}{#1}}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{polyprism}{
    %backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\scriptsize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=none,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false, 
    columns=flexible,
    morecomment = [l]{//},                 
    tabsize=2,
    escapechar=$
}

\newcommand{\sqdiamond}{\mathbin{\text{\tikz [x=1ex,y=1ex,line width=.1ex,line join=round] \draw (0,0) rectangle (1,1) (0,.5) -- (.5,1) -- (1,.5) -- (.5,0) -- (0,.5) -- cycle;}}}
