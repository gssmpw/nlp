
\appendix




\section{Full proofs}


\begin{proof}[of Proposition~\ref{prop:PSG:SSG}]
  Let $\StochGK=(\sgnodes,(\sgnmax,\sgnmin),\sgactions,\sgtrans)$ with
  $\sgactions=\left(\bigcup_{s\in\sgnodes}\psgtrans(s)\right)\times\Dist(\sgnodes)$
  and
  $\StochGKp=(\sgnodes,(\sgnmax,\sgnmin),\sgactions',\sgtrans')$ with
  $\sgactions'=\left(\bigcup_{s\in\sgnodes}\psgtrans'(s)\right)\times\Dist(\sgnodes)=\left(\bigcup_{\substack{s\in\sgnodes,~\\K\in\psgtrans(s)}}\Triang(K)\right)\times\Dist(\sgnodes)$,
  be the respective interpretations of $\StochK$ and $\StochK'$.

  To prove item~\ref{item:PSG:SSG:i}, first fix a function
  $f_K:\Triang(K)\to\powerset(K)$ for each polytope
  $K\in\DPoly(\sgnodes)$ satisfying
  %
  \begin{enumerate}[(i)]
  \item%
    $\forall {K'\in\Triang(K)}\colon{f_K(K')\subseteq K'}$,
  \item%
    $\bigcup_{K'\in\Triang(K)}f_K(K') = K$, and
  \item%
    $\forall {K'_1,K'_2\in\Triang(K)}\colon {{f_K(K'_1)\cap f_K(K'_2)\neq\emptyset} \limp {K'_1=K'_2}}$.
  \end{enumerate}
  %
  Thus, $f_K(K')$ is almost the simplex $K'$ but ensuring that
  distributions on the faces of $K'$ are exactly in one of the
  $f_K(K'')$, $K''\in\Triang(K)$.


  Now, let $\strat_{\maxplay}$ and $\strat_{\minplay}$ be a pair of
  strategies for $\StochGK$.  Define $\strat'_{i}$,
  $i\in\{\maxplay,\minplay\}$, for all $\hat{\rho}\in\sgnodes^*$,
  $s\in\sgnodes_{i}$, and $A'\in\Salg_{\sgactions'}$ by
%
  \begin{equation}\label{eq:def:stratp:ssg}
    \strat'_{i}(\hat{\rho}s)(A') = \sum_{K\in\psgtrans(s)} \sum_{K'\in\Triang(K)} \strat_{i}(\hat{\rho}s)(\{K\}\times({A'\sect{K'}}\cap f_K(K')))
  \end{equation}
%
  where ${A'\sect{K'}}=\{\mu\mid (K',\mu)\in A'\}$ is the $K'$ section
  of the measurable set $A'$.
%
  Notice that $f_K$ ensures that the faces of each $K'\in\Triang(K)$
  are considered in exactly one summand of the inner summation
  of~(\ref{eq:def:stratp:ssg}).  Thus, $\strat'_{i}(\hat{\rho})$ is a
  well defined probability measure and hence $\strat'_{\maxplay}$ and
  $\strat'_{\minplay}$ is a pair of strategies for $\StochGKp$.

  It is straightforward to check that if $\strat_{i}$ is memoryless or
  semi-Markov, so is $\strat'_{i}$.  Suppose $\strat_{i}$ is extreme,
  then we have that
  %
  \begin{align}
    \strat'_{i}(\hat{\rho}s)(\{(K',\mu)\in\sgactions'(s)\mid\mu\in\vertices(K')\}) \hspace{-12em}
    \notag\\
    & =
    \sum_{K\in\psgtrans(s)} \sum_{K'\in\Triang(K)} \strat_{i}(\hat{\rho}s)(\{K\}\times(\vertices(K')\cap f_K(K')))
    \label{eq:strat:ssg:extreme:i}\\
    & =
    \sum_{K\in\psgtrans(s)} \strat_{i}(\hat{\rho}s)\bigg(\{K\}\times\bigg(\bigcup_{K'\in\Triang(K)}\vertices(K')\cap f_K(K')\bigg)\bigg)
    \label{eq:strat:ssg:extreme:ii}\\
    & =
    \sum_{K\in\psgtrans(s)} \strat_{i}(\hat{\rho}s)(\{K\}\times\vertices(K))
    \label{eq:strat:ssg:extreme:iii}\\
    & =
    \strat_{i}(\hat{\rho}s)\bigg(\bigcup_{K\in\psgtrans(s)}\{K\}\times\vertices(K)\bigg)
    \label{eq:strat:ssg:extreme:iv}\\
    & =
    \strat_{i}(\hat{\rho}s)(\{(K,\mu)\in\sgactions(s)\mid\mu\in\vertices(K)\})
    \label{eq:strat:ssg:extreme:v}\\
    & = 1
    \label{eq:strat:ssg:extreme:vi}
  \end{align}
  %
  Equality~(\ref{eq:strat:ssg:extreme:i}) follows
  by~(\ref{eq:def:stratp:ssg}) and (\ref{eq:strat:ssg:extreme:ii}) is
  a consequence of $\strat_{i}$ being a measure and the fact that
  $f_K$ guarantees the disjointness of sets in the union.
  %
  $f_K$ also guarantees that no vertix of $K$ is lost, hence
  (\ref{eq:strat:ssg:extreme:iii}).
  %
  (\ref{eq:strat:ssg:extreme:iv}) is a consequence of $\strat_{i}$
  being a measure and (\ref{eq:strat:ssg:extreme:v}) by definition of
  $\sgactions(s)$ and $\sgtrans(s)$.
  %
  Finally, (\ref{eq:strat:ssg:extreme:vi}) follows from $\strat_{i}$
  being extreme.

  Let $\strat_{i}$ be deterministic and suppose
  $\strat_{i}(\hat{\rho}s)(\{(K_\star,\mu)\})=1$ for $K_\star\in\psgtrans(s)$ and
  $\mu\in K_\star$.  Besides, suppose that $K'_\star\in\Triang(K_\star)$ such that
  $\mu\in f_{K_\star}(K'_\star)$.  Then
  %
  \begin{align}
    \strat'_{i}(\hat{\rho}s)(\{(K'_\star,\mu)\}) \hspace{-5em}\notag\\
    & =
    \sum_{K\in\psgtrans(s)} \sum_{K'\in\Triang(K)} \strat_{i}(\hat{\rho}s)(\{K\}\times({\{(K'_\star,\mu)\}\sect{K'}}\cap f_K(K')))
    \label{eq:strat:ssg:det:i}\\
    & =
    \strat_{i}(\hat{\rho}s)(\{(K_\star,\mu)\})
    \label{eq:strat:ssg:det:ii}\\
    & =
    1
    \label{eq:strat:ssg:det:iii}
  \end{align}
  %
  Equality~(\ref{eq:strat:ssg:det:i}) follows
  by~(\ref{eq:def:stratp:ssg}). (\ref{eq:strat:ssg:det:ii}) follows
  from the fact that all summands are $0$ except for the one in which
  $K=K_\star$ and $K'=K'_\star$.  Finally (\ref{eq:strat:ssg:det:iii})
  follows because $\strat_{i}$ is deterministic with
  $\strat_{i}(\hat{\rho}s)(\{(K_\star,\mu)\})=1$ by assumption.

  To prove that
  $\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}=\Prob^{\strat'_{\maxplay},\strat'_{\minplay}}_{\StochGKp,s}$
  it sufficies to state that
  $\Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}=\Prob^{\strat'_{\maxplay},\strat'_{\minplay},n}_{\StochGKp,s}$
  for all $n\geq0$ which we show by induction in the following.

  For $n=0$,
  $\Prob^{\strat_{\maxplay},\strat_{\minplay},0}_{\StochGK,s}(s')=\Dirac_{s}(s')=\Prob^{\strat'_{\maxplay},\strat'_{\minplay},0}_{\StochGKp,s}(s')$.
  %
  For $n+1>0$ we calculate as follows.  Suppose
  $\hat{\rho}\in\sgnodes^n$, $s''\in\sgnodes$ and $s'\in\sgnodes_{i}$.
  Then,
  %
  \begin{align}
    &\!\!
    \Prob^{\strat'_{\maxplay},\strat'_{\minplay},n+1}_{\StochGKp,s}(\hat{\rho} s'' s')
    \notag\\
    & =
    \Prob^{\strat'_{\maxplay},\strat'_{\minplay},n}_{\StochGKp,s}(\hat{\rho}s'')\int_{\sgactions'}\sgtrans'(s'',\cdot,s')\ \diff(\strat'_{i}(\hat{\rho}s'')(\cdot))
    \label{eq:strat:ssg:prob:i}\\
%%     & =
%%     \Prob^{\strat'_{\maxplay},\strat'_{\minplay},n}_{\StochGKp,s}(\hat{\rho}s'')\sum_{K\in\psgtrans(s'')}\sum_{K'\in\Triang(K)}\int_{\{K'\}\times f_K(K')}\sgtrans'(s'',\cdot,s')\ \diff(\strat'_{i}(\hat{\rho}s'')(\cdot))
%%     \label{eq:strat:ssg:prob:ii}\\
    & =
    \Prob^{\strat'_{\maxplay},\strat'_{\minplay},n}_{\StochGKp,s}(\hat{\rho}s'')\sum_{\substack{K\in\psgtrans(s'')\\K'\in\Triang(K)}}\int_{\{K'\}\times f_K(K')}\sgtrans'(s'',\cdot,s')\ \diff(\strat'_{i}(\hat{\rho}s'')(\cdot))
    \label{eq:strat:ssg:prob:ii}\\
%%     & =
%%     \Prob^{\strat'_{\maxplay},\strat'_{\minplay},n}_{\StochGKp,s}(\hat{\rho}s'')\sum_{K\in\psgtrans(s'')}\sum_{K'\in\Triang(K)}\int_{f_K(K')}\sgtrans'(s'',(K',\cdot),s')\ \diff(\strat'_{i}(\hat{\rho}s'')((K',\cdot)))
%%     \label{eq:strat:ssg:prob:iii}\\
    & =
    \Prob^{\strat'_{\maxplay},\strat'_{\minplay},n}_{\StochGKp,s}(\hat{\rho}s'')\sum_{\substack{K\in\psgtrans(s'')\\K'\in\Triang(K)}}\int_{f_K(K')}\sgtrans'(s'',(K',\cdot),s')\ \diff(\strat'_{i}(\hat{\rho}s'')(K',\cdot))
    \label{eq:strat:ssg:prob:iii}\\
%%     & =
%%     \Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\sum_{K\in\psgtrans(s'')}\sum_{K'\in\Triang(K)}\int_{f_K(K')}\sgtrans(s'',(K,\cdot),s')\ \diff(\strat_{i}(\hat{\rho}s'')((K,\cdot)))
%%     \label{eq:strat:ssg:prob:iv}\\
    & =
    \Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\sum_{\substack{K\in\psgtrans(s'')\\K'\in\Triang(K)}}\int_{f_K(K')}\sgtrans(s'',(K,\cdot),s')\ \diff(\strat_{i}(\hat{\rho}s'')(K,\cdot))
    \label{eq:strat:ssg:prob:iv}\\
    & =
    \Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\sum_{K\in\psgtrans(s'')}\int_{_{\left(\bigcup_{K'\in\Triang(K)}f_K(K')\right)}}\hspace{-1.7em}\sgtrans(s'',(K,\cdot),s')\ \diff(\strat_{i}(\hat{\rho}s'')(K,\cdot))
    \label{eq:strat:ssg:prob:v}\\
    & =
    \Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\int_{\left(\bigcup_{K\in\psgtrans(s'')} \{K\}{\times}K\right)}\sgtrans(s'',\cdot,s')\ \diff(\strat_{i}(\hat{\rho}s'')(\cdot))
    \label{eq:strat:ssg:prob:vi}\\
    & =
    \Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s''s')
    \label{eq:strat:ssg:prob:vii}
  \end{align}
  %
  Equality~(\ref{eq:strat:ssg:prob:i}) is the definition of
  $\Prob^{\strat'_{\maxplay},\strat'_{\minplay},n+1}_{\StochGKp,s}$.
  %
  (\ref{eq:strat:ssg:prob:ii}) follows by calculations and noting that
  $\strat'_{i}(\hat{\rho}s'')\bigg(\sgactions'\setminus\bigg(\bigcup_{\substack{K\in\psgtrans(s'')\\K'\in\Triang(K)}}\{K'\}{\times}f_{K}(K')\bigg)\bigg)=0$.
  %
  (\ref{eq:strat:ssg:prob:iii}) is a consequence of Fubini's theorem.
  %
  (\ref{eq:strat:ssg:prob:iv}) follows by induction hypothesis and the
  easy-to-check equalities
  $\sgtrans'(s'',(K',\mu),s')=\sgtrans(s'',(K,\mu),s')$, for all
  $\mu\in f_K(K')$, and
  $\strat'_{i}(\hat{\rho}s'')(\{K'\}\times B\cap f_K(K'))) = \strat_{i}(\hat{\rho}s'')(\{K\}\times B\cap f_K(K')))$,
  for all $B\in\Salg_{\Dist(\sgnodes)}$, $K\in\psgtrans(s'')$ and
  $K'\in\Triang(K)$.
  %
  (\ref{eq:strat:ssg:prob:v}) follows by calculations and
  (\ref{eq:strat:ssg:prob:vi}) follows by noting that
  $K=\bigcup_{K'\in\Triang(K)}f_K(K')$ and using Fubini's Theorem.
  %
  Finally, (\ref{eq:strat:ssg:prob:vii}) follows by observing that
  $\strat_{i}(\hat{\rho}s'')\left(\sgactions\setminus\left(\bigcup_{K\in\psgtrans(s'')}\{K\}{\times}K\right)\right)=0$
  and by the definition of
  $\Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}$.

  \medskip
  
  To prove item~\ref{item:PSG:SSG:ii}, first fix a function $f_s$ for
  each state $s\in\sgnodes$ such that
  \begin{enumerate*}[(i)]
  \item%
    $\forall {K\in\psgtrans(s)}\colon {f_s(K)\subseteq\Triang(K)}$,
  \item%
    $\bigcup_{K\in\psgtrans(s)}f_s(K)=\bigcup_{K\in\psgtrans(s)}\Triang(K)$, and
  \item%
    $\forall {K_1,K_2\in\psgtrans(s)}\colon {{f_s(K_1)\cap f_s(K_2)\neq\emptyset} \limp {K_1=K_2}}$.
  \end{enumerate*}

  Let $\strat'_{\maxplay}$ and $\strat'_{\minplay}$ be a pair of
  strategies for $\StochGKp$.  Define $\strat_{i}$,
  $i\in\{\maxplay,\minplay\}$, for all $\hat{\rho}\in\sgnodes^*$,
  $s\in\sgnodes_{i}$, and $A\in\Salg_{\sgactions}$ by
%
  \begin{equation}\label{eq:def:stratp:psg}
    \strat_{i}(\hat{\rho}s)(A) = \sum_{K\in\psgtrans(s)} \sum_{K'\in f_{s}(K)} \strat'_{i}(\hat{\rho}s)(\{K'\}\times{A\sect{K}})
  \end{equation}
%
  Notice that, by definition, $K'\in\psgtrans'(s)$.
  Moreover, notice that $f_s$ ensures that a simplex in a
  triangulation of a polytope outgoing $s$ is consdered in exactly one
  summand of~(\ref{eq:def:stratp:psg}).  Thus $\strat_{i}(\hat{\rho})$
  is a well defined probability measure on $\sgnodes$ and hence
  $\strat_{\maxplay}$ and $\strat_{\minplay}$ is a pair of strategies
  for $\StochGK$.

  It is straightforward to check that if $\strat'_{i}$ is memoryless or
  semi-Markov, so is $\strat_{i}$.  Suppose $\strat'_{i}$ is extreme,
  then we have that
  %
  \begin{align}
    \strat_{i}(\hat{\rho}s)(\{(K'',\mu)\in\sgactions(s)\mid\mu\in\vertices(K'')\})\hspace{-16em}
    \notag\\
    & =
    \sum_{K\in\psgtrans(s)} \sum_{K'\in f_{s}(K)} \strat'_{i}(\hat{\rho}s)(\{K'\}\times{\{(K,\mu)\in\sgactions(s)\mid\mu\in\vertices(K)\}\sect{K}})
    \label{eq:strat:psg:extreme:i}\\
    & =
    \sum_{K\in\psgtrans(s)} \sum_{K'\in f_{s}(K)} \strat'_{i}(\hat{\rho}s)(\{K'\}\times\vertices(K'))
    \label{eq:strat:psg:extreme:ii}\\
%%     & = \textstyle
%%     \strat'_{i}(\hat{\rho}s)\bigg(\bigcup_{\substack{K\in\psgtrans(s)\\K'\in f_{s}(K)}} \{K'\}\times\vertices(K')\bigg)
%%     \label{eq:strat:psg:extreme:iii}\\
    & =
    \strat'_{i}(\hat{\rho}s)\bigg(\bigcup_{K\in\psgtrans(s)}\bigcup_{K'\in f_{s}(K)} \{K'\}\times\vertices(K')\bigg)
    \label{eq:strat:psg:extreme:iii}\\
    & =
    \strat'_{i}(\hat{\rho}s)\bigg(\bigcup_{K'\in\bigcup_{K\in\psgtrans(s)}f_{s}(K)} \{K'\}\times\vertices(K')\bigg)
    \label{eq:strat:psg:extreme:iv}\\
    & =
    \strat'_{i}(\hat{\rho}s)\bigg(\bigcup_{K'\in\psgtrans'(s)} \{K'\}\times\vertices(K')\bigg)
    \label{eq:strat:psg:extreme:v}\\
    & =
    \strat'_{i}(\hat{\rho}s)(\{(K',\mu)\in\sgactions'(s)\mid\mu\in\vertices(K')\})
    \label{eq:strat:psg:extreme:vi}\\
    & =
    1
    \label{eq:strat:psg:extreme:vii}
  \end{align}
  %
  Equality~(\ref{eq:strat:psg:extreme:i}) corresponds to the
  definition of $\strat_{i}$ in (\ref{eq:def:stratp:psg}) and
  (\ref{eq:strat:psg:extreme:ii}) follows from the following
  easy-to-check equalities:
  ${\{(K,\mu)\in\sgactions(s)\mid\mu\in\vertices(K)\}\sect{K}} =
  \vertices(K)$ and
  $\strat'_{i}(\hat{\rho}s)(\{K'\}\times(\vertices(K)\setminus{K'}))=0$.
  %
  (\ref{eq:strat:psg:extreme:iii}) follows because
  $\strat'_{i}(\hat{\rho}s)$ is a probability measure and $f_s$
  guarantees the disjointness of sets in the union while
  (\ref{eq:strat:psg:extreme:iv}) follows by calculations.
  %
  (\ref{eq:strat:psg:extreme:v}) is a consequence of
  $\bigcup_{K\in\psgtrans(s)}f_{s}(K)=\bigcup_{K\in\psgtrans(s)}\Triang(K)=\psgtrans'(s)$
  where the first equality is guaranteed by $f_{s}$ and the second one
  is the definition of $\psgtrans'$.
  %
  Finally, (\ref{eq:strat:psg:extreme:vi})~follows by the definition
  of $\sgactions'(s)$ and (\ref{eq:strat:psg:extreme:vii}) because
  $\strat'_{i}$ is extreme.

  Suppose now that $\strat'_{i}$ is deterministic and assume
  $\strat'_{i}(\hat{\rho}s)(\{(K'_\star,\mu)\})=1$ for
  $K'_\star\in\psgtrans'(s)$ and $\mu\in K'_\star$.  Besides, suppose
  that $K'_\star\in f_{s}(K_\star)$.  Then
  %
  \begin{align}
    \strat_{i}(\hat{\rho}s)(\{(K_\star,\mu)\})
    %\hspace{-16em}
    %\notag\\
    & =
    \sum_{K\in\psgtrans(s)} \sum_{K'\in f_{s}(K)} \strat'_{i}(\hat{\rho}s)(\{K'\}\times({\{(K_\star,\mu)\}\sect{K}}\cap K'))
    \label{eq:strat:psg:det:i}\\
    & =
    \sum_{K'\in f_{s}(K_\star)} \strat'_{i}(\hat{\rho}s)(\{K'\}\times({\{(K_\star,\mu)\}\sect{K_\star}}\cap K'))
    \label{eq:strat:psg:det:ii}\\
    & =
    \sum_{K'\in f_{s}(K_\star)} \strat'_{i}(\hat{\rho}s)(\{K'\}\times(\{\mu\}\cap K'))
    \label{eq:strat:psg:det:iii}\\
    & =
    \strat'_{i}(\hat{\rho}s)(\{(K'_\star,\mu)\}) = 1
    \label{eq:strat:psg:det:iv}
  \end{align}
  %
  (\ref{eq:strat:psg:det:i}) follows by (\ref{eq:def:stratp:psg})
  while (\ref{eq:strat:psg:det:ii}) is a consequence that
  $\{(K_\star,\mu)\}\sect{K}=\emptyset$ whenever $K\neq K_\star$.
  %
  (\ref{eq:strat:psg:det:iii}) follows by definition of
  $\sect{K_\star}$ and (\ref{eq:strat:psg:det:iv}) follows from the
  fact that, for $K'\neq K'_\star$, either $\mu\notin K'$ or
  $\strat'_{i}(\hat{\rho}s)(\{(K',\mu)\})=0$.  The last equality on
  (\ref{eq:strat:psg:det:iv}) follows by the assumptions.

  Like before, to prove that
  $\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}=\Prob^{\strat'_{\maxplay},\strat'_{\minplay}}_{\StochGKp,s}$
  it sufficies to state that
  $\Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}=\Prob^{\strat'_{\maxplay},\strat'_{\minplay},n}_{\StochGKp,s}$
  for all $n\geq0$ which we show by induction.
  %
  For $n=0$,
  $\Prob^{\strat_{\maxplay},\strat_{\minplay},0}_{\StochGK,s}(s')=\Dirac_{s}(s')=\Prob^{\strat'_{\maxplay},\strat'_{\minplay},0}_{\StochGKp,s}(s')$.
  %
  For $n+1>0$ we calculate as follows.  Suppose
  $\hat{\rho}\in\sgnodes^n$, $s''\in\sgnodes$ and $s'\in\sgnodes_{i}$.
  Then,
  %
  \begin{align}
    &\!\!
    \Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho} s'' s')
    \notag\\
    & =
    \Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\int_{\sgactions}\sgtrans(s'',\cdot,s')\ \diff(\strat_{i}(\hat{\rho}s'')(\cdot))
    \label{eq:strat:psg:prob:i}\\
%%     & =
%%     \Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\int_{\bigcup_{K\in\psgtrans(s'')}\{K\}{\times}K}\sgtrans(s'',\cdot,s')\ \diff(\strat_{i}(\hat{\rho}s'')(\cdot))
%%     \label{eq:strat:psg:prob:ii}\\
    & =
    \Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\sum_{K\in\psgtrans(s'')}\int_{K}\sgtrans(s'',(K,\cdot),s')\ \diff(\strat_{i}(\hat{\rho}s'')(K,\cdot))
    \label{eq:strat:psg:prob:ii}\\
    & =
    \Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\sum_{K\in\psgtrans(s'')}\int_{K}\sgtrans(s'',(K,\cdot),s')\ \diff\bigg(\sum_{K'\in f_{s}(K)} \strat'_{i}(\hat{\rho}s'')(K',\cdot)\bigg)
    \label{eq:strat:psg:prob:iii}\\
    & =
    \Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\sum_{K\in\psgtrans(s'')}\sum_{K'\in f_{s}(K)} \int_{K'}\sgtrans(s'',(K,\cdot),s')\ \diff\bigg(\strat'_{i}(\hat{\rho}s'')(K',\cdot)\bigg)
    \label{eq:strat:psg:prob:iv}\\
    & =
    \Prob^{\strat'_{\maxplay},\strat'_{\minplay},n}_{\StochGKp,s}(\hat{\rho}s'')\sum_{K\in\psgtrans(s'')}\sum_{K'\in f_{s}(K)} \int_{K'}\sgtrans'(s'',(K',\cdot),s')\ \diff\bigg(\strat'_{i}(\hat{\rho}s'')(K',\cdot)\bigg)
    \label{eq:strat:psg:prob:v}\\
    & =
    \Prob^{\strat'_{\maxplay},\strat'_{\minplay},n}_{\StochGKp,s}(\hat{\rho}s'')\sum_{K'\in\psgtrans'(s'')} \int_{K'}\sgtrans'(s'',(K',\cdot),s')\ \diff\bigg(\strat'_{i}(\hat{\rho}s'')(K',\cdot)\bigg)
    \label{eq:strat:psg:prob:vi}\\
    & =
    \Prob^{\strat'_{\maxplay},\strat'_{\minplay},n}_{\StochGKp,s}(\hat{\rho}s'') \int_{\left(\bigcup_{K'\in\psgtrans'(s'')}\{K'\}\times K'\right)}\sgtrans'(s'',\cdot,s')\ \diff\bigg(\strat'_{i}(\hat{\rho}s'')(\cdot)\bigg)
    \label{eq:strat:psg:prob:vii}\\
    & =
    \Prob^{\strat'_{\maxplay},\strat'_{\minplay},n}_{\StochGKp,s}(\hat{\rho}s'') \int_{\sgactions'}\sgtrans'(s'',\cdot,s')\ \diff\bigg(\strat'_{i}(\hat{\rho}s'')(\cdot)\bigg)
    \label{eq:strat:psg:prob:viii}\\
    & =
    \Prob^{\strat'_{\maxplay},\strat'_{\minplay},n+1}_{\StochGKp,s}(\hat{\rho}s''s')
    \label{eq:strat:psg:prob:ix}
  \end{align}
  %
  Equality (\ref{eq:strat:psg:prob:i}) applies the definition of
  $\Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}$.
  %
  (\ref{eq:strat:psg:prob:ii}) follows from the fact that
  $\strat_{i}(\hat{\rho}s'')\left(\sgactions\setminus\left(\bigcup_{K\in\psgtrans(s'')}\{K\}{\times}K\right)\right)=0$
  and from Fubini's theorem.
  %
  (\ref{eq:strat:psg:prob:iii}) follows because,
  by~(\ref{eq:def:stratp:psg}),
  $\strat_{i}(\hat{\rho}s'')(\{K\}{\times}{B})=\sum_{K'\in f_{s}(K)} \strat'_{i}(\hat{\rho}s'')(\{K'\}{\times}{B})$
  since $(\{K''\}{\times}{B})\sect{K}=\emptyset$ for any $K''\neq K$.
  %
  (\ref{eq:strat:psg:prob:iv}) follows from calculations taking into
  account that
  $\strat'_{i}(\hat{\rho}s'')(\{K'\}{\times}(K\setminus K'))=0$.
  %
  (\ref{eq:strat:psg:prob:v}) follows by induction hypothesis and from
  the fact that $\sgtrans'(s'',(K',\mu),s')=\sgtrans(s'',(K,\mu),s')$
  for all $\mu\in K'$ whenever, $K'\in\Triang(K)$.
  %
  (\ref{eq:strat:psg:prob:vi}) follows from the fact that
  $\bigcup_{K\in\psgtrans(s)}f_{s}(K)=\psgtrans'(s)$ and every
  $f_{s}(K)$ is disjoint from any other $f_{s}(K'')$.
  %
  Fubini's theorem yields (\ref{eq:strat:psg:prob:vii}) and the fact
  that
  $\strat'_{i}(\hat{\rho}s'')\left(\sgactions'\setminus\left(\bigcup_{K'\in\psgtrans'(s'')}\{K'\}{\times}K'\right)\right)=0$
  yields (\ref{eq:strat:psg:prob:viii}).
  %
  Finally, by definition of
  $\Prob^{\strat'_{\maxplay},\strat'_{\minplay},n+1}_{\StochGKp,s}$ we
  conclude in~(\ref{eq:strat:psg:prob:ix}).
  %
  \qed
\end{proof}


\begin{proof}[of Lemma~\ref{lm:encoding:reach:and:expectation}]
  First of all, notice that
  $\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally^k s') =
  \Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\sgnodes^k\times\{s'\}\times\sgnodes^\omega)
  =
  \Prob^{\strat_{\maxplay},\strat_{\minplay},k}_{\StochGK,s}(\sgnodes^k\times\{s'\})$.
  This fact will be used in the following without making explicit the
  justification.


  For item \ref{lm:encoding:reach:and:expectation:i}, we start by
  proving that for all $n\geq 0$ and $\alpha\in\Reals$,
  %
  \begin{equation}\label{eq:encoding:reach:and:expectation:i:prel}
    \sum_{\hat{\rho} \in \sgnodes^{n+1}} \Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho})\mult\sum^{n}_{i=0}\alpha^i\mult\reward(\hat{\rho}_i)
    =
    \sum^{n}_{i=0} \sum_{s' \in \sgnodes} \Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally^i s')\mult\alpha^i\mult\reward(s').
  \end{equation}
  %
  We proceed by induction on $n$. For $n=0$ we calculate:
  %
  \begin{align*}
    \sum_{\hat{\rho} \in \sgnodes^{0+1}} \Prob^{\strat_{\maxplay},\strat_{\minplay},0}_{\StochGK,s}(\hat{\rho})\mult\sum^{0}_{i=0}\alpha^i\mult\reward(\hat{\rho}_i)
    & =
    \sum_{s' \in \sgnodes} \Prob^{\strat_{\maxplay},\strat_{\minplay},0}_{\StochGK,s}(s')\mult\alpha^0\mult\reward(s') \\
    & =
    \sum_{s' \in \sgnodes} \Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally^0s')\mult\alpha^0\mult\reward(s') \\
    & =
    \sum^{0}_{i=0} \sum_{s' \in \sgnodes} \Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally^i s')\mult\alpha^i\mult\reward(s')
  \end{align*}
  %
  All steps follow by there respective definitions.

  For $n+1$ ($n\geq0$) we proceed as follows:
  \begin{align}
    \sum_{\hat{\rho} \in \sgnodes^{n+2}} \Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho})\mult\sum^{n+1}_{i=0}\alpha^i\mult\reward(\hat{\rho}_i)
    \hspace{-14em} & \notag\\
    & =
    \sum_{\hat{\rho} \in \sgnodes^{n+1}}\sum_{s' \in \sgnodes} \Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s')\mult\left(\left(\sum^{n}_{i=0}\alpha^i\mult\reward(\hat{\rho}_i)\right)+\alpha^{n+1}\mult\reward(s')\right)
    \label{eq:encoding:reach:and:expectation:i:prel:proof:i}\\
    & =
    \sum_{\hat{\rho} \in \sgnodes^{n+1}}\left(\sum_{s' \in \sgnodes} \Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s')\right)\mult\sum^{n}_{i=0}\alpha^i\mult\reward(\hat{\rho}_i) \notag\\
    & \qquad\qquad
    {}+\sum_{s' \in \sgnodes} \left(\sum_{\hat{\rho} \in \sgnodes^{n+1}}\Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s')\right)\mult\alpha^{n+1}\mult\reward(s')
    \notag\\%\label{eq:encoding:reach:and:expectation:i:prel:proof:ii}\\
    & =
    \sum_{\hat{\rho} \in \sgnodes^{n+1}}\Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho})\mult\sum^{n}_{i=0}\alpha^i\mult\reward(\hat{\rho}_i) \notag\\
    & \qquad\qquad
    {}+\sum_{s' \in \sgnodes} \Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\sgnodes^{n+1}\times\{s'\})\mult\alpha^{n+1}\mult\reward(s')
    \label{eq:encoding:reach:and:expectation:i:prel:proof:iii}\\
    & =
    \sum^{n}_{i=0} \sum_{s' \in \sgnodes} \Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally^i s')\mult\alpha^i\mult\reward(s') \notag\\
    & \qquad\qquad
    {}+\sum_{s' \in \sgnodes} \Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally^{n+1}s')\mult\alpha^{n+1}\mult\reward(s')
    \label{eq:encoding:reach:and:expectation:i:prel:proof:iv}\\
    & =
    \sum^{n+1}_{i=0} \sum_{s' \in \sgnodes} \Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally^i s')\mult\alpha^i\mult\reward(s') \notag
  \end{align}
  %
  Most of the steps follow by simple calculations.  In particular, in
  (\ref{eq:encoding:reach:and:expectation:i:prel:proof:i}) we separate
  the trailing state.  In
  (\ref{eq:encoding:reach:and:expectation:i:prel:proof:iii}), we use
  the fact that
  $\sum_{s'\in\sgnodes}\Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s')
  =
  \Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}\times\sgnodes)
  =
  \Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho})$
  in the first summand.  Finally, induction hypothesis on the first
  summand of (\ref{eq:encoding:reach:and:expectation:i:prel:proof:iv})
  is applied.

  Item~\ref{lm:encoding:reach:and:expectation:i} of the lemma follows
  for $\FTRewards^n$ and $\FDRewards{\discfactor}^n$ by taking $\alpha=1$
  and $\alpha=\discfactor$
  in~(\ref{eq:encoding:reach:and:expectation:i:prel}),  respectively.
  The case of $\FARewards^n$ follows by observing that
  $\FARewards^n(\hat{\rho})=\frac{\FTRewards^n(\hat{\rho})}{n+1}$
  and calculating as follows
  $\sum_{\hat{\rho} \in \sgnodes^{n+1}} \Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho})\mult\FARewards^n(\hat{\rho})
  =
  \sum_{\hat{\rho} \in \sgnodes^{n+1}} \Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho})\mult\frac{\FTRewards^n(\hat{\rho})}{n+1}
  =
  \sum^{n}_{i=0} \sum_{s' \in \sgnodes} \Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally^i s')\mult\frac{1}{n+1}\mult\reward(s')$.

  
  Item~\ref{lm:encoding:reach:and:expectation:ii} follows from
  item~\ref{lm:encoding:reach:and:expectation:i} as follows:
  %
  \begin{align}
    \Expect^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}[\GRewards]
    & =
    \lim_{n\to\infty} \Expect^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}[\FGRewards^n]
    \label{lm:encoding:reach:and:expectation:ii:eq:i}\\
    & =
    \lim_{n\to\infty} \sum_{\hat{\rho} \in \sgnodes^{n+1}} \Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho})\mult\FGRewards(\hat{\rho})
    \label{lm:encoding:reach:and:expectation:ii:eq:ii}\\
    & =
    \lim_{n\to\infty} \sum^{n}_{i=0} \sum_{s' \in \sgnodes} \Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally^i s')\mult\fgen(i,n)\mult\reward(s')
    \label{lm:encoding:reach:and:expectation:ii:eq:iii}
  \end{align}
  %
  Equality (\ref{lm:encoding:reach:and:expectation:ii:eq:i}) folows by
  convergence properties of random variables,
  (\ref{lm:encoding:reach:and:expectation:ii:eq:ii}) is the definition of
  $\Expect^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}[\FGRewards^n]$,
  and (\ref{lm:encoding:reach:and:expectation:ii:eq:ii}) is
  item~\ref{lm:encoding:reach:and:expectation:i}.
\qed
\end{proof}


\begin{proof}[of Lemma~\ref{lm:semimarkov}]
  Define $\starredstrat_{\maxplay}$ as follows.
  For $\hat{\rho}\in\sgnodes^*$, $s'\in\sgnodes$, and $A\in\Salg_\sgactions$,
  such that
  $\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(D \Until^n s') > 0$
  and $|\hat{\rho}| = n\geq 0$, let
  %
  \begin{align*}
  \starredstrat_{\maxplay}(\hat{\rho}s')(A)
  & =
  \frac{\displaystyle\sum_{\hat{\rho}'\in D^n}\Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}'s')\mult\strat_{\maxplay}(\hat{\rho}' s')(A)}{\displaystyle\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(D \Until^n s')}
  \end{align*}
  %
  For $s'\in\sgnodes$ with
  $\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(D \Until^n s') = 0$
  and $|\hat{\rho}s'| = n$, define
  $\starredstrat_{\maxplay}(\hat{\rho}s')$ to be
  $\Dirac_{\textsf{f}(s')}$ for a globally fixed function $\textsf{f}$
  such that $\textsf{f}(s')\in\enabled(s')$.
  %
  Notice that
  $\starredstrat_{\maxplay}\in\SemiMarkovStrats{\maxplay}$.
  Therefore, we write $\starredstrat_{\maxplay}(n,s')$ for
  $\starredstrat_{\maxplay}(\hat{\rho}s')$ whenever
  $|\hat{\rho}|=n$.

  We focus first on item~\ref{lm:semimarkov:i} and proceed by induction.
  %
  For $n=0$,
  \[\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(D \Until^0 s') =
  \Prob^{\strat_{\maxplay},\strat_{\minplay},0}_{\StochGK,s}(s') = \Dirac_s(s') =
  \Prob^{\starredstrat_{\maxplay},\strat_{\minplay},0}_{\StochGK,s}(s')=
  \Prob^{\starredstrat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(D \Until^0 s').\]
  %


  For $n + 1 \geq 0$, note that
%
  $
  \Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(D \Until^{n+1} s')
  = \sum_{\hat{\rho} \in D^{n+1}} \Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s')
  = \sum_{s'' \in D}\sum_{\hat{\rho} \in D^n} \Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s''s')
  $.
%
  Hence, it suffices to show that, for all $s''\in\sgnodes$,
%
  \[\sum_{\hat{\rho} \in D^n} \Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s''s')
  =
  \sum_{\hat{\rho} \in D^n} \Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s''s'),
  \]
%
  for which we differentiate two cases, depending on the player. So,
  if $s''\in\sgnmin$ we proceed as follows
  %
  \begin{align}
    \sum_{\hat{\rho} \in D^n} \Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s''s') \hspace{-4em} &\notag\\
    & =
    \sum_{\hat{\rho} \in D^n} \Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\int_{\sgactions}\sgtrans(s'',\cdot,s')\ \diff(\strat_{\minplay}(\hat{\rho}s'')(\cdot))
    \label{eq:semimarkov:i:proof:min:i}\\
    & =
    \left(\sum_{\hat{\rho} \in D^n} \Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\right)\int_{\sgactions}\sgtrans(s'',\cdot,s')\ \diff(\strat_{\minplay}(n,s'')(\cdot))
    \label{eq:semimarkov:i:proof:min:ii}\\
    & =
    \left(\sum_{\hat{\rho} \in D^n} \Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\right)\int_{\sgactions}\sgtrans(s'',\cdot,s')\ \diff(\strat_{\minplay}(n,s'')(\cdot))
    \label{eq:semimarkov:i:proof:min:iii}\\
    & =
    \sum_{\hat{\rho} \in D^n} \Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s''s')
    \label{eq:semimarkov:i:proof:min:iv}
  \end{align}
  %
  Step~(\ref{eq:semimarkov:i:proof:min:i}) follows by definition of
  $\Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}$.
  %
  Because $\strat_\minplay$ is semi-Markov the integral can be
  factored out of the summation in~(\ref{eq:semimarkov:i:proof:min:ii}).
  %
  Induction hypothesis is applied
  in~(\ref{eq:semimarkov:i:proof:min:iii}), since
  $\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(D \Until^n s'')
  =
  \left(\sum_{\hat{\rho} \in D^n} \Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\right)$
  and similarly for
  $\Prob^{\starredstrat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(D \Until^n s'')$.
  %
  Finally, step (\ref{eq:semimarkov:i:proof:min:iv}) resolves using
  the same steps as before in reverse order.

  If $s''\in\sgnmax$ we have two subcases. First suppose
  $\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(D \Until^n s'') > 0$.
  Then
  %
  \begin{align}
    \sum_{\hat{\rho} \in D^n} \Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s''s') \hspace{-9em} &\notag\\
    & =
    \sum_{\hat{\rho} \in D^n} \Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\int_{\sgactions}\sgtrans(s'',\cdot,s')\ \diff(\strat_{\maxplay}(\hat{\rho}s'')(\cdot))
    \label{eq:semimarkov:i:proof:max:a:i}\\
    & =
    \Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(D \Until^n s'')\mult
    \int_{\sgactions}\sgtrans(s'',\cdot,s')\mult
    \frac{\sum_{\hat{\rho} \in D^n} \Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\ \diff(\strat_{\maxplay}(\hat{\rho}s'')(\cdot))}{\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(D \Until^n s'')}
    \label{eq:semimarkov:i:proof:max:a:ii}\\
    & =
    \Prob^{\starredstrat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(D \Until^n s'')\mult
    \int_{\sgactions}\sgtrans(s'',\cdot,s')\ \diff(\starredstrat_{\maxplay}(n,s'')(\cdot))
    \label{eq:semimarkov:i:proof:max:a:iii}\\
    & =
    \left(\sum_{\hat{\rho}\in D^n}\Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\right)
    \int_{\sgactions}\sgtrans(s'',\cdot,s')\ \diff(\starredstrat_{\maxplay}(n,s'')(\cdot))
    \label{eq:semimarkov:i:proof:max:a:iv}\\
    & =
    \sum_{\hat{\rho}\in D^n}\Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\mult
    \int_{\sgactions}\sgtrans(s'',\cdot,s')\ \diff(\starredstrat_{\maxplay}(\hat{\rho}s'')(\cdot))
    \label{eq:semimarkov:i:proof:max:a:v}\\
    & =
    \sum_{\hat{\rho} \in D^n} \Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s''s')
    \label{eq:semimarkov:i:proof:max:a:vi}
  \end{align}
  %
  Step~(\ref{eq:semimarkov:i:proof:max:a:i}) follows by definition
  of $\Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}$ and
  (\ref{eq:semimarkov:i:proof:max:a:ii}) is obtained by multiplying
  and dividing by
  $\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(D \Until^n s'')$.
  %
  Step (\ref{eq:semimarkov:i:proof:max:a:iii}) follows by induction and
  using the definition of $\starredstrat_{\maxplay}$.
  %
  By noting that
  $\Prob^{\starredstrat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(D \Until^n s'')=\sum_{\hat{\rho}\in D^n}\Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')$
  we obtain (\ref{eq:semimarkov:i:proof:max:a:iv}).
  %
  Calculations and recalling that
  $\starredstrat_{\maxplay}(n,s'')=\starredstrat_{\maxplay}(\hat{\rho}s'')$,
  whenever $|\hat{\rho}|=n$, yields
  (\ref{eq:semimarkov:i:proof:max:a:v}) which, by definition of
  $\Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}$,
  concludes in (\ref{eq:semimarkov:i:proof:max:a:vi}).

  For the case
  $\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(D \Until^n s'') = 0$,
  we first prove the following claim.
  %
  \begin{claim}
    $\Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'') = 0$
    implies
    $\Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'') = 0$,
    for all $n\geq0$, $\hat{\rho}\in D^n$, and $s''\in\sgnodes$.
  \end{claim}
  %
  \begin{proofofclaim}
    We proceed by induction on $n$.  For $n=0$ the claim follows after
    noting that
    $\Prob^{\strat_{\maxplay},\strat_{\minplay},0}_{\StochGK,s}(s') =
    \Dirac_s(s') =
    \Prob^{\starredstrat_{\maxplay},\strat_{\minplay},0}_{\StochGK,s}(s')$
    by the definition of $\Prob$.

    So, let $n+1>0$ and suppose
    $\Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s''s') = 0$.
    %
    Suppose $s''\in\sgnmax$. Since, by definition,
    $\Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s''s') =
    \Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\int_{\sgactions}\sgtrans(s'',\cdot,s')\ \diff(\strat_{\maxplay}(\hat{\rho}s'')(\cdot))$,
    then either
    $\Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'') = 0$
    or
    $\int_{\sgactions}\sgtrans(s'',\cdot,s')\ \diff(\strat_{\maxplay}(\hat{\rho}s'')(\cdot)) = 0$.

    If
    $\Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'') = 0$,
    then
    $\Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'') = 0$
    by induction hypothesis and hence
    $\Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s''s') =
    \Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\int_{\sgactions}\sgtrans(s'',\cdot,s')\ \diff(\strat_{\maxplay}(\hat{\rho}s'')(\cdot))=0$.

    If, instead
    $\Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'') > 0$,
    then
    $\Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(D \Until^n s'') > 0$
    and hence,
    %
    \begin{align}
      \Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s''s')
      \hspace{-6em}\notag\\
      & =
      \Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\int_{\sgactions}\sgtrans(s'',\cdot,s')\ \diff(\starredstrat_{\maxplay}(\hat{\rho}s'')(\cdot))
      \label{eq:semimarkov:i:proof:max:b:claim:i}\\
      & =
      \Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')
      \int_{\sgactions}\sgtrans(s'',\cdot,s')\mult
      \frac{\sum_{\hat{\rho} \in D^n} \Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\ \diff(\strat_{\maxplay}(\hat{\rho}s'')(\cdot))}{\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(D \Until^n s'')}
      \label{eq:semimarkov:i:proof:max:b:claim:ii}\\
      & =
      \Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\mult
      \frac{\sum_{\hat{\rho} \in D^n} \Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')}{\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(D \Until^n s'')}
      \int_{\sgactions}\sgtrans(s'',\cdot,s')\mult\diff(\strat_{\maxplay}(\hat{\rho}s'')(\cdot))
      \label{eq:semimarkov:i:proof:max:b:claim:iii}\\
      & =
      0
      \label{eq:semimarkov:i:proof:max:b:claim:iv}
    \end{align}
    %
    Step (\ref{eq:semimarkov:i:proof:max:b:claim:i}) follows by
    definition of
    $\Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}$,
    step (\ref{eq:semimarkov:i:proof:max:b:claim:ii}) by definition
    of $\starredstrat_{\minplay}$ and step
    (\ref{eq:semimarkov:i:proof:max:b:claim:iii}) by standard
    calculations.  Since necessarily
    $\int_{\sgactions}\sgtrans(s'',\cdot,s')\ \diff(\strat_{\minplay}(\hat{\rho}s'')(\cdot)) = 0$,
    the proof concludes with step
    (\ref{eq:semimarkov:i:proof:max:b:claim:iv}).

    For $s''\in\sgnmin$, it follows as before only
    differing in the case of
    $\Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'') > 0$,
    in which case
    $\int_{\sgactions}\sgtrans(s'',\cdot,s')\ \diff(\strat_{\minplay}(\hat{\rho}s'')(\cdot)) = 0$.
    %
    Thus,
    $\Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s''s') =
    \Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\int_{\sgactions}\sgtrans(s'',\cdot,s')\ \diff(\strat_{\minplay}(\hat{\rho}s'')(\cdot)) =
    0$.
    \qedclaim
  \end{proofofclaim}

  Now, notice that
  $\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(D \Until^n s'') = 0$
  implies that
  $\sum_{\hat{\rho}\in D^n}\Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'') = 0$,
  and therefore
  $\Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'') = 0$
  for all $\hat{\rho}\in D^n$.
  %
  Recall that $s''\in\sgnmax$. Then,
  \begin{align}
    \sum_{\hat{\rho} \in D^n} \Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s''s') %\hspace{-8em} &\notag\\
    & =
    \sum_{\hat{\rho} \in D^n} \Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\int_{\sgactions}\sgtrans(s'',\cdot,s')\ \diff(\strat_{\maxplay}(\hat{\rho}s'')(\cdot))
    \label{eq:semimarkov:i:proof:max:b:i}\\
    & =
    0
    \label{eq:semimarkov:i:proof:max:b:ii}\\
    & =
    \sum_{\hat{\rho} \in D^n} \Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\int_{\sgactions}\sgtrans(s'',\cdot,s')\ \diff(\starredstrat_{\maxplay}(\hat{\rho}s'')(\cdot))
    \label{eq:semimarkov:i:proof:max:b:iii}\\
    & =
    \sum_{\hat{\rho} \in D^n} \Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s''s')
    \label{eq:semimarkov:i:proof:max:b:iv}
  \end{align}
  %
  In the above calculations,
  (\ref{eq:semimarkov:i:proof:max:b:i}) and
  (\ref{eq:semimarkov:i:proof:max:b:iv}) follow by definition of
  $\Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}$ and
  $\Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}$, respectively,
  step (\ref{eq:semimarkov:i:proof:max:b:ii}) follow from the fact that
  $\Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'') = 0$
  for all $\hat{\rho}\in D^n$ and because of this, the claim yields
  (\ref{eq:semimarkov:i:proof:max:b:iii}).
  %
  This concludes the proof of item~\ref{lm:semimarkov:i}.

  \medskip
  
  For~\ref{lm:semimarkov:ii}, we have that
  %
  \begin{align*}
    \Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally C)
    & =
    \sum_{s'\in C}\sum_{n\geq0}\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}((\sgnodes\setminus C) \Until^n s')
    \\
    & =
    \sum_{s'\in C}\sum_{n\geq0}\Prob^{\starredstrat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}((\sgnodes\setminus C) \Until^n s')
    =
    \Prob^{\starredstrat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally C)
  \end{align*}
  %
  where the middle equality follow from item~\ref{lm:semimarkov:i},
  and the other two because, for all $n\neq m$ and $s'\in C$,
  $((\sgnodes\setminus C) \Until^n s') \cap ((\sgnodes\setminus C) \Until^m s') = \emptyset$.

  \medskip
  
  Item~\ref{lm:semimarkov:iii} can be calculated as follows.
  %
  \begin{align}
    \Expect^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}[\GRewards]
    & =
    \lim_{n\to\infty} \sum^{n}_{i=0} \sum_{s' \in \sgnodes} \Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally^i s')\mult\fgen(i,n)\mult\reward(s')
    \label{eq:semimarkov:i:proof:i}\\
    & =
    \lim_{n\to\infty} \sum^{n}_{i=0} \sum_{s' \in \sgnodes} \Prob^{\starredstrat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally^i s')\mult\fgen(i,n)\mult\reward(s')
    \label{eq:semimarkov:i:proof:ii}\\
    & =
    \Expect^{\starredstrat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}[\GRewards]
    \label{eq:semimarkov:i:proof:iii}
  \end{align}
  %
  Steps (\ref{eq:semimarkov:i:proof:i}) and
  (\ref{eq:semimarkov:i:proof:iii}) follow from
  Lemma~\ref{lm:encoding:reach:and:expectation}.\ref{lm:encoding:reach:and:expectation:ii},
  while (\ref{eq:semimarkov:i:proof:ii}) follows by
  item~\ref{lm:semimarkov:ii} of this lemma.

  \medskip
  
  Notice that the proof can be replicated mutatis mutandi with
  $\maxplay$ and $\minplay$ exchanged.  Therefore the last part of the
  lemma also holds.
  %
\qed
\end{proof}


\begin{proof}[of Lemma~\ref{lm:xsemimarkov}]
  \newcommand{\convp}{\mathsf{p}}%
  %
  For any $K\in\DSimp(\sgnodes)$, $\mu\in K$ and
  $\hat{\mu}\in\vertices(K)$ define $\convp^K(\mu,\hat{\mu})\in[0,1]$
  such that
  $\sum_{\hat{\mu}\in\vertices(K)}\convp^K(\mu,\hat{\mu})\mult\hat{\mu}=\mu$.
  That is, all $\convp^K(\mu,\hat{\mu})$, $\hat{\mu}\in\vertices(K)$,
  are the unique factors that define the convex combination for $\mu$
  in the simplex $K$.  Therefore, $\convp^K(\mu,\hat{\mu})$ is well
  defined for all $K\in\DSimp(\sgnodes)$, $\mu\in K$ and
  $\hat{\mu}\in\vertices(K)$.  In any other case, let
  $\convp^K(\mu,\hat{\mu})=0$.

  Let $\convp((K,\mu),(K,\hat{\mu}))=\convp^K(\mu,\hat{\mu})$ for all
  $K\in\DSimp(\sgnodes)$, $\mu\in K$ and $\hat{\mu}\in\vertices(K)$,
  and let $\convp(a,b)=0$ for any other $a,b\in\sgactions$.
  %
  For every $(K,\mu)\in\sgactions$ such that $\mu\in K$, let
  $\vertices(K,\mu)=\{(K,\hat{\mu})\mid\hat{\mu}\in\vertices(K)\}$ and
  let $\vertices(K,\mu)=\emptyset$ otherwise.
  %
  Thus, for every $s\in\sgnodes$ and $a\in\sgactions$,
  \begin{equation}\label{eq:xsemimarkov:sgtrans:convp}
    \sgtrans(s,a,\cdot) =
    \sum_{b\in\vertices(a)}\convp(a,b)\mult\sgtrans(s,b,\cdot).
  \end{equation}

  We also extend $\convp$ to measurable sets $B\in\Salg_\sgactions$
  and $a\in\sgactions$ by
  $\convp(a,B)=\sum_{b\in B\cap\vertices(a)}\convp(a,b)$.
  %
  We observe that $\convp(\cdot,B)$ is measurable for any
  $B\in\Salg_\sgactions$, which is a consequence of the following
  calculation, where $p\in[0,1]$ and $\proj_2(B)=\{\mu\mid(K,\mu)\in B\}$,
  %
  \begin{align*}
    \{a\mid\convp(a,B)\geq p\}
    & = \textstyle
    \left\{(K,\mu)\mid\sum_{\hat{\mu}\in\proj_2(B)\cap\vertices(K)}\convp^K(\mu,\hat{\mu})\geq p \right\} \\ 
    & = \textstyle
    \bigcup_{K\in\bigcup_{s\in\psgnodes}\psgtrans(s)}\{K\}\times\left\{\mu\mid\sum_{\hat{\mu}\in\proj_2(B)\cap\vertices(K)}\convp^K(\mu,\hat{\mu})\geq p \right\}  
  \end{align*}
  %\remarkPC{En la ecuación de arriba, los vertices podrían pertenecer a diferentes politopos?}
  %\remarkPRD{No me queda claro esto. una $\mu$ podría ser un vértice de dos politopos distintos, pero esto no debería traer problemas}
  %
  Notice that, if $p=0$ then $\{a\mid\convp(a,B)\geq p\}=\sgactions$,
  which is measurable. If $p>0$, notice that
  $\bigcup_{s\in\psgnodes}\psgtrans(s)$ is finite and
  $\left\{\mu\mid\sum_{\hat{\mu}\in\proj_2(B)\cap\vertices(K)}\convp^K(\mu,\hat{\mu})\geq p \right\} = \left\{\mu\in K\mid\sum_{\hat{\mu}\in\proj_2(B)\cap\vertices(K)}\convp^K(\mu,\hat{\mu})\geq p \right\}$
  is a convex polytope, hence measurable. Therefore,
  $\{a\mid\convp(a,B)\geq p\}$ is measurable.

  For every $\hat{\rho}\in\sgnodes^*$, $s'\in\sgnodes$ and
  $B\in\Salg_\sgactions$, define $\starredstrat_\maxplay$ by
  %
  \[\starredstrat_\maxplay(\hat{\rho}s')(B) =
  \int_{\sgactions} \convp(\cdot,B)\ \diff(\strat_\maxplay(\hat{\rho}s')(\cdot)) =
  \int_{\enabled(s')} \convp(\cdot,B)\ \diff(\strat_\maxplay(\hat{\rho}s')(\cdot)).\]
  %
  The first equality is the definition and the second equality follows
  from the fact that
  $\strat_\maxplay(\hat{\rho}s')(\sgactions\setminus\enabled(s'))=0$.
  %
  $\starredstrat_\maxplay(\hat{\rho}s')$ is defined so that it assigns
  to each vertex of a simplex the weighted contribution (according to
  $\strat_\maxplay(\hat{\rho}s')$) of each distribution (in the said
  simplex) to such vertex.

  Since $\convp(\cdot,B)$ is measurable, $\starredstrat_\maxplay$ is
  well defined. Moreover, because $\strat_\maxplay$ is semi-Markov, so
  is $\starredstrat_\maxplay$.
  %
  The following calculation shows that $\starredstrat_\maxplay$ is
  also extreme.
  %
  \begin{align}
    \starredstrat_\maxplay(\hat{\rho}s')(\vertices(\sgactions(s')))
    \hspace{-6em}&\notag\\
    & =
    \int_{\enabled(s')} \convp(\cdot,\vertices(\sgactions(s')))\ \diff(\strat_\maxplay(\hat{\rho}s')(\cdot))
    \label{eq:xsemimarkov:starredstrat:is:x:proof:i} \\
    & =
    \int_{\enabled(s')} \convp(\cdot,\{(K',\hat{\mu})\mid K'\in\psgtrans(s'), \hat{\mu}\in\vertices(K')\})\ \diff(\strat_\maxplay(\hat{\rho}s')(\cdot))
    \label{eq:xsemimarkov:starredstrat:is:x:proof:ii} \\
    & =
    \int_{\enabled(s')} \lambda(K,\mu).\left(\sum_{K'\in\psgtrans(s'), \hat{\mu}\in\vertices(K')}\convp((K,\mu),(K',\hat{\mu}))\right)\ \diff(\strat_\maxplay(\hat{\rho}s')(\cdot))
    \label{eq:xsemimarkov:starredstrat:is:x:proof:iii} \\
    & =
    \int_{\enabled(s')} \lambda(K,\mu).\left(\charac_{\psgtrans(s')}(K)\sum_{\hat{\mu}\in\vertices(K)}\convp^K(\mu,\hat{\mu})\right)\ \diff(\strat_\maxplay(\hat{\rho}s')(\cdot))
    \label{eq:xsemimarkov:starredstrat:is:x:proof:iv} \\
    & =
    \int_{\enabled(s')} \diff(\strat_\maxplay(\hat{\rho}s')(\cdot))
    \label{eq:xsemimarkov:starredstrat:is:x:proof:v} \\
    & =
    \strat_\maxplay(\hat{\rho}s')(\enabled(s'))
    \label{eq:xsemimarkov:starredstrat:is:x:proof:vi} \\
    & = 1
    \label{eq:xsemimarkov:starredstrat:is:x:proof:vii}
  \end{align}
  %
  The definition of $\starredstrat_\maxplay$ yields the first step
  (\ref{eq:xsemimarkov:starredstrat:is:x:proof:i}).
  %
  Step (\ref{eq:xsemimarkov:starredstrat:is:x:proof:ii}) follows by
  observing that
  $\vertices(\sgactions(s')) =
  \{(K',\hat{\mu})\in\sgactions(s)\mid\hat{\mu}\in\vertices(K')\} =
  \{(K',\hat{\mu})\mid K'\in\psgtrans(s'), \hat{\mu}\in\vertices(K')\}$
  %
  Using the lambda notation and the definition of $\convp$ on sets, we
  obtain (\ref{eq:xsemimarkov:starredstrat:is:x:proof:iii}).
  %
  By noting that the sum is 0 if $K\notin \psgtrans(s')$, we introduce
  the characteristic function $\charac_{\psgtrans(s')}$ in
  (\ref{eq:xsemimarkov:starredstrat:is:x:proof:iv}), where we also
  apply the deintinion of $\convp$.
  %
  The fact that
  $\sum_{\hat{\mu}\in\vertices(K)}\convp^K(\mu,\hat{\mu})=1$ and that
  $\charac_{\psgtrans(s')}(K)=1$ for all $(K,\mu)\in\enabled(s')$
  (since $K\in\psgtrans(s')$) yields
  (\ref{eq:xsemimarkov:starredstrat:is:x:proof:v}).
  %
  Finally, step (\ref{eq:xsemimarkov:starredstrat:is:x:proof:vi})
  follows by the definition of the integral and step
  (\ref{eq:xsemimarkov:starredstrat:is:x:proof:vii}) because
  $\strat_\maxplay$ is a strategy.

  \medskip

  We now proceed to prove item~\ref{lm:xsemimarkov:i} by induction on
  $n$.  For $n=0$ we calculate:
  %
  \[\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(D \Until^0 s') =
  \Prob^{\strat_{\maxplay},\strat_{\minplay},0}_{\StochGK,s}(s') =
  \Dirac_s(s') =
  \Prob^{\starredstrat_{\maxplay},\strat_{\minplay},0}_{\StochGK,s}(s') =
  \Prob^{\starredstrat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(D \Until^0 s').\]

  For $n+1>0$, we have that
  %
  \begin{align*}
    \Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(D \Until^{n+1} s')
    =
    \sum_{\hat{\rho}\in D^n,s''\in D}\Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s''s')
    \hspace{-18em} &
    \\
    & =
    \sum_{\hat{\rho}\in D^n,s''\in(\sgnmax\cap D)}\Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s''s') +
    \sum_{\hat{\rho}\in D^n,s''\in(\sgnmin\cap D)}\Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s''s')
  \end{align*}
  %
  and similarly for
  $\Prob^{\starredstrat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(D \Until^{n+1} s')$.
  Therefore, it sufficies to show that
  %
  \begin{align}
    \sum_{\hat{\rho}\in D^n,s''\in\sgnmax}\Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s''s')
    & =
    \sum_{\hat{\rho}\in D^n,s''\in\sgnmax}\Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s''s') \text{ \ and }
    \label{lm:xsemimarkov:i:obligation:i}\\
    \sum_{\hat{\rho}\in D^n,s''\in\sgnmin}\Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s''s')
    & =
    \sum_{\hat{\rho}\in D^n,s''\in\sgnmin}\Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s''s').
    \label{lm:xsemimarkov:i:obligation:ii}
  \end{align}

  To prove (\ref{lm:xsemimarkov:i:obligation:i}), we calculate as
  follows:
  %
  \begin{align}
    \sum_{\hat{\rho}\in D^n,s''\in\sgnmax}\Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s''s')
    \hspace{-11.4em}\notag\\
    & =
    \sum_{\hat{\rho}\in D^n,s''\in\sgnmax}\Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\int_{\sgactions}\sgtrans(s'',\cdot,s')\ \diff(\starredstrat_{\maxplay}(\hat{\rho}s'')(\cdot))
    \label{eq:xsemimarkov:i:obligation:i:proof:i} \\
    & =
    \sum_{s''\in\sgnmax}\left(\sum_{\hat{\rho}\in D^n}\Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\right)\int_{\sgactions}\sgtrans(s'',\cdot,s')\ \diff(\starredstrat_{\maxplay}(n,s'')(\cdot))
    \label{eq:xsemimarkov:i:obligation:i:proof:ii} \\
    & =
    \sum_{s''\in\sgnmax}\Prob^{\starredstrat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(D \Until^n s'')\sum_{a\in\vertices(\enabled(s''))}\sgtrans(s'',a,s')\mult\starredstrat_{\maxplay}(n,s'')(\{a\})
    \label{eq:xsemimarkov:i:obligation:i:proof:iii} \\
    & =
    \sum_{s''\in\sgnmax}\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(D \Until^n s'')\sum_{a\in\vertices(\enabled(s''))}\sgtrans(s'',a,s')\int_{\sgactions} \convp(\cdot,\{a\})\ \diff(\strat_\maxplay(n,s'')(\cdot))
    \label{eq:xsemimarkov:i:obligation:i:proof:iv} \\
    & =
    \sum_{s''\in\sgnmax}\left(\sum_{\hat{\rho}\in D^n}\Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\right)
    \notag\\
    &\qquad\qquad\qquad
    \int_{\sgactions} \lambda x.\left(\sum_{a\in\vertices(\enabled(s''))}\convp(x,a)\mult\sgtrans(s'',a,s')\right) \diff(\strat_\maxplay(n,s'')(\cdot))
    \label{eq:xsemimarkov:i:obligation:i:proof:v} \\
    & =
    \sum_{\hat{\rho}\in D^n,s''\in\sgnmax}\Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')
    \notag\\
    &\qquad\qquad\qquad 
    \int_{\sgactions} \lambda x.\left(\sum_{a\in\vertices(x)}\convp(x,a)\mult\sgtrans(s'',a,s')\right) \diff(\strat_\maxplay(n,s'')(\cdot))
    \label{eq:xsemimarkov:i:obligation:i:proof:vi} \\
    & =
    \sum_{\hat{\rho}\in D^n,s''\in\sgnmax}\Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'') \int_{\sgactions} \sgtrans(s'',\cdot,s')\ \diff(\strat_\maxplay(\hat{\rho}s'')(\cdot))
    \label{eq:xsemimarkov:i:obligation:i:proof:vii} \\
    & =
    \sum_{\hat{\rho}\in D^n,s''\in\sgnmax}\Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s''s')
    \label{eq:xsemimarkov:i:obligation:i:proof:viii}
  \end{align}
  %
  (\ref{eq:xsemimarkov:i:obligation:i:proof:i}) follows by the
  definition of
  $\Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}$
  while (\ref{eq:xsemimarkov:i:obligation:i:proof:ii}) follows from
  the fact the $\starredstrat_\maxplay$ is semi-Markov.
  %
  Step (\ref{eq:xsemimarkov:i:obligation:i:proof:iii}) follows from
  the definition of
  $\Prob^{\starredstrat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(D \Until^n s'')$
  and the fact $\vertices(\enabled(s))$, the support set of
  $\starredstrat_{\maxplay}(n,s'')$, is finite.
  %
  In (\ref{eq:xsemimarkov:i:obligation:i:proof:iv}), induction
  hypothesis is applied as well as the definition of
  $\starredstrat_{\maxplay}(n,s'')(\{a\})$.
  %
  (\ref{eq:xsemimarkov:i:obligation:i:proof:v}) follows by the
  definition of
  $\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(D \Until^n s'')$,
  calculations, the introduction of the $\lambda$ notation and the
  fact that $\convp(x,\{a\})=\convp(x,a)$.
  %
  In (\ref{eq:xsemimarkov:i:obligation:i:proof:vi}), we observe that
  $\convp(x,a)>0$ only if $a\in\vertices(x)$.
  %
  (\ref{eq:xsemimarkov:i:obligation:i:proof:vii}) follows from
  (\ref{eq:xsemimarkov:sgtrans:convp}) and the fact $\enabled(s)$ is
  the support set of $\strat_\maxplay(\hat{\rho}s'')$.
  %
  Finally, the definition of
  $\Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}$ is
  applied in (\ref{eq:xsemimarkov:i:obligation:i:proof:viii}).

  To prove (\ref{lm:xsemimarkov:i:obligation:ii}), we calculate as
  follows:
  %
  \begin{align}
    \sum_{\hat{\rho}\in D^n,s''\in\sgnmin}\Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s''s')
    \hspace{-6em}\notag\\
    & =
    \sum_{\hat{\rho}\in D^n,s''\in\sgnmin}\Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\int_{\sgactions}\sgtrans(s'',\cdot,s')\ \diff(\strat_{\minplay}(\hat{\rho}s'')(\cdot))
    \label{eq:xsemimarkov:i:obligation:ii:proof:i} \\
    & =
    \sum_{s''\in\sgnmin}\left(\sum_{\hat{\rho}\in D^n}\Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\right)\int_{\sgactions}\sgtrans(s'',\cdot,s')\ \diff(\strat_{\minplay}(n,s'')(\cdot))
    \label{eq:xsemimarkov:i:obligation:ii:proof:ii} \\
    & =
    \sum_{s''\in\sgnmin}\Prob^{\starredstrat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(D \Until^n s'')\int_{\sgactions}\sgtrans(s'',\cdot,s')\ \diff(\strat_{\minplay}(n,s'')(\cdot))
    \label{eq:xsemimarkov:i:obligation:ii:proof:iii} \\
    & =
    \sum_{s''\in\sgnmin}\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(D \Until^n s'')\int_{\sgactions}\sgtrans(s'',\cdot,s')\ \diff(\strat_{\minplay}(n,s'')(\cdot))
    \label{eq:xsemimarkov:i:obligation:ii:proof:iv} \\
    & =
    \sum_{\hat{\rho}\in D^n,s''\in\sgnmin}\Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s''s')
    \label{eq:xsemimarkov:i:obligation:ii:proof:v}
  \end{align}
  %
  Step (\ref{eq:xsemimarkov:i:obligation:ii:proof:i}) follows by the
  definition of
  $\Prob^{\starredstrat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}$,
  (\ref{eq:xsemimarkov:i:obligation:ii:proof:ii}) follows from the
  fact the $\strat_\minplay$ is semi-Markov, and
  (\ref{eq:xsemimarkov:i:obligation:ii:proof:iii}) follows from the
  definition of
  $\Prob^{\starredstrat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(D \Until^n s'')$.
  %
  Induction hypothesis is applied in
  (\ref{eq:xsemimarkov:i:obligation:ii:proof:iv}).
  %
  Finally (\ref{eq:xsemimarkov:i:obligation:ii:proof:v}) follows like
  the first three steps in the inverse order.

  \medskip
  
  For~\ref{lm:xsemimarkov:ii}, we have that
  %
  \begin{align*}
    \Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally C)
    & =
    \sum_{s'\in C}\sum_{n\geq0}\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}((\sgnodes\setminus C) \Until^n s')
    \\
    & =
    \sum_{s'\in C}\sum_{n\geq0}\Prob^{\starredstrat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}((\sgnodes\setminus C) \Until^n s')
    =
    \Prob^{\starredstrat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally C)
  \end{align*}
  %
  where the middle equality follow from item~\ref{lm:xsemimarkov:i},
  and the other two because, for all $n\neq m$ and $s'\in C$,
  $((\sgnodes\setminus C) \Until^n s') \cap ((\sgnodes\setminus C) \Until^m s') = \emptyset$.

  \medskip

  Item~\ref{lm:xsemimarkov:iii} can be calculated as follows:
  %
  \begin{align*}
    \Expect^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}[\GRewards]
    & =
    \lim_{n\to\infty} \sum^{n}_{i=0} \sum_{s' \in \sgnodes} \Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally^i s')\mult\fgen(i,n)\mult\reward(s') 
    \tag{by Lemma~\ref{lm:encoding:reach:and:expectation}.\ref{lm:encoding:reach:and:expectation:ii}}\\
    & =
    \lim_{n\to\infty} \sum^{n}_{i=0} \sum_{s' \in \sgnodes} \Prob^{\starredstrat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally^i s')\mult\fgen(i,n)\mult\reward(s') 
    \tag{by item~\ref{lm:xsemimarkov:ii}}\\
    & =
    \Expect^{\starredstrat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}[\GRewards]
    \tag{by Lemma~\ref{lm:encoding:reach:and:expectation}.\ref{lm:encoding:reach:and:expectation:ii}}
  \end{align*}

  \medskip
  
  Notice that the proof can be replicated mutatis mutandi with
  $\maxplay$ and $\minplay$ exchanged.  Therefore the last part of the
  lemma also holds.
  %
\qed
\end{proof}


\begin{proposition}\label{prop:StochGK:StochHK}
  Let $\StochGK$ and $\StochHK$ be respectively the interpretation and
  the extreme interpretation of $\StochK$. Then
  \begin{enumerate}
  \item\label{prop:StochGK:StochHK:i}%
    For every
    $\strat_\maxplay\in\XSemiMarkovStrats{\StochGK,\maxplay}$ and
    $\strat_\minplay\in\XSemiMarkovStrats{\StochGK,\minplay}$,
    \begin{enumerate*}
    \item\label{prop:StochGK:StochHK:i:a}%
      $\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally C) =
      \Prob^{\stratv_{\maxplay},\stratv_{\minplay}}_{\StochHK,s}(\Finally C)$,
      for all $C\subseteq\sgnodes$, and
    \item\label{prop:StochGK:StochHK:i:b}%
      $\Expect^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}[\GRewards] =
      \Expect^{\stratv_{\maxplay},\stratv_{\minplay}}_{\StochHK,s}[\GRewards]$; and
    \end{enumerate*}
  \item\label{prop:StochGK:StochHK:ii}%
    For every
    $\strat_\maxplay\in\SemiMarkovStrats{\StochHK,\maxplay}$ and
    $\strat_\minplay\in\SemiMarkovStrats{\StochHK,\minplay}$,
    \begin{enumerate*}
    \item\label{prop:StochGK:StochHK:ii:a}%
      $\Prob^{\stratx_{\maxplay},\stratx_{\minplay}}_{\StochGK,s}(\Finally C) =
      \Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochHK,s}(\Finally C)$,
      for all $C\subseteq\sgnodes$, and
    \item\label{prop:StochGK:StochHK:ii:b}%
      $\Expect^{\stratx_{\maxplay},\stratx_{\minplay}}_{\StochGK,s}[\GRewards] =
      \Expect^{\strat_{\maxplay},\strat_{\minplay}}_{\StochHK,s}[\GRewards]$.
    \end{enumerate*}
  \end{enumerate}
\end{proposition}


\begin{proof}[of Proposition~\ref{prop:StochGK:StochHK}]
  To prove item \ref{prop:StochGK:StochHK:i}, we first prove by
  induction that for all $n\geq0$ and $\hat{\rho}\in\sgnodes^{n+1}$,
  %
  \begin{equation}\label{eq:StochGK:StochHK:i:aux}
    \Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}) =
    \Prob^{\stratv_{\maxplay},\stratv_{\minplay},n}_{\StochHK,s}(\hat{\rho})
  \end{equation}

  The case $n=0$ is direct. For $n+1>0$, $\hat{\rho}\in\sgnodes^n$,
  $s'\in\sgnodes$ and $s''\in\sgnmax$ we calculate as follows
  %
  \begin{align}
    \Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s''s')
    & =
    \Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\int_{\sgactions}\sgtrans(s'',\cdot,s')\ \diff(\strat_{\maxplay}(\hat{\rho}s'')(\cdot))
    \label{eq:StochGK:StochHK:i:aux:i}\\
    & =
    \Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s'')\sum_{a\in\vertices(\enabled(s''))}\sgtrans(s'',a,s')\mult\strat_{\maxplay}(\hat{\rho}s'')(\{a\})
    \label{eq:StochGK:StochHK:i:aux:ii}\\
    & =
    \Prob^{\stratv_{\maxplay},\stratv_{\minplay},n}_{\StochHK,s}(\hat{\rho}s'')\sum_{a\in\enabled_\StochHK(s'')}\sgtrans_\StochHK(s'',a,s')\mult\stratv_{\maxplay}(\hat{\rho}s'')(\{a\})
    \label{eq:StochGK:StochHK:i:aux:iii}\\
    & =
    \Prob^{\stratv_{\maxplay},\stratv_{\minplay},n+1}_{\StochHK,s}(\hat{\rho}s''s')
    \label{eq:StochGK:StochHK:i:aux:iv}
  \end{align}
  %
  Step (\ref{eq:StochGK:StochHK:i:aux:i}) follows from definition of
  $\Prob^{\strat_{\maxplay},\strat_{\minplay},n+1}_{\StochGK,s}(\hat{\rho}s''s')$.
  %
  To obtain (\ref{eq:StochGK:StochHK:i:aux:ii}) we use the fact that
  the support set $\vertices(\enabled(s''))$ of
  $\strat_\maxplay(\hat{\rho}s'')$ is finite.
  %
  In (\ref{eq:StochGK:StochHK:i:aux:iii}) induction hypothesis is
  applied, together with the definitions of
  $\sgtrans_\StochHK(s'',a,s')$ and
  $\stratv_{\maxplay}(\hat{\rho}s'')(\{a\})$.
  %
  Finally, the definition of
  $\Prob^{\stratv_{\maxplay},\stratv_{\minplay},n+1}_{\StochHK,s}(\hat{\rho}s''s')$
  yields (\ref{eq:StochGK:StochHK:i:aux:iv}).
  
  The calculations follow similarly for the case of $s''\in\sgnmin$,
  which proves (\ref{eq:StochGK:StochHK:i:aux}).

  Now item \ref{prop:StochGK:StochHK:i:a} follows from the following
  calculations:
  %
  \begin{align}
    \Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally C)
    & =
    \sum_{n\geq0}\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}((\sgnodes\setminus C) \Until^n C)
    \label{eq:StochGK:StochHK:i:a:proof:i}\\
    & =
    \sum_{n\geq0}\sum_{s'\in C}\sum_{\hat{\rho}\in (\sgnodes\setminus C)^n}\Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochGK,s}(\hat{\rho}s')
    \label{eq:StochGK:StochHK:i:a:proof:ii}\\
    & =
    \sum_{n\geq0}\sum_{s'\in C}\sum_{\hat{\rho}\in (\sgnodes\setminus C)^n}\Prob^{\stratv_{\maxplay},\stratv_{\minplay},n}_{\StochHK,s}(\hat{\rho}s')
    \label{eq:StochGK:StochHK:i:a:proof:iii}\\
    & =
    \Prob^{\stratv_{\maxplay},\stratv_{\minplay}}_{\StochHK,s}(\Finally C)
    \label{eq:StochGK:StochHK:i:a:proof:iv}
  \end{align}
  %
  Equality~(\ref{eq:StochGK:StochHK:i:a:proof:i}) follows from the fact
  $((\sgnodes\setminus C) \Until^n C) \cap ((\sgnodes\setminus C) \Until^m C) = \emptyset$
  whenever $n\neq m$ and
  equality~(\ref{eq:StochGK:StochHK:i:a:proof:ii}), from the definition
  of
  $\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}((\sgnodes\setminus C) \Until^n C)$.
  The auxiliary result (\ref{eq:StochGK:StochHK:i:aux}) yields
  (\ref{eq:StochGK:StochHK:i:a:proof:iii}) and
  (\ref{eq:StochGK:StochHK:i:a:proof:iv}) follows as the previous steps
  in inverse direction.


  For item~\ref{prop:StochGK:StochHK:i:b}, we calculate as follows
  %
  \begin{align*}
    \Expect^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}[\GRewards]
    \hspace{-3em} &
    \\
    & =    
    \lim_{n\to\infty} \sum^{n}_{i=0}\sum_{s' \in \sgnodes} \Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally^i s')\mult\fgen(i,n)\mult\reward(s')
    \tag{by Lemma~\ref{lm:encoding:reach:and:expectation}.\ref{lm:encoding:reach:and:expectation:ii}}\\
    & =    
    \lim_{n\to\infty} \sum^{n}_{i=0}\sum_{s' \in \sgnodes}\sum_{\hat{\rho} \in \sgnodes^i} \Prob^{\strat_{\maxplay},\strat_{\minplay},i}_{\StochGK,s}(\hat{\rho}s')\mult\fgen(i,n)\mult\reward(s')
    \tag{by def. of $\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally^i s')$}\\
    & =    
    \lim_{n\to\infty} \sum^{n}_{i=0}\sum_{s' \in \sgnodes}\sum_{\hat{\rho} \in \sgnodes^i} \Prob^{\stratv_{\maxplay},\stratv_{\minplay},i}_{\StochGK,s}(\hat{\rho}s')\mult\fgen(i,n)\mult\reward(s')
    \tag{because of (\ref{eq:StochGK:StochHK:i:aux})}\\
    & =
    \lim_{n\to\infty} \sum^{n}_{i=0}\sum_{s' \in \sgnodes} \Prob^{\stratv_{\maxplay},\stratv_{\minplay}}_{\StochGK,s}(\Finally^i s')\mult\fgen(i,n)\mult\reward(s')
    \tag{by def. of $\Prob^{\stratv_{\maxplay},\stratv_{\minplay}}_{\StochGK,s}(\Finally^i s')$}\\
    & =
    \Expect^{\stratv_{\maxplay},\stratv_{\minplay}}_{\StochGK,s}[\GRewards]
    \tag{by Lemma~\ref{lm:encoding:reach:and:expectation}.\ref{lm:encoding:reach:and:expectation:ii}}
  \end{align*}

  To prove item \ref{prop:StochGK:StochHK:ii} we proceed similarly.
  Thus the proof boils down to show that for all $n\geq0$ and
  $\hat{\rho}\in\sgnodes^{n+1}$,
  $\Prob^{\stratx_{\maxplay},\stratx_{\minplay},n}_{\StochGK,s}(\hat{\rho})
  =
  \Prob^{\strat_{\maxplay},\strat_{\minplay},n}_{\StochHK,s}(\hat{\rho})$
  which can be done just like for (\ref{eq:StochGK:StochHK:i:aux}).
  %
  \qed
\end{proof}

\begin{proof}[of Proposition~\ref{prop:infsup:supinf:StochGK:StochHK}]
  Let $\strat_i\in\XSemiMarkovStrats{\StochGK,i}$.  Then, for all
  $\hat{\rho}\in\sgnodes^*$, $s\in\sgnodes$, and
  $A\in\Salg_\sgactions$,
  $\supx{(\stratv_i)}(\hat{\rho}s)(A)=\stratv_i(\hat{\rho}s)(A\cap\vertices(\sgactions))=\strat_i(\hat{\rho}s)(A\cap\vertices(\sgactions))=\strat_i(\hat{\rho}s)(A)$.
  All equalities follows from definitions except the last one that
  follows from the fact that $\strat_i$ is extreme.
  %
  Similarly, for $\strat_i\in\SemiMarkovStrats{\StochHK,i}$, and all
  $\hat{\rho}\in\sgnodes^*$, $s\in\sgnodes$, and
  $A\subseteq\vertices(\sgactions)$,
  $\supv{(\stratx_i)}(\hat{\rho}s)(A)=\stratx_i(\hat{\rho}s)(A)=\strat_i(\hat{\rho}s)(A\cap\vertices(\sgactions))=\strat_i(\hat{\rho}s)(A)$.
  Again, all equalities follows from definitions except the last one
  that follows from the fact that $A\subseteq\vertices(\sgactions)$.
  %
  From these observations, it follows that
  \begin{equation}\label{eq:observation:semimarkov:xsemimarkov}
    \SemiMarkovStrats{\StochHK,i}=\{\stratv_i\mid\strat_i\in\XSemiMarkovStrats{\StochGK,i}\}
    \text{ and }
    \XSemiMarkovStrats{\StochGK,i}=\{\stratx_i\mid\strat_i\in\SemiMarkovStrats{\StochHK,i}\}.
  \end{equation}
  %
  These equalities and Proposition~\ref{prop:StochGK:StochHK} leads to
  the result.
  %
  \qed
\end{proof}



\begin{proof}[Proof of Proposition~\ref{prop:stopping:irreducible:StochGK:StochHK}]
  For item~\ref{prop:stopping:irreducible:StochGK:StochHK:i} we have that
  \begin{align*}
    1
    & =
    \inf_{\strat_\minplay\in\Strategies{\StochGK,\minplay}}\inf_{\strat_\maxplay\in\Strategies{\StochGK,\maxplay}}\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally T)
    \tag{def. of stopping}\\
    & \leq
    \inf_{\strat_\minplay\in\XSemiMarkovStrats{\StochGK,\minplay}}\inf_{\strat_\maxplay\in\XSemiMarkovStrats{\StochGK,\maxplay}}\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally T)
    \tag{$\XSemiMarkovStrats{\StochGK,i}\subseteq\Strategies{\StochGK,\minplay}$}\\
    & =
    \inf_{\strat_\minplay\in\SemiMarkovStrats{\StochHK,\minplay}}\inf_{\strat_\maxplay\in\SemiMarkovStrats{\StochHK,\maxplay}}\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochHK,s}(\Finally T)
    \tag{by observation~(\ref{eq:observation:semimarkov:xsemimarkov})}\\
    & =
    \inf_{\strat_\minplay\in\Strategies{\StochHK,\minplay}}\inf_{\strat_\maxplay\in\Strategies{\StochHK,\maxplay}}\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochHK,s}(\Finally T)
  \end{align*}
  %
  Since $\StochHK$ is finite, the last step follows from standard
  results on MDP~\cite{Puterman94}.
  
  With a similar reasoning we obtain
  %
  $0 <
  \inf_{\strat_\minplay\in\Strategies{\StochGK,\minplay}}\inf_{\strat_\maxplay\in\Strategies{\StochGK,\maxplay}}\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally s')
  \leq
  \inf_{\strat_\minplay\in\Strategies{\StochHK,\minplay}}\inf_{\strat_\maxplay\in\Strategies{\StochHK,\maxplay}}\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochHK,s}(\Finally s')$,
  proving thus also item~\ref{prop:stopping:irreducible:StochGK:StochHK:ii}.
  \qed
\end{proof}




\begin{proof}[of Theorem~\ref{th:determinacy:and:discretazation}]
  For item \ref{th:determinacy:and:discretazation:i}, we calculate as
  follows:
  %
  \begin{align*}
    \inf_{\strat_\minplay\in\Strategies{\StochGK,\minplay}}\sup_{\strat_\maxplay\in\Strategies{\StochGK,\maxplay}}\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally C)
    \hspace{-8em} &
    \\
    & \leq
    \inf_{\strat_\minplay\in\SemiMarkovStrats{\StochGK,\minplay}}\sup_{\strat_\maxplay\in\Strategies{\StochGK,\maxplay}}\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally C)
    \tag{$\SemiMarkovStrats{\StochGK,\minplay}\subseteq\Strategies{\StochGK,\minplay}$}\\
    & =
    \inf_{\strat_\minplay\in\SemiMarkovStrats{\StochGK,\minplay}}\sup_{\strat_\maxplay\in\SemiMarkovStrats{\StochGK,\maxplay}}\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally C)
    \tag{by Lemma~\ref{lm:semimarkov}.\ref{lm:semimarkov:ii}}\\
    & =
    \inf_{\strat_\minplay\in\XSemiMarkovStrats{\StochGK,\minplay}}\sup_{\strat_\maxplay\in\XSemiMarkovStrats{\StochGK,\maxplay}}\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally C)
    \tag{by Corollary~\ref{cor:xsemimarkov}.\ref{cor:xsemimarkov:i}}\\
    & =
    \inf_{\strat_\minplay\in\SemiMarkovStrats{\StochHK,\minplay}}\sup_{\strat_\maxplay\in\SemiMarkovStrats{\StochHK,\maxplay}}\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochHK,s}(\Finally C)
    \tag{by Prop.~\ref{prop:infsup:supinf:StochGK:StochHK}.\ref{prop:infsup:supinf:StochGK:StochHK:i}}\\
    & \leq
    \inf_{\strat_\minplay\in\DetMemorylessStrats{\StochHK,\minplay}}\sup_{\strat_\maxplay\in\SemiMarkovStrats{\StochHK,\maxplay}}\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochHK,s}(\Finally C)
    \tag{$\DetMemorylessStrats{\StochHK,\minplay}\subseteq\SemiMarkovStrats{\StochHK,\minplay}$}\\
    & =
    \inf_{\strat_\minplay\in\DetMemorylessStrats{\StochHK,\minplay}}\sup_{\strat_\maxplay\in\DetMemorylessStrats{\StochHK,\maxplay}}\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochHK,s}(\Finally C)
    \tag{by Prop.~\ref{prop:mdp:results}.\ref{prop:mdp:results:i}}\\
    & =
    \sup_{\strat_\maxplay\in\DetMemorylessStrats{\StochHK,\maxplay}}\inf_{\strat_\minplay\in\DetMemorylessStrats{\StochHK,\minplay}}\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochHK,s}(\Finally C)
    \tag{by \cite[Lemma 6]{Condon92}}\\
    & =
    \sup_{\strat_\maxplay\in\DetMemorylessStrats{\StochHK,\maxplay}}\inf_{\strat_\minplay\in\SemiMarkovStrats{\StochHK,\minplay}}\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochHK,s}(\Finally C)
    \tag{by Prop.~\ref{prop:mdp:results}.\ref{prop:mdp:results:ii}}\\
    & \leq
    \sup_{\strat_\maxplay\in\SemiMarkovStrats{\StochHK,\maxplay}}\inf_{\strat_\minplay\in\SemiMarkovStrats{\StochHK,\minplay}}\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochHK,s}(\Finally C)
    \tag{$\DetMemorylessStrats{\StochHK,\maxplay}\subseteq\SemiMarkovStrats{\StochHK,\maxplay}$}\\
    & =
    \sup_{\strat_\maxplay\in\XSemiMarkovStrats{\StochGK,\maxplay}}\inf_{\strat_\minplay\in\XSemiMarkovStrats{\StochGK,\minplay}}\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally C)
    \tag{by Prop.~\ref{prop:infsup:supinf:StochGK:StochHK}.\ref{prop:infsup:supinf:StochGK:StochHK:ii}}\\
    & =
    \sup_{\strat_\maxplay\in\SemiMarkovStrats{\StochGK,\maxplay}}\inf_{\strat_\minplay\in\SemiMarkovStrats{\StochGK,\minplay}}\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally C)
    \tag{by Corollary~\ref{cor:xsemimarkov}.\ref{cor:xsemimarkov:i}}\\
    & =
    \sup_{\strat_\maxplay\in\SemiMarkovStrats{\StochGK,\maxplay}}\inf_{\strat_\minplay\in\Strategies{\StochGK,\minplay}}\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally C)
    \tag{by Lemma~\ref{lm:semimarkov}.\ref{lm:semimarkov:ii}}\\
    & \leq
    \sup_{\strat_\maxplay\in\Strategies{\StochGK,\maxplay}}\inf_{\strat_\minplay\in\Strategies{\StochGK,\minplay}}\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally C)
    \tag{$\SemiMarkovStrats{\StochGK,\maxplay}\subseteq\Strategies{\StochGK,\maxplay}$}\\
    & \leq
    \inf_{\strat_\minplay\in\Strategies{\StochGK,\minplay}}\sup_{\strat_\maxplay\in\Strategies{\StochGK,\maxplay}}\Prob^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\Finally C)
    \tag{by prop. of $\sup$ and $\inf$}
  \end{align*}
  %
  Since the last term is equal to the first term in the calculation,
  item~\ref{th:determinacy:and:discretazation:i} is concluded.

  For item~\ref{th:determinacy:and:discretazation:ii} we calculate as follows:
  %
  \begin{align*}
    \inf_{\strat_\minplay\in\Strategies{\StochGK,\minplay}}\sup_{\strat_\maxplay\in\Strategies{\StochGK,\maxplay}}\Expect^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\GRewards)
    \hspace{-8em} &
    \\
    & \leq
    \inf_{\strat_\minplay\in\SemiMarkovStrats{\StochGK,\minplay}}\sup_{\strat_\maxplay\in\Strategies{\StochGK,\maxplay}}\Expect^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\GRewards)
    \tag{$\SemiMarkovStrats{\StochGK,\minplay}\subseteq\Strategies{\StochGK,\minplay}$}\\
    & =
    \inf_{\strat_\minplay\in\SemiMarkovStrats{\StochGK,\minplay}}\sup_{\strat_\maxplay\in\SemiMarkovStrats{\StochGK,\maxplay}}\Expect^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\GRewards)
    \tag{by Lemma~\ref{lm:semimarkov}.\ref{lm:semimarkov:iii}}\\
    & =
    \inf_{\strat_\minplay\in\XSemiMarkovStrats{\StochGK,\minplay}}\sup_{\strat_\maxplay\in\XSemiMarkovStrats{\StochGK,\maxplay}}\Expect^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\GRewards)
    \tag{by Corollary~\ref{cor:xsemimarkov}.\ref{cor:xsemimarkov:ii}}\\
    & =
    \inf_{\strat_\minplay\in\SemiMarkovStrats{\StochHK,\minplay}}\sup_{\strat_\maxplay\in\SemiMarkovStrats{\StochHK,\maxplay}}\Expect^{\strat_{\maxplay},\strat_{\minplay}}_{\StochHK,s}(\GRewards)
    \tag{by Prop.~\ref{prop:infsup:supinf:StochGK:StochHK}.\ref{prop:infsup:supinf:StochGK:StochHK:iii}}\\
    & \leq
    \inf_{\strat_\minplay\in\DetMemorylessStrats{\StochHK,\minplay}}\sup_{\strat_\maxplay\in\SemiMarkovStrats{\StochHK,\maxplay}}\Expect^{\strat_{\maxplay},\strat_{\minplay}}_{\StochHK,s}(\GRewards)
    \tag{$\DetMemorylessStrats{\StochHK,\minplay}\subseteq\SemiMarkovStrats{\StochHK,\minplay}$}\\
    & =
    \inf_{\strat_\minplay\in\DetMemorylessStrats{\StochHK,\minplay}}\sup_{\strat_\maxplay\in\DetMemorylessStrats{\StochHK,\maxplay}}\Expect^{\strat_{\maxplay},\strat_{\minplay}}_{\StochHK,s}(\GRewards)
    \tag{by Prop.~\ref{prop:mdp:results}.\ref{prop:mdp:results:iii}}\\
    & =
    \sup_{\strat_\maxplay\in\DetMemorylessStrats{\StochHK,\maxplay}}\inf_{\strat_\minplay\in\DetMemorylessStrats{\StochHK,\minplay}}\Expect^{\strat_{\maxplay},\strat_{\minplay}}_{\StochHK,s}(\GRewards)
    \tag{*}\\
    & =
    \sup_{\strat_\maxplay\in\DetMemorylessStrats{\StochHK,\maxplay}}\inf_{\strat_\minplay\in\SemiMarkovStrats{\StochHK,\minplay}}\Expect^{\strat_{\maxplay},\strat_{\minplay}}_{\StochHK,s}(\GRewards)
    \tag{by Prop.~\ref{prop:mdp:results}.\ref{prop:mdp:results:iv}}\\
    & \leq
    \sup_{\strat_\maxplay\in\SemiMarkovStrats{\StochHK,\maxplay}}\inf_{\strat_\minplay\in\SemiMarkovStrats{\StochHK,\minplay}}\Expect^{\strat_{\maxplay},\strat_{\minplay}}_{\StochHK,s}(\GRewards)
    \tag{$\DetMemorylessStrats{\StochHK,\maxplay}\subseteq\SemiMarkovStrats{\StochHK,\maxplay}$}\\
    & =
    \sup_{\strat_\maxplay\in\XSemiMarkovStrats{\StochGK,\maxplay}}\inf_{\strat_\minplay\in\XSemiMarkovStrats{\StochGK,\minplay}}\Expect^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\GRewards)
    \tag{by Prop.~\ref{prop:infsup:supinf:StochGK:StochHK}.\ref{prop:infsup:supinf:StochGK:StochHK:iv}}\\
    & =
    \sup_{\strat_\maxplay\in\SemiMarkovStrats{\StochGK,\maxplay}}\inf_{\strat_\minplay\in\SemiMarkovStrats{\StochGK,\minplay}}\Expect^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\GRewards)
    \tag{by Corollary~\ref{cor:xsemimarkov}.\ref{cor:xsemimarkov:ii}}\\
    & =
    \sup_{\strat_\maxplay\in\SemiMarkovStrats{\StochGK,\maxplay}}\inf_{\strat_\minplay\in\Strategies{\StochGK,\minplay}}\Expect^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\GRewards)
    \tag{by Lemma~\ref{lm:semimarkov}.\ref{lm:semimarkov:iii}}\\
    & 
    \leq
    \sup_{\strat_\maxplay\in\Strategies{\StochGK,\maxplay}}\inf_{\strat_\minplay\in\Strategies{\StochGK,\minplay}}\Expect^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\GRewards)
    \tag{$\SemiMarkovStrats{\StochGK,\maxplay}\subseteq\Strategies{\StochGK,\maxplay}$}\\
    & \leq
    \inf_{\strat_\minplay\in\Strategies{\StochGK,\minplay}}\sup_{\strat_\maxplay\in\Strategies{\StochGK,\maxplay}}\Expect^{\strat_{\maxplay},\strat_{\minplay}}_{\StochGK,s}(\GRewards)
    \tag{by prop. of $\sup$ and $\inf$}
  \end{align*}
  %
  Since the last term is equal to the first term in the calculation,
  item~\ref{th:determinacy:and:discretazation:ii} is concluded.
  %
  In particular, step (*) is justified as follows, depending on
  $\GRewards$:
  %
  \begin{itemize}
  \item%
    For $\GRewards=\TRewards$, (*) follows by
    \cite[Theorem~4.2.6]{FilarV96} since, by
    Proposition~\ref{prop:stopping:irreducible:StochGK:StochHK}.\ref{prop:stopping:irreducible:StochGK:StochHK:i},
    the game $\StochHK$ is also almost surely stopping.
  \item%
    For $\GRewards=\DRewards{\gamma}$ (*) follows by
    \cite[Theorem~4.3.2]{FilarV96}.
  \item%
    For $\GRewards=\ARewards$ (*) follows by
    \cite[Theorem~5.1.5]{FilarV96} since, by
    Proposition~\ref{prop:stopping:irreducible:StochGK:StochHK}.\ref{prop:stopping:irreducible:StochGK:StochHK:ii},
    the game $\StochHK$ is also irreducible.
  \qed
  \end{itemize}
  %
\end{proof}
