\section{Implementation Detail of Hypothesis Prefix and Context Query}
\label{app:prefix}
\begin{figure}[h!]
    \centering
    %\vspace{-1.1cm}
    \includegraphics[width = 0.75\textwidth]{fig/framework.pdf}
    %\vspace{-0.2cm}
    \caption{\textbf{The framework.} We convert hypothesis class $\mathcal{H}$ and ICL sequence $\SK$ into sequences of tokens, concatenate them and input to Transformer.
    Then we examine whether Transformer can predict correct $y$ and $z$ values.}
    \label{fig:frameworkfull}
    %\vspace{-0.3cm}
\end{figure}
\paragraph{Hypothesis prefix}
\label{def:HypothesisPrefixFull}
Given a hypothesis class $\mathcal{H}$ and its hypothesis table, the correspongding hypothesis prefix with hypothesis prefix's content length $L$ is constructed as shown in Fig.~\ref{fig:frameworkfull}.
The token ``\textcolor[RGB]{78,149,217}{P}'' serves as the padding token to separate hypotheses,
the token ``\textcolor[RGB]{216,110,204}{;}'' serves as the separation token to separate $(x,y)$ pairs,
the token ``\textcolor[RGB]{127,127,127}{N}'' serves as the empty token to fill a blank hypothesis,
and the token ``\textcolor[RGB]{192,79,21}{\textgreater}'' is used to connect $(x,y)$ pairs of the hypothesis to a randomly assigned hypothesis index \hz\footnote{We use variable $z$ to represent the hypothesis index.}.
In the illustrated example in Fig.~\ref{fig:frameworkfull}, the randomly assigned indexes {\hz}'s are sampled from $M=4$ hypothesis index tokens \{``\textcolor[RGB]{0,176,80}{A}'',``\textcolor[RGB]{0,176,80}{B}'',``\textcolor[RGB]{0,176,80}{C}'',``\textcolor[RGB]{0,176,80}{D}''\} without replacement\footnote{A set of $L$ hypothesis index tokens are created serve as the pool from which the hypothesis indexes are randomly sampled without replacement.}.

\paragraph{Context query}
Given an ICL sequence $\SK$ with $K$ pairs of $(x,y)$, the context query of size $K$ is constructed to represent the ICL sequence and trigger the prediction of the hypothesis index with padding token ``\textcolor[RGB]{78,149,217}{P}'', separation token token ``\textcolor[RGB]{216,110,204}{;}'', and query token ``\textcolor[RGB]{192,79,21}{\textgreater}'' as shown in Fig.~\ref{fig:frameworkfull}.