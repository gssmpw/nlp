\begin{figure*}[t]
\centering
%
%--- (a) Insurance Analysis ---
%
\begin{subfigure}{0.3\textwidth}
\centering
\begin{tikzpicture}[node distance=1.2cm,>=stealth,auto,
                    scale=0.8,transform shape]

\node[blockHR] (helper)
  {\begin{tabular}{c}
   helper\\rules
   \end{tabular}};
\node[blockCOV, right=.3cm of helper] (coverage)
  {\begin{tabular}{c}
   coverage\\rule
   \end{tabular}};
\node[blockD,   below=of coverage] (decision) {\begin{tabular}{c}
   coverage\\decision
   \end{tabular}};
\node[blockCLM, above=of coverage] (claim)   {claim};

\draw[->] (helper) -- (coverage);
\draw[->] (claim)  -- (coverage);
\draw[->] (coverage) -- (decision);

\end{tikzpicture}
\caption{Insurance Analyst Functionality}
\label{fig:insurance-analyst-functionality}
\end{subfigure}
\hfill
%
%--- (b) Automated Coverage Generation ---
%
\begin{subfigure}{0.3\textwidth}
\centering
\begin{tikzpicture}[node distance=1.2cm,>=stealth,auto,
                    scale=0.8,transform shape]

\node[blockLLM] (llm) {LLM};

\node[blockGRY, above left=1.2cm and 0.6cm of llm] (nlc)
  {\begin{tabular}{c}
   natural\\language\\
   coverage
   \end{tabular}};
\node[blockCLM, above=1.2cm of llm] (valid)
  {\begin{tabular}{c}
   valid\\claim\\
   doc
   \end{tabular}};
\node[blockHR, above right=1.2cm and 0.6cm of llm] (hrdoc)
  {\begin{tabular}{c}
   helper\\rules\\
   doc
   \end{tabular}};

\node[blockCOV, below=of llm] (genCov)
  {\begin{tabular}{c}
   generated\\
   coverage rule
   \end{tabular}};

\draw[->] (nlc)   -- (llm);
\draw[->] (valid) -- (llm);
\draw[->] (hrdoc) -- (llm);
\draw[->] (llm)   -- (genCov);

\end{tikzpicture}
\caption{LLM Coverage Rule Generation}
\label{fig:llm-coverage-rule-generation}
\end{subfigure}
\hfill
%
%--- (c) Coverage Rule Testing ---
%
\begin{subfigure}{0.3\textwidth}
\centering
\begin{tikzpicture}[node distance=1.2cm,>=stealth,auto,
                    scale=0.8,transform shape]

\node[blockCLM] (testclaim)
  {\begin{tabular}{c}
   test\\
   claim
   \end{tabular}};
\node[blockCOV, below=of testclaim] (genCov)
  {\begin{tabular}{c}
   generated\\
   coverage rule
   \end{tabular}};
\node[blockHR, left=.4cm of genCov] (helper)
  {\begin{tabular}{c}
   helper\\
   rules
   \end{tabular}};
\node[blockD, below=of genCov] (decision)
{\begin{tabular}{c}
   coverage\\decision
   \end{tabular}};
\node[blockD, left=.5cm of decision]
  (correct) {\begin{tabular}{c}true\\decision\end{tabular}};

\draw[->] (testclaim) -- (genCov);
\draw[->] (helper)    -- (genCov);
\draw[->] (genCov)    -- (decision);
\draw[draw opacity=0]
  (decision.west) -- (correct.east)
  node[midway, anchor=center, yshift=.05ex] {$\stackrel{?}{=}$};

\end{tikzpicture}
\caption{Generated Coverage Rule Testing}
\label{fig:generated-coverage-rule-testing}
\end{subfigure}

\caption{Experimental overview:
  (a)~Functionality of the CodeX Insurance Analyst coverage rules.
  (b)~The LLM is prompted to generate its own version of the coverage rule given the text of the coverage and documentation of the valid claims and helper rules it can call.
  (c)~The LLM's generated coverage rule is tested by passing it test claims and determining if the correct coverage decisions were made.}
\label{fig:guided_procedure}
\end{figure*}