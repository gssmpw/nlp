\subsection{Generalized Norm Objectives}
\label{sec:generalized-mean}
We begin by introducing~\pmeanECC{}, which we define via the following binary program:
\begin{align}
	\label{eq:p-mean-ecc}
\begin{aligned}
	\text{min} \quad& \textstyle (\sum_{c = 1}^k (m_c)^p)^{\frac{1}{p}} \\
	\text{s.t.} \quad& \forall v \in V:\\
	&\forall c \in [k], e \in E_c:\\
    &\forall c \in [k]: \\
	&d_v^c, \gamma_e \in \{0, 1\}
\end{aligned}
\begin{aligned}
	&\\
	&\textstyle \sum_{c=1}^k d_v^c \geq k - 1 \\
	\quad &d_v^c \leq \gamma_e \quad \forall v \in e \\
    & m_c = \textstyle\sum_{e\in E_c}\gamma_e\\
	&\forall c \in [k], v \in V, e \in E.
\end{aligned}
\end{align}
Recalling the notation of BLP~\eqref{eq:maxecc}, we think of $d_v^c = 1 - x_v^c$ as encoding the ``distance'' of node $v$ to color $c$, and $\gamma_e = 1 - z_e$ as encoding whether hyperedge $e$ is \emph{unsatisfied} ($\gamma_e = 1$) or not ($\gamma_e = 0$).
The variables $m_c$ can be thought of as the entries in a per-color error vector $\textbf{m} \in \mathbb{Z}^k$ which tracks the number of unsatisfied edges of each color.
Otherwise, the variables and constraints are similar to BLP~\eqref{eq:maxecc}, adapted for the minimization objective. 
When $p = 1$, we recover the standard \minecc{} problem, i.e., the $\ell_1$-norm on $\textbf{m}$.
We now show how to approximate the generalized \pmeanECC{} problem.
For $p \geq 1$, if we relax the binary constraints to linear constraints $0 \leq d_v^c \leq 1$ and $0 \leq \gamma_e \leq 1$, we obtain a convex programming relaxation. We can then apply convex optimization techniques to find the optimal solution to this relaxation and round the resulting fractional coloring.
The rounding scheme is similar to that used for \minecc{}~\cite{amburg2020clustering}.
In particular, given a fractional coloring consisting of optimal variables $\{d_v^c\}$, we assign color $c$ to vertex $v$ if and only if $d_v^c < \frac{1}{2}$.
We show that the resulting coloring is well-defined and a $2$-approximation to the generalized objective.
When $0 < p < 1$ we lose convexity, but we can still recover approximations; we give a classic analysis based on the Lov{\'a}sz extension~\cite{lovasz1983submodular}.
Some readers may find it helpful to observe that our analysis is conceptually equivalent to the textbook $2$-approximation for \textsc{Submodular Vertex Cover}\footnote{Given a graph $G = (V, E)$ and a submodular function $f\colon 2^V \rightarrow \mathbb{R}_{\geq 0}$, find a vertex cover $C$ of $G$ which minimizes $f(C)$.}, where the graph in question is the \emph{conflict graph} $G$ of our edge-colored hypergraph $H$: for each hyperedge $e$ create a vertex $v_e$, and add the edge $(v_e,v_f)$ for each pair $e, f$ of hyperedges with $\ell(e) \neq \ell(f)$ and $e \cap f \neq \emptyset$.
The connection between vertex colorings of edge-colored hypergraphs and vertex covers of their associated conflict graphs has been observed several times in the literature~\cite{angel2016clustering,cai2018alternating,kellerhals2023parameterized,veldt2023optimal}, and also appears elsewhere in the present work, e.g., in the proofs of~\Cref{thm:cfminecc-reduce-sparse-vc,thm-combinatorial-k-approx,thm:pc-multiple-classes-NP-hard}.
% Algorithm
\begin{restatable}{theorem}{pmeanapproximation}\label{thm:pmean-approximation}
    \pmeanECC{} is approximable within factor $2$ when $p \geq 1$, and factor $2^{1/p}$ when $0 < p < 1$.
\end{restatable}
\begin{proof}

    We begin with the case where $p \geq 1$.
    It is well known that the $\ell_p$-norm is convex, and we observe that all of the constraints
    in Program~(\ref{eq:p-mean-ecc}) are linear. Thus, we may in polynomial time obtain optimal fractional variables $\{d_v^c\}, \{\gamma_e\}, \{m_c\}$
    for the relaxation of Program~(\ref{eq:p-mean-ecc}).

    We observe that for each vertex $v$, there is at most one color $c$ with the property that $d_v^c < \frac{1}{2}$.
    Otherwise, there are two colors $c_1, c_2$ with $d_v^{c_1}, d_v^{c_2} < \frac{1}{2}$, but then
    \[
        \sum_{c=1}^k d_v^c < 2\cdot\frac{1}{2} + (k - 2) = k - 1,
    \]
    contradicting the first constraint of Program~(\ref{eq:p-mean-ecc}).

    We now propose a coloring $\lambda$ as follows. For each color $c$ and vertex $v$, we assign $\lambda(v) = c$ if $d_v^c < \frac{1}{2}$.
    By the preceding observation, this procedure assigns at most one color to each vertex.
    If for any $v$ we have that $d_v^c \geq \frac{1}{2}$ for all colors $c$, then we set $\lambda(v)$ arbitrarily.

    Now, for each hyperedge $e$ let $\hat{\gamma}_e$ be equal to $0$ if $\lambda(v) = \ell(e)$ for all $v \in e$, or $1$ otherwise.
    We claim that if $\hat{\gamma}_e = 1$, then $\gamma_e \geq \frac{1}{2}$.
    Otherwise, letting $c = \ell(e)$, the second constraint of Program~(\ref{eq:p-mean-ecc}) implies that $d_v^c < \frac{1}{2}$ for all $v \in e$.
    Then $\lambda(v) = c$ for all $v \in e$, implying that $\hat{\gamma}_e = 0$, a contradiction.
    We conclude that for every hyperedge $e$, $\hat{\gamma}_e \leq 2\gamma_e$.

    For each color $c$, we write $\hat{m}_c$ for the number of hyperedges of color $c$ which are unsatisfied by $\lambda$.
    Equivalently,
    \[
        \hat{m}_c = \sum_{e \in E_c} \hat{\gamma}_e \leq 2\sum_{e \in E_c} \gamma_e = 2m_c,
    \]
    where the last equality comes from the third constraint of Program~\ref{eq:p-mean-ecc}.

    It follows that for every $c$, $\hat{m}_c^p \leq 2^pm_c^p$, and thus
    \[
        \sum_{c=1}^k \hat{m}_c^p \leq 2^p \cdot \sum_{c=1}^k m_c^p,
    \]

    which in turn implies that

    \[
        \left(\sum_{c=1}^k \hat{m}_c^p\right)^{1/p} \leq 2 \cdot \left(\sum_{c=1}^k m_c^p\right)^{1/p},
    \]

    so $\lambda$ is $2$-approximate.

    We now consider the case where $0 < p < 1$.
    We begin by defining, for each $c \in [k]$, a non-negative, monotone, and submodular function $f_c\colon 2^E \rightarrow \mathbb{Z}$ given by $f_c(S) = |E_c \cap S|$.
    If $\lambda$ is a vertex coloring of $H$ and $S_\lambda \subseteq E$ is the set of edges unsatisfied by $\lambda$, then $f_c(S_\lambda)$ measures the number of edges of color $c$ unsatisfied by $\lambda$.
    Because the composition of a concave function with a submodular function results in a submodular function and $0 < p < 1$, $f_c^p$ is non-negative, monotone, and submodular.
    Then the function $f\colon 2^E \rightarrow \mathbb{R}$ given by the sum
    \[
        f(S) = \sum_{c=1}^{k} f_c^p(S)
    \]
    has these same properties.

    Now, let $\lambda^*$ be an optimal vertex coloring of $H$ and let $S_{\lambda^*}$ be the set of hyperedges unsatisfied by $\lambda^*$.
    Our goal will be to compute a coloring $\lambda$ with $f(S_\lambda) \leq 2f(S_{\lambda^*})$.
    This would complete the proof, since then we have
    \[
        (f(S_\lambda))^{1/p} \leq (2f(S_{\lambda^*}))^{1/p} = 2^{1/p}f^{1/p}(S_{\lambda^*}),
    \]
    and $f^{1/p}(S_{\lambda}), f^{1/p}(S_{\lambda^*})$ are precisely the objective values attained by $\lambda$ and $\lambda^*$, respectively, according to Program~(\ref{eq:p-mean-ecc}).

%    We give a classic analysis based on the Lov{\'a}sz extension~\cite{lovasz1983submodular}.
%    Some readers may find it helpful to observe that the following is conceptually equivalent to the textbook $2$-approximation for \textsc{Submodular Vertex Cover}, where the graph in question is the \emph{conflict graph} $G$ of our edge-colored hypergraph $H$: for each hyperedge $e$ create a vertex $v_e$, and add the edge $v_ev_f$ for each pair $e, f$ of hyperedges with $\ell(e) \neq \ell(f)$ and $e \cap f \neq \emptyset$.
%    The connection between vertex colorings of edge-colored hypergraphs and vertex covers of their associated conflict graphs has been observed several times in the literature~\cite{angel2016clustering,cai2018alternating,kellerhals2023parameterized,veldt2023optimal}, and also appears elsewhere in the present work, e.g., in the proofs of~\Cref{thm:cfminecc-reduce-sparse-vc,thm-combinatorial-k-approx,thm:pc-multiple-classes-NP-hard}.

    Impose an arbitrary order on the edges $E$ of our edge-colored hypergraph $H$, and for each vector $\boldsymbol{\gamma} \in [0, 1]^{|E|}$ map edges to components of $\boldsymbol{\gamma}$ according to this order.
    Henceforth, for a hyperedge $e$ we write $\gamma_e$ for the component of $\boldsymbol{\gamma}$ corresponding to $e$. Moreover, for a
    value $\rho$ selected uniformly at random from $[0, 1]$, we write $T_\rho(\boldsymbol{\gamma}) = \{e \colon \gamma_e \geq \rho\}$.
    Then the Lov{\'a}sz extension $\hat{f}\colon [0, 1]^{|E|} \rightarrow \mathbb{R}$ of $f$ is given by
    \[
        \hat{f}(\boldsymbol{\gamma}) = \mathbb{E}[f(T_\rho(\boldsymbol{\gamma}))].
    \]
    This $\hat{f}$ is convex~\cite{lovasz1983submodular}, so we may efficiently optimize the following program:
    %
    \begin{align}
        \label{eq:lovasz}
        \begin{aligned}
            \text{min} \quad  & \hat{f}(\gamma)                 \\
            \text{s.t.} \quad & \gamma_e + \gamma_f \geq 1\quad \\
                              & \gamma_e \geq 0                 \\
        \end{aligned}
        \begin{aligned}
             &                                                                                                         \\
             & \text{for all } e, f \in E \text{ such that } e \cap f \neq \emptyset \text{ and } \ell(e) \neq \ell(f) \\
             & \text{for all } e \in E.
        \end{aligned}
    \end{align}
    Consider the binary vector given by $\gamma_e = 1$ if $e \in S_{\lambda_*}$ or $0$ otherwise; note that this vector satisfies the constraints of Program~(\ref{eq:lovasz}). Hence, we can see that the minimum value for Program~(\ref{eq:lovasz}) provides a lower bound on $f(S_{\lambda_*})$.

    Let $\boldsymbol{\gamma}$ be a minimizer of Program~(\ref{eq:lovasz}), and let
    \[
        S = \left\{e \in E \colon \gamma_e \geq \frac{1}{2}\right\}.
    \]
    The first constraint of Program~\ref{eq:lovasz} ensures that $S$ contains at least one member of every pair of overlapping and distinctly colored hyperedges.
    Thus, it is trivial to compute a coloring $\lambda$ with $S_\lambda \subseteq S$.
    It follows from monotonicity that $f(S_\lambda) \leq f(S)$, and that for each $\rho \leq \frac{1}{2}$, $f(S) \leq f(T_\rho(\boldsymbol{\gamma}))$.
    Putting it all together, we have

    \[
        \frac{f(S_\lambda)}{2} \leq \frac{f(S)}{2} = \int_{0}^{\frac{1}{2}} f(S) \ \mathrm{d}\rho \leq \int_{0}^{\frac{1}{2}} f(T_\rho(\boldsymbol{\gamma})) \ \mathrm{d}\rho \leq \int_{0}^{1} f(T_\rho(\boldsymbol{\gamma})) \ \mathrm{d}\rho = \hat{f}(\boldsymbol{\gamma}) \leq f(S_{\lambda^*}),
    \]
    which completes the proof.

\end{proof}


As $p$ increases, the $\ell_p$-norm on $\textbf{m}$ converges to the maximum component value in $\textbf{m}$. 
Thus, for $p \rightarrow \infty$ we recover a mini-max variant of \ECC{}, for which the objective is to minimize the maximum number of unsatisfied edges of any color.
We will discuss this variant in more detail in~\Cref{sec:color-fair}, but first we pause to note that this convergence of the $\ell_p$ objective
implies that we cannot hope to obtain a better-than $2$-approximation by rounding fractional solutions to Program~(\ref{eq:p-mean-ecc}).
We need only consider a triangle on three vertices $v_1, v_2, v_3$ with distinct edge colors $c_{12}, c_{23}, c_{13}$. The optimal mini-max objective value is $1$, but
a fractional relaxation of Program~(\ref{eq:p-mean-ecc})
can achieve an objective value of $\frac{1}{2}$ by setting $d_{v_1}^{c_{12}} = d_{v_1}^{c_{13}} = d_{v_2}^{c_{12}} = d_{v_1}^{c_{23}} = d_{v_3}^{c_{13}} = d_{v_3}^{c_{23}} = \frac{1}{2}$.
%\vspace{4pt}
% Integrality gap

\begin{restatable}{theorem}{pmeanintegralitygap}
    As $p \rightarrow \infty$, the integrality gap of Program~(\ref{eq:p-mean-ecc}) converges to $2$. 
\end{restatable}
