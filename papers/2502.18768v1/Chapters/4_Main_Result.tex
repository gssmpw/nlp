% In this section, we first outline the assumptions and preliminaries used to ensure semi-global practical asymptotic stability of $\mathcal{H}_1$, and we will then present the conditions that guarantee UGAS and UGES of $\mathcal{H}_1$.

This section presents the main results that provide the framework for emulation design. The first step is to design a controller that making the reduced system and boundary-layer system robust with respect to network induced error by satisfying \eqref{eqn: NCS Vs flow} and \eqref{eqn: NCS Vf flow} in Assumptions \ref{Assumption reduced model} and \ref{Assumption boundary layer system}, respectively. Next, we select UGAS protocols for slow and fast transmissions and verify the growth conditions on error dynamics, i.e., \eqref{eqn: NCS Ws dot} and \eqref{eqn: NCS Wf dot} in Assumptions \ref{Assumption reduced model} and \ref{Assumption boundary layer system}. Then, by checking interconnection condition during flow (Assumption \ref{Assumption interconnection}) and at slow transmissions (Assumption \ref{Assumption Vf at slow transmission}), as well as a mild assumption, we guarantee semi-global practical asymptotic stability given $\tau_{\text{mati}}^s$, $\tau_{\text{mati}}^f$ and $\epsilon$ are sufficiently small.
Finally, we present additional conditions that guarantee UGAS and UGES of $\mathcal{H}_1$ in section \ref{Section UGES and UGAS}.




%
%
\subsection{Semi-global practical asymptotic stability}
Assumptions \ref{Assumption reduced model} and \ref{Assumption boundary layer system} below provide sufficient conditions to guarantee asymptotic stability properties for $\mathcal{H}_r$ and $\mathcal{H}_{bl}$, respectively, which align with those commonly encountered in the NCS literature, see \cite{carnevale_stability,SPNCS}.
%
\begin{assum}
 There exist a function $W_s: \mathbb{Z}_{\geq 0}\times \mathbb{R}^{n_{e_s}} \to \mathbb{R}_{\geq 0}$ that is locally Lipschitz in its second argument uniformly in its first argument, a continuous function $H_s : \mathbb{R}^{n_x}\times\mathbb{R}^{n_{e_s}} \rightarrow \mathbb{R}_{\geq 0} $, $\mathcal{K}_{\infty}$-functions $ \underline{\alpha}_{W_s},\overline{\alpha }_{W_s}  $, constants $\lambda_s \in [0,1)$ and $ L_s \geq 0$ such that, for all $ \kappa_s \in \mathbb{Z}_{\geq 0}$ and $e_s \in \mathbb{R}^{n_{e_s}}$, the following properties hold:
\begin{align}
    \underline{\alpha}_{W_s}\left(\left|  {e_s}  \right|\right) \leq {W_s}(k_s, {e_s}) \leq \overline{\alpha }_{W_s}\left(\left|   {e_s}  \right|\right) ,\label{eqn: NCS assumption Ws sandwich bound}
    \\
    {W_s}(\kappa_s + 1, h_s(\kappa_s, e_s)) \leq \lambda_s {W_s}(\kappa_s, {e_s}). \label{eqn: NCS assumption Ws jump}
\end{align}
For all $x \in \mathbb{R}^{n_x}, \kappa_s \in \mathbb{Z}_{\geq 0}$ and almost all ${e_s} \in \mathbb{R}^{n_{e_s}}$,
% \begin{equation}
%     \begin{aligned}
%     &\left< \tfrac{\partial {W_s}(\kappa_s,{e_s})}{\partial {e_s}}, f_{e_s}(x,\overline{H}(x,e_s),e_s, 0)\right> \
%     \\
%     & \phantom{aaaaaaaaaaaaaaa}   \leq  L_s {W_s}(\kappa_s, e_s)  + H_s(x,e_s).
%     \end{aligned}
%     \label{eqn: NCS Ws dot}
% \end{equation} 
\begin{multline}
    \left< \tfrac{\partial {W_s}(\kappa_s,{e_s})}{\partial {e_s}}, f_{e_s}(x,\overline{H}(x,e_s),e_s, 0)\right> \
    \\
    \phantom{aaaaaaaaaaaaaaa}   \leq  L_s {W_s}(\kappa_s, e_s)  + H_s(x,e_s).
    \label{eqn: NCS Ws dot}
\end{multline}
%
Moreover, there exist a locally Lipschitz, positive definite and radially unbounded function ${V_s}: \mathbb{R}^{n_x} \to \mathbb{R}_{\geq 0}$, positive definite function $\rho_s $, and real number $\gamma_s > 0$, such that for all $e_s \in \mathbb{R}^{n_{e_s}}$, all $\kappa_s \in \mathbb{Z}_{\geq 0}$, and almost all $x\in \mathbb{R}^{n_x}$, the following inequality holds
\begin{multline}
    \left< \tfrac{\partial {V_s}(x)}{\partial x},f_x(x,\overline{H}(x,e_s),e_s, 0) \right> \leq - \rho_s(|x|) 
    \\
     - \rho_s\left(W_s(\kappa_s, e_s)\right) - H_s^2(x,e_s) + \gamma_s^2 W_s^2(\kappa_s, e_s). 
    \label{eqn: NCS Vs flow}
\end{multline}
\label{Assumption reduced model}
\end{assum}
\vspace{-0.5cm}
%
\begin{assum}
There exist a function ${W_f}: \mathbb{Z}_{\geq 0}\times \mathbb{R}^{n_{e_f}} \to \mathbb{R}_{\geq 0}$ that is locally Lipschitz in its second argument uniformly in its first argument, a continuous function $H_f : \mathbb{R}^{n_x}\times\mathbb{R}^{n_{e_f}} \rightarrow \mathbb{R}_{\geq 0} $, $\mathcal{K}_{\infty}$-functions $ \underline{\alpha}_{W_f},\overline{\alpha }_{W_f}  $, constants $\lambda_f \in [0,1)$ and $ L_f \geq 0$ such that, for all $ \kappa_f \in \mathbb{Z}_{\geq 0}$ and $e_f \in \mathbb{R}^{n_{e_f}}$, the following properties hold:
\begin{align}
   \underline{\alpha}_{W_f}\left(\left|  {e_f}  \right|\right) \leq {W_f}(k_f, {e_f}) \leq \overline{\alpha }_{W_f}\left(\left|   {e_f}  \right|\right) ,\label{eqn: NCS assumption Wf sandwich bound}
    \\
    {W_f}(\kappa_f + 1, h_f(\kappa_f, e_f)) \leq \lambda_f {W_f}(\kappa_f, {e_f}). \label{eqn: NCS assumption Wf jump}
\end{align}
For all $x \in \mathbb{R}^{n_x}, \kappa_f \in \mathbb{Z}_{\geq 0}$ and almost all ${e_f} \in \mathbb{R}^{n_{e_f}}$,
\begin{multline}
   \left< \tfrac{\partial {W_f}(\kappa_f,{e_f})}{\partial {e_f}}, g_{e_f}(x,y+  \overline{H}(x, e_s),e_s,e_f, 0)\right>
    \\
     \leq  L_f {W_f}(\kappa_f, e_f) + H_f(y,e_f).
    \label{eqn: NCS Wf dot}
\end{multline}  
%
Moreover, there exist a locally Lipschitz function ${V_f}: \mathbb{R}^{n_x}\times \mathbb{R}^{n_z} \to \mathbb{R}_{\geq 0}$, $\mathcal{K}_\infty$-functions $\underline{\alpha}_{V_f}$, $\overline{\alpha}_{V_f}$, such that for all $x \in \mathbb{R}^{n_x}$ and $y\in \mathbb{R}^{n_z}$, the following inequality holds. 
\begin{equation}
    \underline{\alpha}_{V_f}\left(\left|  y \right|\right) \leq {V_f}(x, y) \leq \overline{\alpha }_{V_f}\left(\left|   y  \right|\right). \label{eqn: Vf sandwich bound}
\end{equation}
At the same time, there exist positive definite function $\rho_f $, and real number $\gamma_f > 0$ such that for all $e_s \in \mathbb{R}^{n_{e_s}}$, $e_f \in \mathbb{R}^{n_{e_f}}$, all $\kappa_f \in \mathbb{Z}_{\geq 0}$, all $x\in \mathbb{R}^{n_x}$, and almost all $y\in \mathbb{R}^{n_z}$, the following inequality holds.
%
\begin{multline}
        \left< \tfrac{\partial {V_f}(x,y)}{\partial y},g_z(x,y+ \overline{H}(x, e_s),e_s,e_f)  \right>\leq - \rho_f(|y|) 
            \\
             - \rho_f\left(W_f(\kappa_f, e_f)\right) - H_f^2(y,e_f) 
             + \gamma_f^2 W_f^2(\kappa_f,e_f). \!\!\!\!
             \label{eqn: NCS Vf flow}
\end{multline}
\vspace{-0.5cm}
\label{Assumption boundary layer system}
\end{assum}
\vspace{-0.5cm}
In Assumption \ref{Assumption reduced model} (similarly with Assumption \ref{Assumption boundary layer system}), conditions (\ref{eqn: NCS assumption Ws sandwich bound}) and (\ref{eqn: NCS assumption Ws jump}) relate to UGAS protocols and are satisfied by sampled-data systems and NCSs with RR, TOD, etc; for more details, see \cite{dragan_stability}. Inequality \eqref{eqn: NCS Ws dot} bounds the growth of $e_s$ during flow, and (\ref{eqn: NCS Vs flow}) relates to the $\mathcal{L}_2$-stability of $\mathcal{H}_r$ from $W_s$ to $H_s$, which is typically ensured at the first stage of emulation.
%
According to \cite{carnevale_stability}, Assumption \ref{Assumption reduced model} implies there exists a $\tau_{\text{mati}}^{s,*} > 0$ such that for all $0<\tau_{\text{mati}}^{s}\leq \tau_{\text{mati}}^{s,*}$, the set $\{\xi^y \in \mathbb{X} | x = 0 \wedge e_s = 0 \}$ is UGAS for $\mathcal{H}_r$.
%
See \cite{dragan_stability} for more details on finding Lyapunov functions to satisfy Assumptions \ref{Assumption reduced model} and \ref{Assumption boundary layer system}. 
 %
We next provide a lemma as a preliminary to the main result. %We will use $U^\circ$ to denote the Clarke generalized derivative of a locally Lipschitz function $U$ \cyan{\cite[Eqn. (20)]{teel2000assigning}.}
%

Recalling that $\xi^s = (x, e_s, \tau_s, \kappa_s)$ and $\xi^f = (y, e_f, \tau_f, \kappa_f)$, we define Lyapunov functions ${U_s}:  \mathbb{X}^{s} \to \mathbb{R}_{\geq 0}$ and $U_f :\mathbb{X}^{s} \times\mathbb{X}^{f} \to \mathbb{R}_{\geq 0}$ as \cite[Eqn. (25)]{carnevale_stability} 
\begin{subequations}
    \begin{align}
        U_s(\xi_s) &= V_s(x) + \gamma_s \phi_s(\tau_s) W_s^2(\kappa_s, e_s), \label{eqn: definition of U_s}\\
        U_f(\xi_s,\xi_f) &=  V_f(x,y) + \gamma_f \phi_f(\tau_f) W_f^2(\kappa_f, e_f), \label{eqn: definition of U_f}%
    \end{align}
    \label{eqn: Us and Uf}%
\end{subequations}
where $\dot \phi_\star = -2L_\star \phi_\star - \gamma_\star (\phi_\star^2 + 1)$, $\phi_\star(0) = 1/\lambda_\star^*$, $\lambda_\star^* \in (\lambda_\star, 1)$, $\star \in \{s,f\}$. Note that by abuse of notation, we write $\dot{\phi}_s = \tfrac{d \phi_s}{d \tau_s}$, $\dot{\phi}_f = \tfrac{d \phi_f}{d \tau_f}$ and $U_f(\xi^y) = U_f(\xi_s, \xi_f)$.
%
 
We define the nonlinear mapping $T: \mathbb{R}_{\geq0}\times(0,1)\times\mathbb{R}_{>0} \rightarrow \mathbb{R}$ for the upcoming lemma. For any $L > 0$, $\lambda \in (0,1)$ and $\gamma > 0$, 
\begin{equation*}
    T(L,\gamma,\lambda) \coloneqq
    \begin{cases}
    \tfrac{1}{Lr}\tan^{-1}\bigg(\tfrac{r(1-\lambda)}{2\tfrac{\lambda}{1+\lambda}\big(\tfrac{\gamma}{L}-1\big)+1+\lambda} \bigg), \;\;\;  \gamma > L
    \\
    \tfrac{1}{L} \tfrac{1-\lambda}{1+\lambda}, \qquad\qquad\qquad\qquad\qquad \;\;\; \gamma = L
    \\
    \tfrac{1}{Lr}\tanh^{-1}\bigg(\tfrac{r(1-\lambda)}{2\tfrac{\lambda}{1+\lambda}\left(\tfrac{\gamma}{L}-1\right)+1+\lambda} \bigg), \; \gamma < L ,
    \end{cases}   
\end{equation*}
where $r \coloneqq \sqrt{|\left(\tfrac{\gamma}{L}\right)^2 -1|}$. For $L = 0$ and any $\lambda \in (0,1)$ and $\gamma > 0$, this nonlinear mapping becomes
$$T(0,\gamma, \lambda) = \tfrac{1}{\gamma} \big(\tan^{-1}(\tfrac{1}{\lambda}) - \tan^{-1}(\lambda) \big).$$ 
%
%
\begin{lem}\label{Lemma MATI}
Suppose Assumptions \ref{Assumption reduced model} and \ref{Assumption boundary layer system} hold. 
%
% For any $L \geq 0$, $\lambda \in (0,1)$ and $\gamma > 0$, we define the following nonlinear mapping:
% \begin{equation*}
%     T(L,\gamma,\lambda) \coloneqq
%     \begin{cases}
%     \tfrac{1}{Lr}\tan^{-1}\bigg(\tfrac{r(1-\lambda)}{2\tfrac{\lambda}{1+\lambda}\big(\tfrac{\gamma}{L}-1\big)+1+\lambda} \bigg), \;\;\;  \gamma > L
%     \\
%     \tfrac{1}{L} \tfrac{1-\lambda}{1+\lambda}, \qquad\qquad\qquad\qquad\qquad \;\;\; \gamma = L
%     \\
%     \tfrac{1}{Lr}\tanh^{-1}\bigg(\tfrac{r(1-\lambda)}{2\tfrac{\lambda}{1+\lambda}\left(\tfrac{\gamma}{L}-1\right)+1+\lambda} \bigg), \; \gamma < L ,
%     \end{cases}   
% \end{equation*} 
% where $r \coloneqq \sqrt{|\left(\tfrac{\gamma}{L}\right)^2 -1|}$. 
%
Let $(L_s, \gamma_s, \lambda_s)$ and $(L_f, \gamma_f, \lambda_f)$ come from Assumption \ref{Assumption reduced model} and \ref{Assumption boundary layer system}, respectively, and $U_s$ and $U_f$ come from \eqref{eqn: Us and Uf} with some $\lambda_s^*\in (\lambda_s,1)$ and $\lambda_f^*\in (\lambda_f,1)$.
For all $\tau_{\text{mati}}^s \leq T(L_s,\gamma_s, \lambda_s^*)$ and $T^* \leq T(L_f, \gamma_f, \lambda_f^*)$, there exist %Lyapunov functions ${U_s}: \mathbb{R}^{n_{\xi_s}} \to \mathbb{R}_{\geq 0} , U_f : \mathbb{R}^{n_{\xi_s}} \times \mathbb{R}^{n_{\xi_f}} \to \mathbb{R}_{\geq 0}$,
$\mathcal{K}_\infty$-functions $\underline{\alpha}_{U_s}, \overline{\alpha}_{U_s},\underline{\alpha}_{U_f}, \overline{\alpha}_{U_f}$, continuous positive definite functions $\psi_s, \psi_f$ and positive constants $a_s,a_f$ such that 
(\ref{eqn: Us sandwich bound}) holds for all $\xi_s \in \mathcal{C}_{2,r}^{y,0} \cup \mathcal{D}_s^{y,0}$, (\ref{eqn: Us flow}) holds for all $\xi_s \in \mathcal{C}_{2,r}^{y,0}$, (\ref{eqn: Us jump}) holds for all $\xi_s \in \mathcal{D}_s^{y,0}$, (\ref{eqn: Uf sandwich bound}) holds for all $\xi_f \in \mathcal{C}_{2,bl}^{y,0} \cup \mathcal{D}_f^{y,0}$, (\ref{eqn: Uf flow}) holds for all $\xi_f \in \mathcal{C}_{2,bl}^{y,0}$ and (\ref{eqn: Uf jump}) holds for all $\xi_f \in \mathcal{D}_f^{y,0}$,
%
\begin{subequations}
     \begin{align}
        \underline{\alpha}_{U_s}\left(\left| ( x , e_s ) \right|\right) \leq {U_s}(\xi_s) &\leq \overline{\alpha}_{U_s}\left(\left| (x, e_s) \right|\right),
        \label{eqn: Us sandwich bound}
        % \\
        % \tfrac{\partial {U_s}(\xi_s)}{\partial \xi_s} F_s(x,0,e_s, 0) &\leq -a_s \psi_s^2\left(\left| (x, e_s) \right|\right) , \label{eqn: Us flow}
        \\
        U_s^\circ(\xi_s; F_s^y(x,0,e_s, 0)) &\leq -a_s \psi_s^2\left(\left| (x, e_s) \right|\right) ,\label{eqn: Us flow}
        \\
        {U_s}((x, h_s(\kappa_s, e_s), 0, & \kappa_s + 1))  \leq {U_s}(\xi_s),   \label{eqn: Us jump}
     \end{align}
     \label{eqn: Us}%
\end{subequations}
%
\vspace{-0.7cm}
\begin{subequations}
     \begin{gather}
        \underline{\alpha}_{U_f}\left(\left| (y, e_f) \right|\right)\leq {U_f}(\xi_s,\xi_f) \leq \overline{\alpha}_{U_f}\left(\left| (y, e_f) \right|\right) ,
        \label{eqn: Uf sandwich bound}%
        % \\
        % \tfrac{\partial {U_f}(\xi_s, \xi_f)}{\partial \xi_f} F_f(x,y,e_s, e_f, 0) &\leq -a_f \psi_f^2 \left(\left| (y, e_f) \right|\right),
        % \label{eqn: Uf flow}
        \\
        \begin{aligned}
        U_f^\circ \big((\xi_s,\xi_f); (\mathbf{0}_{n_{\xi_s \times 1}}, F_f^y(x,&y,e_s,e_f, 0))\big) 
            \\
            &\leq -a_f \psi_f^2 \left(\left| (y, e_f) \right|\right),
        \end{aligned}
        \label{eqn: Uf flow}%
        \\
        {U_f}(G_f^y(\xi^y))  \leq {U_f}(\xi_s,\xi_f).
        \label{eqn: Uf jump}
     \end{gather}
     \label{eqn: Uf}%
\end{subequations}
\end{lem}
%
\vspace{-0.5cm}
\textbf{Proof:} The proof of Lemma \ref{Lemma MATI} follows similarly to \cite[Theorem 1]{sampled_data_system} and is therefore omitted.

% 
% By abuse of notation, we write $U_f(\xi^y) = U_f(\xi_s, \xi_f)$. The functions $U_s$ and $U_f$ typically have the form \cite[Eqn. (25)]{carnevale_stability}
% \begin{subequations}
%     \begin{align}
%         U_s(\xi_s) &= V_s(x) + \gamma_s \phi_s(\tau_s) W_s^2(\kappa_s, e_s) \\
%         U_f(\xi_s,\xi_f) &=  V_f(x,y) + \gamma_f \phi_f(\tau) W_f^2(\kappa_f, e_f) 
%     \end{align}
% \end{subequations}
% where $\dot \phi_\star = -2L_\star \phi_\star - \gamma_\star (\phi_\star^2 + 1)$, $\phi_\star(0) = 1/\lambda_\star^*$,  $\star \in \{s,f\}$.
%
%\cyan{From \eqref{eqn: Us} and the fact $t \geq \tau_{\text{miati}}^s j_k^s -  \tau_{\text{miati}}^s$, we can show $\mathcal{H}_r$ is Uniformly Globally pre-Asymptotically Stable (UGpAS) by utilizing \cite[Proposition 3.27]{_systems}. Similarly, we can also show $\mathcal{H}_{bl}$ is UGpAS.} 
%
Lemma \ref{Lemma MATI} asserts that, under Assumptions  \ref{Assumption reduced model} and \ref{Assumption boundary layer system}, we can establish upper bounds on $\tau_{\text{mati}}^s$ and $T^*$ in a manner such that, when both bounds are met, we can construct Lyapunov functions $U_s$ and $U_f$ that guarantee stability properties for $\mathcal{H}_r$ and $\mathcal{H}_{bl}$, respectively. These Lyapunov functions will play a crucial role in the proof of our main result (namely Theorem \ref{Theorem H_1} below), since we will conclude stability property of $\mathcal{H}_1^y$ by considering $\mathcal{H}_r$, $\mathcal{H}_{bl}$, and their interconnection induced by nonzero $\epsilon$. 
%

Assumption \ref{Assumption interconnection} specifies the \emph{interconnection condition} between the 
slow and fast dynamics during flow, analogous to the continuous-time case as described in \cite[pp. 451]{nonlinear_systems_Khalil}.% and \cite{khorasani1985asymptotic}.% On the other hand, Assumption \ref{Assumption U_f slow jump} considers the interconnection during jumps.
%
\begin{assum}
    Given a set $\widetilde {\mathcal{C}} \in \mathbb{X}$, for any $\Delta_1$, $\nu_1>0$, there exist $b_1$, $b_2$, $b_3 \geq 0$, such that $|\xi^y|_{\mathcal{E}^y} \leq \Delta_1$ implies
    \begin{align*}
        &\begin{aligned}
            &\left < \tfrac{\partial {U_s}}{\partial \xi_s}, F_s^y(x,y,e_s,e_f) - F_s^y(x,0,e_s,0)  \right> \leq
            \\
            &\phantom{aaaaaaaaaaaaaaa} b_1 \psi_s\left(\left| (x, e_s) \right|\right) \psi_f\left(\left| (y, e_f) \right|\right) + \nu_1, 
        \end{aligned}
        \\
        &\begin{aligned}
            &\Big< \tfrac{\partial {U_f}}{\partial \xi_s} - \tfrac{\partial {U_f}}{\partial y} \tfrac{\partial \overline{H}}{\partial \xi_s} - \tfrac{\partial {U_f}}{\partial e_f} \tfrac{\partial \tilde k}{\partial \xi_s} ,  F_s^y(x,y,e_s,e_f) \Big> \leq
            \\
            & \phantom{aaaaa} b_2 \psi_s\left(\left| (x, e_s) \right|\right) \psi_f\left(\left| (y, e_f) \right|\right) + b_3 \psi_f^2\left(\left| (y, e_f) \right|\right) + \nu_1
        \end{aligned}
    \end{align*}
%  
% \begin{subequations}
%     \begin{align}
%         &\begin{aligned}
%             &\left < \tfrac{\partial {U_s}}{\partial \xi_s}, F_s^y(x,y,e_s,e_f) - F_s^y(x,0,e_s,0)  \right> \leq
%             \\
%             &\phantom{aaaaaaaaaaaa} b_1 \psi_s\left(\left| (x, e_s) \right|\right) \psi_f\left(\left| (y, e_f) \right|\right) + \nu_1, 
%         \end{aligned}\label{eqn: SPNCS interconnection 1}
%         \\
%         &\begin{aligned}
%             &\Big< \tfrac{\partial {U_f}}{\partial \xi_s} - \tfrac{\partial {U_f}}{\partial y} \tfrac{\partial \overline{H}}{\partial \xi_s} - \tfrac{\partial {U_f}}{\partial e_f} \tfrac{\partial \tilde k}{\partial \xi_s} ,  F_s^y(x,y,e_s,e_f) \Big> \leq
%             \\
%             & b_2 \psi_s\left(\left| (x, e_s) \right|\right) \psi_f\left(\left| (y, e_f) \right|\right) + b_3 \psi_f^2\left(\left| (y, e_f) \right|\right) + \nu_1
%         \end{aligned}\label{eqn: SPNCS interconnection 2}
%         % \\
%         % &\begin{aligned}
%         %     &\Big< \tfrac{\partial {U_f}}{\partial \xi_f}, F_f^y(x,y,e_s, e_f,\epsilon) - F_f^y(x,y,e_s,e_f,0)\Big> \leq
%         %     \\
%         %      & \phantom{aa}\; \epsilon b_4 \psi_s\left(\left| (x, e_s) \right|\right) \psi_f\left(\left| (y, e_f) \right|\right) 
%         %          + \epsilon b_5 \psi_f^2\left(\left| (y, e_f) \right|\right)
%         % \end{aligned}\label{eqn: SPNCS interconnection 3}
%     \end{align}
%     \label{eqn: SPNCS interconnections}%
% \end{subequations}
hold for almost all $\xi^y \in \widetilde {\mathcal{C}}$, where $\tilde k(x,z) = (k_{pf}(x_p,z_p), $ $ k_{cf}(x_c,z_c))$.
    \label{Assumption interconnection}
\end{assum}



At each slow transmission, there is a potential increase in $V_f$ due to \eqref{eqn: Jump of y at slow transmission}, we bound this jump of $V_f$ using the following assumption, which is adapted from \cite[Assumption 5]{Romain_ETC}.
%
\begin{assum}
    There exist $\lambda_1$, $\lambda_2\geq0$ such that for all $\xi^y \in \mathbb{X}$, we have
    $V_f(x,h_y(x,e_s,y)) \leq  V_f(x,y) +  \lambda_1 W_s^2(\kappa_s,e_s) 
            + \lambda_2 \sqrt{W_s^2(\kappa_s,e_s) V_f(x,y)}$.
    %
    % \begin{equation} \begin{aligned}
    %     V_f(x,h_y(x,e_s,y)) \leq & V_f(x,y) +  \lambda_1 W_s^2(\kappa_s,e_s) 
    %         \\ &+ \lambda_2 \sqrt{W_s^2(\kappa_s,e_s) V_f(x,y)}.
    %     \end{aligned}
    %     \label{eqn: Vf at slow transmission}
    % \end{equation}
    \label{Assumption Vf at slow transmission}%
\end{assum}
Finally, we introduce the next assumption, which is required to guarantee the exponential decay of the composite Lyapunov function $U$ defined in \eqref{eqn: U} during flow, and naturally holds for linear-time-invariant (LTI) SPNCSs as we will see in section \ref{Section LMI}.
\begin{assum}
    Let $\psi_s$ and $\psi_f$ come from Assumption \ref{Assumption interconnection}. There exist $a_{\psi_s}$, $a_{\psi_f}>0$ such that
    $\psi_s(|(x, e_s)|) \leq a_{\psi_s} \sqrt{U_s(\xi_s)}$ and $\psi_f(|(y, e_f)|) \leq a_{\psi_f} \sqrt{U_f(\xi_s,\xi_f)}$.
%    
    % \begin{align*}
    %     \psi_s(|(x, e_s)|) &\leq a_{\psi_s} \sqrt{U_s(\xi_s)} \\
    %     \psi_f(|(y, e_f)|) &\leq a_{\psi_f} \sqrt{U_f(\xi_s,\xi_f)}.
    % \end{align*}
    \label{Assumption Extra 2}%
\end{assum}
%
We note that $\xi_s $ and $\xi_f$ are defined in \eqref{eqn: definition of xi_s and xi_f}, and contain $(x,e_s)$ and $(y,e_f)$, respectively. Assumption \ref{Assumption Extra 2} naturally holds in LTI systems with UGES protocols \cite{dragan_stability}. 








%Before stating our main result, we introduce the attractor $ \mathcal{E} \coloneqq \{ \xi \in \mathbb{X}\ | \ x=0 \wedge e_s = 0 \wedge z=0 \wedge e_f = 0 \} .$
%
% \begin{definition} \red{Semiglobal practical?}
%     We say that set $\mathcal{E}$ is uniformly globally pre-asymptotically stable (UGpAS) for system $\mathcal{H}$ if there exists a class $\mathcal{KL}$ function $\beta$ such that any solution $\xi$ to $\mathcal{H}$ satisfies $|\xi(t,j)|_{\mathcal{E}} \leq \beta(|\xi(0,0)|_{\mathcal{E}}, t+j)$ for all $(t,j)\in dom(\xi)$.
% \end{definition}
% %
% \begin{definition}
%     Suppose the set $\mathcal{E}$ is UGpAS for system $\mathcal{H}$. If every maximal solution to $\mathcal{H}$ is complete, then we say $\mathcal{E}$ is uniformly globally asymptotically stable (UGAS) for system $\mathcal{H}$.
% \end{definition}
%
%\subsection{Stability guarantees}
%------------------------ Theorem ----------------------------
By introducing the attractor $ \mathcal{E} \coloneqq \{ \xi \in \mathbb{X}\ | \ x=0 \wedge e_s = 0 \wedge z=0 \wedge e_f = 0 \}$, we can now state our main results, whose proofs are postponed to the appendix. 
\begin{thm}
Consider system $\mathcal{H}_1$ in \eqref{eqn:full system} and suppose Assumptions \ref{Assumption reduced model}, \ref{Assumption boundary layer system}, \ref{Assumption Vf at slow transmission} and \ref{Assumption Extra 2} hold, and Assumption \ref{Assumption interconnection} holds with $\widetilde {\mathcal{C}} = \mathcal{C}_2^{y,\epsilon}$. 
%
Let $L_s$ and $\gamma_s$ come from Assumption \ref{Assumption reduced model}, $L_f$ and $\gamma_f$ come from Assumption \ref{Assumption boundary layer system}, and $\lambda_s^*$ and $\lambda_f^*$ come from Lemma \ref{Lemma MATI}.
%
Then for any $\tau_{\text{miati}}^s \leq \tau_{\text{mati}}^s \leq T(L_s, \gamma_s, \lambda_s^*)$ and $2\tau_{\text{miati}}^f \leq \tau_{\text{mati}}^f \leq \epsilon T(L_f, \gamma_f,\lambda_f^*)$, the following statement holds:

There exists a $\mathcal{KL}$-function $\beta$, such that for all $\Delta, \nu > 0$, there exists an $\epsilon^* >0 $ such that for all $0<\epsilon<\epsilon^*$, any solution $\xi$ with $ |\xi(0,0)|_{\mathcal{E}}<\Delta$ satisfies $|\xi(t,j)|_\mathcal{E} \leq \beta(|\xi(0,0)|_\mathcal{E}, t+j) + \nu$ for any $(t,j)\in \text{dom} \, \xi$.
\label{Theorem H_1}
\end{thm}
%\textbf{Proof:} The proof of Theorem \ref{Theorem H_1} is given in the Appendix.


%


% \begin{remark}
%     \cyan{We note our result is applicable to the double channel SPNCS, with plant and controller in the form of this paper or \cite{SPNCS}. }
%         \todo[inline]{I may explain this remark with more detail, and put this in the thesis not this paper.}
% \end{remark}
Theorem \ref{Theorem H_1} establishes that for any bounded initial condition and ultimate bound, if the condition in Theorem \ref{Theorem H_1} is satisfied, and $\tau_{\text{mati}}^s$, $\tau_{\text{mati}}^f$ and $\epsilon$ are sufficiently small, then the trajectory of system \eqref{eqn:full system} asymptotically approach the ultimate bound.
%
%system \eqref{eqn:full system} satisfies a semiglobal practical asymptotic stability when slow and fast variables are transmitted via a single channel according to the clock mechanism \eqref{eqn: Stefan timer}, with sufficiently small $\tau_{\text{mati}}^s$, $\tau_{\text{mati}}^f$ and $\epsilon$.
% 
%
In the proof of Theorem \ref{Theorem H_1}, it is observed that $\epsilon^*$ approaches zero when $\tau_{\text{miati}}^s$ decreases. This is because the Lyapunov function needs to decrease during flow for some time to compensate the potential increase at slow transmissions. From the perspective of the fast time scale, the transmission interval of slow signals is lower bounded by $\tau_{\text{miati}}^s / \epsilon$. Thus, a smaller $\epsilon$ is required for smaller $\tau_{\text{miati}}^s$ to ensure sufficient flow between any two consecutive slow transmissions.
  %  
%
%
% Next, we will state another semi-global practical result in Corollary \ref{Corollary epsilon does not depend on initial condition}, where the only difference between Theorem \ref{Theorem H_1} and Corollary \ref{Corollary epsilon does not depend on initial condition} is, Assumption \ref{Assumption Extra 1} in Theorem \ref{Theorem H_1} is replaced by Assumption \ref{Assumption Extra 2}, which is stronger. As a result, $\epsilon^*$ in Corollary \ref{Corollary epsilon does not depend on initial condition} no longer depends on $\Delta$.
%
%
% \begin{assum}
%     There exist $a_{\psi_s}$, $a_{\psi_f}>0$ such that
%     \begin{align*}
%         \psi_s(|(x, e_s)|) &\leq a_{\psi_s} \sqrt{U_s(\xi_s)} \\
%         \psi_f(|(y, e_f)|) &\leq a_{\psi_f} \sqrt{U_f(\xi_s,\xi_f)}.
%     \end{align*}
%     \label{Assumption Extra 2}
% \end{assum}
%
% \begin{cor}
%     Considering system $\mathcal{H}_1$ and suppose Assumptions \ref{Assumption reduced model}, \ref{Assumption boundary layer system}, \ref{Assumption Vf at slow transmission} and \ref{Assumption Extra 2} hold, and \red{Assumption \ref{Assumption interconnection} hold for almost all $\xi^y \in \mathcal{C}_2^{y,\epsilon}$}. 
% %
%     Let $L_s$ and $\gamma_s$ come from Assumption \ref{Assumption reduced model}, $L_f$ and $\gamma_f$ come from Assumption \ref{Assumption boundary layer system}, and $\lambda_s^*$ and $\lambda_f^*$ come from Lemma \ref{Lemma MATI}.
%     %
%     Then for any $\tau_{\text{miati}}^s \leq \tau_{\text{mati}}^s \leq T(L_s, \gamma_s, \lambda_s^*)$ and $ 2\tau_{\text{miati}}^f \leq \tau_{\text{mati}}^f \leq \epsilon T(L_f, \gamma_f,\lambda_f^*)$, there exists an $\epsilon^* >0 $ such that for all $0<\epsilon<\epsilon^*$, the following statement holds:
%     There exists a $\mathcal{KL}$-function $\beta$, such that for all $\Delta,\nu > 0$, any solution $\xi$ with $ |\xi(0,0)|_{\mathcal{E}}<\Delta$ satisfies $|\xi(t,j)|_\mathcal{E} \leq \beta(|\xi(0,0)|_\mathcal{E}, t+j) + \nu$ for any $(t,j)\in \text{dom} \, \xi$.
%     \label{Corollary epsilon does not depend on initial condition}
% \end{cor}
%
\subsection{Uniform global asymptotic/exponential stability}\label{Section UGES and UGAS}

Next we are going to present global results such as UGAS and UGES. 
In order to obtain global stability, we need global assumptions. Therefore, we state a global version of Assumption \ref{Assumption interconnection}, which is Assumption \ref{Assumption interconnection Exponential} below.
\begin{assum}
    There exist  $b_1$, $b_2$, $b_3 \geq 0$, such that
\begin{subequations}
    \begin{align}
        &\begin{aligned}
            &\Big < \tfrac{\partial {U_s}}{\partial \xi_s}, F_s^y(x,y,e_s,e_f) - F_s^y(x,0,e_s,0)  \Big> \leq
            \\
            &\phantom{aaaaaaaaaaaa} b_1 \psi_s\left(\left| (x, e_s) \right|\right) \psi_f\left(\left| (y, e_f) \right|\right), 
        \end{aligned}\label{eqn: SPNCS interconnection Exponential 1}
        \\
        &\begin{aligned}
            &\Big< \tfrac{\partial {U_f}}{\partial \xi_s} - \tfrac{\partial {U_f}}{\partial y} \tfrac{\partial \overline{H}}{\partial \xi_s} - \tfrac{\partial {U_f}}{\partial e_f} \tfrac{\partial \tilde k}{\partial \xi_s} ,  F_s^y(x,y,e_s,e_f) \Big> \leq
            \\
            & b_2 \psi_s\left(\left| (x, e_s) \right|\right) \psi_f\left(\left| (y, e_f) \right|\right) + b_3 \psi_f^2\left(\left| (y, e_f) \right|\right)
        \end{aligned}\label{eqn: SPNCS interconnection Exponential 2}
    \end{align}
    \label{eqn: SPNCS interconnections Exponential}%
\end{subequations}
hold for almost all $\xi^y \in \mathcal{C}_2^{y,\epsilon}$, where $\tilde k(x,z) = (k_{pf}(x_p,z_p), k_{cf}(x_c,z_c))$.
    \label{Assumption interconnection Exponential}
\end{assum}






% The following assumption guarantees exponential decay of the composite Lyapunov function $U$, see the proof of Corollary \ref{Corollary UGAS} for details.


% \begin{assum}
%     There exist $a_{\psi_s}$, $a_{\psi_f}>0$ such that
%     \begin{align*}
%         \psi_s(|(x, e_s)|) &\leq a_{\psi_s} \sqrt{U_s(\xi_s)} \\
%         \psi_f(|(y, e_f)|) &\leq a_{\psi_f} \sqrt{U_f(\xi_s,\xi_f)}.
%     \end{align*}
%     \label{Assumption Extra 2}
% \end{assum}








\begin{cor}
Considering system $\mathcal{H}_1$ in \eqref{eqn:full system} and suppose Assumptions \ref{Assumption reduced model}, \ref{Assumption boundary layer system}, \ref{Assumption Vf at slow transmission}, \ref{Assumption Extra 2} and \ref{Assumption interconnection Exponential} hold.
%
Let $L_s$ and $\gamma_s$ come from Assumption \ref{Assumption reduced model}, and $L_f$ and $\gamma_f$ come from Assumption \ref{Assumption boundary layer system}.
%
Let $b_1$, $b_2$, and $b_3$ come from Assumption \ref{Assumption interconnection Exponential} and $a_s$, $a_f$, $\lambda_s^*$ and $\lambda_f^*$ come from Lemma \ref{Lemma MATI}.
%
Then for any $\tau_{\text{miati}}^s \leq \tau_{\text{mati}}^s \leq T(L_s, \gamma_s, \lambda_s^*)$ and $ 2\tau_{\text{miati}}^f \leq \tau_{\text{mati}}^f \leq \epsilon T(L_f, \gamma_f,\lambda_f^*)$, there exists $\epsilon^* >0 $ and $\beta \in \mathcal{KL}$, such that for all $0<\epsilon<\epsilon^*$ and $ |\xi(0,0)|_{\mathcal{E}} \in \mathbb{R}$, we have $|\xi(t,j)|_\mathcal{E} \leq \beta(|\xi(0,0)|_\mathcal{E}, t+j)$ for any $(t,j)\in \text{dom} \, \xi$.
% and  $\mathcal{H}_1$ is UGAS w.r.t $\mathcal{E}$.
\label{Corollary UGAS}
\end{cor}
Corollary \ref{Corollary UGAS} is proved similarly to Theorem \ref{Theorem H_1} by setting $\Delta$ and $\nu$ to infinity and zero, respectively, so its proof is omitted.
We can also state UGES of $\mathcal{H}_1$ if $\mathcal{H}_{bl}$ and $\mathcal{H}_r$ are UGES, and if $h_s$ and $h_f$ are UGES protocols.
The following assumption guarantees these conditions when combined with Assumptions \ref{Assumption reduced model} and \ref{Assumption boundary layer system}.
\begin{assum}
    Let $W_s, W_f, V_s, V_f, \rho_s$ and $\rho_f$ come from Assumptions \ref{Assumption reduced model} and \ref{Assumption boundary layer system}. There exist positive real numbers $\underline{a}_{W_s}$, $\overline{a}_{W_s}$, $\underline{a}_{V_s}$, $\overline{a}_{V_s}$, $\underline{a}_{W_f}$, $\overline{a}_{W_f}$, $\underline{a}_{V_f}$, $\overline{a}_{V_f}$, $a_{\rho_s}$ and $a_{\rho_f}$ such that 
    \begin{subequations}
        \begin{align}
            \underline{a}_{W_s} |e_s| \leq & W_s(\kappa_s, e_s) \leq \overline{a}_{W_s} |e_s|, \label{eqn: Ws exponential sandwich bound} \\
            \underline{a}_{W_f} |e_f| \leq & W_f(\kappa_f, e_f) \leq \overline{a}_{W_f} |e_f|, \label{eqn: Wf exponential sandwich bound} \\
            \underline{a}_{V_s} |x|^2 \leq &V_s(x) \leq \overline{a}_{V_s} |x|^2, \label{eqn: Vs exponential sandwich bound}\\
            \underline{a}_{V_f} |y|^2 \leq &V_f(x,y) \leq \overline{a}_{V_f} |y|^2, \label{eqn: Vf exponential sandwich bound}%
        \end{align}
    \end{subequations}
 and \vspace{-0.5cm}
\begin{subequations}
\begin{align}
    a_{\rho_s}s^2 &\leq \rho_s(s), \label{eqn: a_{rho_s}}
    \\
    a_{\rho_f}s^2 &\leq \rho_f(s)\label{eqn: a_{rho_f}}
    \end{align}
\end{subequations}
for all $s\in \mathbb{R}$. Additionally, $\overline{H}$ is globally Lipschitz in both arguments.
\label{Assumption Exponential}
\end{assum}
%
We note that Assumption \ref{Assumption Exponential} implies Assumption \ref{Assumption Extra 2} holds, this can be see in the proof of Theorem \ref{Theorem Exponential decay}. Additionally, \eqref{eqn: Ws exponential sandwich bound} and \eqref{eqn: NCS assumption Ws jump} imply $W_s$ is an UGES protocol, and the similar statement holds for $W_f$.














\begin{thm}
Consider system $\mathcal{H}_1$ in \eqref{eqn:full system} and suppose Assumptions \ref{Assumption reduced model}, \ref{Assumption boundary layer system}, \ref{Assumption Vf at slow transmission}, \ref{Assumption interconnection Exponential} and \ref{Assumption Exponential} hold.
%Let $b_1$, $b_2$, and $b_3$ come from Assumption \ref{Assumption interconnection} and $a_s$ and $a_f$ come from Lemma \ref{Lemma MATI}. 
%%%%%%%%%%%%%%%%%%%%%%
Let $L_s$ and $\gamma_s$ come from Assumption \ref{Assumption reduced model}, and $L_f$ and $\gamma_f$ come from Assumption \ref{Assumption boundary layer system}.
%
Let 
%$b_1$, $b_2$, and $b_3$ come from Assumption \ref{Assumption interconnection Exponential} and $a_s$, $a_f$, 
$\lambda_s^*$ and $\lambda_f^*$ come from Lemma \ref{Lemma MATI}.
%
Then for any $\tau_{\text{miati}}^s \leq \tau_{\text{mati}}^s \leq T(L_s, \gamma_s, \lambda_s^*)$ and $ 2\tau_{\text{miati}}^f \leq \tau_{\text{mati}}^f \leq \epsilon T(L_f, \gamma_f,\lambda_f^*)$, there exist $\epsilon^*, c_1, c_2 >0 $ such that for all $0<\epsilon<\epsilon^*$, the solution $\xi$ satisfies $|\xi(t,j)|_\mathcal{E} \leq c_1 |\xi(0,0)|_\mathcal{E} \text{exp}( -c_2(t+j))$ for any $(t,j)\in \text{dom} \, \xi$.
%$\mathcal{H}_1$ is UGES w.r.t $\mathcal{E}$.
\label{Theorem Exponential decay}
\end{thm}
%\textbf{Proof:} The proof of Theorem \ref{Theorem Exponential decay} is given in the Appendix.
%
%
\begin{rem}
    We state only global assumptions and results (i.e., UGAS and UGES) to simplify the presentation. However, for local results, all assumptions can be rephrased. For example, the requirement for a unique real solution in SA\ref{assum:standing-ss} can be relaxed to isolated real solutions, and the interconnection condition in Assumption \ref{Assumption interconnection Exponential} needs to hold only on a compact set of $\xi$ containing the set $\mathcal{E}$. 
\end{rem}


