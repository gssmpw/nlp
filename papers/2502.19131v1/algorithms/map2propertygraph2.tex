\KwIn{A graph representation $\mathcal{G(C)}$ of schema of a category $\mathcal{C}$ }
    \KwOut{A property graph  schema $\mathcal{PG}$= ($V, E, T, P$)}
    \DontPrintSemicolon

Initialize $V, E, T$, and $P$ to be empty sets;

\ForEach{ object $O$ in $V(\mathcal{G(C)})$ with outgoing edges}
{
     $V \leftarrow V \cup \{\lambda(O)\}$;

     \If{$O$ is an entity or attribute object  }
     {
        $P(O) \leftarrow P(O) \cup \{SK\}$;
     }
    
     Add\_neighbours($O$);
     
    %Process\_attributes($O$) 

    %Process\_entities\_relationships($O$)

    %Process\_relationships($O$)

    Mark $O$ as a processed object; 

}



\SetKwFunction{func}{ $\mbox{Add\_neighbours}$}
\SetKwProg{Fn}{Function}{:}{}
\Fn{\func{$O$}}
{
    \ForEach{ object $N$ in $outNbr(O)$ }
    {
        \If{$N$ is an attribute object and $N$ has no outgoing edges} 
        { 
            $P(O) \leftarrow P(O) \cup \{\lambda(N)\}$; 

            $T \leftarrow T \cup \{\lambda(N)\}$; 
        }
        \Else
        { 
            $E \leftarrow E \cup \{(O,N)\}$;

          %  $V \leftarrow V \cup \{N\}$
            
           % $P((O)) \leftarrow P((O)) \cup \{IDREF\}$
      
        }
         
        
        %\If{$N \in bin(O)$} 
        %{ 
        
        %    Add\_neighbours($N,S$)

        %    Mark $N$ as a processed object

        %}

        
        
    }
    
}   

%\SetKwFunction{func}{ %$\mbox{Process\_entities\_relationship}$}
%\SetKwProg{Fn}{Function}{:}{}
%\Fn{\func{$O$}}
%{
%    \ForEach{entity or relationship object $N$ in $outNbr(O)$ }
%    {
        
        %Create an edge $e$ between $N$ and $O$ and add $e$ into $E$ in schema

        %$E \leftarrow E \cup \{(N,O)\}$

        %$P((N)) \leftarrow P((N)) \cup \{ID\}$

        %$P((O)) \leftarrow P((O)) \cup \{IDREF\}$
     
        
    %}
%}

%\SetKwFunction{func}{ $\mbox{Process\_relationships}$}
%\SetKwProg{Fn}{Function}{:}{}
%\Fn{\func{$O$}}
%{
%    \ForEach{relationship object $R$ in $outNbr(O)$ }
%    {
            
%        \If{R is a binary relationship object} 
%        {
%            $P(R) \leftarrow P(R) \cup \{N \}$   
%        }
%        \Else 
%        {
            %create an edge $e$ between $R$ and $O$ into $E$ in the schema

%            $E \leftarrow E \cup \{(R,O)\}$
                
%        }
            
        
%    }
%}