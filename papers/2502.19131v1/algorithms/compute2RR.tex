\KwIn{A graph representation $G$, a set of multivalued dependencies $M$ and  a set of functional dependencies $F$} 
\KwOut{The second reduced representation (2RR) of $G$} 
\DontPrintSemicolon


 Use Algorithm \ref{alg:closureMVD} to compute a closure graph $(G,F,M)^+$;

% $D = FD(G') \cup M$ \tcp*{FD(G') is a set of FDs in G' }

$G'=$\texttt{Remove\_Objects}($(G,F,M)^+$);




\ForEach {arrow  $f: X \to Y$ in $G'$} 
{
    \If{($G' - f$) is equivalent to $G'$}
    {
    Remove $f$ in $G'$;
    }
}

Return the updated $G'$;

%Step 4: Compute a minimal cover V of FDs for $G_3$

%FOREACH object X remove all associated and composed FDs in ClosureFD(X)+ ENDFOR

%Step 5: Generate a graph representation $G_4$ based on  $V$ 



\SetKwFunction{func}{ $\mbox{Remove\_Objects}$}
\SetKwProg{Fn}{Function}{:}{}
\Fn{\func{$G$}}
{
%Convert $G$ to a set of FDs, denoted by $FD(G)$

%Compute the dependent basis of MVD in $FD(G) \cup M$ \tcp*{Appendix for details}

\While{$\exists$ any derivable MVD object $O \in G$ w.r.t $X \to\to_O Y$ }
 {
    decompose $O$ into two objects $O_1= X \cup Y$ and $O_2=O-Y$ and assign the corresponding projection arrows for $O_1$ and $O_2$;

    %\ForEach{projection arrow $f:O \to N$ }
    %    {
    %        \If{$\pi(N) \subseteq \pi(O_i)$ (i=1 or 2)}
     %        {
     %           add the projection arrow $f':O_i \to N$
     %       }
     %   }
    
  }

  Remove all derivable limit  objects in $G$; 

  
  Return the updated $G$;
}





%Compute the minimal cover C of $FD(G) \cup M \cup F$

%while there is a MVD in C but not in an object in G

%add one new object for this MVD, ENDHILE

%Continue to use the 1RR computation algorithm for G with functional dependencies and multivalued dependencies. 




