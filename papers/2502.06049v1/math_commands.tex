% Recommended, but optional, packages for figures and better typesetting:
\usepackage{microtype}
\usepackage{graphicx}
% \usepackage{subfigure}
\usepackage{booktabs} % for professional tables
% \usepackage{hyperref}
% \usepackage{algorithm}
%\usepackage{algorithmic}
% \usepackage{algpseudocode}
%\RequirePackage{algorithm}
%\RequirePackage{algorithmic}
%\usepackage{algpseudocode}

\usepackage{colortbl}

% For theorems and such
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{amsthm}

% if you use cleveref..
% \usepackage[capitalize,noabbrev]{cleveref}
\usepackage{colortbl}
\usepackage{nicematrix}
% new
% \usepackage[inline, shortlabels]{enumitem}
% \usepackage{multirow}

\usepackage{amsthm}
\usepackage{amsmath,amsfonts,bm}
\usepackage{nicefrac}
\usepackage{array}
% \usepackage{wrapfig}

% \usepackage{hyperref}
\usepackage{url}
\usepackage{pbox}

%\usepackage{tcolorbox}



\definecolor{bluex}{rgb}{0.27, 0.42, 0.81}
\definecolor{purplex}{HTML}{9564bf}
\definecolor{red3}{HTML}{C52A20}
\definecolor{red2}{HTML}{B36A6F}
\definecolor{red1}{HTML}{FFb5b5}
\definecolor{purple}{HTML}{B36A6F}
\definecolor{darkyellow}{HTML}{D5BA82}
\definecolor{blue1}{HTML}{508AB2}
\definecolor{blue2}{HTML}{C4E4E3}
\definecolor{green1}{HTML}{A1D0C7}
\definecolor{green2}{HTML}{BFF6BA}
\definecolor{green3}{HTML}{028100}
\definecolor{teal}{HTML}{508AB2}
\definecolor{purple1}{HTML}{8d3a94}
\definecolor{grey1}{HTML}{999999}

\usepackage{pifont}% http://ctan.org/pkg/pifont
\newcommand{\cmark}{\text{\ding{51}}}
\newcommand{\xmark}{\text{\ding{55}}}

% theorem
% \usepackage[listings]{tcolorbox}
% \tcbuselibrary{listings,theorems}
% \newtcolorbox{mybox}{colback=white!5!white,colframe=black!75!black, left=.05in, right=.05in}

% \newtcbtheorem[number within=section]{theo}{Theorem}%
% {colback=green2!5,colframe=blue1,fonttitle=\bfseries, left=.02in, right=.02in,bottom=.02in, top=.02in}{theo}
% \newtcbtheorem[]{trainprompt}{Prompt}%
% {colback=green2!5,colframe=blue1,fonttitle=\bfseries, left=.02in, right=.02in,bottom=.02in, top=.02in}{trainprompt}
% \newtcbtheorem[]{prompt}{Backward Prompting}%
% {colback=green!5,colframe=green!35!black,fonttitle=\bfseries}{th}
% \newtcbtheorem[number within=section]{thm}{Theorem}%
% {colback=green!5,colframe=green!35!black,fonttitle=\bfseries}{th}
% \newtcbtheorem[number within=section]{corr}{Corollary}%
% {colback=green!5,colframe=green!35!black,fonttitle=\bfseries}{th}
% \newtcbtheorem{method}{Method}%
% {colback=green!5,colframe=green!35!black,fonttitle=\bfseries}{th}

% example
% \usepackage[listings]{tcolorbox}
% \tcbuselibrary{listings,theorems}
% \newtcbtheorem[number within=section]{exmp}{Example}%
% {colback=green2!5,colframe=grey1,fonttitle=\bfseries, left=.02in, right=.02in,bottom=.02in, top=.02in}{exmp}

% example
% \usepackage[listings]{tcolorbox}
\tcbuselibrary{most,listings,theorems}
\newtcbtheorem[number within=section]{explain}{Explanation}%
{colback=green2!5,colframe=blue1,fonttitle=\bfseries, left=.02in, right=.02in,bottom=.02in, top=.02in}{explain}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% THEOREMS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% \theoremstyle{plain}
% \newtheorem{theorem}{Theorem}[section]
% \newtheorem{proposition}[theorem]{Proposition}
% \newtheorem{lemma}[theorem]{Lemma}
% \newtheorem{corollary}[theorem]{Corollary}
% \theoremstyle{definition}
% \newtheorem{definition}[theorem]{Definition}
% \newtheorem{assumption}[theorem]{Assumption}
% \theoremstyle{remark}
% \newtheorem{remark}[theorem]{Remark}


\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator{\egg}{EGG}
\DeclareMathOperator{\eer}{EER}
\DeclareMathOperator{\dist}{dist}
% \DeclareMathOperator{\softmax}{softmax}


\DeclareMathOperator{\vect}{vec}
\DeclareMathOperator{\sign}{sign}
\newcommand{\acc}{\textsf{Acc}}
\newcommand{\bE}{\mathbb{E}}
\newcommand{\bR}{\mathbb{R}}
\newcommand{\bS}{\mathbb{S}}
\newcommand{\bU}{\mathbb{U}}
\newcommand{\bK}{\mathbb{K}}
\newcommand{\bV}{\mathbb{V}}
\newcommand{\bP}{\mathbb{P}}

\newcommand{\metaloss}{\mathcal{L}_{\text{meta}}}
\newcommand{\STAB}[1]{\begin{tabular}{@{}c@{}}#1\end{tabular}}

\newcommand{\bone}{{\bf 1}}
\newcommand{\bzero}{{\bf 0}}
\newcommand{\ie}{\emph{i.e.}}
\newcommand{\eg}{\emph{e.g.}}
\newcommand{\sspan}{\text{span}}
\newcommand*{\escape}[1]{\texttt{\textbackslash#1}}

\newcommand{\uniform}{{\textsf{Uniform}}}

% mathcal type
\newcommand{\hA}{\mathcal{A}}
\newcommand{\hB}{\mathcal{B}}
\newcommand{\hC}{\mathcal{C}}
\newcommand{\hD}{\mathcal{D}}
\newcommand{\hE}{\mathcal{E}}
\newcommand{\hF}{\mathcal{F}}
\newcommand{\hG}{\mathcal{G}}
\newcommand{\hH}{\mathcal{H}}
\newcommand{\hI}{\mathcal{I}}
\newcommand{\hJ}{\mathcal{J}}
\newcommand{\hK}{\mathcal{K}}
\newcommand{\hL}{\mathcal{L}}
\newcommand{\hM}{\mathcal{M}}
\newcommand{\hN}{\mathcal{N}}
\newcommand{\hO}{\mathcal{O}}
\newcommand{\hP}{\mathcal{P}}
\newcommand{\hQ}{\mathcal{Q}}
\newcommand{\hR}{\mathcal{R}}
\newcommand{\hS}{\mathcal{S}}
\newcommand{\hT}{\mathcal{T}}
\newcommand{\hU}{\mathcal{U}}
\newcommand{\hV}{\mathcal{V}}
\newcommand{\hW}{\mathcal{W}}
\newcommand{\hX}{\mathcal{X}}
\newcommand{\hY}{\mathcal{Y}}
\newcommand{\hZ}{\mathcal{Z}}

\newcommand{\bI}{\mathbb{I}}

% vector type
\newcommand{\va}{{\bf a}}
\newcommand{\vb}{{\bf b}}
\newcommand{\vc}{{\bf c}}
\newcommand{\vd}{{\bf d}}
\newcommand{\ve}{{\bf e}}
\newcommand{\vf}{{\bf f}}
\newcommand{\vg}{{\bf g}}
\newcommand{\vh}{{\bf h}}
\newcommand{\vi}{{\bf i}}
\newcommand{\vj}{{\bf j}}
\newcommand{\vk}{{\bf k}}
\newcommand{\vl}{{\bf l}}
\newcommand{\vm}{{\bf m}}
\newcommand{\vn}{{\bf n}}
\newcommand{\vo}{{\bf o}}
\newcommand{\vp}{{\bf p}}
\newcommand{\vq}{{\bf q}}
\newcommand{\vr}{{\bf r}}
\newcommand{\vs}{{\bf s}}
\newcommand{\vt}{{\bf t}}
\newcommand{\vu}{{\bf u}}
\newcommand{\vv}{{\bf v}}
\newcommand{\vw}{{\bf w}}
\newcommand{\vx}{{\bf x}}
\newcommand{\vy}{{\bf y}}
\newcommand{\vz}{{\bf z}}

% matrix type
\newcommand{\vA}{{\bf A}}
\newcommand{\vB}{{\bf B}}
\newcommand{\vC}{{\bf C}}
\newcommand{\vD}{{\bf D}}
\newcommand{\vE}{{\bf E}}
\newcommand{\vF}{{\bf F}}
\newcommand{\vG}{{\bf G}}
\newcommand{\vH}{{\bf H}}
\newcommand{\vI}{{\bf I}}
\newcommand{\vJ}{{\bf J}}
\newcommand{\vK}{{\bf K}}
\newcommand{\vL}{{\bf L}}
\newcommand{\vM}{{\bf M}}
\newcommand{\vN}{{\bf N}}
\newcommand{\vO}{{\bf O}}
\newcommand{\vP}{{\bf P}}
\newcommand{\vQ}{{\bf Q}}
\newcommand{\vR}{{\bf R}}
\newcommand{\vS}{{\bf S}}
\newcommand{\vT}{{\bf T}}
\newcommand{\vU}{{\bf U}}
\newcommand{\vV}{{\bf V}}
\newcommand{\vW}{{\bf W}}
\newcommand{\vX}{{\bf X}}
\newcommand{\vY}{{\bf Y}}
\newcommand{\vZ}{{\bf Z}}

\newcommand{\bc}{{\underline{c}}}
\newcommand{\uc}{{\bar{c}}}

%frak
\newcommand{\fD}{\mathfrak{D}}
\newcommand{\fP}{\mathfrak{P}}

\DeclareMathOperator{\ber}{\textsf{Ber}}
\DeclareMathOperator{\var}{\textsf{Var}}
\DeclareMathOperator{\trace}{\textsf{Trace}}
\DeclareMathOperator{\kl}{\textsf{KL}}
\DeclareMathOperator{\diag}{diag}
\DeclareMathOperator{\hbeta}{\textsf{Beta}}
\DeclareMathOperator{\ssim}{\textsf{sim}}

\newcommand{\fracsam}{\text{\%SAM}}

\newcommand{\vomega}{{\boldsymbol \omega}}
\newcommand{\vgamma}{{\boldsymbol \gamma}}
\newcommand{\vnu}{{\boldsymbol \nu}}
\newcommand{\vtau}{{\boldsymbol \tau}}
\newcommand{\vpsi}{{\boldsymbol \psi}}
\newcommand{\vtheta}{{\boldsymbol \theta}}
\newcommand{\vbeta}{{\boldsymbol \beta}}
\newcommand{\vmu}{{\boldsymbol \mu}}
\newcommand{\vepsilon}{{\boldsymbol \epsilon}}
\newcommand{\vPsi}{{\boldsymbol \Psi}}
\newcommand{\vSigma}{{\boldsymbol \Sigma}}
\newcommand{\vxi}{{\boldsymbol \xi}}
\newcommand{\vzeta}{{\boldsymbol \zeta}}
\newcommand{\valpha}{{\boldsymbol \alpha}}

\newcommand*\numcircledmod[1]{\raisebox{.5pt}{\textcircled{\raisebox{-.9pt} {#1}}}}
\newcommand*\ceil[1]{\lfloor {#1} \rfloor}
\newcommand*\cboxa[1]{\colorbox[HTML]{c8e9c8}{#1}}
\newcommand*\cboxb[1]{\colorbox[HTML]{c5dced}{#1}}
\newcommand*\magentabox[1]{\colorbox{magenta!20}{#1}}
\newcommand*\cyanbox[1]{\colorbox{cyan!20}{#1}}
\newcommand*\grayboxa[1]{\colorbox{lightgray!30}{#1}}
\newcommand*\grayboxb[1]{\colorbox{lightgray!70}{#1}}
\newcommand*\grayboxc[1]{\colorbox{lightgray!10}{#1}}
\newcommand*\demobox[1]{\pbox{.7\textwidth}{#1}}

\newcommand\Mark[1]{\textsuperscript#1}



\def\boxit#1{%
	\smash{\fboxsep=0pt\llap{\rlap{\fbox{\strut\makebox[#1]{}}}~}}\ignorespaces
}

\newcommand{\TODO}{{\color{red}[TODO] }}
