\newcommand{\mathbold}[1]{{\boldsymbol{\mathbf{#1}}}}

\newcommand{\g}{\,|\,}
\makeatletter
\newcommand{\given}{\,\middle|\,}
\makeatother
\renewcommand{\d}[1]{\ensuremath{\operatorname{d}\!{#1}}}
\newcommand{\nestedmathbold}[1]{{\mathbold{#1}}}


\newcommand{\mba}{\nestedmathbold{a}}
\newcommand{\mbb}{\nestedmathbold{b}}
\newcommand{\mbc}{\nestedmathbold{c}}
\newcommand{\mbd}{\nestedmathbold{d}}
\newcommand{\mbe}{\nestedmathbold{e}}
\newcommand{\mbf}{\nestedmathbold{f}}
\newcommand{\mbg}{\nestedmathbold{g}}
\newcommand{\mbh}{\nestedmathbold{h}}
\newcommand{\mbi}{\nestedmathbold{i}}
\newcommand{\mbj}{\nestedmathbold{j}}
\newcommand{\mbk}{\nestedmathbold{k}}
\newcommand{\mbl}{\nestedmathbold{l}}
\newcommand{\mbm}{\nestedmathbold{m}}
\newcommand{\mbn}{\nestedmathbold{n}}
\newcommand{\mbo}{\nestedmathbold{o}}
\newcommand{\mbp}{\nestedmathbold{p}}
\newcommand{\mbq}{\nestedmathbold{q}}
\newcommand{\mbr}{\nestedmathbold{r}}
\newcommand{\mbs}{\nestedmathbold{s}}
\newcommand{\mbt}{\nestedmathbold{t}}
\newcommand{\mbu}{\nestedmathbold{u}}
\newcommand{\mbv}{\nestedmathbold{v}}
\newcommand{\mbw}{\nestedmathbold{w}}
\newcommand{\mbx}{\nestedmathbold{x}}
\newcommand{\mby}{\nestedmathbold{y}}
\newcommand{\mbz}{\nestedmathbold{z}}

\newcommand{\mbA}{\nestedmathbold{A}}
\newcommand{\mbB}{\nestedmathbold{B}}
\newcommand{\mbC}{\nestedmathbold{C}}
\newcommand{\mbD}{\nestedmathbold{D}}
\newcommand{\mbE}{\nestedmathbold{E}}
\newcommand{\mbF}{\nestedmathbold{F}}
\newcommand{\mbG}{\nestedmathbold{G}}
\newcommand{\mbH}{\nestedmathbold{H}}
\newcommand{\mbI}{\nestedmathbold{I}}
\newcommand{\mbJ}{\nestedmathbold{J}}
\newcommand{\mbK}{\nestedmathbold{K}}
\newcommand{\mbL}{\nestedmathbold{L}}
\newcommand{\mbM}{\nestedmathbold{M}}
\newcommand{\mbN}{\nestedmathbold{N}}
\newcommand{\mbO}{\nestedmathbold{O}}
\newcommand{\mbP}{\nestedmathbold{P}}
\newcommand{\mbQ}{\nestedmathbold{Q}}
\newcommand{\mbR}{\nestedmathbold{R}}
\newcommand{\mbS}{\nestedmathbold{S}}
\newcommand{\mbT}{\nestedmathbold{T}}
\newcommand{\mbU}{\nestedmathbold{U}}
\newcommand{\mbV}{\nestedmathbold{V}}
\newcommand{\mbW}{\nestedmathbold{W}}
\newcommand{\mbX}{\nestedmathbold{X}}
\newcommand{\mbY}{\nestedmathbold{Y}}
\newcommand{\mbZ}{\nestedmathbold{Z}}

\newcommand{\mbalpha}{\nestedmathbold{\alpha}}
\newcommand{\mbbeta}{\nestedmathbold{\beta}}
\newcommand{\mbdelta}{\nestedmathbold{\delta}}
\newcommand{\mbepsilon}{\nestedmathbold{\epsilon}}
\newcommand{\mbchi}{\nestedmathbold{\chi}}
\newcommand{\mbeta}{\nestedmathbold{\eta}}
\newcommand{\mbgamma}{\nestedmathbold{\gamma}}
\newcommand{\mbiota}{\nestedmathbold{\iota}}
\newcommand{\mbkappa}{\nestedmathbold{\kappa}}
\newcommand{\mblambda}{\nestedmathbold{\lambda}}
\newcommand{\mbmu}{\nestedmathbold{\mu}}
\newcommand{\mbnu}{\nestedmathbold{\nu}}
\newcommand{\mbomega}{\nestedmathbold{\omega}}
\newcommand{\mbphi}{\nestedmathbold{\phi}}
\newcommand{\mbpi}{\nestedmathbold{\pi}}
\newcommand{\mbpsi}{\nestedmathbold{\psi}}
\newcommand{\mbrho}{\nestedmathbold{\rho}}
\newcommand{\mbsigma}{\nestedmathbold{\sigma}}
\newcommand{\mbtau}{\nestedmathbold{\tau}}
\newcommand{\mbtheta}{\nestedmathbold{\theta}}
\newcommand{\mbupsilon}{\nestedmathbold{\upsilon}}
\newcommand{\mbvarepsilon}{\nestedmathbold{\varepsilon}}
\newcommand{\mbvarphi}{\nestedmathbold{\varphi}}
\newcommand{\mbvartheta}{\nestedmathbold{\vartheta}}
\newcommand{\mbvarrho}{\nestedmathbold{\varrho}}
\newcommand{\mbxi}{\nestedmathbold{\xi}}
\newcommand{\mbzeta}{\nestedmathbold{\zeta}}

\newcommand{\mbDelta}{\nestedmathbold{\Delta}}
\newcommand{\mbGamma}{\nestedmathbold{\Gamma}}
\newcommand{\mbLambda}{\nestedmathbold{\Lambda}}
\newcommand{\mbOmega}{\nestedmathbold{\Omega}}
\newcommand{\mbPhi}{\nestedmathbold{\Phi}}
\newcommand{\mbPi}{\nestedmathbold{\Pi}}
\newcommand{\mbPsi}{\nestedmathbold{\Psi}}
\newcommand{\mbSigma}{\nestedmathbold{\Sigma}}
\newcommand{\mbTheta}{\nestedmathbold{\Theta}}
\newcommand{\mbUpsilon}{\nestedmathbold{\Upsilon}}
\newcommand{\mbXi}{\nestedmathbold{\Xi}}

\newcommand{\mbzero}{\nestedmathbold{0}}
\newcommand{\mbone}{\nestedmathbold{1}}
\newcommand{\mbtwo}{\nestedmathbold{2}}
\newcommand{\mbthree}{\nestedmathbold{3}}
\newcommand{\mbfour}{\nestedmathbold{4}}
\newcommand{\mbfive}{\nestedmathbold{5}}
\newcommand{\mbsix}{\nestedmathbold{6}}
\newcommand{\mbseven}{\nestedmathbold{7}}
\newcommand{\mbeight}{\nestedmathbold{8}}
\newcommand{\mbnine}{\nestedmathbold{9}}

\newcommand{\Lelbo}{\cL_{\textsc{elbo}}}

\newcommand{\scH}{\textsc{h}}
\DeclareRobustCommand{\KL}[2]{\ensuremath{\textsc{kl}\left[#1\;\|\;#2\right]}}
\DeclarePairedDelimiterX{\infdivx}[2]{[}{]}{%
  #1\;\delimsize\|\;#2%
}
\newcommand{\KLnew}{\ensuremath{\textsc{kl}}\infdivx}

\DeclareRobustCommand{\Df}[2]{\ensuremath{\mathcal{D}_f\left[#1\;\|\;#2\right]}}

\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}
\newcommand\indep{\protect\mathpalette{\protect\independenT}{\perp}}
\def\independenT#1#2{\mathrel{\rlap{$#1#2$}\mkern2mu{#1#2}}}

\newcommand{\cD}{\mathcal{D}}
\newcommand{\cL}{\mathcal{L}}
\newcommand{\cN}{\mathcal{N}}
\newcommand{\cP}{\mathcal{P}}
\newcommand{\cQ}{\mathcal{Q}}
\newcommand{\cR}{\mathcal{R}}
\newcommand{\cF}{\mathcal{F}}
\newcommand{\cI}{\mathcal{I}}
\newcommand{\cT}{\mathcal{T}}
\newcommand{\cV}{\mathcal{V}}
\newcommand{\cE}{\mathcal{E}}
\newcommand{\cG}{\mathcal{G}}
\newcommand{\cX}{\mathcal{X}}
\newcommand{\cY}{\mathcal{Y}}
\newcommand{\cH}{\mathcal{H}}
\newcommand{\cW}{\mathcal{W}}

\newcommand{\E}{\mathbb{E}}
\newcommand{\bbH}{\mathbb{H}}
\newcommand{\bbR}{\mathbb{R}}
\newcommand{\bbS}{\mathbb{S}}

\newcommand{\bigO}{\mathcal{O}}
\newcommand{\kernel}{\kappa} 


\newcommand{\Kxx}{\mbK_{\mbx \mbx}}
\newcommand{\Kss}{\mbK_{\mbs \mbs}}
\newcommand{\Kxs}{\mbK_{\mbx \mbs}}
\newcommand{\Ksx}{\mbK_{\mbs \mbx}}
\newcommand{\Kssinv}{\mbK_{\mbs \mbs}^{-1}}

\newcommand{\Normal}{\cN}
\newcommand{\xstar}{\mbx_{\star}}
\newcommand{\defeq}{\stackrel{\text{\tiny def}}{=}}


\newcommand{\inv}{{-1}}
\newcommand{\const}{\mathrm{const.}}
\newcommand{\diag}{\textrm{diag}}
\newcommand{\supp}{\textrm{supp}}
\newcommand{\sub}[1]{{\texttt{\textit{\scriptsize {#1}}}}}


% Example definitions.
% --------------------
\def\x{{\mathbf x}}
\def\y{{\mathbf y}}
\def\z{{\mathbf z}}
\def\f{{\mathbf{f}}}
\def\u{{\mathbf u}}
\def\m{{\mathbf m}}
\def\a{{\mathbf a}}
\def\w{{\mathbf w}}

\def\vx{{\mathbf X}}
\def\va{{\mathbf A}}
\def\vy{{\mathbf Y}}
\def\vw{{\mathbf W}}
\def\vz{{\mathbf Z}}
\def\vf{{\mathbf F}}
\def\vk{{\mathbf K}}
\def\vu{{\mathbf U}}
\def\vl{{\mathbf L}}
\def\vi{{\mathbf I}}
\def\vv{{\mathbf V}}
\def\tu{{\tilde{\mathbf u}}}
\def\tf{{\tilde{\mathbf f}}}
\def\tU{{\tilde{\mathbf U}}}
\def\tF{{\tilde{\mathbf F}}}
\def\fz{{\mathbf u}}

\def\k{{\boldsymbol{K}}}

\def\J{{\mathbf J}}
\def\G{{\mathbb G}}
\def\E{{\mathbb{E}}}

\def\cX{{\cal X}}
\def\cL{{\cal L}}
\def\cD{{\cal D}}
\def\cM{{\cal M}}
\def\cN{{\cal N}}


\def\bm{\boldsymbol}
\def\bK{{\boldsymbol{K}}}
\def\bC{{\boldsymbol{C}}}
\def\bepsilon{{\bm{\epsilon}}}
\def\bbeta{{\bm{\beta}}}
\def\bzeta{{\bm{\zeta}}}
\def\btheta{{{\bm{\theta}}}}
\def\bphi{{\bm{\phi}}}
\def\blambda{{{\bm{\lambda}}}}
\def\Cov{{\mathrm{Cov}}}