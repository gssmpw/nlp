\documentclass{article}


% if you need to pass options to natbib, use, e.g.:
%     \PassOptionsToPackage{numbers, compress}{natbib}
% before loading neurips

\PassOptionsToPackage{numbers, compress}{natbib}
% ready for submission
\usepackage[preprint]{customize}


% to compile a preprint version, e.g., for submission to arXiv, add add the
% [preprint] option:
%     \usepackage[preprint]{neurips}


% to compile a camera-ready version, add the [final] option, e.g.:
%     \usepackage[final]{neurips}


% to avoid loading the natbib package, add option nonatbib:
%    \usepackage[nonatbib]{neurips}


\usepackage[utf8]{inputenc} % allow utf-8 input
\usepackage[T1]{fontenc}    % use 8-bit T1 fonts
\usepackage{hyperref}       % hyperlinks
\usepackage{url}            % simple URL typesetting
\usepackage{booktabs}       % professional-quality tables
\usepackage{amsfonts}       % blackboard math symbols
\usepackage{nicefrac}       % compact symbols for 1/2, etc.
\usepackage{microtype}      % microtypography
\usepackage{xcolor}         % colors
\usepackage{bbding}
\usepackage{wrapfig}
\usepackage{graphicx}
\usepackage{upquote}
\usepackage{subcaption}
\usepackage{multirow}
\usepackage{enumitem}
\usepackage{bm}

%New colors defined below
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}
\usepackage{listings}

\definecolor{case_green}{RGB}{226, 240, 217} % 定制绿色
\definecolor{case_red}{RGB}{244, 203, 204}

\usepackage{fancyvrb}
\usepackage{xcolor}

\usepackage{listings}
%Code listing style named "mystyle"
\lstdefinestyle{mystyle}{
  % backgroundcolor=\color{backcolour}, 
  commentstyle=\color{codegreen},
  keywordstyle=\color{magenta},
  numberstyle=\small\color{codegray},
  stringstyle=\color{codepurple},
  basicstyle=\ttfamily\tiny,
  breakatwhitespace=false,         
  breaklines=true,                 
  captionpos=b,                    
  keepspaces=false,                                 
  showspaces=false,                
  showstringspaces=false,
  showtabs=false,                  
  tabsize=2
}

\usepackage[most]{tcolorbox}
\definecolor{wkgreen}{RGB}{184,244,175}
\definecolor{wkpurple}{RGB}{210,210,253}
\definecolor{wkyellow}{RGB}{255,241,177}
\definecolor{wkblue}{RGB}{174,217,253}

\usepackage{wrapfig}

\usepackage{textcomp}  % Required for encoding \textbigcircle
\usepackage{scalerel}  % Required for emoji \scalerel
\usepackage{xspace}
\usepackage{amsmath}
% \usepackage{algpseudocodex}
% \usepackage{algorithm}

\newcommand{\theHalgorithm}{\arabic{algorithm}}

% \XSolidBrush and \checkmark
\usepackage{bbding}
\usepackage{amssymb}

\definecolor{case_green}{RGB}{226, 240, 217} % 定制绿色
\definecolor{case_red}{RGB}{244, 203, 204}

\usepackage{fancyvrb}


\usepackage{pifont}

\definecolor{darkgreen}{RGB}{50,100,0}
\definecolor{darkred}{RGB}{200, 0, 0}
\newcommand{\cmark}{\textcolor{darkgreen}{\ding{51}}} %
\newcommand{\xmark}{\textcolor{darkred}{\ding{55}}}

\newcommand{\modelname}{C-3PO\xspace}

\definecolor{citecolor}{HTML}{2779af}
\definecolor{linkcolor}{HTML}{c0392b}
\hypersetup{colorlinks=true, breaklinks=true, citecolor=citecolor, linkcolor=linkcolor, urlcolor=linkcolor}

% \def\logo{\scalerel*{\includegraphics{images/mario.png}}{\textrm{\textbigcircle}}}
% \newcommand{\modelname}{MARIO\xspace}
% \newcommand{\titledmodelname}{\modelname\logo\xspace}

\usepackage{colortbl}

\usepackage{titletoc}

%\title{Super \modelname: process Supervision without process for MAth Reasoning with code Interpreter Output}
\title{C-3PO: Compact Plug-and-Play Proxy Optimization\\to Achieve Human-like Retrieval-Augmented Generation}

% The \author macro works with any number of authors. There are two commands
% used to separate the names and addresses of multiple authors: \And and \AND.
%
% Using \And between authors leaves it to LaTeX to determine where to break the
% lines. Using \AND forces a line break at that point. So, if LaTeX puts 3 of 4
% authors names on the first line, and the last on the second line, try using
% \AND instead of \And before the third author name.


\author{%
  Guoxin Chen$^1$, Minpeng Liao$^1$, Peiying Yu$^1$,\textbf{Dingming Wang}$^2$\\
  \textbf{Zile Qiao}$^1$, \textbf{Chao Yang}$^3$, \textbf{Xin Zhao}$^{4,*}$, \textbf{Kai Fan}$^{1,}$\thanks{Corresponding Author.}\\
  $^1$Tongyi Lab,$^2$University of Oxford\\
  $^3$Tsinghua University, $^4$Renmin University of China \\
  \texttt{\{chenguoxin.cgx,minpeng.lmp,k.fan\}@alibaba-inc.com} \\
  Code: \url{https://chen-gx.github.io/projects/C-3PO}
}


\begin{document}

\maketitle

\begin{abstract}
Retrieval-augmented generation (RAG) systems face a fundamental challenge in aligning independently developed retrievers and large language models (LLMs). 
Existing approaches typically involve modifying either component or introducing simple intermediate modules, resulting in practical limitations and sub-optimal performance. 
Inspired by human search behavior—typically involving a back-and-forth process of proposing search queries and reviewing documents, we propose \modelname, a proxy-centric framework that facilitates communication between retrievers and LLMs through a lightweight multi-agent system.
Our framework implements three specialized agents that collaboratively optimize the entire RAG pipeline without altering the retriever and LLMs.
These agents work together to assess the need for retrieval, generate effective queries, and select information suitable for the LLMs. 
To enable effective multi-agent coordination, we develop a tree-structured rollout approach for reward credit assignment in reinforcement learning. 
Extensive experiments in both in-domain and out-of-distribution scenarios demonstrate that \modelname significantly enhances RAG performance while maintaining plug-and-play flexibility and superior generalization capabilities.

\end{abstract}

\input{section/introduction}
\input{section/Related_work}
\input{section/Preliminaries}
\input{section/method}
\input{section/experiments}
\input{section/conclusion}


%\newpage

\bibliography{customize}
\bibliographystyle{abbrvnat}

% References follow the acknowledgments in the camera-ready paper. Use unnumbered first-level heading for
% the references. Any choice of citation style is acceptable as long as you are
% consistent. It is permissible to reduce the font size to \verb+small+ (9 point)
% when listing the references.
% Note that the Reference section does not count towards the page limit.
% \medskip

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\input{section/appendix}

% \startcontents[sections]
% \section*{Contents of Appendix}
% \printcontents[sections]{l}{1}{\setcounter{tocdepth}{2}}

% \newpage



\end{document}