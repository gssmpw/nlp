\section{Small Cuts}
\label{sec:small_cuts}

In this section, we show that the \GRC{} problem can be solved in polynomial time for instances~$(\texttt{d}, \call)$ where $w(\call) \leq 3$.
%
Reinterpreting the size-two cuts of $\call$ as forbidden edges allows us to transform the \GRC{} problem into an equivalent formulation of the classic $f$-factor problem whenever $w(\call) = 2$. This leads us to the following conclusion.

\begin{lemma}
\label{thm:size2}
    Any instance $I=(\texttt{d}, \call)$ of the \GRC{} problem can be solved in polynomial time if $w(\call) = 2$.
\end{lemma}

\begin{proof}
    Given the instance $I$, we apply the aforementioned method to fixed edges to produce an equivalent instance $I'=(\texttt{d}', \call')$ containing only forbidden edges.
    %
    The problem then reduces to finding a subgraph of the possibility graph $\calg$ of $I'$ that realizes the degree list~$\texttt{d}'$.
    %
    By interpreting $\texttt{d}'$ as a function $f \colon V \to \N$, the problem becomes finding an $f$-factor of $\calg$, which is solvable in cubic time using, for example, the algorithm of Anstee \cite{Ans85}. \qed
\end{proof}

Interestingly, the \GRC{} problem remains solvable in polynomial time even when cuts of size three are present.
This is because cuts of size three actually have no more restraining power on realizability than cuts of size two, in the sense that we can construct an equivalent instance containing only cuts of size at most two that maintain the same realizability as the original instance.

\input{fig/proof_w=3}

\begin{theorem}
\label{thm:size3}
    Any instance $I=(\texttt{d}, \call)$ of the \GRC{} problem can be solved in polynomial time if $w(\call) = 3$.
\end{theorem}

\begin{proof}
    We will show that it is possible to construct, in polynomial time, an instance $(\texttt{d}', \call')$ such that $w(\call') = 2$ and $(\texttt{d}', \call')$ is realizable if and only if $(\texttt{d}, \call)$ is realizable.
    This will complete our proof by applying \cref{thm:size2} to~$(\texttt{d}', \call')$.
    %
    To achieve this, consider a cut $(S, \ell) \in \call$ where $S = \set{u, v, w}$.
    From \cref{thm:feasible_cut_sizes}, we know there are exactly four possible values for $\ell$: $d(S)$, $d(S) - 2$, $d(S) - 4$, and $d(S) - 6$.
    In each case, we show that $(S, \ell)$ can be replaced by cuts of size two, along with, possibly, some additional vertices. 
    %
    Recall that forbidding or fixing an edge $uv$ is a constraint that we can express through a cut constraint $(\set{u, v}, d_u + d_v)$ or $(\set{u, v}, d_u + d_v - 2)$, respectively.

    Case 1: $\ell = d(S)$.
    In this case, all edges incident to $S$ must be included in the edge cut $\partial(S)$. So, this cut effectively forbids the edges $uv$, $uw$, and $vw$, as shows \cref{fig:proof_w=3_l=dS}.

    Case 2: $\ell = d(S) - 6$.
    This case is similar to Case 1, but we require here all three edges between vertices in $S$ to be present. Therefore, we fix the edges $uv$, $uw$, and $vw$, as in \cref{fig:proof_w=3_l=dS-6}.

    Case 3: $\ell = d(S) - 2$.
    This cut enforces that exactly one edge within $S$ must be included in any realization. Equivalently, this constraint requires selecting two vertices from $S$ to decrease their degrees by $1$ each.

    To eliminate this cut from $\call$ (see \cref{fig:proof_w=3_l=dS-2}), we proceed as follows.
    We create a new vertex $x$, set $d_x = 2$, and forbid all edges between $x$ and vertices outside $S$.
    Additionally, we forbid the edges between the vertices within $S$.
    In this setting, the two vertices in $S$ adjacent to $x$ will simulate the selection of an edge in a realization of the original instance.
    %
    Assume, without loss of generality, that a realization $G$ of the original instance exists with $vw \in E(G)$. Then, in the modified instance, a realization $G'$ exists in which $x$ is adjacent to both $v$ and $w$ and $vw$ is not present. The converse also holds, ensuring that this modification to $\call$ preserves the realizability of the instance.
    
    Case 4: $\ell = d(S) - 4$.
    In this case, exactly two edges within $S$ must be included in any realization.
    Following the same rationale as in the previous case, this amounts to the degrees of two vertices in $S$ being reduced by $1$, while the degree of the remaining vertex is reduced by $2$. Note that since we only have three vertices and, therefore, three possible edges, the choice of the two edges can be defined by selecting which vertex of $S$ will have its degree decreased by 2.

    This can be equivalently accomplished by proceeding as follows (see \cref{fig:proof_w=3_l=dS-4}).
    We create two new vertices, $x$ and $y$, and set $d_x = 3$ and $d_y = 1$.
    We fix all three edges from $x$ to~$S$, forbid all edges between $y$ and vertices outside~$S$, and forbid the edges within $S$. Note that the fixed edges from $x$ to $S$ reduce the degree of each vertex in $S$ by $1$, while the vertex in $S$ that connects to $y$ will have its degree reduced by an additional $1$, simulating the required decrease~of~$2$.
    %
    Therefore, without loss of generality, there is a realization $G$ of the original instance such that $uv, vw \in E(G)$ if and only if there is a realization $G'$ of the modified instance with $xu, xv, xw, yv \in E(G')$ and $uv, vw \notin E(G')$.

    \paragraph{}
    We apply these modification rules to each cut $(S, \ell)$ of size three in $\call$, resulting in a new instance $I'=(\texttt{d}', \call')$ with $w(\call') = 2$ and the same realizability as $(\texttt{d}, \call)$. In Cases 1 and 2, each cut $(S, \ell)$ is replaced by three smaller cuts, while in Cases 3 and 4, $\calo(n)$ additional cuts are required. Nevertheless, the total size of $\call'$ and the number of vertices are only increased polynomially. Therefore, by applying \cref{thm:size2} to $I'$, we solve our original instance in polynomial time.
    \qed
\end{proof}

