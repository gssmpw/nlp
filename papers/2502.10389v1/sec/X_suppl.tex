\clearpage
\setcounter{page}{1}
\maketitlesupplementary

\section{More Visualization of \ourmethod{}}
\label{sec:visual}
% This section presents \ourmethod{} accelerating Lumina-Next-T2I and Stable Diffusion 3 with 50\% sampling ratio. We can tell in~\Cref{fig:app_vis} that the main object receives more sampling steps than the background.
\begin{figure*}[hb]
    \centering
    \includegraphics[width=0.68\linewidth]{pics/lumina_l2_noise_obs.pdf}
    \caption{\ourmethod{} using norm as the metric, accelerating Lumina-Next-T2I with 50\% sample ratio and 30 total steps. The noise, masks and samples are from the 20th step.}
    \label{fig:app_l2}
\end{figure*}
This section presents \ourmethod{} accelerating Lumina-Next-T2I and Stable Diffusion 3 with a 50\% sampling ratio. As illustrated in~\Cref{fig:app_vis}, the main object receives more sampling steps compared to the background, demonstrating the significance of our region-adaptive sampling strategy. This approach ensures that the primary subject in the generated image consistently undergoes more sampling, while relatively smooth regions receive fewer sampling steps. For instance, in the example shown in~\Cref{fig:app_vis} with the prompt "hare in snow," the weeds in the snow are sampled more frequently, while the smooth snow receives fewer sampling steps.

In~\Cref{fig:noise_obs}, we visualize the standard deviation of the noise across dimensions, as well as the decoded images derived from the noise. This stems from our observation that the noise's standard deviation is consistently smaller in the main subject areas. A preliminary hypothesis is that this occurs because the main subject contains more information. When mixed with a certain proportion of noise at each diffusion step, the foreground tends to retain more deterministic information compared to the background. This allows the model to predict more consistent denoising directions. We acknowledge that further study is needed to fully understand this phenomenon.


The primary contribution of this work is to highlight that employing different sampling steps for different regions can significantly enhance the efficiency of diffusion model sampling. The method for selecting these regions is not limited to the aforementioned approach based on the noise standard deviation across dimensions. For example, we also experimented with using the $l-2$ norm of the noise output by the network as a criterion for selection. By targeting regions with larger noise norms, which indicate areas the network deems requiring more refinement, we observed a preference for more complex regions in the frequency domain as in~\Cref{fig:app_l2}. This approach also achieves high-quality imaging results, as shown in~\Cref{tab:l2_norm}. It can be seen that the methods using the $l_2$ norm and standard deviation (std) yield relatively similar results, and both significantly outperform random selection, particularly when the cache ratio is higher.



% \section{Analysis of Region Identification}






\begin{figure*}[hb]
    \centering
    \includegraphics[width=0.95\linewidth]{pics/human/combined.png}
    \caption{\ourmethod{} VS default sampling and the active sampling step for each latent token.}
    \label{fig:app_vis}
\end{figure*}


\clearpage

\begin{figure*}[hb]
    \centering
    \includegraphics[width=0.8\linewidth]{pics/lumina_noise_obs.pdf}
    \caption{The 20th sampling step (out of 30) of Lumina-Next-T2I using \ourmethod{}.}
    \label{fig:noise_obs}
\end{figure*}

\begin{table*}[htbp]
\centering
\begin{tabular}{lcccccc}
\hline
Method & Sample Steps & Sampling Ratio & Throughput (iter/s)$\uparrow$ & FID $\downarrow$ & sFID $\downarrow$ & CLIP score $\uparrow$ \\
\hline
\rowcolor{gray!10}
RFlow & 7 & 100.0\% & 1.01 & 27.23 & 17.76 & 30.87 \\
\hline
RAS-Std & 7 & 25.0\% & 1.45 & 31.99 & 21.7 & 30.64 \\

RAS-Norm & 7 & 25.0\% & 1.45 & 31.65 & 21.24 & 30.59 \\

Random & 7 & 25.0\% & 1.45 & 33.26 & 22.10 &  30.67\\
\hline

\end{tabular}
\caption{Experiments on using L2 Norm as the metric for \ourmethod{} on Stable Diffusion 3. The sample ratio of the first 4 steps is 100\% to guarantee generation qualities.}
\label{tab:l2_norm}
\end{table*}

\clearpage

\section{Full Experiment Results of \ourmethod{}}
\label{sec:fullexp}
In this section, we present the full experiment results of \ourmethod{} against rectified flow, with the same settings as is described in the experiment section. Both Table \ref{tab:lumina_app} and \ref{tab:sd3_app} are ordered by the throughputs.


\begin{table*}[hb]
\centering
\begin{tabular}{lcccccc}
\hline
Method & Sample Steps & Sampling Ratio & Throughput (iter/s)$\uparrow$ & FID $\downarrow$ & sFID $\downarrow$ & CLIP score $\uparrow$ \\
\hline
\rowcolor{gray!10} RFlow & 30 & 100.0\% & 0.11 & 22.46 & 16.59 & 30.47 \\
RAS & 30 & 75.0\% & 0.14 & 23.31 & 17.73 & 30.49 \\
\rowcolor{gray!10} RFlow & 23 & 100.0\% & 0.15 & 23.10 & 17.91 & 30.42 \\
RAS & 30 & 50.0\% & 0.18 & 24.10 & 18.83 & 30.51 \\
\rowcolor{gray!10} RFlow & 15 & 100.0\% & 0.23 & 24.88 & 21.02 & 30.25 \\
RAS & 30 & 25.0\% & 0.26 & 27.44 & 20.95 & 30.45 \\
RAS & 15 & 75.0\% & 0.27 & 26.82 & 23.33 & 30.26 \\
RAS & 30 & 12.5\% & 0.31 & 33.64 & 23.44 & 30.36 \\

RAS & 15 & 50.0\% & 0.33 & 28.48 & 25.17 & 30.29 \\
\rowcolor{gray!10} RFlow & 10 & 100.0\% & 0.34 & 31.35 & 27.84 & 29.74 \\
RAS & 10 & 75.0\% & 0.40 & 34.19 & 30.57 & 29.79 \\
RAS & 15 & 25.0\% & 0.43 & 33.28 & 27.41 & 30.24 \\
RAS & 15 & 12.5\% & 0.48 & 39.75 & 28.88 & 30.14 \\


RAS & 10 & 50.0\% & 0.48 & 36.18 & 32.36 & 29.86 \\
\rowcolor{gray!10} RFlow & 7 & 100.0\% & 0.49 & 48.19 & 38.60 & 28.65 \\
RAS & 7 & 75.0\% & 0.54 & 50.45 & 40.19 & 28.78 \\
RAS & 10 & 25.0\% & 0.59 & 42.96 & 33.51 & 29.91 \\
RAS & 7 & 50.0\% & 0.61 & 51.78 & 40.51 & 28.82 \\
RAS & 6 & 75.0\% & 0.62 & 66.12 & 46.58 & 27.80 \\
RAS & 10 & 12.5\% & 0.65 & 47.34 & 32.70 & 29.75 \\
RAS & 6 & 50.0\% & 0.67 & 66.54 & 46.71 & 27.83 \\

RAS & 7 & 25.0\% & 0.70 & 53.93 & 39.80 & 28.85 \\
RAS & 7 & 12.5\% & 0.74 & 54.62 & 40.23 & 28.83 \\
RAS & 6 & 25.0\% & 0.74 & 67.16 & 46.46 & 27.85 \\
RAS & 5 & 75.0\% & 0.75 & 99.01 & 56.26 & 26.02 \\
RAS & 6 & 12.5\% & 0.78 & 67.88 & 45.89 & 27.83 \\
\rowcolor{gray!10} RFlow & 5 & 100.0\% & 0.69 & 96.53 & 59.26 & 26.03 \\
RAS & 5 & 50.0\% & 0.83 & 99.81 & 56.57 & 26.01 \\
RAS & 5 & 25.0\% & 0.95 & 101.50 & 56.40 & 25.93 \\
RAS & 5 & 12.5\% & 1.00 & 102.90 & 55.25 & 25.84 \\

\rowcolor{gray!10} RFlow & 3 & 100.0\% & 1.15 & 256.90 & 94.80 & 19.67 \\
\hline
\end{tabular}
\caption{Full experiment results of \ourmethod{} and rectified flow on Lumina-Next-T2I and COCO Val2014 1024$\times$1024.\\~\\~\\~\\~\\~\\~\\~\\~\\~\\}

\label{tab:lumina_app}
\end{table*}



\begin{table*}[th]
\centering
\begin{tabular}{lcccccc}
\hline
Method & Sample Steps & Sampling Ratio & Throughput (iter/s)$\uparrow$ & FID $\downarrow$ & sFID $\downarrow$ & CLIP score $\uparrow$ \\
\hline
\rowcolor{gray!10}
RFlow & 28 & 100\% & 0.26 & 25.8 & 15.32 & 31.4 \\
RAS & 28 & 75.0\% & 0.33 & 24.43 & 15.94 & 31.39 \\
RAS & 28 & 50.0\% & 0.42 & 24.86 & 16.88 & 31.36 \\
\rowcolor{gray!10}
RFlow & 14 & 100\% & 0.51 & 24.49 & 14.78 & 31.34 \\
RAS & 28 & 25.0\% & 0.55 & 25.16 & 17.11 & 31.29 \\
\rowcolor{gray!10}
RFlow & 12 & 100\% & 0.59 & 24.36 & 14.89 & 31.3 \\
RAS & 14 & 75.0\% & 0.62 & 23.61 & 15.92 & 31.35 \\
RAS & 28 & 12.5\% & 0.63 & 25.72 & 17.3 & 31.22 \\

\rowcolor{gray!10}
RFlow & 10 & 100\% & 0.71 & 24.17 & 15.39 & 31.22 \\


RAS & 14 & 50.0\% & 0.74 & 24.6 & 17.24 & 31.32 \\
RAS & 14 & 25.0\% & 0.91 & 25.88 & 17.97 & 31.24 \\

RAS & 10 & 75.0\% & 0.91 & 24.39 & 16.29 & 31.12 \\
RAS & 14 & 12.5\% & 0.98 & 26.48 & 18.14 & 31.18 \\
RAS & 10 & 50.0\% & 1.0 & 27.1 & 17.5 & 30.93 \\
\rowcolor{gray!10}
RFlow & 7 & 100\% & 1.01 & 27.23 & 17.76 & 30.87 \\

RAS & 7 & 75.0\% & 1.16 & 27.57 & 18.76 & 30.81 \\
RAS & 10 & 25.0\% & 1.2 & 30.97 & 18.36 & 30.67 \\
RAS & 10 & 12.5\% & 1.3 & 35.81 & 18.41 & 30.13 \\


RAS & 7 & 50.0\% & 1.3 & 30.04 & 20.34 & 30.73 \\
RAS & 6 & 75.0\% & 1.3 & 31.23 & 19.98 & 30.48 \\
RAS & 6 & 50.0\% & 1.41 & 32.21 & 20.86 & 30.43 \\
\rowcolor{gray!10}
RFlow & 5 & 100\% & 1.43 & 39.7 & 22.34 & 29.84 \\
RAS & 7 & 25.0\% & 1.45 & 31.99 & 21.7 & 30.64 \\
RAS & 7 & 12.5\% & 1.48 & 32.86 & 22.1 & 30.55 \\

RAS & 6 & 25.0\% & 1.52 & 33.24 & 21.51 & 30.36 \\
RAS & 6 & 12.5\% & 1.57 & 33.81 & 21.62 & 30.33 \\

RAS & 5 & 75.0\% & 1.59 & 44.02 & 23.14 & 29.53 \\
RAS & 5 & 50.0\% & 1.75 & 48.65 & 24.51 & 29.29 \\
\rowcolor{gray!10}
RFlow & 4 & 100\% & 1.79 & 61.92 & 27.42 & 28.45 \\
RAS & 5 & 25.0\% & 1.94 & 51.92 & 25.67 & 29.06 \\
RAS & 5 & 12.5\% & 1.99 & 53.24 & 26.04 & 28.94 \\

\rowcolor{gray!10}
RFlow & 3 & 100\% & 2.38 & 121.61 & 36.92 & 25.32 \\
\hline
\end{tabular}
\caption{Full experiment results of \ourmethod{} and rectified flow on Stable Diffusion 3 and COCO Val2014 1024$\times$1024.}
\label{tab:sd3_app}
\end{table*}

\clearpage



% \section{Questionnaire for Human Evaluation}
% \label{sec:questionnaire}
% This section contains the questionnaire we used for the human evaluation we mentioned in Section \ref{sec.exp}.\\
% \\

% \centerline{\textbf{Text-to-Image Quality Preference Survey}}

% We are conducting an evaluation of two image generation methods. You will be presented with 14 pairs of images, each created by one of the two methods, with the order of the images shuffled for objectivity. Please select your preference for the shown images. Thank you for your participation and cooperation.


% \begin{enumerate}[label=\textbf{Q\arabic*.}, left=0pt]
%     \item A massive alien spaceship that is shaped like a pretzel. \\
%     A.\\
%     \includegraphics[width=0.4\textwidth]{pics/human/dense_spaceship.png}\\
%     B. \\
%     \includegraphics[width=0.4\textwidth]{pics/human/sparse_spaceship.png}\\
%     \begin{itemize}[label=$\Box$, left=0pt]
%         \item A is obviously better than B.
%         \item A is slightly better than B.
%         \item They are of similar qualities.
%         \item B is slightly better than A.
%         \item B is obviously better than A.
%     \end{itemize}

%     \item Upper body of a young woman in a Victorian-era outfit with brass goggles and leather straps. Background shows an industrial revolution cityscape with smoky skies and tall, metal structures. \\
%     A.\\
%     \includegraphics[width=0.4\textwidth]{pics/human/sparse_woman.png}\\
%     B. \\
%     \includegraphics[width=0.4\textwidth]{pics/human/dense_woman.png}\\
%     \begin{itemize}[label=$\Box$, left=0pt]
%         \item A is obviously better than B.
%         \item A is slightly better than B.
%         \item They are of similar qualities.
%         \item B is slightly better than A.
%         \item B is obviously better than A.
%     \end{itemize}

%     \item This dreamlike digital art captures a vibrant, kaleidoscopic bird in a lush rainforest. \\
%     A.\\
%     \includegraphics[width=0.4\textwidth]{pics/human/sparse_bird.png}\\
%     B. \\
%     \includegraphics[width=0.4\textwidth]{pics/human/dense_bird.png}\\
%     \begin{itemize}[label=$\Box$, left=0pt]
%         \item A is obviously better than B.
%         \item A is slightly better than B.
%         \item They are of similar qualities.
%         \item B is slightly better than A.
%         \item B is obviously better than A.
%     \end{itemize}
%     \vspace{4cm}
%     \item A cat wearing a cowboy hat and sunglasses and standing in front of a rusty old white spaceship at sunrise. Pixar cute. Detailed anime illustration. \\
%     A.\\
%     \includegraphics[width=0.4\textwidth]{pics/human/dense_cat.png}\\
%     B. \\
%     \includegraphics[width=0.4\textwidth]{pics/human/sparse_cat.png}\\
%     \begin{itemize}[label=$\Box$, left=0pt]
%         \item A is obviously better than B.
%         \item A is slightly better than B.
%         \item They are of similar qualities.
%         \item B is slightly better than A.
%         \item B is obviously better than A.
%     \end{itemize}

%     \clearpage
    
%     \item A kangaroo holding a beer, wearing ski goggles and passionately singing silly songs. \\
%     A.\\
%     \includegraphics[width=0.4\textwidth]{pics/human/sparse_kangaroo.png}\\
%     B. \\
%     \includegraphics[width=0.4\textwidth]{pics/human/dense_kangaroo.png}\\
%     \begin{itemize}[label=$\Box$, left=0pt]
%         \item A is obviously better than B.
%         \item A is slightly better than B.
%         \item They are of similar qualities.
%         \item B is slightly better than A.
%         \item B is obviously better than A.
%     \end{itemize}
%     \vspace{4cm}
%     \item A photorealistic image of a Pagani Huayra driving through a city at night with glowing city lights in the background. \\
%     A.\\
%     \includegraphics[width=0.4\textwidth]{pics/human/dense_car.png}\\
%     B. \\
%     \includegraphics[width=0.4\textwidth]{pics/human/sparse_car.png}\\
%     \begin{itemize}[label=$\Box$, left=0pt]
%         \item A is obviously better than B.
%         \item A is slightly better than B.
%         \item They are of similar qualities.
%         \item B is slightly better than A.
%         \item B is obviously better than A.
%     \end{itemize}
%     \clearpage
%     \item A cheeseburger with juicy beef patties and melted cheese sits on top of a toilet that looks like a throne and stands in the middle of the royal chamber. \\
%     A.\\
%     \includegraphics[width=0.4\textwidth]{pics/human/sparse_burger.png}\\
%     B. \\
%     \includegraphics[width=0.4\textwidth]{pics/human/dense_burger.png}\\
%     \begin{itemize}[label=$\Box$, left=0pt]
%         \item A is obviously better than B.
%         \item A is slightly better than B.
%         \item They are of similar qualities.
%         \item B is slightly better than A.
%         \item B is obviously better than A.
%     \end{itemize}
    
%     \vspace{4cm}
%     \item A detailed photorealistic image of a steampunk locomotive on a platform with sharp lines, surrounded by light purple fog. \\
%     A.\\
%     \includegraphics[width=0.4\textwidth]{pics/human/dense_train.png}\\
%     B. \\
%     \includegraphics[width=0.4\textwidth]{pics/human/sparse_train.png}\\
%     \begin{itemize}[label=$\Box$, left=0pt]
%         \item A is obviously better than B.
%         \item A is slightly better than B.
%         \item They are of similar qualities.
%         \item B is slightly better than A.
%         \item B is obviously better than A.
%     \end{itemize}
%     \clearpage
%     \item An entire universe inside a bottle sitting on the shelf at Walmart on sale. \\
%     A.\\
%     \includegraphics[width=0.4\textwidth]{pics/human/sparse_bottle.png}\\
%     B. \\
%     \includegraphics[width=0.4\textwidth]{pics/human/dense_bottle.png}\\
%     \begin{itemize}[label=$\Box$, left=0pt]
%         \item A is obviously better than B.
%         \item A is slightly better than B.
%         \item They are of similar qualities.
%         \item B is slightly better than A.
%         \item B is obviously better than A.
%     \end{itemize}
%     \vspace{4cm}
%     \item Snow-covered mountains reflected in a crystal-clear alpine lake, with a small wooden cabin nestled among tall pine trees. \\
%     A.\\
%     \includegraphics[width=0.4\textwidth]{pics/human/sparse_mountain.png}\\
%     B. \\
%     \includegraphics[width=0.4\textwidth]{pics/human/dense_mountain.png}\\
%     \begin{itemize}[label=$\Box$, left=0pt]
%         \item A is obviously better than B.
%         \item A is slightly better than B.
%         \item They are of similar qualities.
%         \item B is slightly better than A.
%         \item B is obviously better than A.
%     \end{itemize}
%     \clearpage
%     \item A red heart in the clouds over water, in the style of zbrush, light pink and sky-blue, I can't believe how beautiful this is, hyperbolic expression, nyc explosion coverage, unreal engine 5, robert bissell.\\
%     A.\\
%     \includegraphics[width=0.4\textwidth]{pics/human/sparse_heart.png}\\
%     B. \\
%     \includegraphics[width=0.4\textwidth]{pics/human/dense_heart.png}\\
%     \begin{itemize}[label=$\Box$, left=0pt]
%         \item A is obviously better than B.
%         \item A is slightly better than B.
%         \item They are of similar qualities.
%         \item B is slightly better than A.
%         \item B is obviously better than A.
%     \end{itemize}
%     \vspace{4cm}
%     \item Upper body of a young woman adorned in elaborate ancient Egyptian clothing, with a headdress featuring golden ornaments and colorful gemstones.The background shows the inside of a grand temple with hieroglyphics on the walls. \\
%     A.\\
%     \includegraphics[width=0.4\textwidth]{pics/human/sparse_egypt.png}\\
%     B. \\
%     \includegraphics[width=0.4\textwidth]{pics/human/dense_egypt.png}\\
%     \begin{itemize}[label=$\Box$, left=0pt]
%         \item A is obviously better than B.
%         \item A is slightly better than B.
%         \item They are of similar qualities.
%         \item B is slightly better than A.
%         \item B is obviously better than A.
%     \end{itemize}
%     \clearpage
%     \item The Hulk is in a colorful gothic background, with highly detailed dramatic lighting and a photo realistic style, rendered in 8K resolution. \\
%     A.\\
%     \includegraphics[width=0.4\textwidth]{pics/human/sparse_hulk.png}\\
%     B. \\
%     \includegraphics[width=0.4\textwidth]{pics/human/dense_hulk_.png}\\
%     \begin{itemize}[label=$\Box$, left=0pt]
%         \item A is obviously better than B.
%         \item A is slightly better than B.
%         \item They are of similar qualities.
%         \item B is slightly better than A.
%         \item B is obviously better than A.
%     \end{itemize}
%     \vspace{4cm}
%     \item A car made out of vegetables. \\
%     A.\\
%     \includegraphics[width=0.4\textwidth]{pics/human/dense_vege.png}\\
%     B. \\
%     \includegraphics[width=0.4\textwidth]{pics/human/sparse_vege.png}\\
%     \begin{itemize}[label=$\Box$, left=0pt]
%         \item A is obviously better than B.
%         \item A is slightly better than B.
%         \item They are of similar qualities.
%         \item B is slightly better than A.
%         \item B is obviously better than A.
%     \end{itemize}

% \end{enumerate}

\clearpage

