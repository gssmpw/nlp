\usepackage{balance}       %
\usepackage{graphics}      %
\usepackage{color}
\usepackage{booktabs}
\usepackage{textcomp}
\usepackage{subcaption}
\usepackage{enumerate}
\usepackage{xcolor}
\usepackage{lipsum}%
\usepackage{makecell}
\usepackage{multicol}
\usepackage{multirow}
\usepackage{array}
\usepackage{verbatimbox}
\usepackage{enumitem}
\usepackage{amsmath}
\usepackage{stfloats}
\usepackage{graphicx}
\usepackage{amsthm}
\usepackage{listings}
\usepackage{caption} 
\usepackage[export]{adjustbox}
\usepackage{xspace}
\usepackage{epsfig}
\usepackage[linesnumbered]{algorithm2e}
\usepackage{algpseudocode}
\usepackage{tabularx}
\usepackage{arydshln}
\usepackage[bottom]{footmisc}
\usepackage{tcolorbox}
\usepackage{stackengine}
\usepackage{placeins}
\usepackage[normalem]{ulem}
\usepackage{listings}
\usepackage{color} %

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}

\lstset{style=mystyle}


\newcommand*{\eg}{\textit{e.g.},\xspace}
\newcommand*{\ie}{\textit{i.e.},\xspace}
\newcommand*{\vs}{\textit{vs.}\xspace}
\newcommand*{\etc}{\textit{etc.}}
\newcommand*{\st}{\textit{s.t.},\xspace}
\newcommand*{\etal}{\textit{et~al.}\xspace}
\newcommand*{\hlinespace}{\addlinespace[1ex]\hline\addlinespace[1ex]}
\newcommand*{\hdashlinespace}{\addlinespace[1ex]\hdashline\addlinespace[1ex]}
\newcommand*{\cdashlinespace}[1]{\addlinespace[1ex]\cdashline{#1}\addlinespace[1ex]}
\newcommand{\clinespace}[1]{\addlinespace[1ex]\cline{#1}\addlinespace[1ex]}

\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{R}[1]{>{\raggedleft\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}

\newcommand\pquote[2]{{``\textit{#2}'' (DP#1)}}
\newcommand\epquote[2]{{``\textit{#2}'' (EP#1)}}

\makeatletter
\def\thickhline{%
  \noalign{\ifnum0=`}\fi\hrule \@height \thickarrayrulewidth \futurelet
   \reserved@a\@xthickhline}
\def\@xthickhline{\ifx\reserved@a\thickhline
               \vskip\doublerulesep
               \vskip-\thickarrayrulewidth
             \fi
      \ifnum0=`{\fi}}
\makeatother

\makeatletter
\def\thickhlinespace{%
  \addlinespace[1ex]
  \noalign{\ifnum0=`}\fi\hrule \@height \thickarrayrulewidth \futurelet
   \reserved@a\@xthickhline
   \addlinespace[1ex]
   }
\def\@xthickhlinespace{\ifx\reserved@a\thickhline
               \vskip\doublerulesep
               \vskip-\thickarrayrulewidth
             \fi
      \ifnum0=`{\fi}}
\makeatother

\newlength{\thickarrayrulewidth}
\setlength{\thickarrayrulewidth}{3\arrayrulewidth}


\newlength\Origarrayrulewidth

\newcommand{\Cline}[1]{%
 \noalign{\global\setlength\Origarrayrulewidth{\arrayrulewidth}}%
 \noalign{\global\setlength\arrayrulewidth{2pt}}\cline{#1}%
 \noalign{\global\setlength\arrayrulewidth{\Origarrayrulewidth}}%
}

\newcommand\Thickvrule[1]{%
  \multicolumn{1}{!{\vrule width 2pt}c!{\vrule width 2pt}}{#1}%
}

\newcommand\Thickvrulel[1]{%
  \multicolumn{1}{!{\vrule width 2pt}c|}{#1}%
}

\newcommand\Thickvruler[1]{%
  \multicolumn{1}{|c!{\vrule width 2pt}}{#1}%
}

\DeclareMathOperator*{\argmin}{argmin}   %
\DeclareMathOperator*{\argmax}{argmax}   %

\newcommand{\algrule}[1][.2pt]{\par\vskip.5\baselineskip\hrule height #1\par\vskip.5\baselineskip}

\algnewcommand{\IfThenElse}[3]{%
  \State \algorithmicif\ #1\ \algorithmicthen\ #2\ \algorithmicelse\ #3}
  
\newenvironment{s_itemize}{
\begin{itemize}
  \setlength{\itemsep}{3pt}
  \setlength{\parskip}{0pt}
  \setlength{\parsep}{0pt}
}{\end{itemize}}

\newenvironment{s_enumerate}{
\begin{enumerate}
  \setlength{\itemsep}{3pt}
  \setlength{\parskip}{0pt}
  \setlength{\parsep}{0pt}
}{\end{enumerate}}

\newcommand\needinput[1]{\textcolor{red}{\textit{#1}}}


\newcommand\downred[1]{\textcolor{downredcolor}{#1}}
\newcommand\upgreen[1]{\textcolor{upgreencolor}{#1}}
\definecolor{downredcolor}{HTML}{e31a1c}
\definecolor{upgreencolor}{HTML}{33a02c}

\definecolor{DarkGreen}{HTML}{5DAC81}
 \newcommand\arxiv[1]{\textcolor{black}{#1}}
\newcommand\review[1]{\textcolor{black}{#1}} %
\newcommand\minorreview[1]{\textcolor{black}{#1}} %


\newcommand\imwutreview[1]{\textcolor{black}{#1}}
\newcommand\imwutminorreview[1]{\textcolor{black}{#1}}

\newcommand\ziqi[1]{
\textcolor{violet}{Ziqi: #1}
}

\newenvironment{prompt}{
\VerbatimEnvironment
\begin{center}%
\begin{minipage}{.8\linewidth}%
\begin{minted}[frame=lines,breaklines,breakindent=0cm,breaksymbol={}]{text}}{
\end{minted}%
\end{minipage}%
\end{center}%
}
