\begin{tikzpicture}[node distance=2cm] % Nodes 
\node (env) [startstop] {Environment Description};
\node (highllm) [process, below of=env, yshift=-1cm] {High-Level LLM}; 
\node (highkb) [process, below of=highllm, yshift=-1cm] {High Level KB}; 
\node (cc1) [decision, below of=highkb, yshift=-1cm] {CC}; 
\node (lowllm) [process, right of=highllm, xshift=4cm] {Low-Level LLM}; 
\node (kb) [process, below of=lowllm, yshift=-1cm] {KB}; 
\node (cc2) [decision, below of=kb, yshift=-1cm] {CC}; 
\node (totalorder) [process, right of=lowllm, xshift=4cm] {Total-Order Plan};
\node (totalorderplan) [process, below of=totalorder, yshift=-1cm] {Total Order Plan}; 
\node (partialorder) [process, right of=totalorder, xshift=4cm] {Total-Order to Partial-Order}; 
\node (partialorderplan) [process, below of=partialorder, yshift=-1cm] {Partial Order Plan}; 
\node (partialorderstn) [process, right of=partialorder, xshift=4cm] {Partial-Order to STN}; 
\node (stn) [process, below of=partialorderstn, yshift=-1cm] {STN}; 
\node (nc) [decision, below of=stn, yshift=-1cm] {NC}; 
\node (stntobt) [process, below of=nc, yshift=-1cm] {STN to BT}; 
\node (bt) [process, below of=stntobt, yshift=-1cm] {BT}; 
\node (execution) [startstop, left of=bt, xshift=-4cm] {Execution}; 
% Arrows 
\draw [arrow] (env) -- (highllm); \draw [arrow] (highllm) -- (highkb); 
\draw [arrow] (highkb) -- (cc1); \draw [arrow] (cc1) -- (execution); 
\draw [arrow] (lowllm) -- (kb); \draw [arrow] (kb) -- (cc2);
\draw [arrow] (cc2) -- (execution);
\draw [arrow] (totalorder) -- (totalorderplan); 
\draw [arrow] (partialorder) -- (partialorderplan); 
\draw [arrow] (partialorderstn) -- (stn); 
\draw [arrow] (stn) -- (nc);
\draw [arrow] (nc) -- (stntobt);
\draw [arrow] (stntobt) -- (bt); 
\draw [arrow] (bt) -- (execution); 
% Additional arrows 
\draw [arrow] (env) -| (lowllm); 
\draw [arrow] (env) -| (totalorder); 
\draw [arrow] (env) -| (partialorder); 
\draw [arrow] (env) -| (partialorderstn); 
\draw [arrow] (totalorderplan) |- (partialorder);
\draw [arrow] (partialorderplan) |- (partialorderstn); 
\draw [arrow] (execution) |- (env); 
\end{tikzpicture}

