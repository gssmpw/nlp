%% V1
% \begin{table*}[htbp]
%     \caption{Comparison of the proposed method with the state-of-the-art methods on GRDBench~\cite{dgdr2023} dataset.}
%     \renewcommand{\arraystretch}{1.2} 
%     \begin{center}
%         \begin{tabular}{l|ccc|ccc|ccc|ccc|ccc}
%             \hline
%             \multirow{2}{*}{Method} & \multicolumn{3}{c}{DEEPDR} & \multicolumn{3}{c}{APTOS} & \multicolumn{3}{c}{RLDR} & \multicolumn{3}{c}{IDRID} & \multicolumn{3}{c}{Average} \\
%             \cline{2-16}
%              & AUC & ACC & F1 & AUC & ACC & F1 & AUC & ACC & F1 & AUC & ACC & F1 & AUC & ACC & F1 \\
%             \hline
%             ERM~\cite{vapnik1999nature}  & $0.779$ & $0.461$ & $0.322$ & $0.817$ & $0.303$ & $0.288$ & $0.822$ & $0.359$ & $0.273$ & $0.743$ & $0.522$ & $0.360$ & $0.790$ & $0.411$ & $0.311$ \\
%             CABNet  & $0.757$ & $0.366$ & $0.316$ & $0.810$ & $0.248$ & $0.219$ & $0.831$ & $0.364$ & $0.231$ & $0.742$ & $0.530$ & $0.323$ & $0.785$ & $0.377$ & $0.272$ \\
%             GREEN  & $0.773$ & $0.360$ & $0.277$ & $0.817$ & $0.253$ & $0.230$ & $0.822$ & $0.376$ & $0.261$ & $0.738$ & $0.495$ & $0.329$ & $0.787$ & $0.371$ & $0.274$ \\
%             MixStyleNet  & $0.486$ & $0.273$ & $0.086$ & $0.579$ & $0.471$ & $0.189$ & $0.712$ & $0.326$ & $0.098$ & $0.573$ & $0.428$ & $0.164$ & $0.588$ & $0.374$ & $0.134$ \\
%             MixupNet  & $0.794$ & $0.422$ & $0.327$ & $0.788$ & $0.244$ & $0.192$ & $0.827$ & $0.362$ & $0.221$ & $0.749$ & $0.517$ & $0.350$ & $0.790$ & $0.386$ & $0.272$ \\
%             VREx  & $0.772$ & $0.296$ & $0.216$ & $0.788$ & $0.292$ & $0.233$ & $0.829$ & $0.382$ & $0.256$ & $0.734$ & $0.449$ & $0.307$ & $0.781$ & $0.355$ & $0.253$ \\
%             BSDA  & $0.799$ & $0.490$ & $0.306$ & $0.769$ & $0.204$ & $0.078$ & $0.814$ & $0.353$ & $0.221$ & $0.743$ & $0.535$ & $0.273$ & $0.781$ & $0.395$ & $0.220$ \\
%             VIRM  & $0.787$ & $0.486$ & $0.284$ & $0.781$ & $0.248$ & $0.196$ & $0.831$ & $0.382$ & $0.255$ & $0.726$ & $0.481$ & $0.303$ & $0.781$ & $0.399$ & $0.260$ \\
%             GDRNet~\cite{dgdr2023}  & $0.764$ & $0.427$ & $0.353$ & $0.843$ & $0.527$ & $0.450$ & $0.824$ & $0.471$ & $0.384$ & $0.807$ & $0.458$ & $0.435$ & $0.810$ & $0.470$ & $0.405$ \\
%             \hline
%             MedVIRM  & $0.772$ & $0.501$ & $0.350$ & $0.801$ & $0.291$ & $0.255$ & $0.817$ & $0.415$ & $0.344$ & $0.741$ & $0.509$ & $0.297$ & $0.783$ & $0.429$ & $0.311$ \\
%             \hline
%         \end{tabular}
%     \label{tab:comparison}
%     \end{center}
% \end{table*}




\begin{table*}[htbp]
    \caption{
        Comparison of the proposed method with the state-of-the-art methods on GRDBench~\cite{dgdr2023} dataset.
        Best and second-best results are highlighted in \colorbox[HTML]{ACDBDF}{\textbf{Best}} and \colorbox[HTML]{f0ece2}{\textbf{Second-Best}}, respectively.
    }
    \renewcommand{\arraystretch}{1.2} 
    \begin{center}
        \resizebox{\textwidth}{!}{ 
            \begin{tabular}{l|ccc|ccc|ccc|ccc|ccc}
                \hline
                \multirow{2}{*}{Method} & \multicolumn{3}{c}{\textbf{DEEPDR}} & \multicolumn{3}{c}{\textbf{APTOS}} & \multicolumn{3}{c}{\textbf{RLDR}} & \multicolumn{3}{c}{\textbf{IDRID}} & \multicolumn{3}{c}{\textbf{Average}} \\
                \cline{2-16}
                & AUC & ACC & F1 & AUC & ACC & F1 & AUC & ACC & F1 & AUC & ACC & F1 & AUC & ACC & F1 \\
                \hline
                ERM~\cite{vapnik1999nature}  & $0.676$ & $0.326$ & $0.137$ & $0.640$ & $0.201$ & $0.067$ & $0.755$ & $0.324$ & $0.099$ & $0.649$ & $0.535$ & $0.174$ & $0.680$ & $0.347$ & $0.119$ \\
                CABNet~\cite{he2020cabnet}  & $0.634$ & $0.417$ & $0.188$ & $0.558$ & $0.202$ & $0.067$ & $0.660$ & $0.324$ & $0.098$ & $0.594$ & $0.468$ & $0.175$ & $0.612$ & $0.353$ & $0.132$ \\
                Fishr~\cite{rame2021ishr}  & \cellcolor{1st} $0.794$ & \cellcolor{1st} $0.547$ & \cellcolor{1st} $0.302$ & $0.774$ & $0.232$ & $0.149$ & $0.804$ & $0.355$ & $0.190$ &  $0.726$ &\cellcolor{1st} $0.517$ & $0.272$ & $0.774$ & \cellcolor{1st} $0.413$ & $0.228$ \\
                % GDRNet~\cite{dgdr2023}  & $0.599$ & $0.339$ & $0.243$ & $0.650$ & \cellcolor{1st} $0.373$ & \cellcolor{1st} $0.243$ & $0.650$ & $0.322$ & $0.252$ & $0.635$ & $0.251$ & $0.188$ & $0.633$ & $0.321$ & $0.232$ \\
                GDRNet~\cite{dgdr2023} & $0.681$ & $0.371$ & $0.277$ & $0.694$ & \cellcolor{1st} $0.403$ & $0.261$ & $0.708$ & $0.283$ & $0.246$ & $0.659$ & $0.272$ & $0.224$ & $0.685$ & $0.332$ &\cellcolor{2nd}  $0.252$ \\ 
                GREEN~\cite{liu2020green}  & $0.742$ & \cellcolor{2nd} $0.494$ & \cellcolor{2nd} $0.278$ & $0.704$ & $0.202$ & $0.076$ & $0.779$ & $0.347$ & $0.214$ & $0.666$ &  \cellcolor{2nd} $0.516$ & $0.224$ & $0.723$ & \cellcolor{2nd} $0.390$ & $0.198$ \\
                IRM~\cite{arjovsky2019invariant}   &  $0.767$ & $0.297$ & $0.213$ & $0.763$ & $0.222$ & $0.148$ & $0.795$ &\cellcolor{1st} $0.388$ &\cellcolor{2nd} $0.261$ & \cellcolor{2nd} $0.740$ & $0.513$ & \cellcolor{2nd} $0.317$ & $0.766$ & $0.355$ &  $0.235$ \\
                VREx~\cite{krueger2021out}  & $0.752$ & $0.262$ & $0.183$ & $0.748$ & $0.217$ & $0.124$ & $0.773$ & $0.351$ & $0.191$ & $0.725$ & $0.472$ & $0.309$ & $0.749$ & $0.325$ & $0.202$ \\            
                \hline
                VIRM~\cite{zhu2024enlarging}  & \cellcolor{2nd} $0.774$ & $0.356$ & $0.220$ & $0.801$ & $0.240$ & $0.190$ & $0.804$ & $0.378$ & $0.283$ & $0.728$ & $0.448$ & $0.276$ & $0.776$ & $0.356$ & $0.242$ \\
                \hline
                \textbf{MedSDA} & $0.756$ & $0.298$ & $0.190$ & \cellcolor{2nd} $0.803$ & \cellcolor{2nd} $0.245$ & \cellcolor{2nd} $0.200$ & \cellcolor{1st} $0.817$ & \cellcolor{2nd} $0.386$ & $0.251$ & $0.731$ & $0.508$ & $0.292$ &  \cellcolor{2nd} $0.777$ & $0.359$ & $0.233$ \\
                \textbf{Ours}  &  $0.767$ & $0.338$ & $0.213$ & \cellcolor{1st} $0.806$ & $0.236$ & $0.185$ & \cellcolor{2nd}$0.811$ &  $0.384$ &\cellcolor{1st} $0.291$ & \cellcolor{1st} $0.746$ & $0.476$ & \cellcolor{1st} $0.370$ & \cellcolor{1st} $0.782$ & $0.358$ & \cellcolor{1st} $0.265$ \\
                \hline
        \end{tabular}
    \label{tab:comparison}}
    \end{center}
\end{table*}


% \begin{table*}[ht]
%     \caption{Model Parameters and FLOPs for Different Algorithms}
%     \renewcommand{\arraystretch}{1.2} 
%     \begin{center}
%         % \resizebox{\textwidth}{!}{ 
%             \begin{tabular}{l|cccccc}
%             \hline
%             \textbf{Model} & \textbf{Backbone Params} & \textbf{Add. Params} & \textbf{Total Params} & \textbf{Backbone GFLOPs} & \textbf{Add. GFLOPs} & \textbf{Total GFLOPs} \\ \hline
%             ERM~\cite{vapnik1999nature} \\
%             CABNet~\cite{he2020cabnet}\\
%             Fishr~\cite{rame2021ishr} \\
%             GDRNet~\cite{dgdr2023}  \\
%             GREEN~\cite{liu2020green}  \\
%             IRM~\cite{arjovsky2019invariant}   \\
%             VREx~\cite{krueger2021out} \\
%             BSDA~\cite{zhu2024bayesian}  \\
%             VIRM~\cite{zhu2024enlarging}  \\
%             \hline
%             \textbf{MedSDA}(Ours) \\
%             \textbf{MedVIRM}(Ours)  \\
%             \hline
%         \end{tabular}
%     \label{tab:model_parameters}
%     % }
%     \end{center}
% \end{table*}
