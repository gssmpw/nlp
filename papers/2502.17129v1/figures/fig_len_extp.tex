\tikzstyle{my-box}=[
	rectangle,
	draw=black, % hidden-draw,
	rounded corners,
	text opacity=1,
	minimum height=1.5em,
	minimum width=5em,
	inner sep=2pt,
	align=center,
	fill opacity=.5,
	line width=0.8pt,
]
\tikzstyle{leaf}=[my-box, minimum height=1.5em,
	 text=black, align=left,font=\normalsize,
	inner xsep=10pt,
	inner ysep=4pt,
	line width=0.8pt,
]


\begin{figure*}[t!]
	\centering
	\resizebox{\textwidth}{!}{
		\begin{forest}
			forked edges,
			for tree={
				grow=east,
				reversed=true,
				anchor=base west,
				parent anchor=east,
				child anchor=west,
				base=center,
				font=\large,
				rectangle,
				draw=black, % hidden-draw,
				rounded corners,
				align=left,
				text centered,
				minimum width=4em,
				edge+={darkgray, line width=1pt},
				s sep=3pt,
				inner xsep=2pt,
				inner ysep=3pt,
				line width=0.8pt,
				ver/.style={rotate=90, child anchor=north, parent anchor=south, anchor=center, minimum width=19em, fill=gray!10},
			},
			where level=1{text width=10em, align=center, font=\normalsize,fill=green!10}{},
			where level=2{text width=16em, align=center, font=\normalsize, fill=orange!10}{},
			where level=3{text width=40em, align=left}{},
			where level=4{text width=18em,font=\normalsize,}{},
			where level=5{text width=18em,font=\normalsize,}{},
			[
				\textbf{Length Extrapolation}, ver
				[
                        \textbf{Preliminary~(\S\ref{sec2_1})}
                        [
                            \textbf{Position Embedding}
                            % [
                            %     Evolution of Mainstream Positional Embeddings, leaf
                            % ]
                            % [
                            %     RoPE and Its Advantages, leaf
                            % ]
                            [
                                \textbf{Absolute and Relative Position Embedding}, leaf
                            ]
                        ]
                        [
                            \textbf{Length Extrapolation}
                            % [
                            %     Early Works Before Linear Interpolation, leaf
                            % ]
                            [
                                \textbf{Distinguishing Weak and Strong Extrapolation}, leaf
                            ]
                        ]
                    ]
                    [
                        \textbf{RoPE Extrapolation}\\\newline\textbf{in Inference~(\S\ref{sec2_2})}
                        [
                            \textbf{Limiting Position Information}
                            [
                                Dynamic NTK~\citep{dynamicNTK}{,}ReRoPE~\citep{rerope}{,} SelfExtend~\citep{jin2024llm}{,} \\ DCA~\citep{an2024training}{,} 
                                String~\citep{an2024does}{,} InfLLM~\citep{xiao2024infllm}{,} \\ LongHeads~\citep{lu2024longheads}{,} ReAttention~\citep{liu2024reattention}, leaf
                            ]
                        ]
                        [
                            \textbf{Short-Context Collaboration}
                            [
                                PCW~\citep{ratner2022parallel}{,} NBCE~\citep{kexuefm9617}{,} LLM$\times$MapReduce~\citep{zhou2024llm}, leaf
                            ]
                        ]
                    ]
                    [
                        \textbf{RoPE Extrapolation}\\\newline\textbf{in Training~(\S\ref{sec2_3})}
                        [
                            \textbf{Position Interpolation}
                            [
                                LinearPI~\citep{chen2023extending}{,} Giraffe~\citep{pal2023giraffe}{,} YaRN~\citep{pengyarn}{,} \\ CodeLLaMA~\citep{roziere2023code}{,} LLaMA2Long~\citep{xiong2024effective}{,} \\ ScalingRoPE~\citep{liuscaling}{,} LongRoPE~\citep{ding2024longrope}{,} LWM~\citep{liu2024world}{,} \\
                                DPRoPE~\citet{wu2024extending}{,} CLEX~\citep{chenclex}, leaf
                            ]
                        ]
                        [
                            \textbf{Efficient Extrapolation}
                            [
                                LongLoRA~\citep{chenlonglora}{,} LandmarkAttention~\citep{mohtashami2023random} \\ FoT~\citep{tworkowski2024focused}{,} LongRecipe~\citep{hu2024longrecipe}{,} CREAM~\citep{wuefficient}{,} \\
                                PoSE~\citep{zhu2023pose}{,} RandPos~\citep{ruoss2023randomized}{,} CD-Pos~\citep{hu2024cd}, leaf
                            ]
                        ]
                    ]
                    [
                        \textbf{Extrapolation}\\\newline\textbf{Beyond RoPE~(\S\ref{sec2_4})}
                        [
                            \textbf{Exploration on NoPE}
                            [
                                \citet{haviv2022transformer}{,} \citet{chi2023latent}{,} NoPE~\citep{kazemnejad2024impact}{,} \citet{wang2024length}, leaf
                            ]
                        ]
                        [
                            \textbf{Other Explorations}
                            [
                                KERPLE~\citep{chi2022kerple}{,} FIRE~\citep{li2023functional}{,} 
                                Entropy-ABF~\citep{zhang2024extending}{,} \\ 
                                CoPE~\citep{golovneva2024contextual}{,} DAPE~\citep{zheng2024dape, zheng2024dape2}{,} \\
                                BiPE~\citep{dong2024exploring}{,} HiRoPE~\citep{zhang2024hirope}, leaf
                            ]
                        ]
                    ]
			]
		\end{forest}
	}
	\caption{An overview of length extrapolation of long-context LLMs.}
	\label{fig:len_extp}
\end{figure*}
