 % This must be in the first 5 lines to tell arXiv to use pdfLaTeX, which is strongly recommended.
\pdfoutput=1
% In particular, the hyperref package requires pdfLaTeX in order to break URLs across lines.

\documentclass[11pt]{article}

\usepackage[preprint]{acl}

\usepackage{times}
\usepackage{latexsym}
\usepackage{multicol}
\usepackage{multirow, makecell, caption}
\usepackage{colortbl}
\usepackage{tikz}
\usepackage{arydshln}
\usepackage{pgfplots}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{tabularx}
\usepackage{enumerate}
\usepackage{tcolorbox}
\usepackage{arydshln}
\usepackage{booktabs}
\usepackage{inconsolata}
\usepackage{microtype}
\usepackage{xcolor}
\usepackage{algorithm}
\usepackage{algorithmic}
\usepackage[utf8]{inputenc}
\usepackage{microtype}
\usepackage{inconsolata}
\usepackage{graphicx}
\usepackage{pifont}
\usepackage{xspace}
\usepackage{tcolorbox} 
\tcbuselibrary{listingsutf8}
\usepackage{listings}
\usepackage{hyperref}

\newcommand{\longfei}[1]{{\color{red} #1}}
\newcommand{\letian}[1]{\textcolor{teal}{\bf\small [#1 -- LT]}}
\newcommand{\jingbo}[1]{\textcolor{blue}{\bf\small [#1 -- JS]}}

\newcommand{\our}{UltraGen\xspace}
\newcommand{\sft}{auto-reconstruction\xspace}

\title{\our: Extremely Fine-grained Controllable Generation via\\Attribute Reconstruction and Global Preference Optimization}

\author{Longfei Yun \and Letian Peng \and Jingbo Shang\thanks{$\ $  Corresponding author. } \\
University of California, San Diego \\
  \texttt{\{loyun, lepeng, jshang\}@ucsd.edu}
  }

\begin{document}
\maketitle
\begin{abstract}
Fine granularity is an essential requirement for controllable text generation, which has seen rapid growth with the ability of LLMs.
However, existing methods focus mainly on a small set of attributes like 3 to 5, and their performance degrades significantly when the number of attributes increases to the next order of magnitude.
To address this challenge, we propose a novel zero-shot approach for extremely fine-grained controllable generation (EFCG), proposing \emph{auto-reconstruction (AR)} and \emph{global preference optimization (GPO)}.
In the AR phase, we leverage LLMs to extract soft attributes (e.g., \textit{Emphasis on simplicity and minimalism in design}) from raw texts, and combine them with programmatically derived hard attributes (e.g., \textit{The text should be between 300 and 400 words}) to construct massive (around $45$) multi-attribute requirements, which guide the fine-grained text reconstruction process under weak supervision.
In the GPO phase, we apply direct preference optimization (DPO) to refine text generation under diverse attribute combinations, enabling efficient exploration of the global combination space. 
Additionally, we introduce an efficient attribute sampling strategy to identify and correct potentially erroneous attributes, further improving global 
optimization.
Our framework significantly improves the constraint satisfaction rate (CSR) and text quality for EFCG by mitigating position bias and alleviating attention dilution.\footnote{Code: \href{https://github.com/LongfeiYun17/UltraGen}{https://github.com/LongfeiYun17/UltraGen}}
\end{abstract}

\input{latex/1.introduction}

\input{latex/2.related_works}

\input{latex/3.method}

\input{latex/4.experiments}

\input{latex/5.analysis}

\input{latex/6.conclusion}

\input{latex/7.limitation}

\bibliography{custom}

\appendix

\newpage
\input{latex/appendix}

\end{document}
