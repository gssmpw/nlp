% Highlight a newly defined term
\newcommand{\newterm}[1]{{\bf #1}}


\def\ceil#1{\lceil #1 \rceil}
\def\floor#1{\lfloor #1 \rfloor}
\def\1{\boldsymbol{1}}
\def\0{\boldsymbol{0}}
\newcommand{\train}{\mathcal{D}}
\newcommand{\valid}{\mathcal{D_{\mathrm{valid}}}}
\newcommand{\test}{\mathcal{D_{\mathrm{test}}}}

\def\eps{{\epsilon}}



% Vectors
\def\vzero{{\boldsymbol{0}}}
\def\vone{{\boldsymbol{1}}}
\def\vmu{{\boldsymbol{\mu}}}
\def\vsigma{{\boldsymbol{\sigma}}}
\def\vtheta{{\boldsymbol{\theta}}}
\def\vtau{{\boldsymbol{\tau}}}
\def\valpha{{\boldsymbol{\alpha}}}
\def\va{{\boldsymbol{a}}}
\def\vb{{\boldsymbol{b}}}
\def\vc{{\boldsymbol{c}}}
\def\vd{{\boldsymbol{d}}}
\def\ve{{\boldsymbol{e}}}
\def\vf{{\boldsymbol{f}}}
\def\vg{{\boldsymbol{g}}}
\def\vh{{\boldsymbol{h}}}
\def\vi{{\boldsymbol{i}}}
\def\vj{{\boldsymbol{j}}}
\def\vk{{\boldsymbol{k}}}
\def\vl{{\boldsymbol{l}}}
\def\vm{{\boldsymbol{m}}}
\def\vn{{\boldsymbol{n}}}
\def\vo{{\boldsymbol{o}}}
\def\vp{{\boldsymbol{p}}}
\def\vq{{\boldsymbol{q}}}
\def\vr{{\boldsymbol{r}}}
\def\vs{{\boldsymbol{s}}}
\def\vt{{\boldsymbol{t}}}
\def\vu{{\boldsymbol{u}}}
\def\vv{{\boldsymbol{v}}}
\def\vw{{\boldsymbol{w}}}
\def\vx{{\boldsymbol{x}}}
\def\vy{{\boldsymbol{y}}}
\def\vz{{\boldsymbol{z}}}

% Elements of vectors
\def\evalpha{{\alpha}}
\def\evbeta{{\beta}}
\def\evepsilon{{\epsilon}}
\def\evlambda{{\lambda}}
\def\evomega{{\omega}}
\def\evmu{{\mu}}
\def\evpsi{{\psi}}
\def\evsigma{{\sigma}}
\def\evtheta{{\theta}}
\def\eva{{a}}
\def\evb{{b}}
\def\evc{{c}}
\def\evd{{d}}
\def\eve{{e}}
\def\evf{{f}}
\def\evg{{g}}
\def\evh{{h}}
\def\evi{{i}}
\def\evj{{j}}
\def\evk{{k}}
\def\evl{{l}}
\def\evm{{m}}
\def\evn{{n}}
\def\evo{{o}}
\def\evp{{p}}
\def\evq{{q}}
\def\evr{{r}}
\def\evs{{s}}
\def\evt{{t}}
\def\evu{{u}}
\def\evv{{v}}
\def\evw{{w}}
\def\evx{{x}}
\def\evy{{y}}
\def\evz{{z}}

% Matrix
\def\mA{{\boldsymbol{A}}}
\def\mB{{\boldsymbol{B}}}
\def\mC{{\boldsymbol{C}}}
\def\mD{{\boldsymbol{D}}}
\def\mE{{\boldsymbol{E}}}
\def\mF{{\boldsymbol{F}}}
\def\mG{{\boldsymbol{G}}}
\def\mH{{\boldsymbol{H}}}
\def\mI{{\boldsymbol{I}}}
\def\mJ{{\boldsymbol{J}}}
\def\mK{{\boldsymbol{K}}}
\def\mL{{\boldsymbol{L}}}
\def\mM{{\boldsymbol{M}}}
\def\mN{{\boldsymbol{N}}}
\def\mO{{\boldsymbol{O}}}
\def\mP{{\boldsymbol{P}}}
\def\mQ{{\boldsymbol{Q}}}
\def\mR{{\boldsymbol{R}}}
\def\mS{{\boldsymbol{S}}}
\def\mT{{\boldsymbol{T}}}
\def\mU{{\boldsymbol{U}}}
\def\mV{{\boldsymbol{V}}}
\def\mW{{\boldsymbol{W}}}
\def\mX{{\boldsymbol{X}}}
\def\mY{{\boldsymbol{Y}}}
\def\mZ{{\boldsymbol{Z}}}
\def\mBeta{{\boldsymbol{\beta}}}
\def\mPhi{{\boldsymbol{\Phi}}}
\def\mLambda{{\boldsymbol{\varLambda}}}
\def\mSigma{{\boldsymbol{\varSigma}}}

\def\rvepsilon{{\boldsymbol{\epsilon}}}
\def\rvtheta{{\boldsymbol{\theta}}}
\def\rva{{\boldsymbol{a}}}
\def\rvb{{\boldsymbol{b}}}
\def\rvc{{\boldsymbol{c}}}
\def\rvd{{\boldsymbol{d}}}
\def\rve{{\boldsymbol{e}}}
\def\rvf{{\boldsymbol{f}}}
\def\rvg{{\boldsymbol{g}}}
\def\rvh{{\boldsymbol{h}}}
\def\rvu{{\boldsymbol{i}}}
\def\rvj{{\boldsymbol{j}}}
\def\rvk{{\boldsymbol{k}}}
\def\rvl{{\boldsymbol{l}}}
\def\rvm{{\boldsymbol{m}}}
\def\rvn{{\boldsymbol{n}}}
\def\rvo{{\boldsymbol{o}}}
\def\rvp{{\boldsymbol{p}}}
\def\rvq{{\boldsymbol{q}}}
\def\rvr{{\boldsymbol{r}}}
\def\rvs{{\boldsymbol{s}}}
\def\rvt{{\boldsymbol{t}}}
\def\rvu{{\boldsymbol{u}}}
\def\rvv{{\boldsymbol{v}}}
\def\rvw{{\boldsymbol{w}}}
\def\rvx{{\boldsymbol{x}}}
\def\rvy{{\boldsymbol{y}}}
\def\rvz{{\boldsymbol{z}}}

% Elements of random vectors
\def\erva{{\textnormal{a}}}
\def\ervb{{\textnormal{b}}}
\def\ervc{{\textnormal{c}}}
\def\ervd{{\textnormal{d}}}
\def\erve{{\textnormal{e}}}
\def\ervf{{\textnormal{f}}}
\def\ervg{{\textnormal{g}}}
\def\ervh{{\textnormal{h}}}
\def\ervi{{\textnormal{i}}}
\def\ervj{{\textnormal{j}}}
\def\ervk{{\textnormal{k}}}
\def\ervl{{\textnormal{l}}}
\def\ervm{{\textnormal{m}}}
\def\ervn{{\textnormal{n}}}
\def\ervo{{\textnormal{o}}}
\def\ervp{{\textnormal{p}}}
\def\ervq{{\textnormal{q}}}
\def\ervr{{\textnormal{r}}}
\def\ervs{{\textnormal{s}}}
\def\ervt{{\textnormal{t}}}
\def\ervu{{\textnormal{u}}}
\def\ervv{{\textnormal{v}}}
\def\ervw{{\textnormal{w}}}
\def\ervx{{\textnormal{x}}}
\def\ervy{{\textnormal{y}}}
\def\ervz{{\textnormal{z}}}

% Calculs
\newcommand{\bigO}{\mathcal{O}}
\newcommand*\diff{\mathop{}\!\mathrm{d}}

% Ensemble
\newcommand{\R}{\mathbb{R}}
\newcommand{\C}{\mathbb{C}}
\DeclarePairedDelimiter\clint{[}{]}
\DeclarePairedDelimiter\opint{]}{[}

% Optimization
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}

% ML
\DeclareMathOperator{\CE}{CrossEntropy}
\DeclareMathOperator*{\softmax}{Softmax}
\DeclareMathOperator*{\relu}{ReLU}
\DeclareMathOperator*{\dft}{DFT}
\DeclareMathOperator*{\twoddft}{2d-DFT}
\DeclareMathOperator{\layernorm}{LayerNorm}
\newcommand{\dataset}{\ensuremath{\mathcal{D}}}




% Probability
\makeatletter
\newcommand{\@givenpstar}[2]{\mleft(#1\;\middle|\;#2\mright)}
\newcommand{\@givenpnostar}[3][]{#1(#2\;#1|\;#3#1)}
\newcommand{\givenp}{\@ifstar\@givenpstar\@givenpnostar}
\makeatother
\makeatletter
\newcommand{\@givenbstar}[2]{\mleft[#1\;\middle|\;#2\mright]}
\newcommand{\@givenbnostar}[3][]{\!#1[#2\;#1|\;#3#1]}
\newcommand{\givenb}{\@ifstar\@givenbstar\@givenbnostar}
\makeatother
\newcommand*{\given}{\mid}
\let\Pr\relax
\DeclareMathOperator{\Pr}{\mathbb{P}}
\DeclareMathOperator{\Phat}{\hat{P}}
\newcommand{\Ptheta}{\mathrm{P}_\theta}
\DeclareMathOperator{\Pmodel}{\Phat}
\DeclareMathOperator{\Pref}{P}
\newcommand{\phat}{\hat{p}}
\newcommand{\pys}{p_{y \given s}}
\newcommand{\voc}{\mathcal{V}}
\newcommand{\leqt}{\leq t}
\newcommand{\iid}{\overset{\mathrm{i.i.d.}}{\sim}}
\DeclareMathOperator{\Exp}{\mathbb{E}}
\newcommand*{\Yhat}{\hat{Y}}
\newcommand*{\yhat}{\hat{y}}

% F-divergence
\DeclareMathOperator{\Qdist}{\mathrm{Q}}
\DeclareMathOperator{\Rdist}{\mathrm{R}}
\DeclareMathOperator{\Pdist}{\mathrm{P}}
\DeclareMathOperator\supp{supp}
\DeclareMathOperator{\kl}{KL}
\newcommand{\KL}{\kl\divx}
\DeclarePairedDelimiterX{\divx}[2]{(}{)}{%
    #1\;\delimsize\|\;#2%
}
\newcommand*{\alphal}{\alpha_{\lambda}}
\newcommand*{\betal}{\beta_{\lambda}}
\DeclareMathOperator{\Div}{\mathcal{D}}
\newcommand{\Divl}{\Div_{\lambda}\divx}
\newcommand{\Divf}{\Div_{f}\divx}
\newcommand{\DivKL}{\Div_{\mathrm{KL}}\divx}
\newcommand{\DivTV}{\Div_{\mathrm{TV}}}
\newcommand{\front}{\mathcal{F}}
\DeclareMathOperator{\diag}{diag}
\DeclarePairedDelimiter\abs{\lvert}{\rvert}%
\DeclarePairedDelimiter\norm{\lVert}{\rVert}%


% Linear agebra
\DeclareMathOperator{\Tr}{Tr}
\newcommand{\normtwo}[1]{\norm{#1}_2}%
\DeclarePairedDelimiter\dotp{\langle}{\rangle}
\DeclareMathOperator{\neigh}{\mathcal{N}}




% Format
\newcommand{\underbreak}[3]{\underbrace{#1}_{\parbox{#3}{\center \scriptsize #2}}}
\newcommand{\undernobreak}[3]{\underbrace{#1}_{\makebox[#3][c]{\scriptsize #2}}}
\newcommand*{\vkappa}{\boldsymbol{\kappa}}
\newcommand{\todo}[1]{\textcolor{red}{TODO:\,#1}}

% NLP
\newcommand*{\Ylt}{Y_{< t}}
\newcommand*{\ylt}{y_{< t}}
\newcommand*{\Xlt}{X_{< t}}
\newcommand{\vocabulary}{\ensuremath{\mathcal{V}}}

\newcommand{\red}[1]{\textcolor{red}{#1}}
\newcommand{\xtilde}{\tilde{x}}
\newcommand{\ytilde}{\tilde{y}}

\newcommand{\pref}{p_{\text{ref}}}
\newcommand{\plm}{p_{\text{LM}}}
\newcommand{\pmodel}{p_{\theta}}
\newcommand{\psft}{p_{\text{SFT}}}
\newcommand{\ywin}{y^+}
\newcommand{\ylose}{y^-}
\newcommand{\pnoise}{p_{\text{noise}}}

\newcommand{\scope}{\textsc{Scope}\xspace}
\newcommand{\pdata}{p_\text{data}}
\newcommand{\cad}{\textsc{Cad}\xspace}
\newcommand{\pmi}{\textsc{Pmi}\xspace}
\newcommand{\critic}{\textsc{Critic}\xspace}
\newcommand{\sft}{\textsc{Sft}\xspace}
\newcommand{\cliff}{\textsc{Cliff}\xspace}


