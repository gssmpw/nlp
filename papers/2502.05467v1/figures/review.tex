\tikzstyle{edge}=[-latex',draw=black!90,shorten <=1pt,shorten >=1pt]
\tikzstyle{redge}=[latex'-,draw=black!90,shorten <=1pt,shorten >=1pt]
\tikzstyle{dedge}=[latex'-latex',draw=black!90,shorten <=1pt,shorten >=1pt]

\tikzstyle{block}=[draw, text width=5em,align=center,shape=rectangle, rounded corners, , align=center]
\tikzstyle{nobox}=[align=center]
\definecolor{emb}{RGB}{209,228,252}
\definecolor{hidden-blue}{RGB}{194,232,247}
% \definecolor{hidden-orange}{RGB}{243,202,120}
\definecolor{hidden-orange}{RGB}{224,224,224}
% \definecolor{hidden-orange}{RGB}{10,128,122}
\definecolor{hidden-yellow}{RGB}{242,244,193}
\definecolor{output-purple}{RGB}{219,203,231}
\definecolor{output-green}{RGB}{204,231,207}
\definecolor{output-blue}{RGB}{44,169,225}

% \definecolor{hiddendraw}{RGB}{205, 44, 36}
\definecolor{output-black}{RGB}{0,0,0}
\definecolor{output-white}{RGB}{255,255,255}
\definecolor{myblue}{RGB}{137,195,235}
\definecolor{hiddendraw}{RGB}{137,195,235}

\tikzstyle{leaf}=[draw=hiddendraw,
    rounded corners, minimum height=1em,
    fill=myblue!40,text opacity=1, 
    fill opacity=.5,  text=black,align=left,font=\scriptsize,
    inner xsep=3pt,
    inner ysep=1pt,
]
\tikzstyle{middle}=[draw=hiddendraw,
    rounded corners, minimum height=1.5em,
    fill=output-white!40,text opacity=1, 
    fill opacity=.5, text=black, align=center, font=\small,
    inner xsep=7pt,
    inner ysep=1pt,
]

\begin{figure*}[htbp!]
\centering
\begin{forest}
  for tree={
      forked edges,
      grow=east,
      reversed=true,
      anchor=base west,
      parent anchor=east,
      child anchor=west,
      base=middle,
      font=\scriptsize,
      rectangle,
      line width=0.8pt,
      draw=output-black,
      rounded corners,align=left,
      minimum width=2em, s sep=6pt, l sep=8pt,
  },
  where level=1{text width=0.2\linewidth}{},
  where level=2{text width=0.2\linewidth,font=\scriptsize}{},
  where level=3{font=\scriptsize}{},
  where level=4{font=\scriptsize}{},
  where level=5{font=\scriptsize}{},
  [LLMs for Foreign Language Education, middle,rotate=90,anchor=north,edge=output-black
      [LLM as Data Enhancer\\(Section \ref{sec:enhancer}),middle,anchor=west,edge=output-black, text width=0.18\linewidth
        [Data Creation, middle, text width=0.13\linewidth, edge=output-black
            [{PFQS~\cite{li-zhang-2024-planning}, MCQG-SRefine~\cite{yao2024mcqg}, \cite{lee2024few},\\BF-TC~\cite{liu2024personality}, MathVC~\cite{yue2024mathvc}, EduAgent~\cite{xu2024eduagent},\\Generative Students~\cite{lu2024generative}}, leaf, text width=0.525\linewidth, edge=output-black]
        ]
        [Data Reformation, middle, text width=0.13\linewidth, edge=output-black
            [{Book2Dial~\cite{wang-etal-2024-book2dial}, Slide2Lecture~\cite{zhang2024awaking},\\WikiDomains~\cite{asthana-etal-2024-evaluating}, \cite{freyer2024easy}, \cite{day2025evaluating},\\Anthropological Prompting~\cite{alkhamissi-etal-2024-investigating}, \cite{liu2024culturally}}, leaf, text width=0.525\linewidth, edge=output-black]
        ]
        [Data Annotation, middle, text width=0.13\linewidth, edge=output-black
            [{EXCGEC~\cite{ye2024excgec}, EDEN~\cite{li-etal-2024-eden}, MEGAnno+~\cite{kim-etal-2024-meganno},\\PDFChatAnnotator~\cite{tang2024pdfchatannotator}, Coannotating~\cite{li-etal-2023-coannotating}}, leaf, text width=0.525\linewidth, edge=output-black]
        ]
      ]
      [LLM as Task Predictor\\(Section \ref{sec:predictor}),middle,anchor=west,edge=output-black, text width=0.18\linewidth
        [Discriminative, middle, text width=0.13\linewidth, edge=output-black
            [{TOREE~\cite{zhuang-etal-2024-toree}, LLM-KT~\cite{zhan2024knowledge}, CLST~\cite{jung2024clst},\\Diallogue-KT~\cite{scarlatos2024exploring}, \cite{neshaei2024towards},\\\cite{mizumoto2023exploring}, \cite{sessler2024can}, \cite{syamkumar2024improving}}, leaf, text width=0.525\linewidth, edge=output-black]
        ]
        [Generative, middle, text width=0.13\linewidth, edge=output-black
            [{EXPECT~\cite{fei-etal-2023-enhancing}, GEE~\cite{song-etal-2024-gee}, EXCGEC~\cite{ye2024excgec}\\FELT~\cite{borges-etal-2024-teach}, LLM-as-a-tutor~\cite{han-etal-2024-llm}, \cite{stamper2024enhancing}\\SocraticLM~\cite{liusocraticlm}, \cite{favero2024enhancing}, \cite{xiao2024humanaicollaborativeessayscoring}}, leaf, text width=0.525\linewidth, edge=output-black]
        ]
        [Mixed, middle, text width=0.13\linewidth, edge=output-black
            [{FABRIC~\cite{han2023fabric}, \cite{stahl2024exploring},\\ReaLMistake~\cite{kamoi2024evaluating}, \cite{lu2023error}}, leaf, text width=0.525\linewidth, edge=output-black]
        ]
      ]
      [LLM-empowered Agent\\(Section \ref{sec:agent}),middle,anchor=west,edge=output-black, text width=0.18\linewidth
        [Abilities, middle, text width=0.13\linewidth, edge=output-black
            [{FOKE~\cite{hu2024foke}, KnowEdit~\cite{zhang2024comprehensive}, \cite{zhang2024comprehensive},\\ PedCoT~\cite{jiang2024llms}, LHP~\cite{sonkar-etal-2024-pedagogical}, \cite{razafinirina2024pedagogical},\\LessonPlanner~\cite{fan2024lessonplanner}, MemoryBank~\cite{zhong2024memorybank}, \cite{hu2024teaching},\\vNMF~\cite{jiang2024ai}, ChatTutor~\cite{chen2024empowering}, \cite{zheng2024automatic}}, leaf, text width=0.525\linewidth, edge=output-black]
        ]
        [Applications, middle, text width=0.13\linewidth, edge=output-black
            [{SimClass~\cite{zhang2024simulating}, MathVC~\cite{yue2024mathvc}, BIPED~\cite{kwon-etal-2024-biped},\\LLM-as-a-tutor~\cite{han-etal-2024-llm}, KORLINGS~\cite{lee2024developing}, \cite{liu2024personality}}, leaf, text width=0.525\linewidth, edge=output-black]
        ]
      ]
]
\end{forest}
\caption{An overview of LLM-centric research of FLE.}
\label{fig:review}
\end{figure*}
