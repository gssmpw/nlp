\begin{algorithm}[H]
\caption{Generate $K$-Hop Similar Graph}
\label{alg:khopbasic}
\begin{algorithmic}[1]
\REQUIRE{Adjacency matrix $A$, hop count $k$}
\ENSURE{A $k$-hop similar graph $G_{k}$}

\STATE $E \gets \textsc{GetEdges}(A)$
\STATE $G_{k} \gets A$ \hfill $\triangleright$ Copy of adjacency matrix
\STATE $D \gets \textsc{FloydWarshall}(G_{k})$
\STATE $paths_{k} \gets [D \leq k]$ \hfill $\triangleright$ $k$-hop paths

\FOR{each edge $(i,j)$ in $E$}
    \STATE $G_{temp} \gets G_{k}$ \hfill Temporary copy of current graph
    \STATE $G_{temp}[i,j] \gets 0$
    \STATE $G_{temp}[j,i] \gets 0$
    
    \STATE $D_{temp} \gets \textsc{FloydWarshall}(G_{temp})$
    \STATE $paths_{temp} \gets  [D_{temp} \leq k]$
    
    \IF{$paths_{temp} = paths_{k}$}
        \STATE $G_{k}[i,j] \gets 0$
        \STATE $G_{k}[j,i] \gets 0$
        \STATE $D \gets D_{temp}$
    \ENDIF
    
\ENDFOR

\STATE \textbf{return} $G_{k}$
\end{algorithmic}
\end{algorithm}
