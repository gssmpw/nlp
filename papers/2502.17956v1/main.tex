% This must be in the first 5 lines to tell arXiv to use pdfLaTeX, which is strongly recommended.
\pdfoutput=1
% In particular, the hyperref package requires pdfLaTeX in order to break URLs across lines.

\documentclass[11pt]{article}

\usepackage{array}
\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
\newcolumntype{R}[1]{>{\raggedleft\let\newline\\\arraybackslash\hspace{0pt}}m{#1}}
% Change "review" to "final" to generate the final (sometimes called camera-ready) version.
% Chang∆íe to "preprint" to generate a non-anonymous version with page numbers.
% \usepackage[review]{acl}
\usepackage[preprint]{acl}

% Standard package includes
\usepackage{times}
\usepackage{latexsym}

% For proper rendering and hyphenation of words containing Latin characters (including in bib files)
\usepackage[T1]{fontenc}
% For Vietnamese characters
% \usepackage[T5]{fontenc}
% See https://www.latex-project.org/help/documentation/encguide.pdf for other character sets

% This assumes your files are encoded as UTF8
\usepackage[utf8]{inputenc}

% This is not strictly necessary, and may be commented out,
% but it will improve the layout of the manuscript,
% and will typically save some space.
\usepackage{microtype}

% This is also not strictly necessary, and may be commented out.
% However, it will improve the aesthetics of text in
% the typewriter font.
\usepackage{inconsolata}

%Including images in your LaTeX document requires adding
%additional package(s)
\usepackage{graphicx}
% \usepackage{arydshln} % for hdashline

% Customize
\usepackage{lipsum}
\usepackage{makecell}
\usepackage{booktabs}
\usepackage{multirow}

\usepackage{times}
\usepackage{latexsym}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{physics}

\usepackage{graphicx}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{hyperref}
\usepackage{enumerate}   

\usepackage{array}
\usepackage{float}
\restylefloat{table}
\usepackage{arydshln}
\usepackage{paralist}

\usepackage{mdframed}
\usepackage{enumitem}

\setlist{topsep=6pt,itemsep=4pt,partopsep=4pt, parsep=4pt}

\newcommand\blfootnote[1]{%
  \begingroup
  \renewcommand\thefootnote{}\footnote{#1}%
  \addtocounter{footnote}{-1}%
  \endgroup
}

\newcommand\dummy[1]{\textcolor{gray}{#1}}
\newcommand\todo[1]{\textcolor{red}{TODO: #1}}

% If the title and author information does not fit in the area allocated, uncomment the following
%
%\setlength\titlebox{<dim>}
%
% and set <dim> to something 5cm or larger.

% \title{Towards Better Understanding of Program-of-Thought \\ in Cross-Lingual and Multilingual Mathematical Reasoning}
\title{Towards Better Understanding of Program-of-Thought Reasoning \\ in Cross-Lingual and Multilingual Environments}

% Author information can be set in various styles:
% For several authors from the same institution:
% \author{Author 1 \and ... \and Author n \\
%         Address line \\ ... \\ Address line}
% if the names do not fit well on one line use
%         Author 1 \\ {\bf Author 2} \\ ... \\ {\bf Author n} \\
% For authors from different institutions:
% \author{Author 1 \\ Address line \\  ... \\ Address line
%         \And  ... \And
%         Author n \\ Address line \\ ... \\ Address line}
% To start a separate ``row'' of authors use \AND, as in
% \author{Author 1 \\ Address line \\  ... \\ Address line
%         \AND
%         Author 2 \\ Address line \\ ... \\ Address line \And
%         Author 3 \\ Address line \\ ... \\ Address line}

\author{
Patomporn Payoungkhamdee\textsuperscript{1}, 
Pume Tuchinda\textsuperscript{1},
Jinheon Baek\textsuperscript{2}
 \\
\textbf{Samuel Cahyawijaya}\textsuperscript{3},
\textbf{Can Udomcharoenchaikit}\textsuperscript{1},
\textbf{Potsawee Manakul}\textsuperscript{4}, \\
\textbf{Peerat Limkonchotiwat}\textsuperscript{5},
\textbf{Ekapol Chuangsuwanich}\textsuperscript{6}, \textbf{Sarana Nutanong}\textsuperscript{1}\\
  \textsuperscript{1}School of Information Science and Technology, VISTEC \hspace{1mm} 
  \textsuperscript{2}KAIST \hspace{1mm}
  \textsuperscript{3}Cohere \hspace{1mm} \\
  \textsuperscript{4}SCB 10X \hspace{1mm} 
  \textsuperscript{5}AI Singapore \hspace{1mm}
  \textsuperscript{6}Department of Computer Engineering,  Chulalongkorn University \\
  \texttt{\{patomporn.p\_s21, pumet\_pro,canu\_pro,snutanon\}@vistec.ac.th}
  \\
  \texttt{jinheon.baek@kaist.ac.kr, samuelcahyawijaya@cohere.com, potsawee@scb10x.com} \\
  \texttt{peerat@aisingapore.org, ekapolc@cp.eng.chula.ac.th}
}

%\author{
%  \textbf{First Author\textsuperscript{1}},
%  \textbf{Second Author\textsuperscript{1,2}},
%  \textbf{Third T. Author\textsuperscript{1}},
%  \textbf{Fourth Author\textsuperscript{1}},
%\\
%  \textbf{Fifth Author\textsuperscript{1,2}},
%  \textbf{Sixth Author\textsuperscript{1}},
%  \textbf{Seventh Author\textsuperscript{1}},
%  \textbf{Eighth Author \textsuperscript{1,2,3,4}},
%\\
%  \textbf{Ninth Author\textsuperscript{1}},
%  \textbf{Tenth Author\textsuperscript{1}},
%  \textbf{Eleventh E. Author\textsuperscript{1,2,3,4,5}},
%  \textbf{Twelfth Author\textsuperscript{1}},
%\\
%  \textbf{Thirteenth Author\textsuperscript{3}},
%  \textbf{Fourteenth F. Author\textsuperscript{2,4}},
%  \textbf{Fifteenth Author\textsuperscript{1}},
%  \textbf{Sixteenth Author\textsuperscript{1}},
%\\
%  \textbf{Seventeenth S. Author\textsuperscript{4,5}},
%  \textbf{Eighteenth Author\textsuperscript{3,4}},
%  \textbf{Nineteenth N. Author\textsuperscript{2,5}},
%  \textbf{Twentieth Author\textsuperscript{1}}
%\\
%\\
%  \textsuperscript{1}Affiliation 1,
%  \textsuperscript{2}Affiliation 2,
%  \textsuperscript{3}Affiliation 3,
%  \textsuperscript{4}Affiliation 4,
%  \textsuperscript{5}Affiliation 5
%\\
%  \small{
%    \textbf{Correspondence:} \href{mailto:email@domain}{email@domain}
%  }
%}

\begin{document}
\maketitle
\begin{abstract}
% \textcolor{red}{send the first draft (70\%) by 7 Jan for Sam, legal purpose}
% This document is a supplement to the general instructions for *ACL authors. It contains instructions for using the \LaTeX{} style files for ACL conferences.
% The document itself conforms to its own specifications, and is therefore an example of what your manuscript should look like.
% for reproducibility we release bla bla 

Multi-step reasoning is essential for large language models (LLMs), yet multilingual performance remains challenging. 
%
While Chain-of-Thought (CoT) prompting improves reasoning, it struggles with non-English languages due to the entanglement of reasoning and execution. 
%
Program-of-Thought (PoT) prompting separates reasoning from execution, offering a promising alternative but shifting the challenge to generating programs from non-English questions. 
%
We propose a framework to evaluate PoT by separating multilingual reasoning from code execution to examine (i) the impact of fine-tuning on question-reasoning alignment and (ii) how reasoning quality affects answer correctness.
%
Our findings demonstrate that PoT fine-tuning substantially enhances multilingual reasoning, outperforming CoT fine-tuned models. 
%
We further demonstrate a strong correlation between reasoning quality (measured through code quality) and answer accuracy, highlighting its potential as a test-time performance improvement heuristic. 


%Multi-step reasoning is essential for large language models (LLMs) in mathematical and symbolic tasks.
%
%While Chain-of-Thought (CoT) prompting enables step-by-step problem-solving, Program-of-Thought (PoT) prompting improves performance by decoupling natural language reasoning from computational execution.
%
%This distinction enhances accuracy in arithmetic and iterative reasoning but remains underexplored in multilingual settings, where LLMs struggle with non-English languages.
%
%This study investigates the effectiveness of PoT in cross-lingual and multilingual settings. We evaluate two approaches: (1) Cross-lingual fine-tuning, where models trained on English PoT data are tested zero-shot in other languages, and (2) Multilingual fine-tuning, where target languages are explicitly included. We also examine the link between PoT performance and code quality, using program correctness to enhance test-time inference.
%
%Experiments show that PoT outperforms CoT in cross-lingual settings, with further gains when inline comments are removed.
%
%In multilingual setups, translating inline comments improves alignment with target languages. Leveraging a code quality metric further boosts PoT performance, increasing low-resource accuracy from 11.3\% to 27.7\%. 
%
%Our findings highlight the potential of PoT for multilingual mathematical reasoning and better cross-lingual performance.


\end{abstract}



% These instructions are for authors submitting papers to *ACL conferences using \LaTeX. They are not self-contained. All authors must follow the general instructions for *ACL proceedings,\footnote{\url{http://acl-org.github.io/ACLPUB/formatting.html}} and this document contains additional instructions for the \LaTeX{} style files.

% The templates include the \LaTeX{} source of this document (\texttt{acl\_latex.tex}),
% the \LaTeX{} style file used to format it (\texttt{acl.sty}),
% an ACL bibliography style (\texttt{acl\_natbib.bst}),
% an example bibliography (\texttt{custom.bib}),
% and the bibliography for the ACL Anthology (\texttt{anthology.bib}).

\input{latex/01_introduction}
\input{latex/02_methodology}
\input{latex/03_experimental_setup}
\input{latex/041_results}
\input{latex/042_analysis}
\input{latex/06_related_works}
\input{latex/05_conclusion}




% \section{Preamble}

% The first line of the file must be
% \begin{quote}
% \begin{verbatim}
% \documentclass[11pt]{article}
% \end{verbatim}
% \end{quote}

% To load the style file in the review version:
% \begin{quote}
% \begin{verbatim}
% \usepackage[review]{acl}
% \end{verbatim}
% \end{quote}
% For the final version, omit the \verb|review| option:
% \begin{quote}
% \begin{verbatim}
% \usepackage{acl}
% \end{verbatim}
% \end{quote}

% To use Times Roman, put the following in the preamble:
% \begin{quote}
% \begin{verbatim}
% \usepackage{times}
% \end{verbatim}
% \end{quote}
% (Alternatives like txfonts or newtx are also acceptable.)

% Please see the \LaTeX{} source of this document for comments on other packages that may be useful.

% Set the title and author using \verb|\title| and \verb|\author|. Within the author list, format multiple authors using \verb|\and| and \verb|\And| and \verb|\AND|; please see the \LaTeX{} source for examples.

% By default, the box containing the title and author names is set to the minimum of 5 cm. If you need more space, include the following in the preamble:
% \begin{quote}
% \begin{verbatim}
% \setlength\titlebox{<dim>}
% \end{verbatim}
% \end{quote}
% where \verb|<dim>| is replaced with a length. Do not set this length smaller than 5 cm.

% \section{Document Body}

% \subsection{Footnotes}

% Footnotes are inserted with the \verb|\footnote| command.\footnote{This is a footnote.}

% \subsection{Tables and figures}

% See Table~\ref{tab:accents} for an example of a table and its caption.
% \textbf{Do not override the default caption sizes.}

% \begin{table}
%   \centering
%   \begin{tabular}{lc}
%     \hline
%     \textbf{Command} & \textbf{Output} \\
%     \hline
%     \verb|{\"a}|     & {\"a}           \\
%     \verb|{\^e}|     & {\^e}           \\
%     \verb|{\`i}|     & {\`i}           \\
%     \verb|{\.I}|     & {\.I}           \\
%     \verb|{\o}|      & {\o}            \\
%     \verb|{\'u}|     & {\'u}           \\
%     \verb|{\aa}|     & {\aa}           \\\hline
%   \end{tabular}
%   \begin{tabular}{lc}
%     \hline
%     \textbf{Command} & \textbf{Output} \\
%     \hline
%     \verb|{\c c}|    & {\c c}          \\
%     \verb|{\u g}|    & {\u g}          \\
%     \verb|{\l}|      & {\l}            \\
%     \verb|{\~n}|     & {\~n}           \\
%     \verb|{\H o}|    & {\H o}          \\
%     \verb|{\v r}|    & {\v r}          \\
%     \verb|{\ss}|     & {\ss}           \\
%     \hline
%   \end{tabular}
%   \caption{Example commands for accented characters, to be used in, \emph{e.g.}, Bib\TeX{} entries.}
%   \label{tab:accents}
% \end{table}

% As much as possible, fonts in figures should conform
% to the document fonts. See Figure~\ref{fig:experiments} for an example of a figure and its caption.

% Using the \verb|graphicx| package graphics files can be included within figure
% environment at an appropriate point within the text.
% The \verb|graphicx| package supports various optional arguments to control the
% appearance of the figure.
% You must include it explicitly in the \LaTeX{} preamble (after the
% \verb|\documentclass| declaration and before \verb|\begin{document}|) using
% \verb|\usepackage{graphicx}|.

% \begin{figure}[t]
%   \includegraphics[width=\columnwidth]{example-image-golden}
%   \caption{A figure with a caption that runs for more than one line.
%     Example image is usually available through the \texttt{mwe} package
%     without even mentioning it in the preamble.}
%   \label{fig:experiments}
% \end{figure}

% \begin{figure*}[t]
%   \includegraphics[width=0.48\linewidth]{example-image-a} \hfill
%   \includegraphics[width=0.48\linewidth]{example-image-b}
%   \caption {A minimal working example to demonstrate how to place
%     two images side-by-side.}
% \end{figure*}

% \subsection{Hyperlinks}

% Users of older versions of \LaTeX{} may encounter the following error during compilation:
% \begin{quote}
% \verb|\pdfendlink| ended up in different nesting level than \verb|\pdfstartlink|.
% \end{quote}
% This happens when pdf\LaTeX{} is used and a citation splits across a page boundary. The best way to fix this is to upgrade \LaTeX{} to 2018-12-01 or later.

% \subsection{Citations}

% \begin{table*}
%   \centering
%   \begin{tabular}{lll}
%     \hline
%     \textbf{Output}           & \textbf{natbib command} & \textbf{ACL only command} \\
%     \hline
%     \citep{Gusfield:97}       & \verb|\citep|           &                           \\
%     \citealp{Gusfield:97}     & \verb|\citealp|         &                           \\
%     \citet{Gusfield:97}       & \verb|\citet|           &                           \\
%     \citeyearpar{Gusfield:97} & \verb|\citeyearpar|     &                           \\
%     \citeposs{Gusfield:97}    &                         & \verb|\citeposs|          \\
%     \hline
%   \end{tabular}
%   \caption{\label{citation-guide}
%     Citation commands supported by the style file.
%     The style is based on the natbib package and supports all natbib citation commands.
%     It also supports commands defined in previous ACL style files for compatibility.
%   }
% \end{table*}

% Table~\ref{citation-guide} shows the syntax supported by the style files.
% We encourage you to use the natbib styles.
% You can use the command \verb|\citet| (cite in text) to get ``author (year)'' citations, like this citation to a paper by \citet{Gusfield:97}.
% You can use the command \verb|\citep| (cite in parentheses) to get ``(author, year)'' citations \citep{Gusfield:97}.
% You can use the command \verb|\citealp| (alternative cite without parentheses) to get ``author, year'' citations, which is useful for using citations within parentheses (e.g. \citealp{Gusfield:97}).

% A possessive citation can be made with the command \verb|\citeposs|.
% This is not a standard natbib command, so it is generally not compatible
% with other style files.

% \subsection{References}

% \nocite{Ando2005,andrew2007scalable,rasooli-tetrault-2015}

% The \LaTeX{} and Bib\TeX{} style files provided roughly follow the American Psychological Association format.
% If your own bib file is named \texttt{custom.bib}, then placing the following before any appendices in your \LaTeX{} file will generate the references section for you:
% \begin{quote}
% \begin{verbatim}
% \bibliography{custom}
% \end{verbatim}
% \end{quote}

% You can obtain the complete ACL Anthology as a Bib\TeX{} file from \url{https://aclweb.org/anthology/anthology.bib.gz}.
% To include both the Anthology and your own .bib file, use the following instead of the above.
% \begin{quote}
% \begin{verbatim}
% \bibliography{anthology,custom}
% \end{verbatim}
% \end{quote}

% Please see Section~\ref{sec:bibtex} for information on preparing Bib\TeX{} files.

% \subsection{Equations}

% An example equation is shown below:
% \begin{equation}
%   \label{eq:example}
%   A = \pi r^2
% \end{equation}

% Labels for equation numbers, sections, subsections, figures and tables
% are all defined with the \verb|\label{label}| command and cross references
% to them are made with the \verb|\ref{label}| command.

% This an example cross-reference to Equation~\ref{eq:example}.

% \subsection{Appendices}

% Use \verb|\appendix| before any appendix section to switch the section numbering over to letters. See Appendix~\ref{sec:appendix} for an example.

% \section{Bib\TeX{} Files}
% \label{sec:bibtex}

% Unicode cannot be used in Bib\TeX{} entries, and some ways of typing special characters can disrupt Bib\TeX's alphabetization. The recommended way of typing special characters is shown in Table~\ref{tab:accents}.

% Please ensure that Bib\TeX{} records contain DOIs or URLs when possible, and for all the ACL materials that you reference.
% Use the \verb|doi| field for DOIs and the \verb|url| field for URLs.
% If a Bib\TeX{} entry has a URL or DOI field, the paper title in the references section will appear as a hyperlink to the paper, using the hyperref \LaTeX{} package.

\section*{Limitations}

\textbf{GSM8K as a Reasoning Benchmark.}
The experimental setup of this study is grounded in grade school math problems from GSM8K; therefore, the results and key findings \emph{may not} generalize to other reasoning-intensive tasks. 
%
Furthermore, recent studies have raised concerns regarding potential data contamination~\cite{gsm-plus, gsm1k, mirzadeh2025gsmsymbolic}. 
%
Nonetheless, GSM8K remains the gold standard for assessing multi-step reasoning in the literature. 
%
We use this benchmark to ensure cross-comparability with existing work while emphasizing that our experimental framework is adaptable to any multi-step reasoning benchmark. 
%
In future work, we plan to extend our assessments to additional benchmarks to further validate our findings.

\textbf{ICE-Score Model Choice and Test-time Scaling.}
Our test-time scaling study presents a preliminary investigation into leveraging the ICE-Score as a Soft Self-Consistency (Soft-SC) heuristic. 
%
Prior work on ICE-Score~\cite{ice-score} suggests that stronger models yield better results.
%
This work prioritizes the evaluation accuracy of the code quality itself, verifying the correlation between the intermediate and end results. 
%
To this end, we employ the 405B variant of Llama3 for ICE-Score calculations in the correlation studies at the system and sample levels.
%
To maintain consistency, we continue to use this model for test-time scaling experiments.

Our findings indicate that incorporating ICE-Score into Soft-SC leads to performance improvements. 
%
However, the magnitude of these gains may depend on the specific ICE-Score model used. 
%
%A more comprehensive analysis of test-time scaling would require a deeper exploration of the ICE-Score model choice and its robustness across different reasoning tasks. 
%
%Future work should examine alternative ICE-Score configurations and their cost-benefit trade-off.
Future work should examine other ICE-Score configurations or alternative solutions, assessing their cost-benefit trade-off.

%Regarding the choice of base LLMs, our experiments primarily focus on the Llama family, and as such, the findings may not directly extend to other multilingual open-source LLMs.
%Additionally, in terms of test-time scaling applicability, while we employ the \texttt{ICE-Score} as a toolkit, its dependence on an Oracle LLM makes it computationally expensive at inference time.
%This highlights the need for further research into more cost-effective and reliable approaches for assessing the quality of math-like generated program candidates.

% \section{Ethical Consideration}




% \section*{Acknowledgments}

%\dummy{\lipsum[1]}

% Bibliography entries for the entire Anthology, followed by custom entries
%\bibliography{anthology,custom}
% Custom bibliography entries only
\bibliography{main}

\appendix

% \section{Example Appendix}
\input{latex/appendices/main_ap}

\end{document}
