\section{Asymptotic Convergence}

\textbf{\cref{lem:finite_sample_time_implies_finite_parameter}.}
Using \cref{alg:gradient_bandit_algorithm_sampled_reward} with any constant $\eta \in \Theta(1)$, if $N_\infty(a) < \infty$ for an action $a \in [K]$, then we have, almost surely,
\begin{align}
    \sup_{t \ge 1}{ \theta_t(a) } < \infty, \text{ and } \inf_{t \ge 1}{ \theta_t(a) } > -\infty.
\end{align}
\begin{proof}
Suppose $N_\infty(a) < \infty$ for an action $a \in [K]$. According to \cref{alg:gradient_bandit_algorithm_sampled_reward},
\begin{align}
\label{eq:finite_sample_time_implies_finite_parameter_proof_1}
    \theta_{t+1}(a) &\gets \theta_t(a) + \begin{cases}
		\eta \cdot \left( 1 - \pi_{\theta_t}(a) \right) \cdot R_t(a), & \text{if } a_t = a\, , \\
		- \eta \cdot \pi_{\theta_t}(a) \cdot R_t(a_t), & \text{otherwise}\, ,
    \end{cases}
\end{align}
and let
\begin{align}
\label{eq:finite_sample_time_implies_finite_parameter_proof_2}
    I_t(a) \coloneqq 
    \begin{cases}
	1, & \text{if } a_t = a\, , \\
	0, & \text{otherwise}\,.
    \end{cases}
\end{align}
According to \cref{eq:finite_sample_time_implies_finite_parameter_proof_1}, we have, for all $t \ge 1$,
\begin{align}
\label{eq:finite_sample_time_implies_finite_parameter_proof_3}
    \theta_t(a) - \theta_1(a) = \sum_{s=1}^{t-1}{ I_s(a) \cdot \eta \cdot \left( 1 - \pi_{\theta_s}(a) \right) \cdot R_s(a)} + \sum_{s=1}^{t-1}{ \left( 1 - I_s(a) \right) \cdot (- \eta) \cdot \pi_{\theta_s}(a) \cdot R_s(a_s) }.
\end{align}
Using triangle inequality, we have,
\begin{align}
\label{eq:finite_sample_time_implies_finite_parameter_proof_4}
    \left| \theta_t(a) - \theta_1(a) \right| &\le \sum_{s=1}^{t-1}{ \Big| I_s(a) \cdot \eta \cdot \left( 1 - \pi_{\theta_s}(a) \right) \cdot R_s(a) \Big| } + \sum_{s=1}^{t-1}{ \Big|\left( 1 - I_s(a) \right) \cdot (- \eta) \cdot \pi_{\theta_s}(a) \cdot R_s(a_s) \Big| } \\
    &\le \eta \cdot R_{\max} \cdot \sum_{s=1}^{t-1}{ I_s(a) } + \eta \cdot R_{\max} \cdot \sum_{s=1}^{t-1}{ \pi_{\theta_s}(a) } \\
    &= \eta \cdot R_{\max} \cdot \Big( N_{t-1}(a) + \sum_{s=1}^{t-1}{ \pi_{\theta_s}(a) } \Big).
\end{align}
By assumption, we have,
\begin{align}
\label{eq:finite_sample_time_implies_finite_parameter_proof_5}
    N_\infty(a) \coloneqq \lim_{t \to \infty}{N_t(a)} < \infty.
\end{align}
According to the extended Borel-Cantelli \cref{lem:ebc}, we have, almost surely,
\begin{align}
\label{eq:finite_sample_time_implies_finite_parameter_proof_6}
    \sum_{t=1}^{\infty}{\pi_{\theta_t}(a)} \coloneqq \lim_{t \to \infty}{ \sum_{s=1}^{t}{ \pi_{\theta_s}(a) } } < \infty.
\end{align}
Combining \cref{eq:finite_sample_time_implies_finite_parameter_proof_4,eq:finite_sample_time_implies_finite_parameter_proof_5,eq:finite_sample_time_implies_finite_parameter_proof_6}, we have, almost surely,
\begin{align}
\label{eq:finite_sample_time_implies_finite_parameter_proof_7}
    \sup_{t \ge 1}{ \left| \theta_t(a) - \theta_1(a) \right| } < \infty,
\end{align}
which implies that, almost surely,
\begin{equation*}
    \sup_{t \ge 1}{ \left| \theta_t(a) \right| } \le \sup_{t \ge 1}{ \left| \theta_t(a) - \theta_1(a) \right| + \left| \theta_1(a) \right| } < \infty. \qedhere
\end{equation*}
\end{proof}

\textbf{\cref{lem:at_least_two_actions_infinite_sample_time} }(Avoiding lack of exploration)\textbf{.}
Using \cref{alg:gradient_bandit_algorithm_sampled_reward} with any $\eta \in \Theta(1)$, there exists at least a pair of distinct actions $i, j \in [K]$ and $i \ne j$, such that, almost surely,
\begin{align}
    N_\infty(i) = \infty, \text{ and } N_\infty(j) = \infty.
\end{align}
\begin{proof}
First, we have, for all $t \ge 1$,
\begin{align}
\label{eq:at_least_two_actions_infinite_sample_time_proof_1}
    t &= \sum_{s=1}^{t}{ \sum_{a \in [K]}{ I_s(a) } } \qquad \Big( \sum_{a \in [K]}{ I_t(a) } = 1 \text{ for all } t \ge 1 \Big) \\
    &= \sum_{a \in [K]} \sum_{s=1}^{t} I_s(a) \\
    &= \sum_{a \in [K]}{ N_t(a) }.
\end{align}
By pigeonhole principle, there exists at least one action $i \in [K]$, such that, almost surely,
\begin{align}
\label{eq:at_least_two_actions_infinite_sample_time_proof_2}
    N_\infty(i) \coloneqq \lim_{t \to \infty}{ N_t(i) } = \infty.
\end{align}
We argue the existence of another action by contradiction. Suppose for all the other actions $j \in [K]$ and $j \ne i$, we have $N_\infty(j) < \infty$. According to the extended Borel-Cantelli \cref{lem:ebc}, we have, almost surely,
\begin{align}
\label{eq:at_least_two_actions_infinite_sample_time_proof_3}
    \sum_{t=1}^{\infty}{\pi_{\theta_t}(j)} \coloneqq \lim_{t \to \infty}{ \sum_{s=1}^{t}{ \pi_{\theta_s}(j) } } < \infty.
\end{align}
According to the update \cref{eq:finite_sample_time_implies_finite_parameter_proof_1}, we have, for all $t \ge 1$,
\begin{align}
\label{eq:at_least_two_actions_infinite_sample_time_proof_4}
    \theta_t(i) - \theta_1(i) = \sum_{s=1}^{t-1}{ I_s(i) \cdot \eta \cdot \left( 1 - \pi_{\theta_s}(i) \right) \cdot R_s(i)} + \sum_{s=1}^{t-1}{ \left( 1 - I_s(i) \right) \cdot (- \eta) \cdot \pi_{\theta_s}(i) \cdot R_s(a_s) }.
\end{align}
By triangle inequality, we have,
\begin{align}
\label{eq:at_least_two_actions_infinite_sample_time_proof_5}
    \left| \theta_t(i) - \theta_1(i) \right| &\le \sum_{s=1}^{t-1}{ \Big| I_s(i) \cdot \eta \cdot \left( 1 - \pi_{\theta_s}(i) \right) \cdot R_s(i) \Big| } + \sum_{s=1}^{t-1}{ \Big| \left( 1 - I_s(i) \right) \cdot (- \eta) \cdot \pi_{\theta_s}(i) \cdot R_s(a_s) \Big| } \\
    &\le \eta \cdot R_{\max} \cdot \sum_{s=1}^{t-1}{ \left( 1 - \pi_{\theta_s}(i) \right) } + \eta \cdot R_{\max} \cdot \sum_{s=1}^{t-1}{ \left( 1 - I_s(i) \right) } \\
    &= \eta \cdot R_{\max} \cdot \Big( \sum_{s=1}^{t-1} \sum_{j \ne i}{ \pi_{\theta_s}(j) } +  \sum_{s=1}^{t-1} \sum_{j \ne i}{ I_s(j) } \Big) \\
    &= \eta \cdot R_{\max} \cdot \Big( \sum_{j \ne i} \sum_{s=1}^{t-1}{\pi_{\theta_s}(j)} + \sum_{j \ne i}{ N_{t-1}(j) } \Big).
\end{align}
Combing \cref{eq:at_least_two_actions_infinite_sample_time_proof_3,eq:at_least_two_actions_infinite_sample_time_proof_5} and the assumption of $N_\infty(j) < \infty$ for all $j \ne i$, we have, almost surely,
\begin{align}
\label{eq:at_least_two_actions_infinite_sample_time_proof_6}
    \sup_{t \ge 1}{ \left| \theta_t(i) \right| } \le \sup_{t \ge 1}{ \left| \theta_t(i) - \theta_1(i) \right| + \left| \theta_1(i) \right| } < \infty.
\end{align}
Since $N_\infty(j) < \infty$ for all $j \ne i$ by assumption, and according to \cref{lem:finite_sample_time_implies_finite_parameter}, we have, almost surely,
\begin{align}
\label{eq:at_least_two_actions_infinite_sample_time_proof_7}
    \sup_{t \ge 1}{ \left| \theta_t(j) \right| } < \infty.
\end{align}
Combining \cref{eq:at_least_two_actions_infinite_sample_time_proof_6,eq:at_least_two_actions_infinite_sample_time_proof_7}, we have,  for all action $a \in [K]$,
\begin{align}
\label{eq:at_least_two_actions_infinite_sample_time_proof_8}
    \sup_{t \ge 1}{ \left| \theta_t(a) \right| } < \infty,
\end{align}
which implies that, there exists $c > 0$ and $c \in O(1)$, such that, for all $a \in [K]$,
\begin{align}
\label{eq:at_least_two_actions_infinite_sample_time_proof_9}
    \inf_{t \ge 1}{ \pi_{\theta_t}(a) } = \inf_{t \ge 1}{ \frac{ \exp\{ \theta_t(a) \} }{ \sum_{a^\prime \in [K]}{ \exp\{ \theta_t(a^\prime) } \} } } \ge c > 0.
\end{align}
Therefore, for all action $a \in [K]$,
\begin{align}
\label{eq:at_least_two_actions_infinite_sample_time_proof_10}
    \sum_{t=1}^{\infty}{\pi_{\theta_t}(a)} &\coloneqq \lim_{t \to \infty}{ \sum_{s=1}^{t}{ \pi_{\theta_s}(a) } } \\
    &\ge \lim_{t \to \infty}{ \sum_{s=1}^{t}{ c } } \\
    &= \lim_{t \to \infty}{ t \cdot c } \\
    &= \infty.
\end{align}
According to the extended Borel-Cantelli \cref{lem:ebc}, we have, almost surely, for all action $a \in [K]$,
\begin{align}
\label{eq:at_least_two_actions_infinite_sample_time_proof_11}
    N_\infty(a) = \infty,
\end{align}
which is a contradiction with the assumption of $N_\infty(j) < \infty$ for all the other actions $j \in [K]$ with $j \ne i$. Therefore, there exists another action $j \in [K]$ with $j \ne i$, such that $N_\infty(j) = \infty$.
\end{proof}

\textbf{\cref{thm:two_action_global_convergence}.}
Let $K = 2$ and $r(1) > r(2)$. Using \cref{alg:gradient_bandit_algorithm_sampled_reward} with any $\eta \in \Theta(1)$, we have, almost surely, $\pi_{\theta_t}(a^*) \to 1$ as $t \to \infty$, where $a^* \coloneqq \argmax_{a \in [K]}{ r(a) }$ (equal to Action $1$ in this case).
\begin{proof}
The proof uses the same notations as of~\citep[Theorem 5.1]{mei2024stochastic}.

According to \cref{lem:at_least_two_actions_infinite_sample_time}, we have, $N_\infty(1) = \infty$ and $N_\infty(2) = \infty$, i.e., both of the two actions are sampled for infinitely many times as $t \to \infty$.

Let $\gF_t$ be the $\sigma$-algebra generated by $a_1$, $R_1(a_1)$, $\cdots$, $a_{t-1}$, $R_{t-1}(a_{t-1})$:
\begin{align}
\label{eq:two_action_global_convergence_proof_1}
    \gF_t = \sigma( \{ a_1, R_1(a_1), \cdots, a_{t-1}, R_{t-1}(a_{t-1}) \} )\,.
\end{align}
Note that $\theta_{t}$ and $I_t$ (defined by \cref{eq:finite_sample_time_implies_finite_parameter_proof_2}) are $\gF_t$-measurable for all $t\ge 1$. Let $\EEt{\cdot}$ denote the conditional expectation with respect to $\gF_t$: $\mathbb{E}_t[X] = \mathbb{E}[X|\gF_t]$. Define the following notations,
\begin{align}
%\label{eq:two_action_global_convergence_proof_2a}
    %Z_t(a) &\coloneqq W_1(a) + \cdots + W_t(a), \qquad \left( \text{``cumulative noise''} \right) \\
\label{eq:two_action_global_convergence_proof_2b}
    W_t(a) &\coloneqq \theta_t(a) - \chE_{t-1}{[ \theta_t(a)]}, \qquad \left( \text{``noise''} \right) \\
\label{eq:two_action_global_convergence_proof_2c}
    P_t(a) &\coloneqq \EEt{\theta_{t+1}(a)} - \theta_t(a). \qquad \left( \text{``progress''} \right)
\end{align}
For each action $a \in [K]$, for $t \ge 2$, we have the following decomposition,
\begin{align}
\label{eq:two_action_global_convergence_proof_3}
    \theta_{t}(a) = W_t(a) + P_{t-1}(a) + \theta_{t-1}(a).
\end{align}
By recursion we can determine that,
\begin{align}
\label{eq:two_action_global_convergence_proof_4}
    \theta_t(a) = \EE{\theta_1(a)} + \sum_{s=1}^{t}{W_s(a)} + \sum_{s=1}^{t-1}{P_s(a)},
\end{align}
while we also have,
\begin{align}
\label{eq:two_action_global_convergence_proof_5}
    \theta_1(a) = \underbrace{ \theta_{1}(a) - \EE{\theta_{1}(a)} }_{ W_1(a) } + \EE{\theta_{1}(a)},
\end{align}
and $\EE{\theta_{1}(a)}$ accounts for potential randomness in initializing $\theta_1 \in \sR^K$. According to \cref{prop:gradient_bandit_algorithm_equivalent_to_stochastic_gradient_ascent_sampled_reward}, we have,
\begin{align}
\label{eq:two_action_global_convergence_proof_6}
    P_t(a) &= \EEt{\theta_{t+1}(a)} - \theta_t(a) 
    = \eta \cdot \pi_{\theta_t}(a) \cdot \left(  r(a) - \pi_{\theta_t}^\top r \right),
\end{align}
which implies that, for all $t \ge 1$,
\begin{align}
\label{eq:two_action_global_convergence_proof_7}
    P_t(a^*) > 0 > P_t(2).
\end{align}
Next, we show that $\sum_{s=1}^t P_s(a^*) \to \infty$ as $t \to \infty$ by contradiction. Suppose that,
\begin{align}
\label{eq:two_action_global_convergence_proof_8}
    \sum_{t=1}^{\infty} P_t(a^*) < \infty.
\end{align}
For the optimal action $a^* = 1$,
\begin{align}
\label{eq:two_action_global_convergence_proof_9}
    \sum_{s=1}^t P_s(a^*) &=  \sum_{s=1}^t \eta \cdot \pi_{\theta_s}(a^*) \cdot ( r(a^*) - \pi_{\theta_s}^\top r ) \\
    &= \eta \cdot \Delta \cdot  \sum_{s=1}^t  \pi_{\theta_s}(a^*) \cdot ( 1 - \pi_{\theta_s}(a^*)  ),
\end{align}
where $\Delta \coloneqq r(a^*) - \max_{a \not= a^*}{ r(a) } = r(1) - r(2) > 0$ is the reward gap. Denote that, for all $t 
\ge 1$, 
\begin{align} 
\label{eq:two_action_global_convergence_proof_10}
    V_t(a^*) &\coloneqq \frac{5}{18} \cdot \sum_{s=1}^{t-1}  \pi_{\theta_s}(a^*) \cdot (1-\pi_{\theta_s}(a^*)).
\end{align}
According to \cref{lem:bounded_progress_bounded_parameter} (using \cref{eq:two_action_global_convergence_proof_7,eq:two_action_global_convergence_proof_8,eq:two_action_global_convergence_proof_9,eq:two_action_global_convergence_proof_10}), we have, almost surely,
\begin{align}
\label{eq:two_action_global_convergence_proof_11}
    \sup_{t \ge 1}{ |\theta_t(a^*)| } < \infty.
\end{align}
For the sub-optimal action (Action $2$), we have,
\begin{align}
\label{eq:two_action_global_convergence_proof_12}
    \sum_{s=1}^t P_s(2) &=  \sum_{s=1}^t \eta \cdot \pi_{\theta_s}(2) \cdot ( r(2) - \pi_{\theta_s}^\top r ) \\
    &= - \eta \cdot \Delta \cdot  \sum_{s=1}^t  \pi_{\theta_s}(2) \cdot ( 1 - \pi_{\theta_s}(2)  ) \\
    &= - \sum_{s=1}^t P_s(a^*),
\end{align}
and also denote, for all $t \ge 1$,
\begin{align}
\label{eq:two_action_global_convergence_proof_13}
    V_t(2) &\coloneqq \frac{5}{18} \cdot \sum_{s=1}^{t-1}  \pi_{\theta_s}(2) \cdot (1-\pi_{\theta_s}(2)) = V_t(a^*).
\end{align}
According to \cref{lem:bounded_progress_bounded_parameter} (using \cref{eq:two_action_global_convergence_proof_7,eq:two_action_global_convergence_proof_8,eq:two_action_global_convergence_proof_12,eq:two_action_global_convergence_proof_13}), we have, almost surely,
\begin{align}
\label{eq:two_action_global_convergence_proof_14}
    \sup_{t \ge 1}{ \big| \theta_t(2) \big| } < \infty.
\end{align}
Combining \cref{eq:two_action_global_convergence_proof_11,eq:two_action_global_convergence_proof_14}, there exists $c > 0$ and $c \in O(1)$, such that, for all $a \in \{ a^*, 2 \}$,
\begin{align}
\label{eq:two_action_global_convergence_proof_15}
    \inf_{t \ge 1}{ \pi_{\theta_t}(a) } = \inf_{t \ge 1}{ \frac{ \exp\{ \theta_t(a) \} }{ \sum_{a^\prime \in [K]}{ \exp\{ \theta_t(a^\prime) } \} } } \ge c > 0,
\end{align}
which implies that,
\begin{align}
\label{eq:two_action_global_convergence_proof_16}
    \sum_{t=1}^{\infty}{\pi_{\theta_t}(a^*) \cdot ( 1 - \pi_{\theta_t}(a^*)  )} &\coloneqq \lim_{t \to \infty}{ \sum_{s=1}^{t}{ \pi_{\theta_s}(a^*) \cdot ( 1 - \pi_{\theta_s}(a^*)  ) } } \\
    &\ge \lim_{t \to \infty}{ \sum_{s=1}^{t}{ c \cdot c} } \\
    &= \lim_{t \to \infty}{ t \cdot c^2 } \\
    &= \infty,
\end{align}
which is a contradiction with the assumption of 
\cref{eq:two_action_global_convergence_proof_8}. Therefore, we have,
\begin{align}
\label{eq:two_action_global_convergence_proof_17}
    \sum_{s=1}^t P_s(a^*) \to \infty, \text{ as } t \to \infty.
\end{align}
According to \cref{lem:positive_unbounded_progress_unbounded_parameter} (using \cref{eq:two_action_global_convergence_proof_7,eq:two_action_global_convergence_proof_17,eq:two_action_global_convergence_proof_9,eq:two_action_global_convergence_proof_10}), we have, almost surely,
\begin{align}
\label{eq:two_action_global_convergence_proof_18}
    \theta_t(a^*) \to \infty, \text{ as } t \to \infty.
\end{align}
Similarly, according to \cref{lem:negative_unbounded_progress_unbounded_parameter} (using \cref{eq:two_action_global_convergence_proof_7,eq:two_action_global_convergence_proof_17,eq:two_action_global_convergence_proof_12,eq:two_action_global_convergence_proof_13}), we have, almost surely,
\begin{align}
\label{eq:two_action_global_convergence_proof_19}
     \lim_{t \to \infty}{ \theta_t(2) } = - \infty.
\end{align}
Note that,
\begin{align}
\label{eq:two_action_global_convergence_proof_20}
    \pi_{\theta_t}(a^*)
    &= \frac{\pi_{\theta_t}(a^*)}{ \pi_{\theta_t}(2) +  \pi_{\theta_t}(a^*)} \\
    &= \frac{1}{ \exp\{ \theta_t(2) - \theta_t(a^*) \} + 1}.
\end{align}
Combining \cref{eq:two_action_global_convergence_proof_18,eq:two_action_global_convergence_proof_19,eq:two_action_global_convergence_proof_20}, we have, almost surely,
\begin{equation*}
    \pi_{\theta_t}(a^*) \to 1, \text{ as } t \to \infty. \qedhere
\end{equation*}
\end{proof}

\textbf{\cref{thm:general_action_global_convergence}.}
Under~\cref{assp:reward_no_ties}, given $K \ge 2$, using \cref{alg:gradient_bandit_algorithm_sampled_reward} with any $\eta \in \Theta(1)$, we have, almost surely, $\pi_{\theta_t}(a^*) \to 1$ as $t \to \infty$, where $a^* = \argmax_{a \in [K]}{ r(a) }$ is the optimal action.
\begin{proof}
Similar to the proof of~\cref{thm:two_action_global_convergence}, we define $\gF_t$ to be the $\sigma$-algebra generated by $a_1$, $R_1(a_1)$, $\cdots$, $a_{t-1}$, $R_{t-1}(a_{t-1})$ i.e. 
\begin{align}
\label{eq:general_action_global_convergence_proof_1}
    \gF_t = \sigma( \{ a_1, R_1(a_1), \cdots, a_{t-1}, R_{t-1}(a_{t-1}) \} )\,.
\end{align}
Note that $\theta_{t}$ and $I_t$ (defined by \cref{eq:finite_sample_time_implies_finite_parameter_proof_2}) are $\gF_t$-measurable for all $t\ge 1$. Let $\EEt{\cdot}$ denote the conditional expectation with respect to $\gF_t$: $\mathbb{E}_t[X] = \mathbb{E}[X|\gF_t]$. Define the following notations,
\begin{align}
W_t(a) &\coloneqq \theta_t(a) - \chE_{t-1}{[ \theta_t(a)]}, \qquad \left( \text{``noise''} \right) \\
P_t(a) &\coloneqq \EEt{\theta_{t+1}(a)} - \theta_t(a). \qquad \left( \text{``progress''} \right)
\end{align}
For each action $a \in [K]$, for $t \ge 2$, we have the following decomposition,
\begin{align}
\theta_{t}(a) = W_t(a) + P_{t-1}(a) + \theta_{t-1}(a).
\end{align}
By recursion we can determine that,
\begin{align}
\theta_t(a) = \EE{\theta_1(a)} + \sum_{s=1}^{t}{W_s(a)} + \sum_{s=1}^{t-1}{P_s(a)},
\end{align}
while we also have,
\begin{align}
\theta_1(a) = \underbrace{ \theta_{1}(a) - \EE{\theta_{1}(a)} }_{ W_1(a) } + \EE{\theta_{1}(a)},
\end{align}
and $\EE{\theta_{1}(a)}$ accounts for potential randomness in initializing $\theta_1 \in \sR^K$. For an action $a \in [K]$, 
\begin{align}
\label{eq:general_action_global_convergence_first_part_proof_6}
    \gA^+(a) &\coloneqq \left\{ a^+ \in [K]: r(a^+) > r(a) \right\}, \\
    \gA^-(a) &\coloneqq \left\{ a^- \in [K]: r(a^-) < r(a) \right\}. 
\end{align}
Define $\gA_\infty$ as the set of actions which are sampled for infinitely many times as $t \to \infty$, i.e.,
\begin{align}
    \gA_\infty \coloneqq \left\{ a \in [K] \ | \ N_\infty(a) = \infty \right\}.
\end{align}

\textbf{First part.} We show that $N_\infty(a^*) = \infty$ by contradiction.

Suppose $a^* \not\in \gA_\infty$ i.e. $N_\infty(a^*) < \infty$. According to \cref{lem:at_least_two_actions_infinite_sample_time}, we have, $| \gA_\infty | \ge 2$. Since $a^* \not\in \gA_\infty$ by assumption, there must be at least two other sub-optimal actions $i_1, i_2 \in [K]$, $i_1 \ne i_2$, such that,
\begin{align}
\label{eq:general_action_global_convergence_first_part_proof_1}
    N_\infty(i_1) = N_\infty(i_2) = \infty.
\end{align}
In particular, define
\begin{align}
\label{eq:general_action_global_convergence_first_part_proof_2}
    i_1 &\coloneqq \argmin_{\substack{a \in [K], \\ N_\infty(a) = \infty}} r(a), \\
    i_2 &\coloneqq \argmax_{\substack{a \in [K], \\ N_\infty(a) = \infty}} r(a).
\end{align}
Using the update for arm $i_1$, we know that, for all $s \geq 1$, 
\begin{align}
P_s(i_1) &= \eta \cdot \pi_{\theta_s}(i_1) \cdot ( r(i_1) - \pi_{\theta_s}^\top r ) 
\end{align}
By definition and because of~\cref{assp:reward_no_ties}, we have that $r(i_1) < r(i_2) < r(a^*)$. Furthermore, according to \cref{lem:expected_reward_range}, we have, for sufficiently large $\tau \ge 1$,
\begin{align}
\label{eq:general_action_global_convergence_first_part_proof_3}
    r(i_1) < \pi_{\theta_t}^\top r < r(i_2),
\end{align}
which implies that after some large enough $\tau \ge 1$,
\begin{align}
    \sum_{s=\tau}^t P_s(i_1) &= \sum_{s=\tau}^t \eta \cdot \pi_{\theta_s}(i_1) \cdot ( r(i_1) - \pi_{\theta_s}^\top r ) \\
    & < 0. \qquad \left(\text{by \cref{eq:general_action_global_convergence_first_part_proof_3}}\right) \label{eq:general_action_global_convergence_first_part_proof_4}
\end{align}

\begin{align}
    r(i_1) - \pi_{\theta_s}^\top r &= \sum_{a \neq i_1} \pi_{\theta_s}(a) \, [r(i_1) - r(a)] \nonumber \\
    &= - \sum_{a^+ \in \gA^+(i_1)}{ \pi_{\theta_s}(a^+) \cdot (r(a^+) - r(i_1) ) } + \sum_{a^- \in \gA^-(i_1)}{ \pi_{\theta_s}(a^-) \cdot ( r(i_1) - r(a^-)) }. \label{eq:general_action_global_convergence_first_part_proof_5}
\end{align}
From~\cref{eq:general_action_global_convergence_first_part_proof_2}, we have,
\begin{align}
\label{eq:general_action_global_convergence_first_part_proof_8}
    \gA_\infty \subseteq \gA^+(i_1) \cup \{ i_1 \},
\end{align}
which implies that, for all $a^- \in \gA^-(i_1)$, we have,
\begin{align}
\label{eq:general_action_global_convergence_first_part_proof_9}
    N_\infty(a^-) < \infty.
\end{align}
Note that, by definition, $i_2 \in \gA^+(i_1)$, and 
\begin{align}
\label{eq:general_action_global_convergence_first_part_proof_10}
    N_\infty(i_2) = \infty.
\end{align}
In order to bound~\cref{eq:general_action_global_convergence_first_part_proof_5} using the above relations, note that, 
\begin{align}
\MoveEqLeft
    \sum_{a^- \in \gA^-(i_1)}{ \frac{\pi_{\theta_s}(a^-)}{ \sum_{a^+ \in \gA^+(i_1)}{ \pi_{\theta_s}(a^+) \cdot (r(a^+) - r(i_1) ) } } \cdot ( r(i_1) - r(a^-)) } \\
    &\qquad <  \sum_{a^- \in \gA^-(i_1)}{ \frac{\pi_{\theta_s}(a^-)}{ \pi_{\theta_s}(i_2) \cdot (r(i_2) - r(i_1) ) } \cdot ( r(i_1) - r(a^-)) } \tag{Fewer terms in the denominator} \\    
    \intertext{By \cref{lem:unbouned_prob_ratio}, for large enough $\tau \geq 1$, for all $a^-$, $\frac{\pi_{\theta_s}(a^-)}{ \pi_{\theta_s}(i_2)} \leq \frac{1}{\left| \gA^-(i_1) \right|} \cdot \frac{r(i_2) - r(i_1)}{r(i_1) - r(a^-)}$. Hence,}
    &\qquad \le \sum_{a^- \in \gA^-(i_1)}{ \frac{1}{2} \cdot \frac{1}{\left| \gA^-(i_1) \right|} \cdot \frac{r(i_2) - r(i_1)}{r(i_1) - r(a^-)}  \cdot \frac{r(i_1) - r(a^-)}{r(i_2) - r(i_1)} } \\
    &\qquad = \frac{1}{2} \\
    \implies & \sum_{a^- \in \gA^-(i_1)} \pi_{\theta_s}(a^-) \cdot ( r(i_1) - r(a^-)) \leq \frac{1}{2} \, \sum_{a^+ \in \gA^+(i_1)} \pi_{\theta_s}(a^+) \cdot (r(a^+) - r(i_1) ). \label{eq:general_action_global_convergence_first_part_proof_11}
\end{align}
Combining \cref{eq:general_action_global_convergence_first_part_proof_4,eq:general_action_global_convergence_first_part_proof_5,eq:general_action_global_convergence_first_part_proof_11}, we have,
\begin{align}
    \sum_{s=\tau}^t P_s(i_1) &= \sum_{s=\tau}^t \eta \cdot \pi_{\theta_s}(i_1) \cdot ( r(i_1) - \pi_{\theta_s}^\top r ) \\
    &\le - \frac{\eta}{2} \cdot \sum_{s=\tau}^t \pi_{\theta_s}(i_1) \sum_{a^+ \in \gA^+(i_1)}{ \pi_{\theta_s}(a^+) \cdot (r(a^+) - r(i_1) ) } \\
    &\le - \frac{\eta \cdot \Delta}{2} \cdot \sum_{s=\tau}^t \pi_{\theta_s}(i_1) \sum_{a^+ \in \gA^+(i_1)}{ \pi_{\theta_s}(a^+) } \label{eq:general_action_global_convergence_first_part_proof_12} \,,
\end{align}
where
\begin{align}
\label{eq:general_action_global_convergence_first_part_proof_13}
    \Delta \coloneqq \min_{i, j \in [K], \ i \not= j}{ |r(i) - r(j)| } > 0. \qquad \left( \text{by \cref{assp:reward_no_ties}} \right)
\end{align}
Bounding the variance for arm $i_1$, we have that for all large enough $\tau \ge 1$,
\begin{align}
    V_t(i_1) &\coloneqq \frac{5}{18} \cdot \sum_{s=\tau}^{t-1}  \pi_{\theta_s}(i_1) \cdot (1-\pi_{\theta_s}(i_1)) \\
    &= \frac{5}{18} \cdot \sum_{s=\tau}^{t-1}  \pi_{\theta_s}(i_1) \cdot \left( \sum_{a^- \in \gA^-(i_1)} \pi_{\theta_s}(a^-) + \sum_{a^+ \in \gA^+(i_1)} \pi_{\theta_s}(a^+) \right) \label{eq:general_action_global_convergence_first_part_proof_14}
\end{align}
Using similar calculations as for the progress term, we have,
\begin{align}
    \sum_{a^- \in \gA^-(i_1)} \frac{ \pi_{\theta_s}(a^-) }{ \sum_{a^+ \in \gA^+(i_1)} \pi_{\theta_s}(a^+) } &< \sum_{a^- \in \gA^-(i_1)} \frac{ \pi_{\theta_s}(a^-) }{  \pi_{\theta_s}(i_2) } \tag{Fewer terms in the denominator} \\
    \intertext{By \cref{lem:unbouned_prob_ratio}, for large enough $\tau \geq 1$, for all $a^-$, $\frac{\pi_{\theta_s}(a^-)}{ \pi_{\theta_s}(i_2)} \leq \frac{13}{5} \, \frac{1}{\left| \gA^-(i_1) \right|}$. Hence,}
    &\le \sum_{a^- \in \gA^-(i_1)}{ \frac{13}{5} \cdot \frac{1}{\left| \gA^-(i_1) \right|} } \\
    &= \frac{13}{5} \\
\implies \sum_{a^- \in \gA^-(i_1)} \pi_{\theta_s}(a^-)  & \leq  \frac{13}{5} \, \sum_{a^+ \in \gA^+(i_1)} \pi_{\theta_s}(a^+)  \label{eq:general_action_global_convergence_first_part_proof_15}
\end{align}
Combining \cref{eq:general_action_global_convergence_first_part_proof_14,eq:general_action_global_convergence_first_part_proof_15}, we have that for large enough $\tau \geq 1$, 
\begin{align}
    V_t(i_1) &= \frac{5}{18} \cdot \sum_{s=\tau}^{t-1}  \pi_{\theta_s}(i_1) \cdot (1-\pi_{\theta_s}(i_1)) \\
    &\le \sum_{s=\tau}^{t-1}  \pi_{\theta_s}(i_1) \sum_{a^+ \in \gA^+(i_1)}{ \pi_{\theta_s}(a^+) }. \label{eq:general_action_global_convergence_first_part_proof_16}
\end{align}
According to \cref{lem:negative_progress_upper_bounded_parameter} (using \cref{eq:general_action_global_convergence_first_part_proof_4,eq:general_action_global_convergence_first_part_proof_12,eq:general_action_global_convergence_first_part_proof_16}), we have, almost surely,
\begin{align}
\label{eq:general_action_global_convergence_first_part_proof_17}
    \sup_{t \ge 1}{ \theta_t(i_1) } < \infty.
\end{align}
Since $N_\infty(a^*) < \infty$ by assumption, and according to \cref{lem:finite_sample_time_implies_finite_parameter}, we have, almost surely, 
\begin{align}
\label{eq:general_action_global_convergence_first_part_proof_18}
    \inf_{t \ge 1}{ \theta_t(a^*)} > -\infty.
\end{align}
Combining \cref{eq:general_action_global_convergence_first_part_proof_17,eq:general_action_global_convergence_first_part_proof_18}, we have,
\begin{align}
\label{eq:general_action_global_convergence_first_part_proof_19}
    \sup_{t \ge 1}{ \frac{\pi_{\theta_t}(i_1)}{\pi_{\theta_t}(a^*)} } = \sup_{t \ge 1} \, \exp\{ \theta_t(i_1) - \theta_t(a^*) \}  < \infty \,.
\end{align}
On the other hand, by \cref{lem:unbouned_prob_ratio}, we have,
\begin{align}
\label{eq:general_action_global_convergence_first_part_proof_20}
    \sup_{t \ge 1}{ \frac{\pi_{\theta_t}(i_1)}{\pi_{\theta_t}(a^*)} } = \infty
\end{align}
which contradicts \cref{eq:general_action_global_convergence_first_part_proof_19}. Hence, the assumption that $N_\infty(a^*) < \infty$ cannot hold. This completes the proof by contradiction, and implies that $N_\infty(a^*) = \infty$. 

\clearpage
\textbf{Second part.} With $a^* \in \gA_\infty$ i.e. $N_\infty(a^*) =  \infty$, we now argue that $\pi_{\theta_t}(a^*) \to 1$ as $t \to \infty$ almost surely.

According to \cref{lem:at_least_two_actions_infinite_sample_time}, we have, $| \gA_\infty | \ge 2$. Since $a^* \in \gA_\infty$ by assumption, there must be at least one sub-optimal action $i_1\in[K]$ with $r(i_1) < r(a^*)$, such that,
\begin{align}
\label{eq:general_action_global_convergence_second_part_proof_1}
    N_\infty(i_1) = \infty.
\end{align}
In particular, define
\begin{align}
\label{eq:general_action_global_convergence_second_part_proof_2}
    i_1 \coloneqq \argmin_{\substack{a \in [K], \\ N_\infty(a) = \infty}} r(a).
\end{align}
According to \cref{lem:expected_reward_range},  we have, for all sufficiently large $\tau \ge 1$,
\begin{align}
\label{eq:general_action_global_convergence_second_part_proof_3}
    r(i_1) < \pi_{\theta_t}^\top r < r(a^*).
\end{align}
Using the same arguments as in the first part (except that $i_2$ in \cref{eq:general_action_global_convergence_first_part_proof_10} is replaced with $a^*$), both
\cref{eq:general_action_global_convergence_first_part_proof_12,eq:general_action_global_convergence_first_part_proof_16} hold. 

Next, we argue that $\sum_{s=\tau}^t \pi_{\theta_s}(i_1) \sum_{a^+ \in \gA^+(i_1)}{ \pi_{\theta_s}(a^+) } \to \infty$ as $t \to \infty$ by contradiction. 

Suppose
\begin{align}
\label{eq:general_action_global_convergence_second_part_proof_4}
    \sum_{t=\tau}^{\infty} \pi_{\theta_t}(i_1) \sum_{a^+ \in \gA^+(i_1)}{ \pi_{\theta_t}(a^+) } < \infty.
\end{align}
According to \cref{lem:bounded_progress_bounded_parameter} (using \cref{eq:general_action_global_convergence_first_part_proof_4,eq:general_action_global_convergence_first_part_proof_12,eq:general_action_global_convergence_first_part_proof_16,eq:general_action_global_convergence_second_part_proof_4}), we have,
\begin{align}
\label{eq:general_action_global_convergence_second_part_proof_5}
    \sup_{t \ge 1}{ |\theta_t(i_1)| } < \infty.
\end{align}
Calculating the progress and variance for arm $a^*$, for $t \geq 1$, 
\begin{align}
\label{eq:general_action_global_convergence_second_part_proof_5b}
    P_t(a^*) &= \eta \cdot \pi_{\theta_t}(a^*) \cdot (r(a^*) -  \pi_{\theta_t}^\top r ) \\
    &\geq \eta \cdot \Delta \cdot \pi_{\theta_t}(a^*) \cdot \big( 1 - \pi_{\theta_t}(a^*) \big). \qquad \big( \Delta \coloneqq r(a^*) - \max_{a \neq a^*}{r(a)} \big) \\
    &\ge 0.
\end{align}
Denote that, for all $t 
\ge 1$, 
\begin{align}
\label{eq:general_action_global_convergence_second_part_proof_5c}
    V_t(a^*) &\coloneqq \frac{5}{18} \cdot \sum_{s=1}^{t-1}  \pi_{\theta_s}(a^*) \cdot (1-\pi_{\theta_s}(a^*)).
\end{align}
According to \cref{lem:positive_progress_lower_bounded_parameter} (using \cref{eq:general_action_global_convergence_second_part_proof_5b,eq:general_action_global_convergence_second_part_proof_5c}), we have,
\begin{align}
\label{eq:general_action_global_convergence_second_part_proof_6}
    \inf_{t \ge 1}{\theta_t(a^*)} > -\infty.
\end{align}
Combining \cref{eq:general_action_global_convergence_second_part_proof_5,eq:general_action_global_convergence_second_part_proof_6}, we have,
\begin{align}
\label{eq:general_action_global_convergence_second_part_proof_7}
    \sup_{t \ge 1}{ \frac{\pi_{\theta_t}(i_1)}{\pi_{\theta_t}(a^*)}} &= \sup_{t \ge 1} {\exp\{ \theta_t(i_1) - \theta_t(a^*) \}} < \infty,
\end{align}
For all $t \geq 1$, $|\theta_t(i_1)| < \infty$ and since there is at least one arm ($a^*$) s.t. $\inf_{t \geq 1} \theta_t(a) > -\infty$, there exists $\epsilon > 0$  and $\epsilon \in O(1)$, such that,
\begin{align}
\label{eq:general_action_global_convergence_second_part_proof_8}
    \sup_{t \ge 1}{ \pi_{\theta_t}(i_1)} < 1 - 2 \, \epsilon.
\end{align}
According to \cref{eq:general_action_global_convergence_second_part_proof_1}, we know that $N_\infty(i_1) = \infty$ and for all $a^- \in \gA^{-}(i_1)$, $N_\infty(a^-) < \infty$. Using~\cref{lem:unbouned_prob_ratio}, we have, for all large enough $t \ge 1$, $\frac{\pi_{\theta_t}(a^-)}{\pi_{\theta_t}(i_1)} < \frac{\epsilon}{|\gA^{-}(i_1)|}$. 
\begin{align}
    \pi_{\theta_t}(i_1) + \sum_{a^+ \in \gA^+(i_1)}{ \pi_{\theta_t}(a^+) } &= 1 - \pi_{\theta_t}(i_1) \,  \sum_{a^- \in \gA^-(i_1)}{ \frac{\pi_{\theta_t}(a^-)}{\pi_{\theta_t}(i_1)} } > 1 - \pi_{\theta_t}(i_1) \, \epsilon \\
    \implies \pi_{\theta_t}(i_1) + \sum_{a^+ \in \gA^+(i_1)}{ \pi_{\theta_t}(a^+) } & \ge 1 - \epsilon. \label{eq:general_action_global_convergence_second_part_proof_9}
\end{align}
Combining \cref{eq:general_action_global_convergence_second_part_proof_8,eq:general_action_global_convergence_second_part_proof_9}, we have, for all large enough $t \ge 1$,
\begin{align}
\label{eq:general_action_global_convergence_second_part_proof_10}
    \sum_{a^+ \in \gA^+(i_1)}{ \pi_{\theta_t}(a^+) } \ge \epsilon,
\end{align}
which implies that,
\begin{align}
    \sum_{s=\tau}^{\infty} \pi_{\theta_s}(i_1) \sum_{a^+ \in \gA^+(i_1)}{ \pi_{\theta_s}(a^+) } &\ge \epsilon \cdot \sum_{s=\tau}^{\infty} \pi_{\theta_s}(i_1) \\
    &= \infty, \qquad \left( \text{since $N_\infty(i_1) = \infty$ and by \cref{lem:ebc}} \right) \label{eq:general_action_global_convergence_second_part_proof_11}
\end{align}
which contradicts the assumption of \cref{eq:general_action_global_convergence_second_part_proof_4}. This completes the proof by contradiction, and therefore, we have,
\begin{align}
\label{eq:general_action_global_convergence_second_part_proof_12}
    \sum_{s=\tau}^t \pi_{\theta_s}(i_1) \sum_{a^+ \in \gA^+(i_1)}{ \pi_{\theta_s}(a^+) } \to \infty, \text{ as } t \to \infty.
\end{align}
According to \cref{lem:negative_unbounded_progress_unbounded_parameter} (using \cref{eq:general_action_global_convergence_first_part_proof_12,eq:general_action_global_convergence_first_part_proof_16,eq:general_action_global_convergence_second_part_proof_12}), we have, almost surely, 
\begin{align}
\label{eq:general_action_global_convergence_second_part_proof_13}
    \theta_t(i_1) \to  - \infty, \text{ as } t \to \infty.
\end{align}
Combining \cref{eq:general_action_global_convergence_second_part_proof_6,eq:general_action_global_convergence_second_part_proof_13}, we have, almost surely,
\begin{align}
\label{eq:general_action_global_convergence_second_part_proof_14}
    \frac{ \pi_{\theta_t}(a^*) }{ \pi_{\theta_t}(i_1)} = \exp\{ \theta_t(a^*) - \theta_t(i_1) \} \to \infty, \text{ as } t \to \infty.
\end{align}
Hence, we have proved that if $N_\infty(i_1) = \infty$ and $r(i_1) < \pi_{\theta_t}^\top r < r(a^*)$ for sufficiently large $\tau \geq 1$, then, $\frac{ \pi_{\theta_t}(a^*) }{ \pi_{\theta_t}(i_1)} \to \infty, \text{ as } t \to \infty$. 

In order to use this argument recursively, consider sorting the action indices in $\gA_\infty$ according to their descending expected reward values,
\begin{align}
\label{eq:general_action_global_convergence_second_part_proof_15}
    r(a^*) > r(i_{|\gA_\infty| - 1}) > r(i_{|\gA_\infty| - 2}) > \cdots > r(i_2) > r(i_1).
\end{align}
We know that, 
\begin{align}
    \pi_{\theta_t}^\top r - r(i_2) &= \sum_{a \neq i_2} \pi_{\theta_t}(a) \cdot (r(a) - r(i_2)) \\
    & = \sum_{a^- \in \gA^-(i_2)}{ \pi_{\theta_t}(a^-) \cdot (r(a^-) - r(i_2)) } + \sum_{a^+ \in \gA^+(i_2)}{ \pi_{\theta_t}(a^+) \cdot ( r(a^+) - r(i_2)) }
    \\
    &> \pi_{\theta_t}(a^*) \cdot (r(a^*) - r(i_2) ) - \sum_{a^- \in \gA^-(i_2)}{ \pi_{\theta_t}(a^-) \cdot ( r(i_2) - r(a^-)) } \\
    &= \pi_{\theta_t}(a^*) \cdot \bigg[ r(a^*) - r(i_2) - \sum_{a^- \in \gA^-(i_2)}{ \frac{ \pi_{\theta_t}(a^-)}{ \pi_{\theta_t}(a^*) } \cdot ( r(i_2) - r(a^-)) } \bigg], \label{eq:general_action_global_convergence_second_part_proof_16}
\end{align}
According to \cref{lem:unbouned_prob_ratio}, for all $a^- \in \gA^-(i_2)$ with $a^- \ne i_1$, we have, 
\begin{align}
\label{eq:general_action_global_convergence_second_part_proof_18}
    \frac{ \pi_{\theta_t}(a^*) }{ \pi_{\theta_t}(a^-)} \to \infty, \text{ as } t \to \infty.
\end{align}
Combining \cref{eq:general_action_global_convergence_second_part_proof_14,eq:general_action_global_convergence_second_part_proof_18}, we have, for all $a^- \in \gA^-(i_2)$, 
\begin{align}
    \frac{ \pi_{\theta_t}(a^*) }{ \pi_{\theta_t}(a^-)} \to \infty, \text{ as } t \to \infty.
\end{align}
Hence, for all sufficiently large $\tau \ge 1$, for all $a^- \in \gA^{-}(i_2)$, 
\begin{align}
\frac{ \pi_{\theta_t}(a^-) }{ \pi_{\theta_t}(a^*)} \leq \frac{1}{2 \, |\gA^{-}(i_2)|} \, \frac{r(a^*) - r(i_2)}{r(i_2) - r(a^-)}.
\label{eq:general_action_global_convergence_second_part_proof_19}
\end{align}
Combining \cref{eq:general_action_global_convergence_second_part_proof_16,eq:general_action_global_convergence_second_part_proof_19}, we have, for all sufficiently large $t \ge 1$,
\begin{align}
\label{eq:general_action_global_convergence_second_part_proof_20}
    \pi_{\theta_t}^\top r - r(i_2) > \pi_{\theta_t}(a^*) \cdot \frac{ r(a^*) - r(i_2)}{2} > 0.
\end{align}
Hence we have, for all sufficiently large $\tau \ge 1$,
\begin{align}
\label{eq:general_action_global_convergence_second_part_proof_21}
    r(i_2) < \pi_{\theta_t}^\top r < r(a^*)
\end{align}
Comparing \cref{eq:general_action_global_convergence_second_part_proof_21,eq:general_action_global_convergence_second_part_proof_3}, we can use a similar argument for $i_2$ and conclude that, for sufficiently large $\tau \geq 1$, then, $\frac{ \pi_{\theta_t}(a^*) }{ \pi_{\theta_t}(i_2)} \to \infty, \text{ as } t \to \infty$. This further implies that
\begin{align}
r(i_3) < \pi_{\theta_t}^\top r < r(a^*).    
\end{align}
Continuing this recursive argument, we have, for all actions $a \in \gA_\infty$ with $a \ne a^*$,
\begin{align}
\label{eq:general_action_global_convergence_second_part_proof_24}
    \frac{ \pi_{\theta_t}(a^*) }{ \pi_{\theta_t}(a)} \to \infty, \text{ as } t \to \infty.
\end{align}
Meanwhile, according to \cref{lem:unbouned_prob_ratio}, we have, for all actions $a \not\in \gA_\infty$,
\begin{align}
\label{eq:general_action_global_convergence_second_part_proof_25}
    \frac{ \pi_{\theta_t}(a^*) }{ \pi_{\theta_t}(a)} \to \infty, \text{ as } t \to \infty.
\end{align}
Combining \cref{eq:general_action_global_convergence_second_part_proof_24,eq:general_action_global_convergence_second_part_proof_25}, we have, for all sub-optimal actions $a \in [K]$ with $r(a) < r(a^*)$,
\begin{align}
\label{eq:general_action_global_convergence_second_part_proof_26}
    \frac{ \pi_{\theta_t}(a^*) }{ \pi_{\theta_t}(a)} \to \infty, \text{ as } t \to \infty.
\end{align}
Finally, note that, 
\begin{align}
    \pi_{\theta_t}(a^*)
    &= \frac{\pi_{\theta_t}(a^*)}{ \sum_{a \in [K]: \ r(a) < r(a^*)} \pi_{\theta_t}(a) +  \pi_{\theta_t}(a^*)} \\
    &= \frac{1}{ \sum_{a \in [K]: \ r(a) < r(a^*)} \frac{\pi_{\theta_t}(a)}{\pi_{\theta_t}(a^*)}  +  1} \label{eq:general_action_global_convergence_second_part_proof_27}.
\end{align}
Combining \cref{eq:general_action_global_convergence_second_part_proof_26,eq:general_action_global_convergence_second_part_proof_27}, we have, almost surely,
\begin{equation*}
    \pi_{\theta_t}(a^*) \to 1, \text{ as } t \to \infty. \qedhere
\end{equation*}
\end{proof}

\clearpage
\section{Miscellaneous Extra Supporting Results}

\begin{lemma}[Extended Borel-Cantelli Lemma, Corollary 5.29 of \citep{breiman1992probability}]
\label{lem:ebc}
Let $( \gF_n)_{n \ge 1}$ be a filtration, $A_n \in \gF_n$.
Then, almost surely, 
\begin{align}
\{ \omega \,: \, \omega \in A_n \text{ infinitely often } \} = \left\{ \omega \, : \, 
\sum_{n=1}^\infty \sP(A_n|\gF_n) = \infty \right\}\,.
\end{align}
\end{lemma}

\begin{lemma}[Freedmanâ€™s inequality \citep{freedman1975on,cesa2005improved}, Theorem C.3 of \citep{mei2024stochastic}]
\label{lem:conc_new}
    Let $X_1, X_2, \dots$ be a sequence of random variables, such that for all $t \ge 1$, $|X_t|\le 1/2 $. Define 
\begin{align}
    S_n \coloneqq \left| \sum_{t=1}^n \EE{ X_t | X_1, \dots, X_{t-1} } - X_t \right|
    \quad \text{ and } \quad 
    V_n \coloneqq \sum_{t=1}^n \mathrm{Var}[ X_t | X_1, \ldots, X_{t-1} ].
\end{align}
Then, for all $\delta> 0$,
\begin{align}
    \probability{ \left( \exists \ n:\ S_n\ge  6 \ \sqrt{  \left(V_n+ \frac{4}{3} \right) \ \log \left( \frac{  V_n+1  }{ \delta } \right) } + 2\log \left( \frac{1}{\delta} \right)  + \frac{4}{3} \log 3
    ~ \right) } \le \delta.
\end{align}
\end{lemma}

\begin{lemma}
\label{lem:unbouned_prob_ratio}
Using \cref{alg:gradient_bandit_algorithm_sampled_reward}, for any two different actions $i, j \in [K]$ with $i \ne j$, if $N_\infty(i) = \infty$ and $N_\infty(j) < \infty$, then we have, almost surely,
\begin{align}
    \sup_{t \ge 1}{ \frac{ \pi_{\theta_t}(i) }{  \pi_{\theta_t}(j) } } = \infty.
\end{align}
\end{lemma}
\begin{proof}
We prove the result by contradiction. Suppose
\begin{align}
\label{eq:unbouned_prob_ratio_proof_1}
    c \coloneqq \sup_{t \ge 1}{ \frac{ \pi_{\theta_t}(i) }{  \pi_{\theta_t}(j) } } < \infty.
\end{align}
According to the extended Borel-Cantelli \cref{lem:ebc}, we have, for all $a \in [K]$, almost surely,
\begin{align}
\label{eq:unbouned_prob_ratio_proof_2}
    \Big\{ \sum_{t \ge 1} \pi_{\theta_t}(j)=\infty \Big\} = \left\{ N_\infty(j)=\infty \right\}.
\end{align}
Hence, taking complements, we have,
\begin{align}
\label{eq:unbouned_prob_ratio_proof_3}
    \Big\{ \sum_{t \ge 1} \pi_{\theta_t}(j)<\infty \Big\} = \left\{N_\infty(j)<\infty\right\}
\end{align}
also holds almost surely, which implies that,
\begin{align}
\label{eq:unbouned_prob_ratio_proof_4a}
    \sum_{t=1}^{\infty} \pi_{\theta_t}(i) &= \infty, \text{ and} \\
\label{eq:unbouned_prob_ratio_proof_4b}
    \sum_{t=1}^{\infty} \pi_{\theta_t}(j) &< \infty.
\end{align}
Therefore, we have,
\begin{align}
\label{eq:unbouned_prob_ratio_proof_5}
    \sum_{t=1}^{\infty} \pi_{\theta_t}(i) &= \sum_{t=1}^{\infty} \pi_{\theta_t}(j) \cdot \frac{ \pi_{\theta_t}(i) }{ \pi_{\theta_t}(j) } \\
    &\le c \cdot \sum_{t=1}^{\infty} \pi_{\theta_t}(j) \\
    &< \infty,
\end{align}
which is a contradiction with \cref{eq:unbouned_prob_ratio_proof_4a}.
\end{proof}

\begin{lemma}
\label{lem:expected_reward_range}
Using \cref{alg:gradient_bandit_algorithm_sampled_reward}, we have, almost surely, for all large enough $t \ge 1$,
\begin{align}
\label{eq:expected_reward_range_claim_1}
    r(i_1) < \pi_{\theta_t}^\top r < r(i_2),
\end{align}
where $i_1, i_2 \in [K]$ and $i_1 \ne i_2$ are the action indices defined as,
\begin{align}
\label{eq:expected_reward_range_claim_2a}
    i_1 &\coloneqq \argmin_{\substack{a \in [K], \\ N_\infty(a) = \infty}} r(a), \\
\label{eq:expected_reward_range_claim_2b}
    i_2 &\coloneqq \argmax_{\substack{a \in [K], \\ N_\infty(a) = \infty}} r(a).
\end{align}
\end{lemma}
\begin{proof}
Define $\gA_\infty$ as the set of actions which are sampled for infinitely many times as $t \to \infty$, i.e.,
\begin{align}
\label{eq:expected_reward_range_proof_1}
    \gA_\infty \coloneqq \left\{ a \in [K] \ | \ N_\infty(a) = \infty \right\}.
\end{align}
According to \cref{lem:at_least_two_actions_infinite_sample_time}, we have $| \gA_\infty | \ge 2$, which implies that $i_1 \ne i_2$.

Given any sub-optimal action $i \in [K]$ with $r(i) < r(a^*)$, we partition the remaining actions into two parts using $r(i)$.
\begin{align}
\label{eq:expected_reward_range_proof_2a}
    \gA^+(i) &\coloneqq \left\{ a^+ \in [K]: r(a^+) > r(i) \right\}, \\
\label{eq:expected_reward_range_proof_2b}
    \gA^-(i) &\coloneqq \left\{ a^- \in [K]: r(a^-) < r(i) \right\}.
\end{align}
By definition, we have,
\begin{align}
\label{eq:expected_reward_range_proof_3a}
    &\gA_\infty \subseteq \gA^+(i_1) \cup \{ i_1 \}, \text{ and} \\
\label{eq:expected_reward_range_proof_3b}
    &\gA_\infty \subseteq \gA^-(i_2) \cup \{ i_2 \}.
\end{align}

\textbf{First part.} $r(i_1) < \pi_{\theta_t}^\top r$. 

If $r(i_1) = \min_{a \in [K]} r(a)$, i.e., $i_1$ is the ``worst action'', then $r(i_1) < \pi_{\theta_t}^\top r$ holds trivially. Otherwise, suppose $r(i_1) \ne \min_{a \in [K]} r(a)$. We have,
\begin{align}
\label{eq:expected_reward_range_proof_4}
    \pi_{\theta_t}^\top r - r(i_1) &= \sum_{a^+ \in \gA^+(i_1)}{ \pi_{\theta_t}(a^+) \cdot (r(a^+) - r(i_1) ) } - \sum_{a^- \in \gA^-(i_1)}{ \pi_{\theta_t}(a^-) \cdot ( r(i_1) - r(a^-)) }.
\end{align}
Consider the non-empty set $\gA_\infty \cap \gA^+(i_1)$. Pick an action $j_1 \in \gA_\infty \cap \gA^+(i_1)$, and ignore all the other actions $a^+ \in \gA^+(i_1)$ with $a^+ \ne j_1$ in the above equation. We have,
\begin{align}
\label{eq:expected_reward_range_proof_5}
    \pi_{\theta_t}^\top r - r(i_1) &> \pi_{\theta_t}(j_1) \cdot (r(j_1) - r(i_1) ) - \sum_{a^- \in \gA^-(i_1)}{ \pi_{\theta_t}(a^-) \cdot ( r(i_1) - r(a^-)) } \\
    &= \pi_{\theta_t}(j_1) \cdot \bigg[ r(j_1) - r(i_1) - \sum_{a^- \in \gA^-(i_1)}{ \frac{ \pi_{\theta_t}(a^-)}{ \pi_{\theta_t}(j_1) } \cdot ( r(i_1) - r(a^-)) } \bigg],
\end{align}
where the first inequality is because of $r(a^+) - r(i_1) > 0$ for all $a^+ \in \gA^+(i_1)$ by \cref{eq:expected_reward_range_proof_2a}. Note that $N_\infty(j_1) = \infty$ and $N_\infty(a^-) < \infty$. According to \cref{lem:unbouned_prob_ratio}, we have, for all large enough $t \ge 1$, 
\begin{align}
\label{eq:expected_reward_range_proof_6}
\MoveEqLeft
    \sum_{a^- \in \gA^-(i_1)}{ \frac{ \pi_{\theta_t}(a^-)}{ \pi_{\theta_t}(j_1) } \cdot ( r(i_1) - r(a^-)) } = \sum_{a^- \in \gA^-(i_1)}{ ( r(i_1) - r(a^-)) \Big/ \frac{ \pi_{\theta_t}(j_1) }{ \pi_{\theta_t}(a^-)} } \\
    &< \sum_{a^- \in \gA^-(i_1)}{ ( r(i_1) - r(a^-)) \cdot \frac{1}{\big| \gA^-(i_1) \big| } \cdot \frac{r(j_1) - r(i_1)}{r(i_1) - r(a^-)} \cdot \frac{1}{2} } \\
    &= \frac{r(j_1) - r(i_1)}{2}.
\end{align}
Combining \cref{eq:expected_reward_range_proof_5,eq:expected_reward_range_proof_6}, we have,
\begin{align}
\label{eq:expected_reward_range_proof_7}
    \pi_{\theta_t}^\top r - r(i_1) > \pi_{\theta_t}(j_1) \cdot \frac{r(j_1) - r(i_1)}{2} > 0,
\end{align}
where the last inequality is because  $j_1 \in \gA^+(i_1)$.

\textbf{Second part.} $\pi_{\theta_t}^\top r < r(i_2)$.

The arguments are similar to the first part. If $r(i_2) = r(a^*)$, i.e., $i_2$ is the optimal action, then $\pi_{\theta_t}^\top r < r(i_2)$ holds trivially. Otherwise, suppose $r(i_2) \ne r(a^*)$. We have,
\begin{align}
\label{eq:expected_reward_range_proof_8}
    r(i_2) - \pi_{\theta_t}^\top r &= \sum_{a^- \in \gA^-(i_2)}{ \pi_{\theta_t}(a^-) \cdot (r(i_2) - r(a^-) ) } - \sum_{a^+ \in \gA^+(i_2)}{ \pi_{\theta_t}(a^+) \cdot ( r(a^+) - r(i_2)) }.
\end{align}
Consider the non-empty set $\gA_\infty \cap \gA^-(i_2)$. Pick an action $j_2 \in \gA_\infty \cap \gA^-(i_2)$, and ignore all the other actions $a^- \in \gA^-(i_2)$ with $a^- \ne j_2$ in the above equation. We have,
\begin{align}
\label{eq:expected_reward_range_proof_9}
    r(i_2) - \pi_{\theta_t}^\top r &\ge \pi_{\theta_t}(j_2) \cdot (r(i_2) - r(j_2) ) - \sum_{a^+ \in \gA^+(i_2)}{ \pi_{\theta_t}(a^+) \cdot ( r(a^+) - r(i_2)) } \\
    &=\pi_{\theta_t}(j_2) \cdot \bigg[ r(i_2) - r(j_2) - \sum_{a^+ \in \gA^+(i_2)}{ \frac{ \pi_{\theta_t}(a^+)}{\pi_{\theta_t}(j_2)} \cdot ( r(a^+) - r(i_2)) } \bigg],
\end{align}
where the first inequality is because of $r(i_2) - r(a^-) > 0$ for all $a^- \in \gA^-(i_2)$ by \cref{eq:expected_reward_range_proof_2a}. Note that $N_\infty(j_2) = \infty$ and $N_\infty(a^+) < \infty$. According to \cref{lem:unbouned_prob_ratio}, we have, for all large enough $t \ge 1$, 
\begin{align}
\label{eq:expected_reward_range_proof_10}
\MoveEqLeft
    \sum_{a^+ \in \gA^+(i_2)}{ \frac{ \pi_{\theta_t}(a^+)}{\pi_{\theta_t}(j_2)} \cdot ( r(a^+) - r(i_2)) } = \sum_{a^+ \in \gA^+(i_2)}{ ( r(a^+) - r(i_2)) \Big/ \frac{\pi_{\theta_t}(j_2)}{ \pi_{\theta_t}(a^+)}  } \\
    &< \sum_{a^+ \in \gA^+(i_2)}{ ( r(a^+) - r(i_2)) \cdot \frac{1}{\big| \gA^+(i_2) \big| } \cdot \frac{r(i_2) - r(j_2)}{r(a^+) - r(i_2)} \cdot \frac{1}{2} } \\
    &= \frac{r(i_2) - r(j_2)}{2}.
\end{align}
Combining \cref{eq:expected_reward_range_proof_9,eq:expected_reward_range_proof_10}, we have,
\begin{align}
    r(i_2) - \pi_{\theta_t}^\top r \ge \pi_{\theta_t}(j_2) \cdot \frac{r(i_2) - r(j_2)}{2} > 0,
\end{align}
where the last inequality is because  $j_2 \in \gA^-(i_2)$.
\end{proof}

For the following lemmas, we will use the notation defined in the proofs for \cref{thm:two_action_global_convergence,thm:general_action_global_convergence}.

\begin{lemma}[Concentration of noise]
\label{lem:parameter_noise_concentration}
Given an action $a \in [K]$. We have, with probability at least $1 - \delta$,
\begin{align}
\label{eq:parameter_noise_concentration_claim_1}
\MoveEqLeft
    \forall t:\quad \left| \sum_{s=1}^t W_{s+1}(a) \right| \le  36 \ \eta \ R_{\max} \ \sqrt{  (V_t(a)+4/3)\log \left( \frac{  V_t(a)+1  }{ \delta } \right) } + 12 \ \eta \ R_{\max} \ \log(1/\delta) +  8 \ \eta \ R_{\max}\log 3,
\end{align}
where
\begin{align}
\label{eq:parameter_noise_concentration_claim_2}
    V_t(a) \coloneqq \frac{5}{18} \cdot \sum_{s=1}^t  \pi_{\theta_s}(a)\cdot (1-\pi_{\theta_s}(a)),
\end{align}
and 
\begin{align}
\label{eq:parameter_noise_concentration_claim_3}
    W_t(a) \coloneqq \theta_t(a) - \chE_{t-1}{[ \theta_t(a)]}
\end{align}
is originally defined by \cref{eq:two_action_global_convergence_proof_2b}.
\end{lemma}
\begin{proof}
First, note that,
\begin{align}
\label{eq:parameter_noise_concentration_proof_1}
    \EEt{W_{t+1}(a)}=0, \text{ for all } t \ge 0.
\end{align}
Using the update \cref{eq:finite_sample_time_implies_finite_parameter_proof_1}, we have,
\begin{align}
\label{eq:parameter_noise_concentration_proof_2}
\MoveEqLeft
    W_{t+1}(a) = \theta_{t+1}(a) - \EEt{\theta_{t+1}(a)} \\
    &=  \theta_{t}(a) + \eta \cdot \left( I_t(a) - \pi_{\theta_t}(a) \right) \cdot R_t(a_t)   - \left( \theta_{t}(a) + \eta \cdot \pi_{\theta_t}(a) \cdot \left( r(a) - \pi_{\theta_t}^\top r \right) \right) \\
    &= \eta \cdot \left( I_t(a) - \pi_{\theta_t}(a) \right) \cdot R_t(a_t)   - \eta \cdot \pi_{\theta_t}(a) \cdot \left( r(a) - \pi_{\theta_t}^\top r \right).
\end{align}
According to 
\cref{eq:true_mean_reward_expectation_bounded_sampled_reward}, we have,
\begin{align}
\label{eq:parameter_noise_concentration_proof_3}
    |W_{t+1}(a)| \le 3 \, \eta \cdot R_{\max}.
\end{align}
The conditional variance of noise is,
\begin{align}
\label{eq:parameter_noise_concentration_proof_4}
\MoveEqLeft
    \mathrm{Var}[ W_{t+1}(a) | \gF_t ] \coloneqq \EEt{( W_{t+1}(a) )^2 }  \\
    &\le 2 \ \eta^2 \cdot \EEt { \left( I_t(a) - \pi_{\theta_t}(a) \right)^2 \cdot R_t(a_t)^2 } + 2 \ \eta^2 \cdot \pi_{\theta_t}(a)^2 \cdot \left( r(a) - \pi_{\theta_t}^\top r \right)^2,
\end{align}
where the inequality is by $(a+b)^2 \le 2a^2 + 2 b^2$. Next, we have,
\begin{align}
\label{eq:parameter_noise_concentration_proof_5}
    \EEt{ \left( I_t(a) - \pi_{\theta_t}(a) \right)^2 \cdot R_t(a_t)^2 } &= \pi_t(a) \cdot ( 1 - \pi_t(a) )^2 \cdot r(a)^2 + \sum_{a'\ne a} \pi_{\theta_t}(a^\prime) \cdot \pi_t(a)^2 \cdot r(a^\prime)^2 \\
    &\le R_{\max}^2 \cdot \Big( \pi_t(a) \cdot ( 1 - \pi_t(a) )^2 + ( 1 - \pi_t(a) ) \cdot \pi_t(a)^2  \Big) \\
    &= R_{\max}^2 \cdot  \pi_{\theta_t}(a) \cdot ( 1 - \pi_{\theta_t}(a) ),
\end{align}
and,
\begin{align}
\label{eq:parameter_noise_concentration_proof_6}
    \left| r(a) - \pi_{\theta_t}^\top r  \right|  
    &= \bigg| \sum_{a^\prime \ne a} \pi_{\theta_t}(a^\prime) \cdot \left( r(a)-r(a^\prime) \right) \bigg| \\ 
    &\le \sum_{a^\prime \ne a} \pi_{\theta_t}(a^\prime) \cdot \left|  r(a)-r(a^\prime)  \right| 
    \\
    &\le 2 \ R_{\max} \cdot \sum_{a^\prime \ne a} \pi_{\theta_t}(a^\prime) \\
    &= 2 \ R_{\max} \cdot \left( 1-\pi_{\theta_t}(a) \right).
\end{align}
Combining \cref{eq:parameter_noise_concentration_proof_4,eq:parameter_noise_concentration_proof_5,eq:parameter_noise_concentration_proof_6}, we have,
\begin{align}
\label{eq:parameter_noise_concentration_proof_7}
    \mathrm{Var}[ W_{t+1}(a) | \gF_t ]
    &\le 2 \ \eta^2 \cdot R_{\max}^2 \cdot \pi_{\theta_t}(a) \cdot (1-\pi_{\theta_t}(a)) + 8 \ \eta^2 \cdot R_{\max}^2 \cdot \pi_{\theta_t}(a)^2 \cdot ( 1-\pi_{\theta_t}(a) )^2 \\
    &\le 10 \ \eta^2 \cdot R_{\max}^2 \cdot \pi_{\theta_t}(a) \cdot (1-\pi_{\theta_t}(a)).
\end{align}
Let $X_{t+1}(a) \coloneqq \frac{ W_{t+1}(a) }{  6 \ \eta \cdot R_{\max} }$. Then we have, 
\begin{align}
\label{eq:parameter_noise_concentration_proof_8a}
    |X_{t+1}(a)| &\le 1/2, \text{ and} \\
\label{eq:parameter_noise_concentration_proof_8b}
    \mathrm{Var}[ X_{t+1}(a) | \gF_t ] &\le \frac{5}{18} \cdot \pi_{\theta_t}(a) \cdot (1-\pi_{\theta_t}(a)).
\end{align}
According to \cref{lem:conc_new}, there exists an event $\gE_1 $ such that $\probability(\gE_1 ) \ge 1- \delta$, and when $\gE_1 $ holds, 
\begin{align}
\label{eq:parameter_noise_concentration_proof_9}
    &\forall t: \quad \left| \sum_{s=1}^t X_{s+1}(a) \right| \le  6 \ \sqrt{  (V_t(a)+4/3)\log \left( \frac{ V_t(a)+1  }{ \delta } \right) } + 2 \ \log(1/\delta)   + \frac{4}{3} \log 3,
\end{align}
which implies that, 
\begin{align}
\label{eq:parameter_noise_concentration_proof_10}
\MoveEqLeft
    \forall t:\quad \left| \sum_{s=1}^t W_{s+1}(a) \right| \le  36 \ \eta \ R_{\max} \ \sqrt{  (V_t(a)+4/3)\log \left( \frac{  V_t(a)+1  }{ \delta } \right) } + 12 \ \eta \ R_{\max} \ \log(1/\delta) +  8 \ \eta \ R_{\max}\log 3,
\end{align}
where $V_t(a) \coloneqq \frac{5}{18} \cdot \sum_{s=1}^t  \pi_{\theta_s}(a)\cdot (1-\pi_{\theta_s}(a))$.
\end{proof}

\begin{lemma}[Bounded progress]
\label{lem:bounded_progress_bounded_parameter}
For any action $a \in [K]$ with $N_\infty(a) = \infty$, if there exists $c > 0$ and $\tau < \infty$, such that, for all $t \ge \tau$,
\begin{align}
\label{eq:bounded_progress_bounded_parameter_claim_1}
    \sum_{s=1}^{t} \big| P_s(a) \big| &\ge c \cdot V_t(a),
\end{align}
where $V_t(a)$ is defined in \cref{eq:parameter_noise_concentration_claim_2}, and if also
\begin{align}
\label{eq:bounded_progress_bounded_parameter_claim_2}
    \sum_{t=1}^{\infty}{ \big| P_t(a) \big| } &< \infty,
\end{align}
then we have, almost surely,
\begin{align}
\label{eq:bounded_progress_bounded_parameter_claim_3}
    \sup_{t \ge 1}{ |\theta_t(a)| } < \infty.
\end{align}
\end{lemma}
\begin{proof}
According to \cref{eq:two_action_global_convergence_proof_4} and triangle inequality, we have,
\begin{align}
\label{eq:bounded_progress_bounded_parameter_proof_1}
    \big| \theta_t(a) \big| &\le \Big| \EE{\theta_1(a)} \Big| + \bigg| \sum_{s=1}^{t}{W_s(a)} \bigg| + \bigg| \sum_{s=1}^{t-1}{P_s(a)} \bigg|.
\end{align}
According to 
\cref{lem:parameter_noise_concentration}, there exists an event $\gE_1 $, such that $\probability(\gE_1 ) \ge 1- \delta$, and when $\gE_1 $ holds, we have, for all $t \ge \tau+1$,
\begin{align}
\label{eq:bounded_progress_bounded_parameter_proof_2}
    \bigg| \sum_{s=1}^{t}{W_s(a)} \bigg| &\le 36 \ \eta \ R_{\max} \ \sqrt{  (V_{t-1}(a)+4/3) \cdot \log \left( \frac{  V_{t-1}(a)+1  }{ \delta } \right) } + 12 \ \eta \ R_{\max} \ \log(1/\delta) +  8 \ \eta \ R_{\max}\log 3.
\end{align}
According to \cref{eq:bounded_progress_bounded_parameter_claim_2}, as $t \to \infty$,
\begin{align}
\label{eq:bounded_progress_bounded_parameter_proof_3}
    \bigg| \sum_{s=1}^{t-1}{P_s(a)} \bigg| \le \sum_{s=1}^{t-1}{ \big| P_s(a) \big| } < \infty.
\end{align}
According to \cref{eq:bounded_progress_bounded_parameter_proof_2,eq:bounded_progress_bounded_parameter_proof_3,eq:bounded_progress_bounded_parameter_claim_1}, we have,
\begin{align}
\label{eq:bounded_progress_bounded_parameter_proof_4}
    \bigg| \sum_{s=1}^{t}{W_s(a)} \bigg| < \infty.
\end{align}
Combining \cref{eq:bounded_progress_bounded_parameter_proof_1,eq:bounded_progress_bounded_parameter_proof_3,eq:bounded_progress_bounded_parameter_proof_4}, we have, as $t \to \infty$,
\begin{align}
\label{eq:bounded_progress_bounded_parameter_proof_5}
    |\theta_t(a)| < \infty.
\end{align}
Take any $\omega \in \gE \coloneqq \{ N_\infty(a) = \infty \}$. Because $\sP{\left( \gE  \setminus \left( \gE  \cap \gE_1  \right) \right)} \le \sP{\left( \Omega \setminus \gE_1  \right)} \le \delta \to 0$  as $\delta\to 0$, we have that $\sP$-almost surely for all $\omega \in \gE $
there exists $\delta > 0$ such that $\omega \in \gE \cap \gE_1 $
while
\cref{eq:bounded_progress_bounded_parameter_proof_2} also holds for this $\delta$.
Take such a $\delta$. We have, almost surely,
\begin{equation*}
    \sup_{t \ge 1}{ |\theta_t(a)| } < \infty. \qedhere
\end{equation*}
\end{proof}

\begin{lemma}[Unbounded positive progress]
\label{lem:positive_unbounded_progress_unbounded_parameter}
For any action $a \in [K]$ with $N_\infty(a) = \infty$, if there exists $c > 0$ and $\tau < \infty$, such that, for all $t \ge \tau$,
\begin{align}
\label{eq:positive_unbounded_progress_unbounded_parameter_claim_1a}
    P_t(a) &> 0, \text{ and} \\
\label{eq:positive_unbounded_progress_unbounded_parameter_claim_1b}
    \sum_{s=\tau}^{t} P_s(a) &\ge c \cdot V_t(a),
\end{align}
where $V_t(a)$ is defined in \cref{eq:parameter_noise_concentration_claim_2}, and if also,
\begin{align}
\label{eq:positive_unbounded_progress_unbounded_parameter_claim_2}
    \sum_{t=\tau}^{\infty}{ P_t(a) } = \infty,
\end{align}
then we have, almost surely,
\begin{align}
\label{eq:positive_unbounded_progress_unbounded_parameter_claim_3}
    \theta_t(a) \to \infty, \text{ as } t \to \infty.
\end{align}
\end{lemma}
\begin{proof}
According to \cref{eq:two_action_global_convergence_proof_4}, 
\begin{align}
\label{eq:positive_unbounded_progress_unbounded_parameter_proof_1}
    \theta_t(a) = \EE{\theta_1(a)} + \sum_{s=1}^{t}{W_s(a)} + \sum_{s=1}^{t-1}{P_s(a)}.
\end{align}
According to 
\cref{lem:parameter_noise_concentration}, there exists an event $\gE_1 $, such that $\probability(\gE_1 ) \ge 1- \delta$, and when $\gE_1 $ holds, we have, for all $t \ge \tau+1$,
\begin{align}
\label{eq:positive_unbounded_progress_unbounded_parameter_proof_2}
    \sum_{s=1}^{t}{W_s(a)} &\ge - 36 \ \eta \ R_{\max} \ \underbrace{\sqrt{  (V_{t-1}(a)+4/3) \cdot \log \left( \frac{  V_{t-1}(a)+1  }{ \delta } \right) }}_{\heartsuit
    } - 12 \ \eta \ R_{\max} \ \log(1/\delta) -  8 \ \eta \ R_{\max}\log 3.
\end{align}
By \cref{eq:positive_unbounded_progress_unbounded_parameter_claim_2}, as $t \to \infty$,
\begin{align}
\label{eq:positive_unbounded_progress_unbounded_parameter_proof_3}
    \sum_{s=1}^{t-1}{P_s(a)} \to \infty,
\end{align}
and the speed of $\sum_{s=1}^{t-1}{P_s(a)} \to \infty$ is strictly faster than $\heartsuit \to \infty$, according to \cref{eq:positive_unbounded_progress_unbounded_parameter_claim_1b}. This implies that $\theta_t(a) \to \infty$, as a result of ``cumulative progress'' dominates ``cumulative noise''.

Take any $\omega \in \gE \coloneqq \{ N_\infty(a) = \infty \}$. Because $\sP{\left( \gE  \setminus \left( \gE  \cap \gE_1  \right) \right)} \le \sP{\left( \Omega \setminus \gE_1  \right)} \le \delta \to 0$  as $\delta\to 0$, we have that $\sP$-almost surely for all $\omega \in \gE $
there exists $\delta > 0$ such that $\omega \in \gE \cap \gE_1 $
while
\cref{eq:positive_unbounded_progress_unbounded_parameter_proof_2} also holds for this $\delta$.
Take such a $\delta$. We have, almost surely,
\begin{equation*}
    \theta_t(a) \to \infty, \text{ as } t \to \infty. \qedhere
\end{equation*}
\end{proof}

\begin{lemma}[Unbounded negative progress]
\label{lem:negative_unbounded_progress_unbounded_parameter}
For any action $a \in [K]$ with $N_\infty(a) = \infty$, if there exists $c > 0$ and $\tau < \infty$, such that, for all $t \ge \tau$,
\begin{align}
\label{eq:negative_unbounded_progress_unbounded_parameter_claim_1a}
    P_t(a) &< 0, \text{ and} \\
\label{eq:negative_unbounded_progress_unbounded_parameter_claim_1b}
    - \sum_{s=\tau}^{t} P_s(a) &\ge c \cdot V_t(a),
\end{align}
where $V_t(a)$ is defined in \cref{eq:parameter_noise_concentration_claim_2}, and if also,
\begin{align}
\label{eq:negative_unbounded_progress_unbounded_parameter_claim_2}
    \sum_{t=\tau}^{\infty}{ P_t(a) } = - \infty,
\end{align}
then we have, almost surely,
\begin{align}
\label{eq:negative_unbounded_progress_unbounded_parameter_claim_3}
    \theta_t(a) \to - \infty, \text{ as } t \to \infty.
\end{align}
\end{lemma}
\begin{proof}
The proof follows almost the same arguments for \cref{lem:positive_unbounded_progress_unbounded_parameter}.
\end{proof}


\begin{lemma}[Positive progress]
\label{lem:positive_progress_lower_bounded_parameter}
For any action $a \in [K]$ with $N_\infty(a) = \infty$, if there exists $c > 0$ and $\tau < \infty$, such that, for all $t \ge \tau$,
\begin{align}
\label{eq:positive_progress_lower_bounded_parameter_claim_1a}
    P_t(a) &> 0, \text{ and} \\
\label{eq:positive_progress_lower_bounded_parameter_claim_1b}
    \sum_{s=\tau}^{t} P_s(a) &\ge c \cdot V_t(a),
\end{align}
where $V_t(a)$ is defined in \cref{eq:parameter_noise_concentration_claim_2}, 
then we have, almost surely,
\begin{align}
\label{eq:positive_progress_lower_bounded_parameter_claim_2}
    \inf_{t \ge 1}{ \theta_t(a) } > -\infty.
\end{align}
\end{lemma}
\begin{proof}
\textbf{First case:} if $\sum_{t=1}^{\infty} P_t(a) < \infty$, then according to \cref{lem:bounded_progress_bounded_parameter}, we have, almost surely,
\begin{align}
\label{eq:positive_progress_lower_bounded_parameter_proof_1}
    \sup_{t \ge 1}{ |\theta_t(a)| } < \infty,
\end{align}
which implies \cref{eq:positive_progress_lower_bounded_parameter_claim_2}.

\textbf{Second case:} if $\sum_{t=1}^{\infty} P_t(a) = \infty$, then according to \cref{lem:positive_unbounded_progress_unbounded_parameter}, we have, almost surely,
\begin{align}
\label{eq:positive_progress_lower_bounded_parameter_proof_2}
    \theta_t(a) \to \infty, \text{ as } t \to \infty,
\end{align}
which also implies \cref{eq:positive_progress_lower_bounded_parameter_claim_2}.
\end{proof}

\begin{lemma}[Negative progress]
\label{lem:negative_progress_upper_bounded_parameter}
For any action $a \in [K]$ with $N_\infty(a) = \infty$, if there exists $c > 0$ and $\tau < \infty$, such that, for all $t \ge \tau$,
\begin{align}
\label{eq:negative_progress_upper_bounded_parameter_claim_1a}
    P_t(a) &< 0, \text{ and} \\
\label{eq:negative_progress_upper_bounded_parameter_claim_1b}
    - \sum_{s=\tau}^{t} P_s(a) &\ge c \cdot V_t(a),
\end{align}
where $V_t(a)$ is defined in \cref{eq:parameter_noise_concentration_claim_2}, 
then we have, almost surely,
\begin{align}
\label{eq:negative_progress_upper_bounded_parameter_claim_2}
    \sup_{t \ge 1}{ \theta_t(a) } < \infty.
\end{align}
\end{lemma}
\begin{proof}
\textbf{First case:} if $ - \sum_{t=1}^{\infty} P_t(a) < \infty$, then according to \cref{lem:bounded_progress_bounded_parameter}, we have, almost surely,
\begin{align}
\label{eq:negative_progress_upper_bounded_parameter_proof_1}
    \sup_{t \ge 1}{ |\theta_t(a)| } < \infty,
\end{align}
which implies \cref{eq:negative_progress_upper_bounded_parameter_claim_2}.

\textbf{Second case:} if $- \sum_{t=1}^{\infty} P_t(a) = \infty$, then according to \cref{lem:negative_unbounded_progress_unbounded_parameter}, we have, almost surely,
\begin{align}
\label{eq:negative_progress_upper_bounded_parameter_proof_2}
    \theta_t(a) \to - \infty, \text{ as } t \to \infty,
\end{align}
which also implies \cref{eq:negative_progress_upper_bounded_parameter_claim_2}.
\end{proof}

\input{asymptotic_rate}

\clearpage
\section{Additional simulation results}
\label{app:sim}

\begin{figure}[h]
\centering
\begin{subfigure}[b]{.328\linewidth}
\includegraphics[width=\linewidth]{figs/large_learning_rate_two_action_prob_astar_eta_100.00.pdf}
\caption{$\pi_{\theta_t}(a^*)$, $\, \eta = 100$.}\label{fig:optimal_action_prob_two_action_case_eta_100}
\end{subfigure}
\begin{subfigure}[b]{.328\linewidth}
\includegraphics[width=\linewidth]{figs/large_learning_rate_two_action_subopt_eta_100.00.pdf}
\caption{$r(a^*) - \pi_{\theta_t}^\top r$, $\, \eta = 100$.}\label{fig:sub_optimality_gap_two_action_case_eta_100}
\end{subfigure}
\begin{subfigure}[b]{.328\linewidth}
\includegraphics[width=\linewidth]{figs/large_learning_rate_two_action_log_subopt_eta_10.00.pdf}
\caption{$\log{ ( r(a^*) - \pi_{\theta_t}^\top r ) }$, $\, \eta = 10$.}\label{fig:sub_optimality_gap_two_action_case_eta_10}
\end{subfigure}
\caption{Visualization in a two-action stochastic bandit problem. Here the rewards are defined as $(-0.05, -0.25)$. Other details are same as for \cref{fig:visualization_general_action_case}. Figures~\ref{fig:optimal_action_prob_two_action_case_eta_100} and~\ref{fig:optimal_action_prob_two_action_case_eta_100} are based on a single run, while Figure~\ref{fig:sub_optimality_gap_two_action_case_eta_10} averages across 10 runs. 
Note that $\log{ ( r(a^*) - \pi_{\theta_t}^\top r ) } 
\approx 10^{-33}$ at the final stages on \cref{fig:sub_optimality_gap_two_action_case_eta_100}.} 
\label{fig:visualization_two_action_case}
\vspace{-10pt}
\end{figure}
