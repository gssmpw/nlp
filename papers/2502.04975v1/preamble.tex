%
% --- inline annotations
%
\newcommand{\red}[1]{{\color{red}#1}}
\newcommand{\todo}[1]{{\color{red}#1}}
\newcommand{\TODO}[1]{\textbf{\color{red}[TODO: #1]}}
% --- disable by uncommenting  
% \renewcommand{\TODO}[1]{}
% \renewcommand{\todo}[1]{#1}

% No space paragraph.
\makeatletter
\renewcommand{\paragraph}{%
  \@startsection{paragraph}{4}%
  %{\z@}{3.25ex \@plus 1ex \@minus .2ex}{-1em}%
  {\z@}{0.2em}{-1em}%
  {\normalfont\normalsize\bfseries}%
}
\makeatother


\newcommand{\diag}{\operatorname{diag}}
\newcommand{\rank}{\operatorname{rank}}
\newcommand{\agg}{\operatorname{agg}}

%Additional packages
\usepackage{lipsum}  
\usepackage{mathtools}

% Color gradients
\usepackage{colortbl}
\usepackage{xcolor}
\usepackage{pgfplots}

\newcommand{\applygradient}[3]{%
    % #1 is the value to be used for gradient color
    % #2 is the minimum value
    % #3 is the maximum value
    \pgfmathsetmacro{\percent}{100.0*(#1-#2)/(#3-#2)}%
    \edef\tempcolor{\noexpand\cellcolor{red!\percent!white}}%
    \tempcolor
}