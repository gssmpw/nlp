\documentclass[12pt]{article}
\usepackage[paper=letterpaper,margin=2cm]{geometry}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{newtxtext, newtxmath}
\usepackage{enumitem}
\usepackage{titling}
\usepackage[colorlinks=true]{hyperref}

\usepackage{caption}
\usepackage{subcaption}
\usepackage{color}
% \newcommand{\kl}[1]{{\color{red}~{\em Comment by Kausik: #1}}}
\usepackage{graphicx}
\usepackage{biblatex} %Imports biblatex package
\addbibresource{references.bib} %Import the bibliography file
\usepackage{algorithm2e}
\RestyleAlgo{ruled}
\setlength{\droptitle}{-6em}\onecolumn
\usepackage[table, dvipsnames]{xcolor}
\usepackage{multirow}
\usepackage{multicol}

\newcommand{\kl}[1]{{\color{red}~{\em Comment by Kausik: #1}}}
\newcommand{\biplav}[1]{{\color{blue}~{\em Comment by Biplav: #1}}}
\newcommand{\sunandita}[1]{{\color{olive}~{\em Comment by Sunandita: #1}}}
\newcommand{\parisa}[1]{{\color{magenta}~{\em Comment by Parisa: #1}}}
\newcommand{\zhen}[1]{{\color{cyan}~{\em Comment by Zhen: #1}}}
\newcommand{\rachneet}[1]{{\color{orange}~{\em Comment by Rachneet: #1}}}
\newcommand{\marco}[1]{{\color{green}~{\em Comment by Marco: #1}}}
\newcommand{\likitha}[1]{{\color{teal}~{\em Comment by Likitha: #1}}}

\title{Supplementary Material}
\date{}
\begin{document}
\maketitle
% \date{}

% \begin{document}
% \maketitle
% \onecolumn


\kl{Merge with the main paper.}.In this supplementary material, we provide the modified algorithms adapted from \cite{kausik2024rating} rate MM-TSFM for robustness. We also provided additional experimental results to help better understand our work in detail. The material is organized as follows:

\tableofcontents 


\section{Rating Algorithms}
We modified the rating algorithm introduced in \cite{kausik2024rating} to suit the FMTS forecasting setting. Here is how the rating method works.
\begin{enumerate}
    \item Algorithm 1 computes the weighted rejection score (WRS) which was defined in equation 2 in the main paper.
    \item Algorithm 2 computes the PIE \% based on Propensity Score Matching (PSM) which was defined in equation 4 in the main paper.
    \item Algorithm 3 creates a partial order of systems within each perturbation based on the raw scores computed. It will arrange the systems in ascending order w.r.t the raw score. The final partial order (PO) will be a dictionary of dictionaries. 
    \item Algorithm 4 computes the final ratings for systems within each perturbation based on the PO from previous algorithm. It splits the set of raw score values obtained within each perturbation into `L' parts where `L' is the rating level chosen by the user. Each of the systems is given a rating based on the compartment number in which its raw score belongs. The algorithm will return a dictionary with perturbations as keys and ratings provided to each system within the perturbation as the value.
\end{enumerate}



\SetKwComment{Comment}{/* }{ */}
\begin{algorithm}
\small
	\caption{\emph{WeightedRejectionScore}}
	
	\textbf{Purpose:} is used to calculate the weighted sum of the number of rejections of null-hypothesis for Dataset $d_j$ pertaining to a system $s$, Confidence Intervals (CI) $ci_k$ and Weights $w_k$.
	
	\textbf{Input:}\\
	 $d$, dataset corresponding to a specific perturbation.\\
	 $CI$, confidence intervals (95\%, 70\%, 60\%). \\
      $s$, system for which WRS is being computed.   \\
     $W$, weights corresponding to different CIs (1, 0.8, 0.6).  \\
    \textbf{Output:} \\
     $Z$, Sensitive attribute  \\ 
	$\psi$, weighted rejection score.
	    $ \psi \gets 0$  
		\For {each $ci_i, w_i \in CI, W$} {
                    // $z_m, z_n$ are classes of $Z$

                    
		            \For {each $z_m, z_n \in Z$} { 
		                $t, pval, dof \gets T-Test(z_m, z_n) $\; 
		                $t_{crit} \gets LookUp(ci_i, dof) $\;
		                \eIf{$t_{crit} > t$} {
		                    $\psi \gets \psi + 0 $\;
		                 }
		                    {$\psi \gets \psi + w_i $}
		               
		            }
    }
    \Return $\psi$
\end{algorithm} 


\begin{algorithm}
\small
	\caption{ \emph{ComputePIEScore}}
	
	\textbf{Purpose:}  is used to calculate the Deconfounding Impact Estimation using Propensity Score Matching (PIE).
	
	\textbf{Input:}\\
	$s$, a system belonging to the set of test systems, $S$.\\
	$D$, datasets pertaining to a perturbation (different distributions).\\
        $p$, A perturbation other than $p_0$ \\
        $p_0$, control perturbation (or no perturbation. \\

    \textbf{Output:} \\
	$\psi$, PIE score.
	

    $ \psi \gets 0$
    
    $PIE\_list \gets []$
    \hspace{0.5 in} //  To store the list of PIE \% of all the datasets.

	\For {each $d_j \in D$} {
    	    $ APE\_o \gets  E(R|P=p_m) - E(R|P=p_0) $\; 
    	    $ APE\_m \gets  E(R|do(P=p_m)) - E(R|do(P=p_0)) $\; 
    		$PIE\_list[j] \gets (APE\_m - APE\_o) * 100$\;
        }
        $\psi \gets MAX(PIE\_list)$\;
    \Return $\psi$
\end{algorithm}


\begin{algorithm}
\small
	\caption{ \emph{CreatePartialOrder}}
	
	\textbf{Purpose:} is used to create a partial order based on the computed weighted rejection score / the PIE \%.
		
	\textbf{Input:}\\
	$S$, Set of systems.\\
        $P$, Set of perturbations.\\
	% $D$, datasets pertaining to different dataset groups.\\
	% $CI$, confidence intervals (95\%, 70\%, 60\%).  \\
 %    $W$, weights corresponding to different CIs (1, 0.8, 0.6).  \\
    $F$, Flag that says whether the confounder is present (1) or not (0).  \\
    $D$, $CI$, $W$ (as defined in the previous algorithms). \\
    \textbf{Output:} \\
	$PO$, dictionary with a partial order for each perturbation.

 
	    $ PO \gets \{\}$\; 
            $SD \gets \{\}$;

            
	    \eIf {F == 0}{
		    \For {each $p_i \in P$}{ 
                    \For {each $s_j \in S$} {
		              $\psi \gets WeightedRejectionScore(p_i, s_j, D, CI, W)$\; 
		              $SD[s_j] \gets \psi$\;
 		    }
                $PO[p_i] \gets SORT(SD)$\;
                }
 		    }
 		    {\For {each $p_j \in P$} {
                    \For {each $s_i \in S$}{ 
		        $\psi \gets ComputePIEScore(s_i, p_j, p_0, D, CI, W)$\; 
		          $SD[s_j] \gets \psi$\;
 		    }
                $PO[p_i] \gets SORT(SD)$\;
                }
 		   }
	    \Return $PO$
\end{algorithm}  


\begin{algorithm}
\small
	\caption{\emph{AssignRating}}
	
		\textbf{Purpose:} \emph{AssignRating} is used to assign a rating to each of the SASs based on the partial order and the number of rating levels, $L$.
		
	\textbf{Input:}\\
	% $S$, Set of SASs, $S$.\\
	% $D$, datasets pertaining to different dataset groups.\\
	% $CI$, confidence intervals (95\%, 70\%, 60\%).  \\
	% $W$, weights corresponding to different CIs (1, 0.8, 0.6).  \\
 % 	$G$, Group number.  \\
 $S$, $D$, $CI$, $W$, $P$ (as defined in the previous algorithms).
 
	$L$, rating levels chosen by the user.\\

    \textbf{Output:} \\
	$R$, dictionary with perturbations as keys and rating provided to each system within each perturbation as the value.

	    $ R \gets \{\} $\;
	    $ PO \gets  CreatePartialOrder(S,D,CI,W,G)$\;

        \For {$p_i$ \in P}{
        $ \psi \gets [ PO[p_i].values()]$\;

        \eIf {len(S) $>$ 1}{
 		$G \gets ArraySplit(\psi, L) $\;
 		\For {$k,i \in PO[p_i],\psi $}{
 		        \If {$i \in g_j$}{
 		            $SD[k] \gets j$\;
 		        }
 		       }
 	    }
 	    { 	    //  Case of single SAS in $S$
 	
 	\eIf {$\psi$ $==$ 0} {$SD[k] \gets 1$ \hspace{0.5 in}  } 
 	    {$SD[k] \gets $L$ $  \hspace{0.5 in}  }
 	    } 
      $R[p_i] \gets SD$
      }
		\Return $R$
\end{algorithm}  


\likitha{After user study, include a picture/table for user responses and results.}
\kl{Add all the user study questions, intermediate values before raw scores.}

% \section{More Experimental Results}
% \begin{table}[htb]
% \centering
%    {\small
%    % \resizebox{0.99\linewidth}{!}
%     \begin{tabular}{|p{2.5em}|p{1em}|c|c|c|c|c|c|}
%     \cline{3-8}  
%           \multicolumn{1}{c}{}&
%           \multicolumn{1}{c|}{}&
%           \multicolumn{3}{c|}{\bf Inter-industry} &
%           \multicolumn{3}{c|}{\bf Intra-industry}
%           \\ \hline

%           {\bf System}     &  
%           {\bf P}      &  
%           {\bf $Z_t$$Z_p$} &
%           {\bf $Z_t$$Z_f$} &
%           {\bf $Z_p$$Z_f$} &
%           {\bf $Z_m$$Z_g$} &
%           {\bf $Z_{pf}$$Z_{mr}$} &
%           {\bf $Z_w$$Z_c$} 
%           \\ \hline  
          
%         \multirow{3}{2em}{$S_a$} & 
%           P0 &
%           16.86$^1$ &
%           17.35$^1$ &
%           1.66$^2$ &
%           14.43$^1$ &
%           16.23$^1$ &
%           3.54$^1$
%          \\ \cline{2-8}
%           % -------
%           & 
%           P1 &
%           1.48$^2$ &
%           2.14$^2$ &
%           1.24     &
%           1.43$^3$ &
%           1.22     &
%           0.58
%          \\ \cline{2-8}
%              & 
%           P2 &
%           2.74$^1$ &
%           3.41$^1$ &
%           1.07     &
%           2.02$^2$ &
%           1.59$^2$     &
%           0.55
%          \\ \hline
%           % -------
          
%           \multirow{6}{2em}{$S_b$} &
%           P0 &
%           H$^1$ &
%           H$^1$ &
%           H$^1$ &
%           H$^1$ &
%           H$^1$ &
%           H$^1$
%          \\ \cline{2-8}
%           % -------
%           & 
%           P1 &
%           H$^1$ &
%           H$^1$ &
%           H$^1$ &
%           H$^1$ &
%           H$^1$ &
%           H$^1$
%          \\ \cline{2-8}
%           % -------
%          & 
%           P2 &
%           H$^1$ &
%           H$^1$ &
%           H$^1$ &
%           H$^1$ &
%           H$^1$ &
%           H$^1$
%          \\ \cline{2-8}
%           % -------
%           & 
%           P3 &
%           H$^1$ &
%           H$^1$ &
%           H$^1$ &
%           H$^1$ &
%           H$^1$ &
%           H$^1$
%          \\ \cline{2-8}
%           % -------
%           &
%           P4    &
%           H$^1$ &
%           H$^1$ &
%           H$^1$ &
%           H$^1$ &
%           H$^1$ &
%           H$^1$
%          \\ \cline{2-8}
%           % -------
%           &
%           P5 &
%           H$^1$ &
%           H$^1$ &
%           H$^1$ &
%           H$^1$ &
%           H$^1$ &
%           H$^1$
%          \\ \hline
%           % -------
%           \multirow{6}{2em}{$S_r$} &
%           P0 &
%           20.22$^1$ &
%           20.34$^1$ &
%           0.43      &
%           40.91$^1$ &
%           15.61$^1$ &
%           0.38      
%          \\ \cline{2-8}
%           % -------
%           & 
%           P1 &
%           20.72$^1$ &
%           20.61$^1$ &
%           1.04      &
%           43.47$^1$ &
%           13.51$^1$ &
%           2.16$^2$      
%          \\ \cline{2-8}
%           % -------
%          & 
%           P2 &
%           20.51$^1$ &
%           20.75$^1$ &
%           1.71$^2$  &
%           44.94$^1$ &
%           15.04$^1$ &
%           1.27      
%          \\ \cline{2-8}
%           % -------
%           & 
%           P3 &
%           20.84$^1$ &
%           20.76$^1$ &
%           1.02      &
%           44.82$^1$ &
%           13.10$^1$ &
%           2.29$^1$      
%          \\ \cline{2-8}
%           % -------
%           &
%           P4 &
%           20.53$^1$ &
%           20.76$^1$ &
%           1.39$^3$  &
%           41.35$^1$ &
%           15.50$^1$ &
%           1.92$^2$      
%          \\ \cline{2-8}
%           % -------
%           &
%           P5 &
%           20.62$^1$ &
%           20.68$^1$ &
%           0.26      &
%           43.46$^1$ &
%           13.04$^1$ &
%           1.05      
%          \\ \hline
%           % -------
%     \end{tabular}
%     %}
%     \caption{Table showing the t-values across different systems and perturbation groups when there is no causal link from \emph{Perturbation} to \emph{Residual}. The superscript shows whether the null hypothesis is rejected or accepted in each case for the CIs considered (95\%, 70\%, 60\%). `1' indicates rejection with all 3 CIs, `2' indicates rejection with all both 70\% and 60\% CIs, `3' indicates rejection with 60\%. Each $Z_iZ_j$ denote the t-value computed between the distributions, $(R^t_{max} | Z_i)$ and $(R^t_{max} | Z_j)$.}
%     \label{tab:h1}
%     }
% \end{table}


% \begin{table*}[htb]
% \centering
%    {\tiny
%     \begin{tabular}
%     {|p{2.5em}|p{0.5em}|p{2.5em}|p{2.5em}|p{12em}|p{16em}|p{11em}|p{16em}|}
%         \hline
%           {\bf System} &  
%           {\bf P} &  
%           {\bf WRS$_{I}$} &
%           {\bf WRS$_{C}$} &
%           {\bf MAX(PIE$_{C}$) \%} &
%           {\bf MAX(PIE$_{I}$) \%} &
%           {\bf MAX(ATE$_{C}$) \%} &
%           {\bf MAX(ATE$_{I}$) \%} 
%           \\ \hline  
          
%           \multirow{9}{2em}{$S_{v1}$} &
%           P0  &
%           5.9 &
%           5.9 &
%           NA &
%           NA &
%           NA &
%           NA
%           \\ \cline{2-8}
%           % -------
%              &
%           P1 &
%           \textbf{5.9}   &
%           4.6 &
%           (278.69, 117.07, \textbf{630.10}) &
%           (\textbf{551}, 395.45, 229.32, 233.16, 156.51, 466.08) &
%           (2.79, 1.38, \textbf{6.53}) &
%           (\textbf{6.05}, 5.47, 2.89, 2.66, 1.77, 4.69)
%           \\ \cline{2-8}
%              & 
%           P2 &
%           \textbf{5.9}&
%           4.6 &
%           (471.89, \textbf{941.93}, 277.72) &
%           (86.15, 68.59, 35.92, \textbf{898.90}, 107.24, 662.79) &
%           (6.16, \textbf{10.97}, 3.47)&
%           (0.97, 2.31, 0.79, \textbf{10.10}, 1.51, 7.77)
%           \\\cline{2-8}
%           % -------
%              & 
%           P3 &
%           5.9&
%           5.9&
%           (176.33, \textbf{276.86}, 113.29)&
%           (\textbf{2427.35}, 108.79, 123.73, 84.41, 397.51, 156.08)&
%           (3.49, \textbf{4.15}, 3.18)&
%           (\textbf{25.53}, 1.19, 0.98, 3.35, 5.84, 3.04)
%           \\\cline{2-8}
%           % -------
%           & 
%           P4 &
%           \textbf{5.9}&
%           5.2 &
%           (\textbf{229.03}, 140.12, 33.44)&
%           (213.98, 115.61, 137.44, 183.56, \textbf{247.80}, 65.19)&
%           (\textbf{4.22}, 0.48, 2.27)&
%           (4.21, 3.11, 0.40, 0.86, \textbf{4.98}, 1.64)
%           \\\cline{2-8}
%           % -------
%           & 
%           P5 &
%           5.9&
%           \textbf{6.9} &
%           (\textbf{344}, 18.70, 155.73)&
%           (358.31, 68.18, 83.95, 102.42, 48.66, \textbf{378.19})&
%           (\textbf{13.20}, 5.53, 7.66)&
%           (\textbf{14.02}, 7.50, 6.24, 6.29, 8.32, 9.76)
%           \\\hline
%           % -------
%           \multirow{9}{2em}{$S_{v2}$} & 
%           P0 &
%           4.6&
%           4.6 &
%           NA &
%           NA &
%           NA &
%           NA
%           \\ \cline{2-8}
%              &
%          P1  &
%          \textbf{6.9} &
%          4.6        &     
%          (\textbf{1191.91}, 253.75, 571.03)&
%           (382.22, \textbf{415.74}, 84.41, 303.31, 4.08, 355.39) &
%           (2.66, 11.40, \textbf{13.93})&
%           (\textbf{18.29}, 15.27, 9.07, 13.48, 8.81, 12.80)
%           \\ \cline{2-8}
%           % -------
%           & 
%           P2 &
%           \textbf{6.9}&
%           5.2 &
%           (186.95, \textbf{1490.65}, 434.33)&
%           (\textbf{575.12}, 250.40, 201.10, 150.92, 146.44, 267)&
%           (4.07, \textbf{15.82}, 5.58)&
%           (\textbf{6.42}, 3.02, 2.60, 1.66, 1.59, 3.24)
%           \\ \cline{2-8}
%           % -------
%           & 
%           P3 &
%           4.6&
%           4.6&
%           (140.11, 8.88, \textbf{224.98})&
%           (38.21, 145, 169.90, 256.89, 73.86, \textbf{1277.44})&
%           (\textbf{4.90}, 2.79, 4.61)&
%           (3.98, 1.94, 0.60, 0, 3.60, \textbf{15.75})
%           \\ \cline{2-8}
%           % -------
%           & 
%           P4 &
%           4.6&
%           4.6&
%           (1222.16, \textbf{1694.57}, 59.37)&
%           (16.71, 128.47, 143.78, \textbf{942.02}, 107.62, 217.33)&
%           (15.43, \textbf{19.93}, 3.30)&
%           (1.73, 4.16, 1.33, \textbf{12.18}, 0.81, 0.58)
%           \\\cline{2-8}
%           & 
%           P5 &
%           5.2&
%           \textbf{5.9}&
%           (\textbf{273.12}, 239.87, 180.94)&
%           (184.42, 64.65, 172.05, \textbf{284.95}, 64.08, 25.94)&
%           (1.27, \textbf{4.94}, 0.94)&
%           (1.09, 1.67, 0.91, 0.57, \textbf{3.80}, 2.72)
%           \\ \hline
%           % -------
%           \multirow{4}{2em}{$S_a$} & 
%           P0 &
%           5.9&
%           \textbf{6.9}&
%           NA &
%           NA &
%           NA &
%           NA
%           \\\cline{2-8}
%              &
%           P1 &
%           \textbf{2.6}&
%           0.6&
%           (209.62, \textbf{982.38}, 815.15) &
%           (763.20, 686.91, 483.04, 836.27, 416.46, \textbf{914.64})&
%           (40.93, \textbf{61.87}, 37.35) &
%           (\textbf{59.80}, 27.69, 33.58, 44.08, 37.77, 24.10)
%           \\ \cline{2-8}
%              & 
%           P2 &
%           \textbf{4.6}&
%           2.6  & 
%           (509.86, \textbf{1275.04}, 253.82) &
%           (1121.43, 301.48, 380.24, 787.47, \textbf{1154.87})&
%           (10.51, \textbf{11.32}, 10.76)&
%           (\textbf{21.39}, 9.63, 9.38, 7.05, 5.07, 9.51)
%           \\ \hline
%           %-----------
%           \multirow{9}{2em}{$S_b$} & 
%           P0 &
%           6.9&
%           6.9&
%           NA &
%           NA &
%           NA &
%           NA
%          \\ \cline{2-8}
%              & 
%           P1 &
%           6.9&
%           6.9&
%           (\textbf{6916.11}, 3919.36, 3508.78)&
%           (27.08, 1513.58, 478.55, 69.47, 984.96, \textbf{3283.88})&
%           (\textbf{101.31}, 46.19, 51.81)&
%           (0, 0, 0, 0, 0, 0)
%          \\ \cline{2-8}
%              &
%           P2 &
%           6.9&
%           6.9&
%           (\textbf{9474.61}, 647.83, 2850.52)&
%           (2109.78, 1312.08, 1468.52, 1181.40, \textbf{2174.39}, 1223.53)&
%           (\textbf{101.20}, 9.86, 54.54)&
%           (0, 0, 0, 0, 0, 0)
%          \\ \cline{2-8}
%              &
%           P3 &
%           6.9&
%           6.9&
%           (3084.27, 3876.09, \textbf{7489.48})&
%           (1208.21, 528.82, 620.54, \textbf{1846.56}, 902.16, 750.90) &
%           (50.98, 47.53, \textbf{99.72})&
%           (0, 0, 0, 0, 0, 0) 
%          \\ \cline{2-8}
%              &
%           P4 &
%           6.9&
%           6.9&
%           (1807.07, 4245.41, \textbf{7618.25})&
%           (\textbf{3557.45}, 751.37, 252, 929.87, 1117.87, 2707.19) &
%           (5.07, 51.11, \textbf{100.20})&
%           (0, 0, 0, 0, 0, 0)  
%           \\ \cline{2-8}
%              &
%           P5 &
%           6.9&
%           6.9&
%           (4102.07, \textbf{8966.57}, 3762.97)&
%           (\textbf{2118.88}, 973.35, 58.66, 581.74, 1233.95, 547.38)&
%           (49.40, \textbf{98.61}, 42.85)&
%           (0, 0, 0, 0, 0, 0)   
%           \\ \hline
%           \multirow{9}{2em}{$S_r$} & 
%           P0 &
%           4.6&
%           4.6&
%           NA &
%           NA &
%           NA &
%           NA
%           \\ \cline{2-8}
%              & 
%           P1 &
%           4.6&
%           \textbf{5.9}&
%           (\textbf{4756.40}, 983.79, 2262.36)&
%           (1019.20, 297.76, 657.79, \textbf{1041.01}, 308.84, 102.45)&
%           (\textbf{48.80}, 10.10, 23.11)&
%           (\textbf{15.36}, 4.63, 7.93, 14, 3.84, 2.81)
%           \\ \cline{2-8}
%              & 
%           P2 &
%           \textbf{5.9} &
%           4.6&
%           (\textbf{4274.38}, 1338.71, 1527.33)&
%           (177.63, 51.40, \textbf{1463.71}, 183.58, 70.95, 7.15)&
%           (\textbf{42.91}, 16.62, 21.16)&
%           (7.90, 1.30, \textbf{17.61}, 0.43, 3.35, 10.15)    
%           \\ \cline{2-8}
%              & 
%           P3 & 
%           4.6&
%           \textbf{6.9}&
%           (\textbf{3560.94}, 1648.90, 2193.67)&
%           (43.53, 135.03, 912.42, 558.95, \textbf{1305.78}, 430.51)&
%           (\textbf{36.59}, 17.39, 24.88)&
%           (2.28, 1.65, 11.27, 6.23, \textbf{16.63}, 7.21)  
%           \\ \cline{2-8}
%              & 
%           P4 &
%           5.2 &
%           \textbf{5.9}&
%           (1922.55, 1523.92, \textbf{2250.35})&
%           (575.48, 386.15, 97.74, 83.20, 67.56, \textbf{1314.82})&
%           (23.66, 17.32, \textbf{23.75})&
%           (9.20, 4.87, 1.76, 1.56, 2.81, \textbf{15.18})     
%           \\ \cline{2-8}
%                & 
%             P5 &  
%             4.6 &
%             4.6 &
%           (\textbf{4025.31}, 2843.16, 2401.06)&
%           (\textbf{1928.21}, 1703.29, 247.17, 360.41, 381.82, 516.29)  &
%           (\textbf{44.11}, 28.63, 27)&
%           (\textbf{21.44}, 17.11, 5.69, 6.16, 4.52, 8.50)
%           \\ \hline
%           % -------
%     \end{tabular}
%     \caption{Table showing the Weighted Rejection Scores (WRS) across companies within the same industry (WRS$_{Industry}$) and across different industries (WRS$_{Company}$), the PIE \% values computed for different systems across different distributions with each value in the tuple showing the difference between ATE before and after propensity score matching for different perturbation groups (P1 through P5),
%     %P0 was considered as the control group
%     and the APE scores with $Industry$ as the confounder and $Company$ as the confounder.}
%     \label{tab:raw-scores}
%     }
% \end{table*}

\begin{figure*}
     \centering
     \begin{subfigure}[b]{0.45\textwidth}
         \centering
    \includegraphics[width=1.1\textwidth]{plots/Radar_Rob.png}
         \caption{Robustness Metrics}
         \label{fig:rob}
     \end{subfigure}
     \hfill
     \begin{subfigure}[b]{0.45\textwidth}
         \centering
         \includegraphics[width=1.1\textwidth]{plots/Radar_Acc.png}
         \caption{Forecasting Accuracy Metrics}
         \label{fig:acc}
        \end{subfigure}
        \caption{Radar plots. \kl{Move to main paper -- one perturbation robustness (and mean radar), one perturbation forecasting (and the mean radar)}}
        \label{fig:radar}
\end{figure*}


\begin{table*}[!ht]
\centering
{\tiny
    \begin{tabular}{|p{5em}|p{0.2em}|p{45em}|p{25em}|}
    \hline
          {\bf Forecasting Evaluation Dimensions} &
          {\bf P} &    
          {\bf Partial Order} &
          {\bf Complete Order} 
          \\ \hline 
          \multirow{3}{6em}{WRS$_I$$\downarrow$} &
          P0 & 
          \{$S_g$: 4.6, S$_m$: 4.6, $S_r$: 4.6, $S_c$: 5.9, $S_a$: 5.9, $S_p^{ni}$: 5.9, $S_g^{ni}$: 6.9, $S_p$: 6.9, $S_b$: 6.9\}   &
          \{$S_g$: 1, S$_m$: 1, $S_r$: 1, $S_c$: 2, $S_a$: 2, $S_p^{ni}$: 2, $S_g^{ni}$: 3, $S_p$: 3, $S_b$: 3\}
          \\ \cline{2-4}
          &
          P1 & 
          \{$S_a$: 2.6, $S_m$: 4.6, $S_g$: 4.6, $S_g^{ni}$: 4.6, $S_r$: 4.6, $S_p^{ni}$: 5.9, $S_p$: 6.9, $S_c$: 6.9, $S_b$: 6.9\}  &
          \{$S_a$: 1, $S_m$: 1, $S_g$: 1, $S_g^{ni}$: 1, $S_r$: 1, $S_p^{ni}$: 2, $S_p$: 3, $S_c$: 3, $S_b$: 3\}
          \\ \cline{2-4}
          &
          P2 & 
          \{$S_a$: 4.6, $S_g$: 4.6, $S_g^{ni}$: 4.6, $S_p^{ni}$: 4.6, $S_m$: 4.6,  $S_r$: 4.6, $S_c$: 6.9, $S_p$: 6.9, $S_b$: 6.9\}   &
          \{$S_a$: 1, $S_g$: 1, $S_g^{ni}$: 1, $S_p^{ni}$: 1, $S_m$: 1,  $S_r$: 1, $S_c$: 2, $S_p$: 2, $S_b$: 2\} 
          \\ \cline{2-4}
          &
          P3 & 
          \{$S_g$: 4.6, $S_g^{ni}$: 4.6, S$_m$: 4.6, $S_r$: 4.6, $S_c$: 4.6, $S_a$: 5.9, $S_p^{ni}$: 6.9, $S_p$: 6.9, $S_b$: 6.9\}   &
          \{$S_g$: 1, $S_g^{ni}$: 1, S$_m$: 1, $S_r$: 1, $S_c$: 1, $S_a$: 2, $S_p$: 3, $S_p^{ni}$: 3, $S_b$: 3\} 
          \\ \hline
          \multirow{3}{6em}{WRS$_C$$\downarrow$} &
          P0 & 
          \{$S_a$: 2.6, S$_g$: 4.6, $S_g^{ni}$: 4.6, $S_p^{ni}$: 4.6, $S_c$: 5.6, $S_p$: 6.9, $S_m$: 6.9, $S_r$: 6.9, $S_b$: 6.9\}    &
          \{$S_a$: 1, S$_g$: 1, $S_g^{ni}$: 1, $S_p^{ni}$: 1, $S_c$: 2, $S_p$: 3, $S_m$: 3, $S_r$: 3, $S_b$: 3\}
          \\ \cline{2-4}
          &
          P1 & 
          \{$S_a$: 0.6, $S_c$: 4.6, $S_p$: 5.9, $S_p^{ni}$: 5.9, $S_r$: 5.9, $S_g^{ni}$: 5.9, $S_g$: 6.9, $S_m$: 6.9, $S_b$: 6.9\}    &
          \{$S_a$: 1, $S_c$: 1, $S_p$: 2, $S_p^{ni}$: 2, $S_r$: 2, $S_g^{ni}$: 2, $S_g$: 3, $S_m$: 3, $S_b$: 3\}
          \\ \cline{2-4}
          &
          P2 & 
          \{$S_a$: 2.6, $S_c$: 4.6, $S_r$: 4.6, $S_p^{ni}$: 4.6, $S_p$: 5.2, $S_g$: 5.9, $S_g^{ni}$: 5.9, $S_m$: 6.9, $S_b$: 6.9\}   &
          \{$S_a$: 1, $S_c$: 1, $S_r$: 1, $S_p^{ni}$: 1, $S_p$: 2, $S_g$: 2, $S_g^{ni}$: 2, $S_m$: 3, $S_b$: 3\}
          \\ \cline{2-4}
          &
          P3 & 
          \{$S_g$: 4.6, $S_g^{ni}$: 4.6, $S_p^{ni}$: 4.6, S$_p$: 4.6, $S_c$: 4.6, $S_m$: 6.9, $S_a$: 6.9, $S_r$: 6.9, $S_b$: 6.9\}   &
          \{$S_g$: 1, $S_g^{ni}$: 1, $S_p^{ni}$: 1, S$_p$: 1, $S_c$: 1, $S_m$: 2, $S_a$: 2, $S_r$: 2, $S_b$: 2\}
          \\ \hline
          \multirow{3}{6em}{PIE$_I$ \%$\downarrow$} &
          P1 & 
          \{$S_g^{ni}$: 124.50, $S_g$: 600.31, $S_a$: 914.64, $S_r$: 1041.01, $S_p^{ni}$: 1196, $S_m$: 1426.81, $S_c$: 1441.59, $S_p$: 1765.84, $S_b$: 3283.88\} &
          \{$S_g^{ni}$: 1, $S_g$: 1, $S_a$: 1, $S_r$: 2, $S_p^{ni}$: 2, $S_m$: 2, $S_c$: 3, $S_p$: 3, $S_b$: 3\}
          \\ \cline{2-4}
          &
          P2 & 
          \{$S_c$: 357.72, $S_g^{ni}$: 527.76, $S_g$: 597.54, $S_a$: 1154.87, $S_m$: 1326.20, $S_r$: 1463.71, $S_p^{ni}$: 1653.53, $S_b$: 2174.39, $S_p$: 2295.68\}  &
          \{$S_c$: 1, $S_g^{ni}$: 1, $S_g$: 1, $S_a$: 2, $S_m$: 2, $S_r$: 2, $S_p^{ni}$: 3, $S_b$: 3, $S_p$: 3\}  
          \\\cline{2-4}
          &
          P3 & 
          \{$S_g$: 703.94, $S_g^{ni}$: 884.34, $S_c$: 911.53, $S_p^{ni}$: 972.95, $S_a$: 1195.04, $S_m$: 2998.25, $S_p$: 3208.04, $S_r$: 3560.94, $S_b$: 7489.48\}   &
          \{$S_g$: 1, $S_g^{ni}$: 1, $S_c$: 1, $S_p^{ni}$: 2, $S_a$: 2, $S_m$: 2, $S_p$: 3, $S_r$: 3, $S_b$: 3\}   
          \\\hline
          \multirow{3}{4em}{PIE$_C$ \%$\downarrow$} &
          P1 & 
          \{$S_c$: 515.91, $S_g$: 663.75, $S_g^{ni}$: 696.44, $S_a$: 982.38, $S_m$: 1028.48, $S_p^{ni}$: 1101.24, $S_p$: 1474.76, $S_r$: 4756.40, $S_b$: 6916.11\}  &
          \{$S_c$: 1, $S_g$: 1, $S_g^{ni}$: 1, $S_a$: 2, $S_m$: 2, $S_p^{ni}$: 2, $S_p$: 3, $S_r$: 3, $S_b$: 3\}
          \\ \cline{2-4}
          &
          P2 & 
          \{$S_g^{ni}$: 469.16, $S_c$: 576.18, $S_g$: 651.07, $S_m$: 1150.45, $S_a$: 1275.04, $S_p^{ni}$: 2238.21, $S_p$: 3257.35, $S_r$: 4274.38, $S_b$: 9474.61\}   &
          \{$S_g^{ni}$: 1, $S_c$: 1, $S_g$: 1, $S_m$: 2, $S_a$: 2, $S_p^{ni}$: 2, $S_p$: 3, $S_r$: 3, $S_b$: 3\} 
          \\ \cline{2-4}
          &
          P3 & 
          \{$S_g^{ni}$: 436.33, $S_g$: 513.47, $S_c$: 650.20, $S_m$: 866.61, $S_r$: 1305.78, $S_a$: 1716.68, $S_b$: 1846.56, $S_p^{ni}$: 2773.74, $S_p$: 4064.03\}  &
          \{$S_g^{ni}$: 1, $S_g$: 1, $S_c$: 1, $S_m$: 2, $S_r$: 2, $S_a$: 2, $S_b$: 3, $S_p^{ni}$: 3, $S_p$: 3\} 
          \\ \hline
          \multirow{3}{6em}{APE$_I$$\downarrow$} &
          P1 & 
          \{$S_g^{ni}$: 2.50, $S_g$: 11.75, $S_c$: 14.69, $S_p^{ni}$: 17.41, $S_m$: 19.94, $S_p$: 26.50, $S_r$: 48.80, $S_a$: 61.87, $S_b$: 101.31\}   &
          \{$S_g^{ni}$: 1, $S_g$: 1, $S_c$: 1, $S_p^{ni}$: 2, $S_m$: 2, $S_p$: 2, $S_r$: 3, $S_a$: 3, $S_b$: 3\} 
          \\ \cline{2-4}
          &
          P2 & 
          \{$S_g$: 3.72, $S_c$: 4.79, $S_g^{ni}$: 6.06, $S_a$: 11.32, $S_m$: 13.36, $S_p^{ni}$: 18.94, $S_p$: 26.02, $S_r$: 42.91, $S_b$: 101.20\}  &
          \{$S_g$: 1, $S_c$: 1, $S_g^{ni}$: 1, $S_a$: 2, $S_m$: 2, $S_p^{ni}$: 2, $S_p$: 3, $S_r$: 3, $S_b$: 3\} 
          \\ \cline{2-4}
          &
          P3 & 
          \{$S_a$: 7.87, $S_g$: 8.40, $S_g^{ni}$: 9.09, $S_c$: 9.50, $S_p^{ni}$: 16.73, $S_m$: 31.36, $S_r$: 36.59, $S_p$: 37.39, $S_b$: 99.72\} &
          \{$S_a$: 1, $S_g$: 1, $S_g^{ni}$: 1, $S_c$: 2, $S_p^{ni}$: 2,  $S_m$: 2, $S_r$: 3, $S_p$: 3, $S_b$: 3\}
          \\ \hline
          \multirow{3}{6em}{APE$_C$$\downarrow$} &
          P1 & 
          \{$S_b$: 0, $S_c$: 6.31, $S_g^{ni}$: 9.49, $S_g$: 10.41, $S_m$: 15.33, $S_r$: 15.36, $S_p^{ni}$: 15.57, $S_p$: 23.99, $S_a$: 59.80\}  &
          \{$S_b$: 1, $S_c$: 1, $S_g^{ni}$: 1, $S_g$: 2, $S_m$: 2, $S_r$: 2, $S_p^{ni}$: 3, $S_p$: 3, $S_a$: 3\} 
          \\ \cline{2-4}
          &
          P2 & 
          \{$S_b$: 0, $S_g^{ni}$: 5.31, $S_c$: 6.42, $S_g$: 8.69, $S_p$: 10.81, $S_m$: 13.92, $S_r$: 17.61, $S_a$: 21.39, $S_p^{ni}$: 27.63\}   &
          \{$S_b$: 1, $S_g^{ni}$: 1, $S_c$: 1, $S_g$: 2, $S_p$: 2, $S_m$: 2, $S_r$: 3, $S_a$: 3, $S_p^{ni}$: 3\} 
          \\ \cline{2-4}
          &
          P3 & 
          \{$S_b$: 0, $S_g^{ni}$: 6.48, $S_g$: 7.06, $S_a$: 7.42, $S_c$: 8.80, $S_m$: 10.87, $S_r$: 16.63, $S_p^{ni}$: 35.35, $S_p$: 46.50 \}    &
          \{$S_b$: 1, $S_g^{ni}$: 1, $S_g$: 1, $S_a$: 2, $S_c$: 2,$S_m$: 2, $S_r$: 3, $S_p^{ni}$: 3, $S_p$: 3 \} 
          \\ \hline
          \multirow{3}{6em}{SMAPE$\downarrow$} &
          P0 & 
          \{$S_a$: 0.040, $S_c$: 0.043, $S_g$: 0.049, $S_p^{ni}$: 0.079, $S_p$: 0.095, $S_g^{ni}$: 0.095, $S_m$: 0.097, $S_r$: 0.829, $S_b$: 1.276 \} &
          \{$S_a$: 1, $S_c$: 1, $S_g$: 1, $S_p^{ni}$: 2, $S_p$: 2, $S_g^{ni}$: 2, $S_m$: 2, $S_r$: 3, $S_b$: 3 \} 
          \\ \cline{2-4}
          &
          P1 & 
          \{$S_c$: 0.065, $S_g^{ni}$: 0.067, $S_g$: 0.072, $S_a$: 0.084, $S_m$: 0.100, $S_p$: 0.100, $S_p^{ni}$: 0.100, $S_r$: 0.830, $S_b$: 1.276 \} &
          \{$S_c$: 1, $S_g^{ni}$: 1, $S_g$: 1, $S_a$: 2, $S_m$: 2, $S_p$: 2, $S_p^{ni}$: 2, $S_r$: 3, $S_b$: 3 \}
          \\ \cline{2-4}
          &
          P2 & 
          \{$S_g$: 0.051, $S_c$: 0.053, $S_g^{ni}$: 0.060, $S_a$: 0.069, $S_p^{ni}$: 0.095, $S_m$: 0.098, $S_p$: 0.100, $S_r$: 0.830, $S_b$: 1.276 \}   &
          \{$S_g$: 1, $S_c$: 1, $S_g^{ni}$: 1, $S_a$: 2, $S_p^{ni}$: 2, $S_m$: 2, $S_p$: 3, $S_r$: 3, $S_b$: 3 \} 
          \\ \cline{2-4}
          &
          P3 & 
          \{$S_a$: 0.040, $S_c$: 0.043, $S_g$: 0.049, $S_g^{ni}$: 0.056, $S_p^{ni}$: 0.078, $S_p$: 0.092, $S_m$: 0.097, $S_r$: 0.830, $S_b$: 1.276 \}   &
          \{$S_a$: 1, $S_c$: 1, $S_g$: 1, $S_g^{ni}$: 2, $S_p^{ni}$: 2, $S_p$: 2, $S_m$: 3, $S_r$: 3, $S_b$: 3 \} 
          \\ \hline
          \multirow{4}{6em}{MASE$\downarrow$} &
          P0 & 
          \{$S_a$: 3.79, $S_c$: 4.18, $S_g$: 4.64, $S_p^{ni}$: 7.19, $S_p$: 8.91, $S_m$: 9.03, $S_g^{ni}$: 10.37, $S_r$: 86.45, $S_b$: 947.56 \}    &
          \{$S_a$: 1, $S_c$: 1, $S_g$: 1, $S_p^{ni}$: 2, $S_p$: 2, $S_m$: 2, $S_g^{ni}$: 3, $S_r$: 3, $S_b$: 3 \} 
          \\ \cline{2-4}
          &
          P1 & 
          \{$S_c$: 5.40, $S_g^{ni}$: 5.65, $S_g$: 6.13, $S_p^{ni}$: 8.87, $S_p$: 9.19, $S_m$: 9.32, $S_a$: 18.36, $S_r$: 86.99, $S_b$: 947.56 \}   & 
          \{$S_c$: 1, $S_g^{ni}$: 1, $S_g$: 1, $S_p^{ni}$: 2, $S_p$: 2, $S_m$: 2, $S_a$: 3, $S_r$: 3, $S_b$: 3 \} 
          \\ \cline{2-4}
          &
          P2 & 
          \{$S_g$: 4.74, $S_c$: 4.99, $S_g^{ni}$: 5.59, $S_a$: 8.24, $S_p^{ni}$: 8.49, $S_m$: 9.15, $S_p$: 9.32, $S_r$: 86.87, $S_b$: 947.56 \}    &
          \{$S_g$: 1, $S_c$: 1, $S_g^{ni}$: 1, $S_a$: 2, $S_p^{ni}$: 2, $S_m$: 2, $S_p$: 3, $S_r$: 3, $S_b$: 3 \}
          \\ \cline{2-4}
          &
          P3 & 
          \{$S_a$: 3.79, $S_c$: 4.10, $S_g$: 4.64, $S_g^{ni}$: 5.39, $S_p^{ni}$: 7.11, $S_p$: 8.68, $S_m$: 9.03,  $S_r$: 86.65, $S_b$: 947.56 \} &
          \{$S_a$: 1, $S_c$: 1, $S_g$: 1, $S_g^{ni}$: 2, $S_p^{ni}$: 2, $S_p$: 2, $S_m$: 3,  $S_r$: 3, $S_b$: 3 \} 
          \\ \hline
          \multirow{3}{6em}{Sign Accuracy \%$\uparrow$} &
          P0 & 
          \{$S_m$: 40.70, $S_p$: 45.09, $S_p^{ni}$: 47.67, $S_r$: 49.88, $S_g^{ni}$: 50.41, $S_g$: 52.08, $S_c$: 53.75, $S_a$: 60.08, $S_b$: 62.60 \} &  
          \{$S_m$: 1, $S_p$: 1, $S_p^{ni}$: 1, $S_r$: 2, $S_g^{ni}$: 2, $S_g$: 2, $S_c$: 3, $S_a$: 3, $S_b$: 3 \}
          \\ \cline{2-4}
          &
          P1 & 
          \{$S_m$: 41.19, $S_p$: 44.33, $S_p^{ni}$: 46.77, $S_r$: 49.62, $S_g$: 50.53, $S_c$: 52.09, $S_g^{ni}$: 53.93, $S_a$: 57.08, $S_b$: 62.60 \} &
          \{$S_m$: 1, $S_p$: 1, $S_p^{ni}$: 1, $S_r$: 2, $S_g$: 2, $S_c$: 2,  $S_g^{ni}$: 3, $S_a$: 3, $S_b$: 3 \}
          \\ \cline{2-4}
          &
          P2 & 
          \{$S_m$: 41.05, $S_p$: 44.02, $S_p^{ni}$: 47.67, $S_r$: 49.64, $S_g$: 49.75, $S_c$: 50.79, $S_g^{ni}$: 54.43, $S_a$: 57.13, $S_b$: 62.60 \}    &
          \{$S_m$: 1, $S_p$: 1, $S_p^{ni}$: 1, $S_r$: 2, $S_g$: 2, $S_c$: 2, $S_g^{ni}$: 3, $S_a$: 3, $S_b$: 3 \} 
          \\ \cline{2-4}
          &
          P3 & 
          \{$S_m$: 40.72, $S_p$: 44.26, $S_p^{ni}$: 47.50, $S_r$: 49.71, $S_g$: 51.34, $S_c$: 51.35, $S_g^{ni}$: 52.97, $S_a$: 59.98, $S_b$: 62.60 \}  &
          \{$S_m$: 1, $S_p$: 1, $S_p^{ni}$: 1, $S_r$: 2, $S_g$: 2, $S_c$: 2, $S_g^{ni}$: 3, $S_a$: 3, $S_b$: 3 \}
          \\ \hline
    \end{tabular}
    }
    \caption{Final raw scores and ratings based on different metrics computed. Higher ratings indicate higher bias for WRS and PIE \%, higher disruption for APE, greater inaccuracy for MASE and SMAPE, and higher accuracy for Sign Accuracy. For simplicity, we denoted the raw scores for accuracy metrics using just the mean value, but standard deviation was also considered for rating. The chosen rating level, L = 3. Overall, across all the settings, system $S_p$ exhibited statistical bias in 50 \% of cases, confounding bias in 100 \% of cases, and disruptive behavior in 50 \% of the cases based on APE values.}
    \label{tab:ratings}
\end{table*}



\begin{table}
\centering
   {\tiny
    \begin{tabular}{|p{3em}|p{0.4em}|p{1.5em}|p{1.5em}|p{1.5em}|p{1.5em}|p{1.5em}|p{1.4em}|p{1.5em}|p{2em}|p{1.4em}|}
    \hline
          {\bf Metric} &
          {\bf P} &    
          {\bf $S_{g}$} &
          {\bf $S_g^{ni}$} &
          {\bf $S_{p}$} &
          {\bf $S_p^{ni}$} &
          {\bf $S_{m}$} &
          {\bf $S_{c}$} &
          {\bf $S_a$} & 
          {\bf $S_b$} &
          {\bf $S_r$}
          \\ \hline 
          \multirow{6}{2em}{SMAPE$\downarrow$} & 
          P0 &
           0.049 $\pm$ 0.047  &
           0.095 $\pm$ 0.103  &
           0.095 $\pm$ 0.075 &
           0.079 $\pm$ 0.081 &
           0.097 $\pm$ 0.072 &
           0.043 $\pm$ 0.054 &
           \textbf{0.040 $\pm$ 0.037} &
          \multirow{6}{1.5em}{1.276 $\pm$ 0.663} &
          0.829 $\pm$ 0.638
          \\ \cline{2-9}
            \cline{11-11}
          % -------
            & 
          P1 &
          0.072 $\pm$ 0.123 &
          0.067 $\pm$ 0.178 &
          0.100 $\pm$ 0.125 &
          0.100 $\pm$ 0.143 &
          0.100 $\pm$ 0.076 &
          \textbf{0.065 $\pm$ 0.189} &
          0.084 $\pm$ 0.282 &
          &
          0.830 $\pm$ 0.639
          \\ \cline{2-9}
            \cline{11-11}
          % -------
            & 
          P2 &
          \textbf{0.051 $\pm$ 0.047} &
          0.060 $\pm$ 0.085 &
          0.100 $\pm$ 0.088 &
          0.095 $\pm$ 0.097 &
          0.098 $\pm$ 0.074 &
          0.053 $\pm$ 0.092 &
          0.069 $\pm$ 0.217 &
          &
          0.830 $\pm$ 0.639
          \\ \cline{2-9}
            \cline{11-11}
          % -------
            & 
          P3 &
          0.049 $\pm$ 0.045 &
          0.056 $\pm$ 0.052  &
          0.092 $\pm$ 0.074 &
          0.078 $\pm$ 0.078 &
          0.097 $\pm$ 0.071 &
          0.043 $\pm$ 0.048 &
          \textbf{0.040 $\pm$ 0.037} &
           &
          0.830 $\pm$ 0.640
          \\ \hline
          % -------

          \multirow{6}{1em}{MASE$\downarrow$} & 
          P0 &
          4.64 $\pm$ 4.62 &
          10.37 $\pm$ 13.63 &
          8.91 $\pm$ 7.01 &
          7.19 $\pm$ 6.94 &
          9.03 $\pm$ 6.91 &
          4.18 $\pm$ 7.75 &
          \textbf{3.79 $\pm$ 3.59} &
          \multirow{6}{1em}{947.56 $\pm$ 767.65} &
          86.45 $\pm$ 72.72
          \\ \cline{2-9}
            \cline{11-11}
          % -------
             & 
          P1 &
          6.13 $\pm$ 8.31 &
          5.65 $\pm$ 10.23 &
          9.19 $\pm$ 8.61 &
          8.87 $\pm$ 8.94 &
          9.32 $\pm$ 7.39 &
          \textbf{5.40 $\pm$ 12.45}&
          18.36 $\pm$ 168.82 &
          &
          86.99 $\pm$ 73.53 
          \\ \cline{2-9}
            \cline{11-11}
          % -------
             & 
          P2 &
          \textbf{4.74 $\pm$ 4.53} &
          5.59 $\pm$ 8.19 &
          9.32 $\pm$ 7.94 &
          8.49 $\pm$ 7.94 &
          9.15 $\pm$ 7.15 &
          4.99 $\pm$ 9.90 &
          8.24 $\pm$ 48.58 &
          &
          86.87 $\pm$ 73.32 
          \\ \cline{2-9}
            \cline{11-11}
             & 
          P3 &
          4.64 $\pm$ 4.42 &
          5.39 $\pm$ 5.27 &
          8.68 $\pm$ 7.18 &
          7.11 $\pm$ 6.75 &
          9.03 $\pm$ 6.90 &
          4.10 $\pm$ 6.33 &
          \textbf{3.79 $\pm$ 3.57} &
             &
          86.65 $\pm$ 73.11 
          \\ \hline
          % -------
          \multirow{4}{4em}{Sign Accuracy (\%)$\uparrow$}   & 
          P0 &
          52.08 &
          50.41 &
          45.09 &
          47.67 &
          40.70 &
          53.75 &
          \textbf{60.08} &
          \multirow{6}{1em}{62.60} &
          49.88
          \\ \cline{2-9}
            \cline{11-11}
             & 
          P1 &
          50.53 &
          53.93 &
          44.33 &
          46.77 &
          41.19 &
          52.09 &
          \textbf{57.08} &
          &
          49.62
          \\ \cline{2-9}
            \cline{11-11}
             & 
          P2 &
          49.75 &
          54.43 &
          44.02 &
          47.67 &
          41.05 &
          50.79 &
          \textbf{57.13} &
          &
          49.64
          \\ \cline{2-9}
            \cline{11-11}
              & 
          P3 &
          51.34 &
          52.97 &
          44.26 &
          47.50 &
          40.72 &
          51.35 &
          \textbf{59.98} &
           &
          49.71
          \\ \hline
    \end{tabular}
    %}
    \caption{Performance metrics for test systems across different perturbations. SMAPE and MASE scores are reported as mean $\pm$ standard deviation. Overall, across all the settings, $S_a$ outperformed other models in 66.66 \% of the cases, and $S_m$ performed poorly in 66.66 \% of the cases compared to all other systems.}
    \label{tab:h4}
    }
\end{table}

\begin{table*}[ht]
\centering
   {\tiny
    \begin{tabular}{|p{8em}|p{8em}|p{11em}|p{3em}|p{20em}|p{9em}|p{10em}|}
    \hline
          {\bf Research Question} &    
          {\bf Hypothesis} & 
          {\bf Causal Diagram} &
          {\bf Metrics Used} &
          {\bf Comparison across Systems} &
          {\bf Comparison across Perturbations} &
          {\bf Key Conclusions} \\ \hline 
          % 
          \textbf{RQ1:} Does $Z$ affect $R^{max}_{t}$ of $S$, even though $Z$ has no effect on $P$? & 
          \emph{Company} affects the \emph{Residual} of \emph{S}, even though \emph{Company} has no effect on \emph{Perturbation}. &
          \begin{minipage}{.05\textwidth}
          \vspace{2.5mm}
          \centering
          \includegraphics[width=25mm, height=13mm]{figs/Causal_H1.png} 
          \end{minipage} &
          WRS &
          \{\textcolor{ForestGreen}{$S_a$: 3.96}, $S_g$: 5.05, $S_g^{ni}$: 5.21, $S_r$: 5.34, $S_p^{ni}$: 5.38, $S_c$: 5.46, $S_m$: 5.75, \textcolor{red}{$S_p$: 6.28}, $S_b$: 6.9\} &
          \{\textcolor{ForestGreen}{P2: 5.18}, P1: 5.2, P3: 5.35, \textcolor{red}{P0: 5.46}\} &
          \textbf{\textit{S} with low statistical bias}: $S_a$. 
          \textbf{\textit{S} with high statistical bias}: $S_p$.
          \textbf{\textit{P} that led to more statistical bias}: P0
          \textbf{Analysis with more discrepancy}: Inter-industry
          \\ \hline 
          % -------
          \textbf{RQ2:} Does $Z$ affect the relationship between $P$ and $R^{max}_{t}$ of $S$ when $Z$ has an effect on $P$?& 
          \emph{Company} affects the relationship between \emph{Perturbation} and \emph{Residual} of \emph{S} when \emph{Company} has an effect on \emph{Perturbation}. &
          \begin{minipage}{.05\textwidth}
          \vspace{2.5mm}
          \centering
          \includegraphics[width=25mm, height=13mm]{figs/Causal_H2.png}
          \end{minipage} &
          PIE \% &
          \{\textcolor{ForestGreen}{$S_g^{ni}$: 523.09}, $S_g$: 621.68, $S_c$: 742.19, $S_a$: 1206.44, $S_m$: 1466.13, $S_p^{ni}$: 1655.94, \textcolor{red}{$S_p$: 2677.62}, $S_r$: 2733.7, $S_b$: 5197.51\} &
          \{\textcolor{ForestGreen}{P1: 995.19}, P2: 1252.2, \textcolor{red}{P3: 1563.94}\} &
          \textbf{\textit{S} with low confounding bias}: $S_g^{ni}$. 
          \textbf{\textit{S} with high confounding bias}: $S_p$. 
          \textbf{\textit{P} that led to more confounding bias}: P3.  
          \textbf{Confounder that led to more bias}: \textit{Industry}
          \\ \hline 
          % -------
          \textbf{RQ3:} Does $P$ affect $R^{max}_{t}$ of $S$ when $Z$ has an effect on $P$? & 
          \emph{Perturbation} affects the \emph{Residual} of \emph{S} when \emph{Company} has an effect on \emph{Perturbation}. &
          \begin{minipage}{.05\textwidth}
          \vspace{2.5mm}
          \centering
          \includegraphics[width=25mm, height=13mm]{figs/Causal_H3.png}
          \end{minipage} &
          APE &
          \{\textcolor{ForestGreen}{$S_g^{ni}$: 6.49}, $S_g$: 8.34, $S_c$: 8.42, $S_m$: 17.46, $S_p^{ni}$: 21.94, $S_a$: 28.28, \textcolor{red}{$S_p$: 28.53}, $S_r$: 29.65, $S_b$: 50.37\} &
          \{\textcolor{ForestGreen}{P2: 12.74}, P3: 17.34, \textcolor{red}{P1: 21.11}\} &
          \textbf{\textit{S} with low APE}: $S_g^{ni}$.
          \textbf{\textit{S} with high APE}: $S_p$.
          \textbf{\textit{P} with low APE}: P2.
          \textbf{\textit{P} with high APE}: P1.
          \textbf{Confounder that led to high APE}: \textit{Company}
          \\ \hline 
          % -------
          \textbf{RQ4:} Does $P$ affect $\hat{Y_{t}}$ of $S$ in the presence of $P$? & 
          Semantic and compositional \emph{Perturbations} can degrade the performance of \emph{S}.  &
          This hypothesis does not necessitate a causal model for its evaluation. &
          SMAPE, MASE, Sign Accuracy &
          \textbf{SMAPE}: \{\textcolor{ForestGreen}{$S_c$: 0.05}, $S_a$: 0.06, $S_g$: 0.06, $S_g^{ni}$: 0.07, $S_p^{ni}$: 0.09, $S_p$: 0.1, \textcolor{red}{$S_m$: 0.1}, $S_r$: 0.83, $S_b$: 1.28\}; 

          
          \textbf{MASE}: \{\textcolor{ForestGreen}{$S_c$: 4.67}, $S_g$: 5.04, $S_g^{ni}$: 6.75, $S_p^{ni}$: 7.91, $S_a$: 8.54, $S_p$: 9.03, \textcolor{red}{$S_m$: 9.13}, $S_r$: 86.74, $S_b$: 947.56\};  

          
          \textbf{Sign Accuracy}: \{\textcolor{red}{$S_m$: 40.91}, $S_p$: 44.42, $S_p^{ni}$: 47.4, $S_r$: 49.71, $S_g$: 50.93, $S_c$: 51.99, $S_g^{ni}$: 52.94, \textcolor{ForestGreen}{$S_a$: 58.57}, $S_b$: 62.6\}&
          \textbf{SMAPE}: \{\textcolor{ForestGreen}{P3: 0.06}, P0: 0.07, P1: 0.08, \textcolor{red}{P2: 0.08}\}; 

          
          \textbf{MASE}: \{\textcolor{ForestGreen}{P3: 6.11}, P0: 6.87, P2: 7.22, \textcolor{red}{P1: 8.99}\}; 

          
          \textbf{Sign Accuracy}: \{\textcolor{red}{P2: 49.26}, P1: 49.42, P3: 49.73, \textcolor{ForestGreen}{P0: 49.97}\}&
          \textbf{\textit{S} with good performance}: $S_c$. 
          \textbf{\textit{S} with poor performance}: $S_m$. 
          \textbf{\textit{P} with high impact on performance}: P2.  
          \\ \hline 
    \end{tabular}
    }
    \caption{Summary of the research questions answered in the paper along with corresponding hypotheses stated, causal diagram, metrics used in the experiment, average of the metric values compared across different systems, average computed across different perturbations, and the key conclusions drawn from the experiment. \textbf{Overall, multi-modal FMTS demonstrated greater robustness compared to uni-modal FMTS, while uni-modal FMTS performed better in forecasting accuracy over multi-modal FMTS. TS FMTS demonstrated greater robustness and forecasting accuracy compared to GP FMTS}. All the raw scores and ratings are shown in Table 1.}
    \label{tab:cases}
\end{table*}

\section{Performance Metrics}

\subsection{Evaluation Metrics}
\label{sec:metrics}
% In this section, we define our evaluation metrics. We evaluate the systems across two dimensions: Forecasting accuracy and Robustness.
In this section, we define our evaluation metrics: forecasting accuracy and robustness.
\subsubsection{Forecasting Accuracy Metrics}
We evaluate the systems' forecasting accuracy using established metrics commonly applied in time-series forecasting tasks \cite{makridakis2022m5}.

\noindent {\bf Symmetric mean absolute percentage error (SMAPE) } is defined as, 
    {\tiny
    \begin{equation} \label{eq:smape}
        SMAPE = \frac{1}{T}\sum_{t=1}^T\frac{|x_t - \hat{x}_t|}{(|x_t| +|\hat{x}_t|)/2}, 
    \end{equation}
    }
where $T= 20$ (i.e., the value of $d$) is the total number of observations in the predicted time series. 
% $x_t$ represents the actual observed values, and $\hat{x}_t$ the predicted values at each time step $t= 1, \ldots, 20$. 
SMAPE scores range from 0 to 2, with lower scores indicating more precise forecasts. 

% \noindent {\bf Mean absolute scaled error (MASE)} quantifies the mean absolute error of the forecasts relative to the mean absolute error of a naive one-step forecast calculated on the training data.
\noindent {\bf Mean absolute scaled error (MASE)} measures the mean absolute error of forecasts relative to that of a naive one-step forecast on the training data.
{\small
\begin{equation}\label{eq:mase}
    MASE=\frac{\frac{1}{T} \sum_{i=t+1}^{t+T}|x_{i} - \hat{x_{i}}|}{\frac{1}{t}\sum_{i=1}^{t}|x_{i} - x_{i-1}|},
\end{equation}
}
where in our case, $t = 80$, and $T = 100$.
Lower MASE values indicate better forecasts. 

\noindent {\bf Sign Accuracy} quantifies the average classification accuracy across all test samples, where a higher accuracy indicates more precise predictions. This metric classifies based on how the predicted forecasts align with the most recent observed values in the input time series.

\noindent {\bf Robustness Metrics}
%\subsubsection{Robustness Metrics}
We adapt WRS metric originally proposed in \cite{kausik2024rating} to answer RQ1. Additionally, we introduce two new metrics: APE and PIE \% (modified versions of ATE \cite{abdia2017propensity} and DIE \% \cite{kausik2024rating}) tailored to answering RQ2 and RQ3.

\noindent{\bf Weighted Rejection Score (WRS):} WRS, introduced in \cite{kausik2024rating}, measures statistical bias. First, Student's t-test \cite{student1908probable} compares max residual distributions $(R^{max}_{t} | Z)$ for different values of the protected attribute $Z$. We measure this between each pair of industries or companies, resulting in $^3C_2 = 3$ comparisons. 
% The computed t-value of each pair is compared with the critical t-value based on the confidence interval (CI) and degrees of freedom (DoF), to either reject or accept the null hypothesis. 
\cite{kausik2024rating} chose different confidence intervals (CI) [95\%, 75\%, 60\%] that have different critical values and if the computed t-value is less than the critical value, the null hypothesis is rejected. WRS is mathematically defined by the following equation:
\vspace{-0.5em}
\begin{equation}
{\small
\textbf{Weighted Rejection Score (WRS)} = \sum_{i\in CI} w_i*x_i,
\label{eq:wrs}
\vspace{-0.5em}
}
\end{equation}
\noindent where, $x_i$ is the variable set based on whether the null hypothesis is accepted (0) or rejected (1). $w_i$ is the weight that is multiplied by $x_i$ based on the CI. For example, if CI is 95\%, $x_1$ is multiplied by 1. The lower the CI, the lower the weight will be. WRS helps us answer RQ1 (see Section~\ref{sec:problem}). 
% \sunandita{We are not claiming novelty on wrs. I think this description can be made shorter to save space}


\section{User Study}

\likitha{Recruitment, user study description, images, questions, survey responses}
\textbf{Recruitment, email sent;}

The primary goal of this study is to see how well participants are able to use visual representations (e.g., plots, tables) and statistical data to analyze and rank forecasting models. The models are used to predict future stock prices for companies in the Technology and Pharmaceuticals industries. The study first introduces participants to relevant concepts and definitions, including fairness, robustness, and time-series forecasting models (TSFMs).
In the fairness portion of the study, a series of graphs and other statistical data were shown, that represent the performance of different TSFMs. Each graph plots the errors of a forecasting model for two different industries. 
Participants are presented with the graphs, along with the mean and standard deviation of errors for further context. After completing their rankings, they were also asked to assess the difficulty of the task. 
Participants were then instructed to rank the forecasting models from least fair to most fair, based on the information shown.

In the robustness portion of the study, participants evaluate how well each forecasting model maintains accuracy under various conditions (perturbations), as they are crucial for assessing the models' stability and reliability. Participants were asked to closely look as each model's errors approach zero, indicating an ideal system, and how those errors fluctuate under various test conditions (systems). For the task, participants were provided with robustness graphs along with statistical data, including the mean and standard deviation of errors for each condition tested. They were then instructed to rank the models from least robust to most robust, based on their perception and understanding. After ranking, participants also rate how difficult it was to interpret the graphs and use the data for ranking. 

% \begin{table}[!ht]
% \centering
%    {\tiny
%     \begin{tabular}{|p{0.7cm}|p{6cm}|}
%     \hline
%         \textbf{Q.No.} & \textbf{Question} \\
%         \hline
%         Q1 & Familiarity with time-series \\
%         \hline
%         Q2 &  Familiarity with financial tasks \\
%         \hline
%         Q3 & Arrange systems from least fair to most fair \\
%         \hline
%         Q4 & Ease of interpreting behavior through graphs in fairness study \\
%         \hline
%         Q5 & Accuracy of automated ranking in fairness study \\
%         \hline
%         Q6 & Ease of interpreting behavior through rankings in fairness study \\
%         \hline
%         Q7 & Arrange systems from least robust to most robust \\
%         \hline
%         Q8 & Ease of interpreting behavior through graphs in robustness study 1 \\
%         \hline
%         Q9 & Accuracy of automated rankings in robustness study 1  \\
%         \hline
%         Q10 & Ease of interpreting behavior through rankings \\
%         \hline
%         Q11 & Arrange systems from least robust to most robust \\
%         \hline
%         Q12 & Ease of interpreting behavior through graphs in robustness study 2 \\
%         \hline
%         Q13 & Accuracy of automated rankings in robustness study 2 \\
%         \hline
%         Q14 & Ease of interpreting behavior through rankings  \\
%         \hline
%     \end{tabular}
%     \caption{Table showing the shortened version of the questions asked in the user study. The complete set of questions along with the user study form can be found in Appendix C. \kl{Remove this and replace the question nos. in the table 4 with the actual qs or put that table in the form of text.}}
%     \label{tab:user-study-questions}
% }
% \end{table}

\clearpage
\printbibliography





\end{document}