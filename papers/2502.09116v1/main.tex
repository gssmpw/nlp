\documentclass[acmsmall,nonacm]{acmart}

\newif\ifpublish
\publishtrue

\input{config/packages}
\input{config/macros}

\makeatletter
\let\@authorsaddresses\@empty
\makeatother

\begin{document}

\title[]{Byzantine Consensus in the Random Asynchronous Model}

\ifpublish
  \author{George Danezis}
  \affiliation{
    \institution{Mysten Labs and University College London}
    \country{United Kingdom}
  }  
  \author{Jovan Komatovic}
  \affiliation{
    \institution{EPFL}
    \country{Switzerland}
  }
  \author{Lefteris Kokoris-Kogias}
  \affiliation{
    \institution{Mysten Labs}
    \country{Greece}
  }
  \author{Alberto Sonnino}
  \affiliation{
    \institution{Mysten Labs and University College London}
    \country{United Kingdom}
  }
  \author{Igor Zablotchi}
  \affiliation{
    \institution{Mysten Labs}
    \country{Switzerland}
  }
\else
  \author{}
  \affiliation{}

  \settopmatter{printacmref=false}
  \settopmatter{printfolios=true}
  \renewcommand\footnotetextcopyrightpermission[1]{}
\fi

\renewcommand{\shortauthors}{}
\begin{abstract}
  \input{sections/abstract}
\end{abstract}

\maketitle
\clearpage\newpage
\setcounter{page}{1}
\input{sections/intro}
\input{sections/model}
\input{sections/3f+1}
\input{sections/resilience}
\input{sections/negative}
% \input{sections/bullshark}    
\input{sections/related}
\input{sections/conclusion}

\clearpage\newpage
\appendix
\section*{APPENDIX}
\input{sections/challenges}
\input{sections/proofs}
\input{sections/crash}

\bibliographystyle{ACM-Reference-Format}
\bibliography{main}

\end{document}
\endinput
