\subsection{\textbf{RQ3: \BFPs Across Root Causes}}

For both ADSes, we identified a total of 1,331 instances of these root causes.
~\autoref{fig:rootcause_semantic_combined} 
correlate semantic BFPs with root causes. 
\yuntianyihl{The Algorithm (Alg) root cause has a significant occurrence of 887 bug fixes and spans across 23 types of semantic \bfps, which}
underlines the complexity and multifaceted nature of these bugs.
This observation, aligned with the detailed classification of the affected algorithm or functions for pull requests in \hyperref[tab:algorithm_classification]{Table 8}, where \textit{Evasive Actions}, particularly related to obstacle processing, emerges as the most corrected subgroup, underscoring the criticality of refining obstacle avoiding algorithms in ADS.
The dataset we collected presents a compelling case for developing learning-based automated program repair (APR) approaches, particularly as the top five affected algorithms---\textit{Avoidance}, \textit{Lane Change}, \textit{Scene Intersection}, \textit{Start Planner}, and \textit{Goal Planner}---point to specific areas where such APR strategies could be most beneficial.

\vspace{-1ex}
\begin{finding}
\label{finding:rq3_alg}
        Algorithm-related bug fixes, with a total of 877 occurrences, are characterized by various semantic patterns that require multifaceted code modifications to address the underlying incorrect algorithm logic. This complexity, notably present in the \textit{Evasive Actions} subgroup, suggests an opportunity for advancing APR techniques for obstacle processing algorithms.
\end{finding}
\vspace{-1ex}
    

For the Config root cause, 
121 occurrences of Configuration and Environment Management (CEM), 51 of Build and Compilation Enhancement (BCE), and 35 of Module Integration and Interaction (MII) dominate semantic patterns. This trend suggests that configuration-related bugs not only require changes in system configuration files but also demand adjustments in build files and hardware settings. This highlights the broader scope of configuration bugs, which extend beyond code to include systemic and environmental factors.
According to recent surveys in automated program repair~\cite{apr_survey,ZhangFMSC24}, although APR has made strides in addressing code-level issues, the aspect of configuration repair remains relatively unexplored, necessitating focused efforts to fill this gap.

\begin{figure}[ht!]
\begin{minipage}{0.66\textwidth}
\captionof{table}{Classification of \yuntianyihl{Affected} Algorithm \yuntianyihl{Groups} with \yuntianyihl{Frequency}}
\begin{adjustbox}{width=\linewidth}
\begin{tabular}{c|l|c|l}
\toprule
\textbf{Algorithm Group} & \textbf{Subgroup} & \textbf{Total (\%)} & \textbf{Example} \\
\midrule
\multirow{6}{*}{\textbf{\makecell{Planning \&\\ Navigation}}} & Route planning and goal setting & 41 (5.5\%) & Start Planner \\
 & Lane-related maneuvers & 54 (7.2\%) & Lane Change \\
 & Evasive actions & 82 (11.0\%) & Avoidance \\
 & Parking and stopping maneuvers & 25 (3.4\%) & Pull Over \\
 & Intersection handling & 40 (5.4\%) & Scene Intersection\\
 & Route management & 44 (5.9\%) & Mission Planner \\
\midrule
\multirow{2}{*}{\textbf{\makecell{Control \&\\ Actuation}}} & Motion control & 18 (2.4\%) & MPC Controller \\
 & Command decision systems & 18 (2.4\%) & Turn Signal Decider \\
\midrule
\multirow{3}{*}{\textbf{\makecell{Perception \&\\ Sensing}}} & Sensor data processing & 3 (0.4\%) & Pointcloud Preprocessor \\
 & Sensor data fusion & 6 (0.8\%) & Perception Fusion \\
 & Object and environment detection & 30 (4.0\%) & CV Tracker \\
\midrule
\multirow{2}{*}{\textbf{Prediction}} & Entity Behavior Prediction & 12 (1.6\%) & Map Based Prediction \\
 & Traffic and Environmental Prediction & 3 (0.4\%) & Traffic Light Predictor \\
\midrule
\multirow{2}{*}{\textbf{\makecell{Mapping \&\\ Localization}}} & Map handling and management & 34 (4.6\%) & PNC Map \\
 & Localization and position estimation & 8 (1.1\%) & EKF Localizer \\
\midrule
\multirow{2}{*}{\textbf{\makecell{System Management \\\& Infrastructure}}} & System monitoring and management & 24 (3.2\%) & System Error Monitor \\
 & Data management and configuration & 9 (1.2\%) & CSV Loader\\
\midrule
\multirow{2}{*}{\textbf{\makecell{Simulation, Testing,\\ \& Evaluation}}} & Simulation and testing environments & 7 (0.9\%) & Planning Simulator \\
 & Performance evaluation and analysis & 7 (0.9\%) & Trajectory Evaluator \\
\midrule
\multirow{2}{*}{\textbf{\makecell{User Interface \&\\ Communication}}} & HMI and display systems & 4 (0.5\%) & RTC Manager Panel \\
 & Communication and data exchange & 2 (0.3\%) & Cyber Channel \\
\midrule
\multirow{2}{*}{\textbf{\makecell{Emergency \\Handling \& Safety}}} & Emergency response & 10 (1.3\%) & Emergency Handler \\
 & Risk checking and safety planning & 3 (0.4\%) & Path Safety Checker \\
\bottomrule
\end{tabular}
\end{adjustbox}
\label{tab:algorithm_classification}
\end{minipage}
\hfill
\begin{minipage}{0.33\textwidth}
    \vspace{1ex}
    \centering
    \includegraphics[width=\linewidth]{images/rq3_4_5/rootcause_semantic_combined.pdf}
    \vspace{-5ex}
    \captionof{figure}{Relation between root causes and Semantic \yuntianyihl{BFPs} for both ADSes}
    \label{fig:rootcause_semantic_combined}
\end{minipage}
\end{figure}
\vspace{-1.5ex}

\vspace{-1ex}
\begin{finding}
\label{finding:rq3_config}
    Most configuration-related bugs are fixed by 
    Configuration and Environment Management (CEM), Build and Compilation Enhancement (BCE), and Module Integration and Interaction (MII) patterns (207 occurrences in total),
    indicating the need for comprehensive fixes that span both source code and configurations. 
    This situation emphasizes the critical gap in automated testing and program repair research concerning ADS configuration.
\end{finding}
\vspace{-1ex}
