
\begin{tikzpicture}[>=stealth,yscale=0.7,xscale=0.9]

\node[draw, ellipse, align=center] (source) at (0,0)
{Set of all \\ Markov kernels};

% P_1
\draw[->]
  (source.30)
  .. controls ++(0.5,0.5) and (2,1.5) .. node[midway, above=0.3cm] {i.i.d.\ $\mathrm{Dir}(\bbeta)$} (3,1.5)
  node[right] (p1) {$P_{1}$};
% P_2
\draw[->]
  (source.5)
  .. controls ++(0.3,0.13) and (2.7,0.4) .. 
  % node[midway, above] {$\mathrm{Dir}(\beta)$} 
  (3,0.4)
  node[right] (p2) {$P_{2}$};
% P_B
\draw[->]
  (source.-30)
  .. controls ++(0.5,-0.5) and (2,-1.5) .. 
  % node[midway, below] {$\mathrm{Dir}(\beta)$} 
  (2.9,-1.5)
  node[right] (pb) {$P_{B}$};
% ellipsis
 \draw[draw=none] (p2) -- (pb) node[midway,align=center, anchor=south, yshift=-7pt] {\vdots};

\draw[->] (p1.east) -- ++(0.7,0) coordinate(arr_end);
\draw[->] (p2.east) -- ++(0.7,0) node[right, anchor=west] () {$\qquad\qquad\dots$};
\draw[->] (pb.east) -- ++(0.7,0) node[right, anchor=west] () {$\qquad\qquad\dots$};
    \node[anchor=base west] at (arr_end) {
      \begin{tikzpicture}[yshift=-1cm,baseline=(left.base)]
        \node[anchor=base] (left) {$x_1, x_2, \dots,$};
        \node[
          % draw=red,  % if you want border and not shading
          fill=red!30,
          dashed,
          rectangle,
          inner sep=4pt,
          right=-1mm of left
        ] (box_k_prev) {$x_{t-k+1}, \dots, x_t$};
        \node[right=-1mm of box_k_prev] (x_tplus1) {$,x_{t+1}$};
        \draw[-latex]
          (box_k_prev.south) to[out=-60, in=-120]
          node[midway, below] {order $k$} 
          (x_tplus1.south);
      \end{tikzpicture}
    };

\end{tikzpicture}
