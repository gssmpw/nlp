\section{Related Work}
\label{s:rwork}
\begin{table}[tb]
    \caption{Comparison of Related Work}\label{tab:rwork}
    \centering
        \begin{tabular}{llll} \hline
              & Class-level & Method-level  & Comparison\\ \hline
            Bug prediction  & $\checkmark$ \cite{ckbug,designbug} & $\checkmark$\cite{Hata-method-bug,Giger-method-bug} & $\checkmark$\cite{Hata-method-bug}\\
            Bug localization & $\checkmark$ \cite{Almhana-class-bl,zhou-filebl} & $\checkmark$\cite{ZHANG-method-bl,tsumita-saner2023,YOUM-method-bl,amalgam} & $\checkmark$\cite{tsumita-saner2023} \\
            Change prediction & $\checkmark$ \cite{malhotra-survey,catolino-pre,catolino-ensemble,silva-history,elish-process,catolino-dev,Lu-oo,farah-method-level,catolino-smell,mojeeb-network} & $\checkmark$ \cite{farah-method-level} & No study.\\
            \hline
        \end{tabular}
\end{table}
Various change prediction techniques have been proposed to date\cite{malhotra-survey,catolino-pre,catolino-ensemble,silva-history,elish-process,catolino-dev,Lu-oo,farah-method-level,catolino-smell,mojeeb-network}. 
Most of these techniques employ machine learning models and are formulated as a classification problem.
They utilize product and process metrics as independent variables, with a binary label that indicates whether a module is change-prone, serving as the dependent variable.

In the related tasks, such as bug prediction and bug localization, researchers have developed class-level and method-level prediction techniques\cite{Almhana-class-bl, amalgam,ckbug,designbug,Giger-method-bug,Hata-method-bug,tsumita-saner2023,YOUM-method-bl,ZHANG-method-bl,zhou-filebl} and demonstrated effectiveness of method-level predictions by comparing them with class-level predictions\cite{Hata-method-bug,tsumita-saner2023}.
\cref{tab:rwork} presents examples of studies that have proposed techniques at each level, as well as studies that compare both levels.
Researchers have used the effort-aware evaluation to compare the two levels.
Although method-level prediction techniques have also been proposed for change prediction, comparisons with class-level predictions have yet to be conducted.

\subsection{Class-Level Change Prediction}

Lu et al. demonstrated the effectiveness of product metrics in change prediction through an empirical study involving 102 projects \cite{Lu-oo}.
Elish et al. derived process metrics to be used as inputs for change prediction using the Goal-Question-Metric approach and demonstrated their effectiveness through empirical experiments\cite{elish-process}. 
Furthermore, they revealed that predictions using both product and process metrics showed higher performance than those using only one type of metric.
Catolino et al. proposed a prediction technique that incorporates developer-related information, which is commonly used in bug prediction\cite{catolino-dev}.
They constructed models using product metrics, process metrics, and developer information as independent variables and compared the outcomes.
The model incorporating developer information performed better than the other models.
They also found that these metrics complement one another in terms of prediction performance.
In addition, they demonstrated that utilizing ensemble methods in change prediction markedly improves the prediction performance \cite{catolino-ensemble}.
Furthermore, they added code smell-related information as the independent variable to improve change prediction performance\cite{catolino-smell}.

\subsection{Method-Level Bug Prediction}
In a similar task of bug prediction, several method-level prediction techniques have already been proposed, and their usefulness has been demonstrated.
Giger et al. proposed a method-level bug prediction technique using product metrics and process metrics \cite{Giger-method-bug}. 
They employed product metrics that are definable at method-level in CK \cite{aniche-ck}, a product metric computation tool. 
In addition, they used ChangeDistiller \cite{ChangeDistiller} to gather method-level change histories to calculate the process metrics.
Hata et al. proposed a method-level bug prediction technique that uses process metrics \cite{Hata-method-bug}. 
They utilized a fine-grained repository \cite{Historage} to calculate method-level process metrics.
A fine-grained repository generated by their technique \cite{Historage} tracks software change histories with finer granularity.
They employed an evaluation approach that accounts for an effort to compare class-level and method-level predictions.
The findings indicated that method-level prediction is more efficient than class-level prediction in identifying bugs. 

\begin{table*}[tb]\centering
    \caption{Independent Variables}\label{tab:metrics}
    \begin{tabular}{llll} \hline
         & Granularity & Product Metrics & Process Metrics \\ \hline
        Farah et al. & Method-Level & CK\cite{aniche-ck} and Understand: 83 types & Elish et al.\cite{elish-process}: 17 types \\
        \hline
        \multirow{2}{*}{Our technique} & Class-Level & CK\cite{aniche-ck}: 49 types & Elish et al.\cite{elish-process}: 17 types  \\
        & Method-Level & CK\cite{aniche-ck}: 31 types & Elish et al.\cite{elish-process}: 17 types \\
        \hline
    \end{tabular}
\end{table*}

\subsection{Method-Level Change Prediction}
Similar to bug prediction, a method-level prediction technique has been proposed for change prediction. 
Farah et al. extended class-level change prediction technique using product and process metrics to method-level \cite{farah-method-level}.
Like Giger et al., they used ChangeDistiller \cite{ChangeDistiller} to collect method-level process metrics. 
In addition, they analyzed the metrics and machine learning models that are effective for change prediction.
The results of their empirical experiments demonstrated that prediction models, which incorporate both types of metrics, perform better than those that rely on a single type of metric.
To the best of our knowledge, this is the only paper that proposes a method-level change prediction technique.

In the above studies, class-level and method-level change prediction have not been compared, and the effectiveness of method-level change prediction has not been sufficiently demonstrated. 
In this paper, we replicated the technique of Farah et al. as closely as possible and conducted prediction experiments at both class-level and method-level.
We evaluated the usefulness of method-level change prediction by comparing the results.