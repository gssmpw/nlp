\begin{figure}[htbp]
\begin{center}
\scalebox{0.7}{
\begin{tikzpicture}[node distance=1.5cm]
  \tikzstyle{every state}=[inner sep=3pt,minimum size=20pt]

\node(0C1)[petri-p,draw=black,label=00:{$\mathit{0C1}$}]{};
\node(Z1)[petri-t2,draw=black,fill=black,above of=0C1,label=90:{$\mathit{z1}$}]{};
\node(I1)[petri-t,draw=black,fill=black,below left of=0C1,label=180:{$\mathit{i1}$}]{};
\node(D1)[petri-t,draw=black,fill=black,below right of=0C1,label=0:{$\mathit{ad1}$},yshift=2em]{};
\node(0to1)[petri-p,draw=black,below of=I1,yshift=2em]{};
\node(1to0)[petri-p,draw=black,below of=D1,yshift=2.5em]{};
\node(AI1)[petri-t,draw=black,fill=black,below of=0to1,label=180:{$\mathit{ai1}$},yshift=2em]{};
\node(NZ1)[petri-t,draw=black,fill=black,below of=1to0,label=0:{$\mathit{nextz1}$},yshift=2.5em]{};
\node(1to0b)[petri-p,draw=black,below of=NZ1,yshift=2.5em]{};
\node(AD1)[petri-t,draw=black,fill=black,below of=1to0b,label=0:{$\mathit{d1}$},yshift=2.5em]{};
\node(1C1)[petri-p,draw=black,below right of=AI1,label=90:{$\mathit{1C1}$}]{};

\node(PI1)[petri-t,draw=black,fill=black,below left of=1C1,label=180:{$\mathit{pi1}$}]{};
\node(pi1toqi1)[petri-p,draw=black,below of=PI1,yshift=2em]{};
\node(QI1)[petri-t,draw=black,fill=black,below of=pi1toqi1,label=-110:{$\mathit{qi1}$},yshift=2em]{};

\node(qi1tori1)[petri-p,draw=black,below right of=QI1,xshift=0em]{};


\node(RI1)[petri-t,draw=black,fill=black,above right of=qi1tori1,label=-70:{$\mathit{ri1}$}]{};
\node(ri1tosi1)[petri-p,draw=black,above of=RI1,yshift=-2em]{};
\node(SI1)[petri-t,draw=black,fill=black,above of=ri1tosi1,label=0:{$\mathit{si1}$},yshift=-2em]{};

\path (0C1) edge [->,thick,line width=1pt,out=30,in=0](Z1);
\path (Z1) edge [->,thick,line width=1pt,out=180,in=150](0C1);
\path (0C1) edge [->,thick,line width=1pt,out=-150,in=90](I1);
\path (D1) edge [->,thick,line width=1pt,out=90,in=-30](0C1);
\path (I1) edge [->,thick,line width=1pt](0to1);
\path (1to0) edge [->,thick,line width=1pt](D1);
\path (1to0b) edge [->,thick,line width=1pt](NZ1);
\path (NZ1) edge [->,thick,line width=1pt](1to0);
\path (0to1) edge [->,thick,line width=1pt](AI1);
\path (AD1) edge [->,thick,line width=1pt](1to0b);
\path (AI1) edge [->,thick,line width=1pt,out=-90,in=150](1C1);
\path (1C1) edge [->,thick,line width=1pt,out=30,in=-90](AD1);

\path (1C1) edge [->,thick,line width=1pt](PI1);
\path (PI1) edge [->,thick,line width=1pt](pi1toqi1);
\path (pi1toqi1) edge [->,thick,line width=1pt](QI1);
\path (QI1) edge [->,thick,line width=1pt](qi1tori1);


\path (qi1tori1) edge [->,thick,line width=1pt](RI1);
\path (RI1) edge [->,thick,line width=1pt](ri1tosi1);

\path (ri1tosi1) edge [->,thick,line width=1pt](SI1);
\path (SI1) edge [->,thick,line width=1pt](1C1);

\node[petri-tok] at (0C1) {};

\node(0C1bis)[petri-p,draw=black,label=00:{$\mathit{0C1}$},right of=0C1,xshift=10em]{};
\node(Z1bis)[petri-t2,draw=black,fill=black,above of=0C1bis,label=90:{$\mathit{z1}$}]{};
\node(I1bis)[petri-t,draw=black,fill=black,below left of=0C1bis,label=180:{$\mathit{i1}$}]{};
\node(D1bis)[petri-t,draw=black,fill=black,below right of=0C1bis,label=0:{$\mathit{ad1}$},yshift=2em]{};
\node(0to1bis)[petri-p,draw=black,below of=I1bis,yshift=2em]{};
\node(1to0bis)[petri-p,draw=black,below of=D1bis,yshift=2.5em]{};
\node(AI1bis)[petri-t,draw=black,fill=black,below of=0to1bis,label=180:{$\mathit{ai1}$},yshift=2em]{};
\node(NZ1bis)[petri-t,draw=black,fill=black,below of=1to0bis,label=0:{$\mathit{nextz1}$},yshift=2.5em]{};
\node(1to0bbis)[petri-p,draw=black,below of=NZ1bis,yshift=2.5em]{};
\node(AD1bis)[petri-t,draw=black,fill=black,below of=1to0bbis,label=0:{$\mathit{d1}$},yshift=2.5em]{};
\node(1C1bis)[petri-p,draw=black,below right of=AI1bis,label=90:{$\mathit{1C1}$}]{};

\node(PI1bis)[petri-t,draw=black,fill=black,below left of=1C1bis,label=180:{$\mathit{pi1}$}]{};
\node(pi1toqi1bis)[petri-p,draw=black,below of=PI1bis,yshift=2em]{};
\node(QI1bis)[petri-t,draw=black,fill=black,below of=pi1toqi1bis,label=180:{$\mathit{qi1}$},yshift=2em]{};
\node(qi1tori1bis)[petri-p,draw=black,below right of=QI1bis]{};
\node(RI1bis)[petri-t,draw=black,fill=black,above right of=qi1tori1bis,label=0:{$\mathit{ri1}$}]{};
\node(ri1tosi1bis)[petri-p,draw=black,above of=RI1bis,yshift=-2em]{};
\node(SI1bis)[petri-t,draw=black,fill=black,above of=ri1tosi1bis,label=0:{$\mathit{si1}$},yshift=-2em]{};

\path (0C1bis) edge [->,thick,line width=1pt,out=30,in=0](Z1bis);
\path (Z1bis) edge [->,thick,line width=1pt,out=180,in=150](0C1bis);
\path (0C1bis) edge [->,thick,line width=1pt,out=-150,in=90](I1bis);
\path (D1bis) edge [->,thick,line width=1pt,out=90,in=-30](0C1bis);
\path (I1bis) edge [->,thick,line width=1pt](0to1bis);
\path (1to0bbis) edge [->,thick,line width=1pt](NZ1bis);
\path (NZ1bis) edge [->,thick,line width=1pt](1to0bis);
\path (1to0bis) edge [->,thick,line width=1pt](D1bis);
\path (0to1bis) edge [->,thick,line width=1pt](AI1bis);
\path (AD1bis) edge [->,thick,line width=1pt](1to0bbis);
\path (AI1bis) edge [->,thick,line width=1pt,out=-90,in=150](1C1bis);
\path (1C1bis) edge [->,thick,line width=1pt,out=30,in=-90](AD1bis);

\path (1C1bis) edge [->,thick,line width=1pt](PI1bis);
\path (PI1bis) edge [->,thick,line width=1pt](pi1toqi1bis);
\path (pi1toqi1bis) edge [->,thick,line width=1pt](QI1bis);
\path (QI1bis) edge [->,thick,line width=1pt](qi1tori1bis);
\path (qi1tori1bis) edge [->,thick,line width=1pt](RI1bis);
\path (RI1bis) edge [->,thick,line width=1pt](ri1tosi1bis);
\path (ri1tosi1bis) edge [->,thick,line width=1pt](SI1bis);
\path (SI1bis) edge [->,thick,line width=1pt](1C1bis);

\node[petri-tok] at (0C1bis) {};

\node(L)[petri-p,draw=black,label=180:{$\ell$},left of=1C1,xshift=-25em]{};
\node(ReqI1)[petri-t2,draw=black,fill=black,right of=L,label=90:{$\ell\_\mathit{reqi1}$},xshift=-2em]{};

\node(aux1)[petri-p,draw=black,right of=ReqI1,xshift=-2em]{};
\node(AckI1)[petri-t2,draw=black,fill=black,right of=aux1,label=90:{$\ell\_\mathit{acki1}$},xshift=-2em]{};

\node(L2)[petri-p,draw=black,right of=AckI1,label=90:{$\ell'$},xshift=-1.5em]{};
\node(ReqI1bis)[petri-t2,draw=black,fill=black,right of=L2,label=90:{$\ell'\_\mathit{reqi1}$},xshift=-2em]{};

\node(aux1bis)[petri-p,draw=black,right of=ReqI1bis,xshift=-2em]{};
\node(AckI1bis)[petri-t2,draw=black,fill=black,right of=aux1bis,label=90:{$\ell'\_\mathit{acki1}$},xshift=-2em]{};

\node(L3)[petri-p,draw=black,right of=AckI1bis,label=0:{$\ell''$},xshift=-2em]{};

\path (L) edge [->,thick,line width=1pt](ReqI1);
\path (ReqI1) edge [->,thick,line width=1pt](aux1);
 \path (aux1) edge [->,thick,line width=1pt](AckI1);
  \path (AckI1) edge [->,thick,line width=1pt](L2);
  \path (L2) edge [->,thick,line width=1pt](ReqI1bis);
  \path (ReqI1bis) edge [->,thick,line width=1pt](aux1bis);
  
  \path (aux1bis) edge [->,thick,line width=1pt](AckI1bis);
  \path (AckI1bis) edge [->,thick,line width=1pt](L3);
  

\node[petri-tok] at (L) {};


\path (ReqI1) edge [loosely dotted,line width=1pt, bend left] (I1);
\path (AckI1) edge [loosely dotted,line width=1pt, bend left] (AI1);
\path (ReqI1) edge [loosely dotted,line width=1pt, bend right] (PI1);
\path (AckI1) edge [loosely dotted,line width=1pt, bend right] (SI1);
\path (ReqI1bis) edge [loosely dotted,line width=1pt, bend left] (I1);
\path (AckI1bis) edge [loosely dotted,line width=1pt, bend left] (AI1);
\path (ReqI1bis) edge [loosely dotted,line width=1pt, bend right] (PI1);
\path (AckI1bis) edge [loosely dotted,line width=1pt, bend right] (SI1);

\path (QI1) edge [loosely dotted,line width=1pt] (I1bis);
\path (RI1) edge [loosely dotted,line width=1pt] (AI1bis);
\path (QI1) edge [loosely dotted,line width=1pt] (PI1bis);
\path (RI1) edge [loosely dotted,line width=1pt] (SI1bis);

\end{tikzpicture}
}
\end{center}
\vspace*{-\baselineskip}
\caption{Partial representation of a behavior for the simulation of a Minsky machine}
\label{fig:behav}
\end{figure}
