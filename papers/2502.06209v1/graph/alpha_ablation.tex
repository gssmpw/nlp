\begin{figure*}[t!]
    \captionsetup[subfigure]{font=footnotesize,labelfont=footnotesize,aboveskip=0.05cm,belowskip=-0.15cm}
    \centering
    \begin{subfigure}{.49\linewidth}
        \centering
        \begin{tikzpicture}
            \pgfplotstableread[col sep=comma]{data/adaptive_alpha.csv}{\datatable}
            \begin{axis}[
                legend style={
                    nodes={scale=0.6}, 
                    at={(0.81, 0.21)}, 
                    legend columns=1,
                    anchor=center,
                    legend cell align={left}
                },
                xlabel={Round},
                ylabel={Relative labeling cost (\%)},
                width=0.77\linewidth,
                height=0.616\linewidth,
                xtick={5, 6, 7, 8, 9},
                xlabel style={yshift=0.25cm},
                ylabel style={yshift=-0.6cm},
                xmin=4.5,
                xmax=9.2,
                label style={font=\scriptsize},
                tick label style={font=\scriptsize},
            ]            

            \addplot [
                name path={0.05-COST-L}, draw=none, forget plot, fill=none
            ] table [
                x={round},
                y expr=\thisrow{0.05-COST}+\thisrow{0.05-COST-STD}
            ] {\datatable};

            \addplot [
                name path={0.05-COST-U}, draw=none, forget plot, fill=none
            ] table [
                x={round},
                y expr=\thisrow{0.05-COST}-\thisrow{0.05-COST-STD}
            ] {\datatable};

            \addplot[cRedalpha1, draw=none, forget plot, fill opacity=0.3] fill between[of={0.05-COST-U} and {0.05-COST-L}];

            \addplot[
                cRedalpha1,
                thick,
                mark=*,
                mark options={scale=0.4, solid},
                error bars/.cd,
                y dir=both, y explicit, 
                error bar style={line width=0.6pt, draw=cRedalpha1}, 
                error mark=none, 
            ] table [
                x={round},
                y={0.05-COST}, 
                y error={0.05-COST-STD}
            ] {\datatable};
            \addlegendentry{$\alpha=0.05$}

            \addplot [
                name path={0.1-COST-L}, draw=none, forget plot, fill=none
            ] table [
                x={round},
                y expr=\thisrow{0.1-COST}+\thisrow{0.1-COST-STD}
            ] {\datatable};

            \addplot [
                name path={0.1-COST-U}, draw=none, forget plot, fill=none
            ] table [
                x={round},
                y expr=\thisrow{0.1-COST}-\thisrow{0.1-COST-STD}
            ] {\datatable};

            \addplot[cRedalpha2, draw=none, forget plot, fill opacity=0.3] fill between[of={0.1-COST-U} and {0.1-COST-L}];

            \addplot[
                cRedalpha2,
                thick,
                mark=*,
                mark options={scale=0.4, solid},
                error bars/.cd,
                y dir=both, y explicit, 
                error bar style={line width=0.6pt, draw=cRedalpha2}, 
                error mark=none, 
            ] table [
                x={round},
                y={0.1-COST}, 
                y error={0.1-COST-STD}
            ] {\datatable};
            \addlegendentry{$\alpha=0.1$}





            \addplot [
                name path={0.2-COST-L}, draw=none, forget plot, fill=none
            ] table [
                x={round},
                y expr=\thisrow{0.2-COST}+\thisrow{0.2-COST-STD}
            ] {\datatable};

            \addplot [
                name path={0.2-COST-U}, draw=none, forget plot, fill=none
            ] table [
                x={round},
                y expr=\thisrow{0.2-COST}-\thisrow{0.2-COST-STD}
            ] {\datatable};

            \addplot[cRedalpha3, draw=none, forget plot, fill opacity=0.3] fill between[of={0.2-COST-U} and {0.2-COST-L}];

            \addplot[
                cRedalpha3,
                thick,
                mark=*,
                mark options={scale=0.4, solid},
                error bars/.cd,
                y dir=both, y explicit, 
                error bar style={line width=0.6pt, draw=cRedalpha3}, 
                error mark=none, 
            ] table [
                x={round},
                y={0.2-COST}, 
                y error={0.2-COST-STD}
            ] {\datatable};
            \addlegendentry{$\alpha=0.2$}





            \addplot [
                name path={0.3-COST-L}, draw=none, forget plot, fill=none
            ] table [
                x={round},
                y expr=\thisrow{0.3-COST}+\thisrow{0.3-COST-STD}
            ] {\datatable};

            \addplot [
                name path={0.3-COST-U}, draw=none, forget plot, fill=none
            ] table [
                x={round},
                y expr=\thisrow{0.3-COST}-\thisrow{0.3-COST-STD}
            ] {\datatable};

            \addplot[cRedalpha4, draw=none, forget plot, fill opacity=0.3] fill between[of={0.3-COST-U} and {0.3-COST-L}];

            \addplot[
                cRedalpha4,
                thick,
                mark=*,
                mark options={scale=0.4, solid},
                error bars/.cd,
                y dir=both, y explicit, 
                error bar style={line width=0.6pt, draw=cRedalpha4}, 
                error mark=none, 
            ] table [
                x={round},
                y={0.3-COST}, 
                y error={0.3-COST-STD}
            ] {\datatable};
            \addlegendentry{$\alpha=0.3$}

            \addplot [
                name path={adaptive-COST-L}, draw=none, forget plot, fill=none
            ] table [
                x={round},
                y expr=\thisrow{adaptive-COST}+\thisrow{adaptive-COST-STD}
            ] {\datatable};

            \addplot [
                name path={adaptive-COST-U}, draw=none, forget plot, fill=none
            ] table [
                x={round},
                y expr=\thisrow{adaptive-COST}-\thisrow{adaptive-COST-STD}
            ] {\datatable};

            \addplot[cBlue2, draw=none, forget plot, fill opacity=0.3] fill between[of={adaptive-COST-U} and {adaptive-COST-L}];

            \addplot[
                cBlue2,
                thick,
                mark=*,
                mark options={scale=0.4, solid},
                error bars/.cd,
                y dir=both, y explicit, 
                error bar style={line width=0.6pt, draw=cBlue2}, 
                error mark=none, 
            ] table [
                x={round},
                y={adaptive-COST}, 
                y error={adaptive-COST-STD}
            ] {\datatable};
            \addlegendentry{$\alpha=\alpha^*$}
            
            \end{axis}
        \end{tikzpicture}
        \caption{Impact of cost-optimized error rate}
        \label{fig:optim_app-(a)}
    \end{subfigure}
    \begin{subfigure}{.49\linewidth}
        \centering
        \begin{tikzpicture}
            \pgfplotstableread[col sep=comma]{data/alpha_optimization.csv}{\datatable}
            \begin{axis}[
                legend style={
                    nodes={scale=0.6}, 
                    at={(0.78, 0.18)}, 
                    legend columns=1,
                    anchor=center,
                    legend cell align={left}
                },
                xlabel={$\alpha$},
                ylabel={Relative cost per round (\%)},
                width=0.77\linewidth,
                height=0.616\linewidth,
                ymin=22,
                ymax=105,
                xtick={0, 0.2, 0.4, 0.6, 0.8, 1},
                ytick={40, 60, 80, 100},
                xlabel style={yshift=0.25cm},
                ylabel style={yshift=-0.5cm},
                xmin=-0.05,
                xmax=1.05,
                label style={font=\scriptsize},
                tick label style={font=\scriptsize},
                tick label style={/pgf/number format/fixed},
                scaled x ticks = false
            ]


            \addplot[cRed2, thick, mark size=2pt, mark options={solid}, dashed] coordinates {(0,-1)};
            \draw [cRed2, thick, dashed] (axis cs:-2,100) -- (axis cs:30,100);
            \addlegendentry{Conventional}

            \addplot[cOrange, thick, mark=*, mark options={scale=0.15, solid}] table [x={alpha}, y={round3}] {\datatable};
            \addlegendentry{Round 3}

            \pgfmathsetmacro{\roundthreecma}{0.3}
            \pgfmathsetmacro{\roundthreecmac}{80.55201830140327}
            \pgfmathsetmacro{\roundthreeecma}{0.28}
            \pgfmathsetmacro{\roundthreeecmac}{83.53426840384395}

            \addplot[only marks, mark=square*, mark options={scale=1.5, draw=cyan, fill=cyan, fill opacity=0.3}, forget plot, forget plot] coordinates {(\roundthreecma, \roundthreecmac)};
            \addplot[only marks, mark=triangle*, mark options={scale=1.5, draw=magenta, fill=magenta, fill opacity=0.3}, forget plot] coordinates {(\roundthreeecma, \roundthreecmac)};

            \addplot[cGreen, thick, mark=*, mark options={scale=0.15, solid}] table [x={alpha}, y={round5}] {\datatable};
            \addlegendentry{Round 5}

            \pgfmathsetmacro{\roundfivecma}{0.2}
            \pgfmathsetmacro{\roundfivecmac}{55.74039994150325}
            \pgfmathsetmacro{\roundfiveecma}{0.2}
            \pgfmathsetmacro{\roundfiveecmac}{58.42627152828219}

            \addplot[only marks, mark=square*, mark options={scale=1.5, draw=cyan, fill=cyan, fill opacity=0.3}, forget plot] coordinates {(\roundfivecma, \roundfivecmac)};
            \addplot[only marks, mark=triangle*, mark options={scale=1.5, draw=magenta, fill=magenta, fill opacity=0.3}, forget plot] coordinates {(\roundfiveecma, \roundfivecmac)};

            \addplot[cBlueR3, thick, mark=*, mark options={scale=0.15, solid}] table [x={alpha}, y={round7}] {\datatable};
            \addlegendentry{Round 7}

            \pgfmathsetmacro{\roundsevencma}{0.08}
            \pgfmathsetmacro{\roundsevencmac}{29.68616746174541}
            \pgfmathsetmacro{\roundsevenecma}{0.1}
            \pgfmathsetmacro{\roundsevenecmac}{27.10108590349405}

            \addplot[only marks, mark=square*, mark options={scale=1.5, draw=cyan, fill=cyan, fill opacity=0.3}, forget plot] coordinates {(\roundsevencma, \roundsevencmac)};
            \addplot[only marks, mark=triangle*, mark options={scale=1.5, draw=magenta, fill=magenta, fill opacity=0.3}, forget plot] coordinates {(\roundsevenecma, \roundsevencmac)};

            \end{axis}
        \end{tikzpicture}
        \caption{Quality of selected error rate $\alpha^*$}
        \label{fig:optim_app-(b)}
    \end{subfigure}
    \caption{Impact of cost-optimized error rate selection as in~\Eq{optimize}, evaluated on CIFAR-100 with entropy sampling.
    (a) Relative labeling cost (\%) versus AL rounds with different error rate $\alpha$ and the $\alpha^*$ selected by the proposed cost optimization (\Eq{optimize}). 
    (b) Relative labeling cost per round (\%) versus $\alpha$ across varying AL rounds.
    Labeling cost is measured as the ratio compared to labeling all images in a single round using the conventional query.
    The pink triangle represents the true optimal $\alpha$ minimizing the cost for sampled data, while the blue square represents the $\alpha^*$ selected from \Eq{optimize}.
    The red dashed line indicates the baseline cost from the conventional query.}
    \label{fig:optim_app}
\end{figure*}
