\begin{algorithm}[t!]
\fontsize{9}{10}\selectfont
\caption{Active learning with candidate set query}
\label{algo:overall}
    
\begin{algorithmic}[1]
    \REQUIRE The number of AL rounds $R$,
    per-round budget $B$,
    unlabeled data pool $\mathcal{X}$,
    Initial labeled dataset $\mathcal{D}_{0}$.
    \STATE Train the initial model $\boldsymbol{\theta}_{0}$ on $\mathcal{D}_{0}$.
    \FOR{$r = 1, 2, \dots, R$}
        \STATE Select the top $B$ samples $\mathcal{A}_{r} \subset \mathcal{X}$ with highest acquisition scores $g_\text{cost}(\bx)$.
        \MyComment{\Sec{acquisition}}
        \STATE Construct cost-efficient candidate set $\hat{Y}(\bx)$ for each $\bx \in \mathcal{A}_{r}$.
        \MyComment{\Sec{candidate_set_construction}}
        \STATE Query annotator for label $y$ of $\bx \in \mathcal{A}_{r}$ using candidate set $\hat{Y}(\bx)$ to form $\mathcal{D}_{r}$.
        \STATE Get model $\boldsymbol{\theta}_{r}$ trained on $\bigcup_{i=0}^{r}\mathcal{D}_{i}$.
    \ENDFOR
    \STATE \textbf{Return} Final model $\boldsymbol{\theta}_{R}$.
\end{algorithmic}
\end{algorithm}
