\section{Implementation}
\label{implementation}
We developed a smartphone app to allow users to post and view persistent AR content in real world locations. 
We used Unity and ARCore for development. 
A Pixel 8 was used to run our user study. 



\subsection{Application Functionality}
Our app was designed to enable users to post a local image from a smartphone as AR content in a user's surrounding environment, attaching the image to either a vertical or horizontal surface (e.g. a floor, wall, table, etc).
For the study, the smartphone was setup with a selection of creative commons images including graffiti styled pop art and photos of dogs and cats.

After selecting an image, users could attach the image to a targeted surface and adjust its position and placement using sliders. 
When satisfied, they could then upload the image as persistent content in an AR view of the environment. 
To upload the image, users were required to walk around the placed image in a small semi-circle (keeping the camera fixed on it) until a notification indicated the post was fully captured and hosted.
This process was used to increase the accuracy of the underlying feature map used to attach the image as AR content. 
Any posted image would persist at the attached location in the AR view of the environment across use sessions, and would remain until deleted by a user using a menu in the app. 
Figure \ref{fig:teaser} shows a screenshot of the app in use.



\subsection{Implementation Details}
When the camera identified a plane to attach an image onto, an orange placement indicator appeared to inform the user they could place an image at this location. 
The user could then place an image by selecting it from their device using the \textit{``Select Image''} button and tapping anywhere on the screen. 
A sheet of faint dots appeared across detected planes to show detected surfaces where content could be placed.
To achieve image persistence we used ARCoreâ€™s Cloud Anchors \cite{design_3} to enable the persistent sharing of AR content across sessions and devices. 
When the user places an image, ARCore constructs a 3D feature map of the environment and assigns a unique Cloud Anchor ID to the posted image that was then stored on Google Cloud (Firebase Realtime Database \cite{design_7}). 
This ID and 3D feature map can then be utilised later to resolve the anchor to re-instantiate the image at the correct position in the environment and create content persistence across devices and sessions \cite{design_6}. 