\section{Some standard results}\label{appendix:useful}

The following lemma is adapted from Exercise 20.8 in \citet{lattimore2020bandit}.

\begin{lemma}\label{lem:time-unif-bound}
  Fix $0 < \delta \leq 1$. Let $(\xi_t)_{t \in \N^+}$ be a real-valued martingale difference sequence satisfying $|\xi_t| \leq c$ almost surely for each $t \in \N^+$ and some $c > 0$. Then,
  \begin{equation*}
      \P\left(\exists n \colon \left(\sum_{t=1}^n \xi_t\right)^2 \geq 2(c^2n+1)\log\left(\sqrt{c^2n+1}/\delta \right)\right) \leq \delta.
  \end{equation*}
\end{lemma}

Next is a second concentration inequality that we require.

\begin{lemma}\label{lem:nonneg-concentration}
  Let $(\alpha_t)_{t \geq 1}$ be a sequence of random variables adapted to a filtration $(\FF_t)_{t \geq 0}$ with $0 \leq \alpha_t \leq R$ for all $t \geq 0$. Then, for all $\delta \in (0,1)$,
  $$
      \P\left\{\sum_{t=1}^n \alpha_t \geq (1-1/e) \sum_{t=1}^n \E[\alpha_t \mid \FF_{t-1}] - R \log 1/\delta,\  \forall n \geq 1\right\} \geq 1 - \delta\,.
  $$
\end{lemma}

\begin{proof}[Proof of \cref{lem:nonneg-concentration}]
  By rescaling, we need only consider the case where $R=1$. Let $(S_n)_{n \geq 0}$ be the random process defined by $S_0 = 0$ and 
  $$
      S_n = \exp \!\bigg((1-1/e) \sum_{t=1}^n \E[\alpha_t \mid \FF_{t-1}] - \sum_{t=1}^n \alpha_t \bigg)\,.
  $$
  Observe that $S_n \geq 0$ for all $n \geq 0$, and that since for any $n \geq 0$,
  $$
      \E[\exp\{-\alpha_{n+1}\} \mid \FF_n] \leq 1 - (1-1/e) \E[\alpha_{n+1} \mid \FF_n] \leq \exp\{-(1-1/e) \E[\alpha_{n+1} \mid \FF_{n}] \}
  $$
  we have that for al $n \geq 0$,
  $$
      \E[S_{n+1} \mid \FF_n] = S_n \exp\{(1-1/e)\E[\alpha_{n+1} \mid \FF_n] - \alpha_{n+1}\} \leq S_n\,.
  $$
  Therefore, $(S_n)_{n \geq 0}$ is a non-negative supermartingale. Applying Ville's inequality yields the result.
\end{proof}

The following is an adaptation of Lemma 19.4 in \citet{lattimore2020bandit}, 
\begin{lemma}[Elliptical potential lemma]\label{lem:epl}
  Fix $\lambda > 0$ and a sequence $a_1, a_2, \dots$ in $\Bd$. Then, letting $V_n = \sum_{t=1}^n a_t a_t\tran + \lambda I$, we have that for all $n \geq 1$,
  $$
      \sum_{t=1}^n \vinvnorm{a_t}^2 \leq 2d \log(1 + n/(d\lambda))\,.
  $$
\end{lemma}


\clearpage





