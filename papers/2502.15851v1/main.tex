% This must be in the first 5 lines to tell arXiv to use pdfLaTeX, which is strongly recommended.
\pdfoutput=1
% In particular, the hyperref package requires pdfLaTeX in order to break URLs across lines.

\documentclass[11pt]{article}

% Change "review" to "final" to generate the final (sometimes called camera-ready) version.
% Change to "preprint" to generate a non-anonymous version with page numbers.
\usepackage[preprint]{acl}

% Standard package includes
\usepackage{times}
\usepackage{latexsym}
\usepackage{booktabs}
\usepackage{inconsolata}
\usepackage{hyperref}
\usepackage{url}
\usepackage{microtype}
\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{multirow}
\usepackage{multicol}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{enumitem}
\usepackage{float}
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{verbatim}
\usepackage{graphicx}
\usepackage{array}
\usepackage{lipsum}
\usepackage{diagbox}
\usepackage{relsize}
\usepackage{xcolor}
\usepackage{xspace}
\usepackage{cleveref}
\usepackage{tcolorbox}
\usepackage{adjustbox}
\usepackage{wrapfig}
\usepackage{subcaption}
\usepackage{listings}
\usepackage{epigraph} 
\usepackage{paralist}
\usepackage{ragged2e} 
\usepackage{makecell}


% For proper rendering and hyphenation of words containing Latin characters (including in bib files)
\usepackage[T1]{fontenc}
% For Vietnamese characters
% \usepackage[T5]{fontenc}
% See https://www.latex-project.org/help/documentation/encguide.pdf for other character sets

% This assumes your files are encoded as UTF8
\usepackage[utf8]{inputenc}

% This is not strictly necessary, and may be commented out,
% but it will improve the layout of the manuscript,
% and will typically save some space.
\usepackage{microtype}

% This is also not strictly necessary, and may be commented out.
% However, it will improve the aesthetics of text in
% the typewriter font.
\usepackage{inconsolata}

% If the title and author information does not fit in the area allocated, uncomment the following
%
%\setlength\titlebox{<dim>}
%
% and set <dim> to something 5cm or larger.


\definecolor{mycolor}{HTML}{2650CC}
\definecolor{highlight}{HTML}{81CE6D}


% For in-line comments
\newcommand{\ex}[1]{\textit{#1}\xspace}


\title{Control Illusion: The Failure of Instruction Hierarchies \\ in Large Language Models}


\author{
    Yilin Geng$^{1}$\thanks{Correspondence to \texttt{yigeng@student.unimelb.edu.au}},
    Haonan Li$^{2}$,
    Honglin Mu$^{2}$,
    Xudong Han$^{2}$\\
    {\bf Timothy Baldwin$^{2,1}$, 
    Omri Abend$^{3}$,
    Eduard Hovy$^{1}$,
    Lea Frermann$^{1}$} \\
    $^{1}$The University of Melbourne \quad
    $^{2}$MUZUAI \quad
    $^{3}$The Hebrew University of Jerusalem
}



\begin{document}
\maketitle



\begin{abstract}
Large language models (LLMs) are increasingly deployed with hierarchical instruction schemes, where certain instructions (e.g., system-level directives) are expected to take precedence over others (e.g., user messages). Yet, we lack a systematic understanding of how effectively these hierarchical control mechanisms work. We introduce a systematic evaluation framework based on constraint prioritization to assess how well LLMs enforce instruction hierarchies. Our experiments across six state-of-the-art LLMs reveal that models struggle with consistent instruction prioritization, even for simple formatting conflicts. We find that the widely-adopted system/user prompt separation fails to establish a reliable instruction hierarchy, and models exhibit strong inherent biases toward certain constraint types regardless of their priority designation. While controlled prompt engineering and model fine-tuning show modest improvements, our results indicate that instruction hierarchy enforcement is not robustly realized, calling for deeper architectural innovations beyond surface-level modifications.\footnote{The code and dataset are publicly available on GitHub: \url{https://github.com/yilin-geng/llm_instruction_conflicts}}
\end{abstract}

\input{Sections/Introduction}
\input{Sections/Related_Work}
\input{Sections/Problem_Identification}
\input{Sections/Problem_Understanding}
\input{Sections/Solution}
\input{Sections/Conclusion}







\bibliography{anthology,custom}

\appendix

\input{appendix/Appendix_1_Dataset_Details}
\input{appendix/Appendix_2_Experiment_Setup}
\input{appendix/Appendix_3_Solution}



\end{document}
