\section{Practical Tool Development \& Qualitative Examples}
\label{sec:Qualitative}

\paragraph{Practical Tool Development.}

With the Step Predictor, one immediate practical application is to couple with tactic suggestion and offer indications of proof progress. 
While LeanCopilot provides a general framework of developing LLM-based tools natively in Lean, and supports a \texttt{suggest\_tactic} functionality that offers tactic suggestions, it lacks concrete feedback to help users choose among tactic candidates, which creates inefficiency due to repetitive trial-and-error during the theorem proving process. 
With each tactic candidate, LeanCopilot only offers the resulting state if applying that tactic, together with a log probability score from the tactic generation model. 
While the log probability score hard to concretize and the resulting state oftentimes too complicated to interpret directly, using prediction of numbers of remaining steps helps guide users directly and concretely in choosing tactics.

Thus, to complement existing tactic suggestion, we leverage LeanCopilot's neural network inference framework in Lean, and builds a practical tool upon \texttt{suggest\_tactic} that additionally shows the number of remaining steps from each tactic candidate. The whole functionality is wrapped into a single tactic \texttt{predict\_steps\_with\_suggestion} that is directly usable within a standard Lean workflow.

\paragraph{Case Study for Tool Use.}

To further illustrate the practical application and effectiveness of LeanProgress, we present a case study demonstrating its use within the LeanCopilot environment. This example showcases how the combined display of tactic suggestions and remaining step predictions can aid users in navigating complex proofs, particularly in number theory.

Figure~\ref{fig:qualitative_example} (simulated) demonstrates LeanProgress's assistance in proving a divisibility theorem. The user begins with the goal of proving that if $(m * n + m + n) \bmod 6 = 4$ for natural numbers $m$ and $n$, then $12$ divides $m * n$ (written as $12 \mid (m * n)$ in Lean). The user inputs the theorem statement into Lean and invokes the \texttt{predict\_steps\_with\_suggestion} command. The Lean Infoview then displays the following information, offering both a prediction of the remaining proof steps and a set of suggested tactics. 

\paragraph{Case Study for Proof Guided by LeanProgress.}
We now analyze a specific example, \texttt{mathd\_algebra\_296}, to illustrate the advantage of using Progress Predictor.  The theorem and proof is:

\begin{lstlisting}[language=Lean]
theorem mathd_algebra_296 : abs (((3491 - 60) * (3491 + 60) - 3491^2):â„¤) = 3600 := by
    rw abs_of_nonpos
    norm_num
    norm_num
\end{lstlisting}

This theorem was successfully proven with the aid of our Progress Predictor.  A key observation is that a naive application of \texttt{norm\_num} would not suffice to complete the proof. The Progress Predictor leverages the recorded proof history and inferred the application of the difference of squares factorization. By leveraging proof history and remaining steps, the Progress Predictor likely guided the prover to apply \texttt{norm\_num} multiple times, ultimately leading to the successful derivation of the target value.  A standard Reprover, lacking access to the proof history, would struggle with this theorem.
