\documentclass[journal]{IEEEtran}
\IEEEoverridecommandlockouts
% The preceding line is only needed to identify funding in the first footnote. If that is unneeded, please comment it out.
\usepackage{cite}
\usepackage{amsmath,amssymb,amsfonts}
\usepackage{algorithmic}
\usepackage{graphicx}
\usepackage{textcomp}
\usepackage{xcolor}
\usepackage{multirow}
\usepackage{graphicx}
\usepackage{array}
\usepackage{caption}
\usepackage{booktabs}
\usepackage{multirow}
%\usepackage{glossaries}
\usepackage{soul}
\usepackage{subcaption}
\usepackage{balance}
\usepackage[capitalise]{cleveref}
\crefname{section}{Sec.}{Secs.}
\crefname{figure}{Fig.}{Figs.}
\usepackage{tikz}
\usetikzlibrary{fit}
\makeatletter
\tikzset{
  fitting node/.style={
    inner sep=0pt,
    fill=none,
    draw=none,
    reset transform,
    fit={(\pgf@pathminx,\pgf@pathminy) (\pgf@pathmaxx,\pgf@pathmaxy)}
  },
  reset transform/.code={\pgftransformreset}
}
\makeatother

\usepackage{pgfplots}
\pgfplotsset{compat=newest} 
\pgfplotsset{plot coordinates/math parser=false} 

\usepackage[acronyms,nonumberlist,nopostdot,nomain,nogroupskip,acronymlists={hidden}]{glossaries}
\newlength\fheight
\setlength{\fheight}{0.5\columnwidth}
\newlength\fwidth
\setlength{\fwidth}{0.8\columnwidth}

\def\BibTeX{{\rm B\kern-.05em{\sc i\kern-.025em b}\kern-.08em
    T\kern-.1667em\lower.7ex\hbox{E}\kern-.125emX}}
\begin{document}


\input{acronyms}


%\title{Integrating O-RAN with leo Satellite Networks: A Path to Unified Non-Terrestrial and Terrestrial Communications in 6G

%\title{ASTRO-RAN: A Path to Unified Space and Terrestrial Communications in 6G

\title{O-RAN-in-Space: Enabling Intelligent, Open, and Interoperable Non Terrestrial Networks in 6G

%\title{Integrating O-RAN with Non-Terrestrial Networks: A Path to Unified Space and Terrestrial Communications in 6G


%\thanks{Identify applicable funding agency here. If none, delete this.}
}



\author{\IEEEauthorblockN{
Eduardo Baena, %\IEEEauthorrefmark{1},
Paolo Testolina, %\IEEEauthorrefmark{1}, 
Michele Polese, %\IEEEauthorrefmark{1}, 
Dimitrios Koutsonikolas, %\IEEEauthorrefmark{1}, 
Josep Jornet, %\IEEEauthorrefmark{1}, 
%Salvatore D'Oro\IEEEauthorrefmark{1},
Tommaso Melodia%\IEEEauthorrefmark{1}
}

\IEEEauthorblockA{Institute for the Wireless Internet of Things, Northeastern University, Boston, MA, U.S.A.}

}

\maketitle

% \begin{abstract}
%In this paper, we present an innovative architecture that integrates Open Radio Access Network principles leveraged by O-RAN ALLIANCE with \gls{ntn}, fostering intelligent, open and interoperable space-terrestrial communications for the \gls{6g} era. The architecture encompasses a wide range of \gls{ntn} components, including satellites in multiple orbits. Using open interfaces, virtualization, and \gls{ai}-driven optimization, this framework unifies resource management and orchestration across heterogeneous space and aerial networks, creating a cohesive and adaptable network ecosystem.

%The architecture enables dynamic spectrum management, automated configuration and \gls{ai}-enhanced service delivery through a federated approach that includes ground-based and on-board elements, as well as flexible \gls{xapp} and \gls{dapp} deployed across satellite constellations. A distributed Space-\gls{ric} supports real-time and strategic optimizations across satellite nodes, while \gls{dt} technology allows cost-effective testing and predictive maintenance. By integrating large-scale and local \gls{ai} models with advanced resource allocation that address current \gls{ntn} limitations.

\begin{abstract}

Current (\glspl{ntn}) like Starlink operate predominantly in isolation, hindering their ability to seamlessly integrate with terrestrial cellular networks. This separation limits their capacity to address the stringent requirements of \gls{6g}. Key challenges stem from the dynamic topologies of \glspl{leo} constellations, limited onboard computational capabilities, spectrum scarcity, and the lack of standardized mechanisms for real-time coordination across heterogeneous networks. These constraints impede end-to-end interoperability, resource sharing, and service continuity, leaving critical use cases such as private \gls{ntn}s, global disaster response, dynamic spectrum allocation, and ubiquitous coverage unmet.

To address these limitations, this paper introduces a novel architecture rooted in Open \gls{ran} principles to enable the integration of \glspl{ntn} and terrestrial systems into a unified management framework. By relying on distributed space-\gls{ran} Intelligent Controllers (\glspl{spaceric}), the architecture implements hierarchical, closed-loop control to manage dynamic conditions across spatial and temporal scales. This ensures efficient resource allocation, spectrum management, and interference mitigation while maintaining service continuity under the power and hardware limitations of space equipment.

The architecture further integrates \glspl{dt} for system testing, predictive maintenance, and performance evaluation, bridging the theoretical-conceptual gap and advancing toward feasible implementation. Our simulation results validate the feasibility of the system in terms of reliability and signaling delay constraints. 

%that integrates O-RAN ALLIANCE principles with \gls{ntn}, fostering intelligent, open, and interoperable space-terrestrial communications for the \gls{6g} era. The architecture is designed to address critical challenges in \gls{ntn}, such as the high cost of dedicated hardware, limited resource flexibility, and lack of seamless integration between terrestrial and satellite networks. Key contributions include a virtualization-based approach to minimize reliance on specialized hardware, flexible interface-link mapping to cope with the uncertain nature of radio link operation in space, and hierarchical control for coordinated service delivery across constellations and terrestrial segments.

%The proposed framework unifies resource management and orchestration across heterogeneous terrestrial, space, and aerial networks through the use of open interfaces, virtualization and \gls{ai}-driven optimization. Dynamic spectrum management and automated configuration are enabled by flexible \glspl{sapp} and \glspl{dapp} deployed across satellite constellations. The architecture further incorporates a distributed Space-\gls{ric} for real-time and strategic optimizations, along with \gls{dt} technology for cost-effective testing and predictive maintenance. Our simulation results validate the feasibility of the system in terms of reliability and signaling delay constraints. 
\end{abstract}

\begin{IEEEkeywords}
component, formatting, style, styling, insert
\end{IEEEkeywords}

\glsresetall
\section{Introduction}

%The rise of space-based and aerial communication technologies has fostered a dynamic ecosystem of \glspl{ntn} that extends terrestrial connectivity and opens new possibilities for remote and underserved regions. This ecosystem encompasses satellites in \gls{leo}, \gls{meo}, \gls{geo}, and includes the development of infrastructures for deep-space communications. Companies such as SpaceX and Amazon’s Project Kuiper are deploying extensive \gls{leo} satellite constellations to address connectivity gaps that traditional cellular networks cannot fill \cite{abdelsadek2023future}. However, \glspl{ntn} face significant challenges in scaling to meet the demanding requirements of \gls{6g} integration \cite{mahboob2023revolutionizing}.


%\hl{Short summary of the limitations/challenges of NTNs:}
%See next section:
%\begin{itemize}
 %   \item Highly Dynamic Network Topology and Propagation Latency
  %  \item Hardware and Power Limitations
   % \item Network Management and Optimization
    %\item Interoperability and Integration with Ground Networks
    %\item Spectrum Sharing and Coexistence
    %\item AI Integration, Distributed Computing, and Task Offloading
%\end{itemize}

The growing demands of the \gls{6g} era for ubiquitous, high-capacity, and low-latency connectivity have positioned \glspl{ntn} as critical enablers of global communications. \glspl{ntn}, encompassing \glspl{leo}, \glspl{meo}, \glspl{geo}, \glspl{hap}, and emerging deep-space systems, promise to extend coverage to remote and underserved areas while complementing terrestrial networks. Initiatives like SpaceX’s Starlink and Amazon’s Project Kuiper have demonstrated the transformative potential of large-scale satellite constellations to deliver connectivity beyond the geographic and infrastructure reach of traditional systems. However, despite their promise, \glspl{ntn} face significant challenges that limit their ability to inter-operate seamlessly with terrestrial infrastructure, particularly in meeting the stringent performance and adaptability requirements of \gls{6g}.

Today, \glspl{ntn} and terrestrial networks operate as separate entities. This limits their potential to deliver integrated solutions for complex use cases. Scenarios such as autonomous disaster response, secure virtual networks, and dynamic network slicing require capabilities that neither domain can achieve independently. Terrestrial networks provide high throughput and low latency connections suitable for real-time applications, while \glspl{ntn} excel at ensuring global coverage and resilience. However, the lack of an integrated architecture hinders the realization of end-to-end solutions that seamlessly coordinate resources, optimize performance, and maintain service continuity across heterogeneous environments \cite{wang2023satellite, ren2023review}.

Existing frameworks, such as \gls{sagin}, offer high-level conceptual models for space-terrestrial integration, but fall short in offering practical, implementable solutions. These frameworks often lack standardized protocols for resource sharing, effective orchestration mechanisms to handle dynamic conditions, and effective strategies to manage the hardware and power constraints inherent in \glspl{ntn} \cite{iqbal2023ai, cheng2022service, pugliese2024iab}. Moreover, fragmented management of terrestrial and satellite networks further amplifies inefficiencies, particularly in scenarios requiring real-time adaptability, seamless interoperability, and multilayered coordination \cite{jia2020virtual, xu2018software}.

%The rapid evolution of space-based and aerial communication technologies is redefining global connectivity paradigms, establishing \glspl{ntn} as essential components of the \gls{6g} ecosystem. \glspl{ntn} encompass satellites across multiple \gls{leo}, \gls{meo}, \gls{geo} as well as \glspl{hap} and emerging deep space communication systems \cite{abdelsadek2023future}. Companies such as SpaceX and Amazon's Project Kuiper are deploying large-scale satellite constellations, significantly expanding communication coverage beyond the reach of conventional terrestrial networks. Despite these advancements, \glspl{ntn} face critical challenges that hinder their seamless integration and full realization within future \gls{6g} infrastructures.

%A primary challenge arises from the dynamic nature of \gls{ntn} topologies, particularly in \gls{leo} constellations where rapid satellite movement and frequent handovers introduce connectivity disruptions and operational instability. This behavior, compounded by propagation delays across orbital layers, requires highly adaptive network management strategies to ensure service continuity and quality. At the same time, the limited hardware capabilities of satellites (combined with strict power and thermal budgets) impose significant limitations on the execution of advanced tasks driven by \gls{ai} onboard, such as prediction of interference, beamforming, and real-time resource allocation \cite{ren2023review, wang2023satellite}.

%Resource management further complicates operations in \gls{ntn}, particularly in shared spectrum environments where interference with terrestrial networks must be minimized. Unlike stable terrestrial deployments, \glspl{ntn} operate in complex propagation conditions, especially in higher frequency bands such as Ka, Ku, and emerging THz ranges, which are susceptible to atmospheric variations and signal degradation \cite{beyaz2024satellite}. These factors require customized dynamic spectrum management and interference mitigation strategies. Additionally, achieving interoperability between \glspl{ntn} and terrestrial networks remains a significant challenge due to the absence of standardized mechanisms for multilayered coordination \cite{jia2020virtual, xu2018software}. This lack of practical solutions restricts seamless integration and limits the potential for unified Terrestrial and Non-terrestrial end-to-end network operations. The computational constraints onboard exacerbate these challenges. Although techniques driven by \gls{ai} offer promising avenues for improving \gls{ntn} performance, the computational requirements of such models, along with the need to process large data volumes, often exceed the processing capacity of satellite platforms. Balancing localized inference with distributed computation is essential to address these limitations, allowing the offloading of intensive tasks to terrestrial cloud resources while preserving link efficiency and satellite energy budgets \cite{wang2023satellite, ren2023review}.

%To address the challenges faced by \glspl{ntn}, we propose an architecture rooted in the principles of open RAN, using its modular design and standardized interfaces to enable the practical and scalable integration of satellite and terrestrial networks. Unlike high-level frameworks such as \gls{sagin}, which often lack implementation details, O-RAN provides a well-defined foundation for seamless end-to-end network management.

%The O-RAN standardized interfaces ensure smooth coordination between terrestrial and satellite systems, allowing unified operation while reducing the complexity inherent in the management of heterogeneous networks. In alignment with existing standards, this approach facilitates efficient interaction between the orbital layers and the ground infrastructure. The architecture support for flexible functional splits allows the dynamic distribution of computational and communication tasks between satellites and terrestrial systems. Distributed \glspl{spaceric} implement closed-loop control on multiple time scales, allowing autonomous responses to failures, adaptation to link variability, and consistent service quality. Additionally, the integration of \glspl{sapp} and \glspl{dapp} supports on-orbit-tailored dynamic spectrum management and computational task offloading, addressing the limitations imposed by satellite hardware and power constraints while capitalizing on terrestrial cloud resources.

To address these challenges, we propose the O-RAN-in-Space framework, an integrated architecture rooted in Open \gls{ran} principles. The proposed framework enables seamless space-terrestrial integration by leveraging standardized, interoperable interfaces such as E2 and A1, which facilitate end-to-end resource management and multilayered coordination. By deploying distributed space \gls{ran} intelligent controllers (\glspl{spaceric}), the architecture introduces closed-loop control mechanisms that dynamically adapt to the rapidly changing conditions of \glspl{leo}, ensuring resilience and service continuity. The architecture also integrates \glspl{xapp} and \glspl{dapp} to enable real-time spectrum sharing, interference mitigation, and task offloading, ensuring efficient resource utilization across heterogeneous environments. Furthermore, the incorporation of digital twin (\gls{dt}) technologies facilitates the long-term predictive maintenance and performance evaluation, bridging the gap between theoretical models and practical implementation.

The paper is structured as follows. Section~\ref{sec:background} provides a detailed background on \gls{ntn} architectures and its integration for \gls{6g}. Section~\ref{sec:challenges} highlights specific use cases that underscore the need for an integration architecture \gls{ntn}. Section~\ref{sec:architecture} presents the proposed architecture, detailing its structure and closed-loop control approach.
Lastly, \cref{sec:future,sec:conclusions} explain the future outlook and the conclusions.

To address these challenges, %we propose an integrated \gls{osiran} architecture. Based on Open RAN principles, it enables coordinated, closed-loop control across multiple timescales, treating satellites as adaptive edge computing nodes within a scalable and interoperable framework. Through distributed space \gls{ran} Intelligent Controllers (\glspl{spaceric}) on satellites and their integration with terrestrial infrastructure, \gls{osiran} supports real-time adaptation, optimized resource allocation, and efficient service delivery with \gls{ai} support across \glspl{ntn} and terrestrial networks.

%NEW VERSION 1) Unlike conceptual or algorithm-centric frameworks such as \gls{sagin}, which often lack practical implementation mechanisms, O-RAN’s interoperable and standardized interfaces provide a concrete foundation for end-to-end network management. 2) Compatible with existing terrestrial network interfaces that enable coordinated operation across heterogeneous network layers. 3)  The flexible functional splits allow computation and communication tasks to be dynamically partitioned between satellites and terrestrial segments. Through distributed \glspl{spaceric} closed-loop control mechanisms are implemented on different time scales, ensuring that the system can self-manage disruptions, mitigate link variability and maintain service continuity. Embedded intelligence through \glspl{s/xapp} and \glspl{dapp} facilitates dynamic spectrum management and coordination, and task offloading, effectively balancing the hardware and power constraints of satellites with the terrestrial cloud power.


    
\section{Background and Related Work}
\label{sec:background}

The integration of terrestrial and non-terrestrial networks is a key step in realizing uninterrupted global connectivity in \gls{6g}. Standardization efforts, such as \gls{3gpp} Releases 17, have introduced foundational NTN features such as satellite-to-\gls{ue} connectivity and extended \gls{5g} \gls{nr} architecture to support \gls{ntn} systems. Building on this foundation, ongoing efforts in Release 18 aim to further enhance these capabilities. Additionally, the O-RAN Next Generation Research Group \gls{6g} roadmap includes key use cases and applications for \gls{ntn}, further driving innovation and development in this area.

State-of-the-art approaches such as \gls{sagin} offer a conceptual model for unifying space, aerial, and terrestrial integration, but fall short of addressing the specific requirements of \gls{ntn}. In particular, they lack mechanisms to optimize \gls{ai}-driven real-time resource management, which is critical for handling dynamic conditions and frequent handovers in \gls{leo} constellations \cite{iqbal2023ai, cheng2022service, pugliese2024iab}. Furthermore, \gls{sagin} assumes static spectrum environments, overlooking the need for adaptive dynamic spectrum sharing strategies and congestion avoidance. Seamless interoperability between orbital and terrestrial layers also remains largely theoretical, with no concrete implementations for protocol or interface alignment \cite{10716597}.

     
Complementary technologies, such as \gls{iab} and \gls{mec}, address some challenges \gls{ntn}, but remain limited. \gls{iab} enhances backhaul connectivity in 5G but lacks orchestration across dynamic multilayered networks \cite{pugliese2024iab}. \gls{mec} reduces latency by enabling edge computing, but presents some limitations to adapt to frequent link interruptions and resource variability inherent in \glspl{ntn} \cite{qiu2022mec}. \gls{dt} frameworks further enable real-time resource optimization through simulations and analytics, but introduce computational overhead and synchronization challenges between the network layers \cite{DTNTN}.

The modular and open architecture of O-RAN introduces technical features, such as near-RT and non-RT \glspl{ric}, flexible functional splits, and standardized interfaces, which provide a promising basis to address these gaps. These capabilities can enable adaptive resource management, real-time control, and seamless integration across \gls{ntn} layers, making O-RAN a technically feasible approach to advance \gls{ntn} performance requirements \cite{10716597}.

 
XXX Overall, the last two paragraphs on IAB/MEC and RICs seem out of place. I am wondering whether this entire section is needed. It feels to me that after an interesting introduction it delays the meat of the paper. The first paragraph of this section is interesting and could be moved to the introduction somehow. The second one can probably be merged with the discussion on SAGIN in the intro XXX

\section{Challenges and Use Cases}
\label{sec:challenges}

XXX Can we move this whole section after the architecture? XXX

\hl{Add brief (one sentence) intro}

\subsection{Challenges}

\hl{Add one brief sentence to summarize: the challenges are related to the distributed network topology, the mobile and constrained environment, and spectrum}

\textbf{Highly Dynamic Network Topology and Propagation Latency.}
% \hl{Here we were mixing the link disruptions due to the satellite dynamics with those due to disaster}
Unlike terrestrial networks, which typically benefit from stable infrastructure and consistent connectivity, the \glspl{meo} and \glspl{leo} constellations must contend with the constant movement of satellites, resulting in periodic interruptions in connectivity with ground stations and within the constellation, a time-varying latency, and a rapidly fading channel.
If left unaddressed, these factors result in suboptimal utilization of on-board resources and obstruct the timely data exchange between ground stations and satellites~\cite{ren2023review}, while increasing the complexity of network management.

\textbf{Hardware and Power Limitations.}
%The strict space, weight, power, thermal, and spatial limitations of satellite hardware are another challenge.
Satellite and space hardware face strict constraints not only in computational capacity but also in power availability, thermal management, and radiation tolerance. The compact form factor limits the integration of redundant systems, reducing fault tolerance and overall reliability. These limitations affect the ability to deploy advanced processing units, restrict memory capacity, and reduce the life expectancy of the systems on board. In addition, power fluctuations caused by dynamic energy demands for communication, sensing, and propulsion exacerbate these challenges, requiring careful task scheduling and resource allocation to maintain operational stability.

\textbf{Network Management and Optimization.}
Management of \glspl{ntn} requires integrating control systems on multiple temporal and spatial scales to balance immediate real-time operations in orbit with broader strategic goals, such as long-term resource planning and traffic prediction. 

%requires the integration of control systems on multiple temporal and spatial scales to balance immediate real-time operations with long-term resource optimization. A pressing challenge lies in achieving seamless coordination between short-term decision-making processes, such as link reallocation or interference management, and broader strategic goals, including traffic prediction or resource planning.

A significant challenge arises in coordinating short-term responses, such as link reallocation or interference management, with system-wide strategies, such as traffic prediction or radio resource planning. Local disruptions, such as sudden link degradation due to beam misalignments or loss of \glspl{los} for \glspl{isl}/\glspl{fl}, require rapid adjustments made at the satellite level. However, these adjustments can sometimes conflict with the allocation strategies determined by terrestrial controllers, resulting in fragmented decision-making and reduced network performance. Furthermore, the rapidly increasing number of satellites and constellations in various orbits requires operational control on a scale beyond that of terrestrial networks.

\textbf{Interoperability and Integration with Ground Networks.}

The interoperability between different constellations, as well as between satellite and ground networks, remains largely unaddressed. Although \glspl{ntn} operate across diverse constellations, orbital layers, and frequency bands, a standardized protocol for managing frequent handovers between satellites, constellations, and ground networks has not yet been established. Although propagation delays in NTNs, particularly for \gls{leo} systems, inherently exceed the millisecond-level latency achievable in terrestrial networks, additional latency arising from fragmented and/or non-optimized control loops jointly inefficient handovers further exacerbate the problem. For latency-sensitive applications requiring high reliability, minimizing these delays through dynamic alignment of orbital and terrestrial control mechanisms remains a key challenge. The absence of unified, interoperable protocols hinders effective and secure inter-satellite and satellite-to-ground communications, preventing the development of a globally integrated, cohesive infrastructure \cite{mahboob2023revolutionizing}.

\textbf{Spectrum Sharing and Coexistence.}
The coexistence of frequency bands and the potential for interference to and from terrestrial and space services further complicate \gls{ntn} operations \cite{beyaz2024satellite}.
Furthermore, spectrum scarcity, despite new allocations, imposes limits.
Each frequency band has inherent constraints due to propagation characteristics and interference risks, particularly when shared with terrestrial networks \cite{jia2020virtual}.

\textbf{AI Integration, Distributed Computing, and Task Offloading Techniques.} 
\gls{ai} has been proven effective in optimizing complex terrestrial networks at different levels and tasks and offers great potential to address the aforementioned challenges.
However, strict power, thermal, and spatial limitations of satellite hardware restrict their usage in \glspl{ntn} \cite{ren2023review}.
\gls{ai} models often require reductions in size and complexity to be viable for satellite deployment, limiting real-time adaptability and decision-making on board.
Processes such as interference prediction, adaptive routing, and real-time resource optimization often exceed the onboard processing capabilities of satellites, which are designed with strict constraints on both hardware and power.
Additionally, transferring large datasets or models to terrestrial systems for centralized computation risks saturating already limited satellite links, leading to delays and reduced performance in critical operations.


\subsection{Use Cases}

\hl{One short sentence here to introduce why we picked these use cases}

\textbf{Autonomous Disaster Response and Critical Infrastructure Monitoring.}
In scenarios such as natural disasters or emergencies, where the terrestrial infrastructure is compromised or absent, \glspl{ntn} play a pivotal role in providing communication.
A resilient integrated architecture should support the autonomous real-time reconfiguration of its links and resources to offer uninterrupted connectivity, especially under the unpredictable conditions of disaster-stricken areas.
Specifically, the network must be able to seamlessly reroute traffic through alternative paths in the constellation, such as \glspl{isl} or dynamically reassigning link roles between \glspl{fl} and \glspl{ul}.
Furthermore, maintaining service quality and reliability is critical, as the network must support data-intensive applications such as live video feeds for situational awareness, remote command-and-control operations, and environmental monitoring based on \gls{iot}.

\textbf{Ubiquitous/Rural Coverage.} Bridging the digital divide requires reliable connectivity in remote areas for critical services such as telemedicine, remote education and precision agriculture, which remain beyond the reach of terrestrial networks. These services rely on low-latency and scalable deployments, however, their practicality is limited by expensive hardware and poor resource utilization. Combining \glspl{ntn} with terrestrial networks would enable flexible resource allocation, optimized spectrum utilization, and smooth coordination, resulting in reliable and economical deployments.


\textbf{Sliced Private Virtual \glspl{ntn}.} The integration of \gls{qos} management with a multiscale closed Earth-Space control loop would enable \glspl{ntn} to dynamically allocate resources and provide on-demand capabilities tailored to diverse application requirements. For latency-sensitive use cases like autonomous driving or telemedicine, this functionality would allow real-time reconfiguration of high-priority slices, ensuring immediate access to low-latency links and high-speed inter-satellite connections.

For less urgent applications, such as \gls{iot} sensor networks, on-demand capabilities would enable resource allocation to lower priority links or scheduling transmissions during less congested periods, optimizing overall network efficiency.
Furthermore, private \glspl{ntn} could leverage this functionality to create secure isolated slices on demand, customized with specific \gls{qos} parameters and security protocols for industry or government use.
This dynamic adaptability across slices would ensure that \glspl{ntn} efficiently meet both critical and routine application demands while maintaining consistent service quality.

\textbf{Federated AI-Driven Optimization.}
Efficient management of computational resources between constellations could enable the deployment of federated \gls{ai} frameworks, specifically tailored to the constraints of \glspl{ntn}. By processing localized data onboard and transmitting only essential model updates or aggregated insights, satellites can contribute to constellation-wide optimization without overwhelming the limited communication links available. This approach significantly reduces the need for raw data transfers, conserves bandwidth, and minimizes the energy consumption for transmissions.



\section{The \gls{osiran}}
\label{sec:architecture}

\begin{figure}[h]
    \centering
    \includegraphics[width=\linewidth]{figures/arch.pdf}
    \captionsetup{justification=centering}
    \caption{\gls{osiran} combines on-board compute, Space-RIC (with s-Apps) for edge processing, coordinated with terrestrial SMO via flexible feeder and inter-satellite link mapping}
    \label{fig:oran_space_arch}
\end{figure}

XXX The figure is barely legible. I would have it span two columns. This is our core contribution XXX

XXX Overall, this section is a bit confusing to me. I would restructure it as follows: 
- Discuss the architecture, its key components in detail to star
- Discuss at a high level how this architecture solves some of the challenges existing, and enables new applications and integration with terrestrial networks
- Explain in detail the architecture of RICs in space, how they interact with one another, why they are needed, how they interact with NRT and near-real-time RICs.
- Discuss numerical considerations on feasibility



The \gls{osiran} architecture (\cref{fig:oran_space_arch}) presents a scalable framework for integrating \glspl{ntn} with terrestrial O-RAN-supported \gls{6g} systems, using a layered approach that bridges terrestrial cloud and edge resources and satellite-based edge computing. It also enables dynamic deployment of network functions across Earth and space segments, meeting both real-time and strategic demands without relying solely on ground connectivity.

% O-STAR: O-RAN based Space-Terrestrial Adaptive RAN framework

\begin{figure*}[h]
    \begin{subfigure}[t]{\columnwidth}
        \centering
        % \includegraphics[width=0.81\linewidth]{figures/latency.pdf}
        \setlength{\fheight}{0.4\columnwidth}
        \setlength{\fwidth}{0.8\columnwidth}
       \input{figures/latency_g2s.tikz}
       \captionsetup{justification=centering}
        \caption{Propagation delay between the ground stations and the satellites of the Starlink constellation at the minimum (solid orange) and maximum (dashed orange) \gls{leo} altitude. The histogram (blue) reports the frequency of observation of Starlink satellites at the corresponding elevation angle.}
        \label{fig:g2s_latency}
        % \vspace{-10pt}
    \end{subfigure}
    \begin{subfigure}[t]{\columnwidth}
        \centering
        % \includegraphics[width=0.81\linewidth]{figures/latency.pdf}
        \setlength{\fheight}{0.4\columnwidth}
        \setlength{\fwidth}{0.8\columnwidth}
        \input{figures/num_sat}
        \captionsetup{justification=centering}
        \caption{Number of available \glspl{isl} available at each satellite, that experience a latency below 10~ms (blue) and 100~ms (orange).
        The solid line and the shaded area represent the average and the standard deviation, respectively.}
        \label{fig:isl_latency}
    \end{subfigure}
    \caption{Propagation delay for ground-to-satellite (a) and inter-satellite (b) links as observed over a 12-hour interval (12 AM-12 PM, Nov. 11th, 2024, 60 s sampling time). The full Starlink constellation (6545 satellites) at the time is considered.}
    % \vspace{-10pt}
\end{figure*}

\subsection{Feasibility Bounds}
In order to design a feasible architecture, we characterize the propagation delay for the different kinds of links in the network, setting a physical bound on the achievable latency.
To do so, we consider the entire Starlink constellation as of November 11th, 2024, consisting of 6545 satellites, and an unofficial list of 33 Starlink gateways, which offer a realistic distribution of ground terminals around the Earth.
The orbit of the satellites is simulated over a 12-hour time frame using the MATLAB Satellite Communications Toolbox.
The observed ground-to-satellite and inter-satellite delays are reported in~\cref{fig:g2s_latency} and~\cref{fig:isl_latency}, respectively.
The ground-to-satellite delay for a given satellite altitude and elevation angle with respect to a ground location is deterministic and can easily be derived analytically based on geometrical considerations and assuming a perfectly spherical Earth.
We report it in~\cref{fig:g2s_latency} for the lower and upper \glsfirst{leo} (solid and dashed orange lines, respectively).
Then, we show in blue in~\cref{fig:g2s_latency} the \gls{ecdf} of propagation delay between the ground gateways and the Starlink satellites.
In~\cref{fig:isl_latency}, the number of available \glspl{isl} for each satellite with inter-satellite delays below 10~ms and 100~ms is reported across the considered time interval.
The solid line and the shaded area represent the corresponding average and the standard deviation.
Due to the orbit distribution and the dynamics of the satellite, the number of \glspl{isl} meeting the requirement remains almost constant throughout the day, thus offering a stable number of paths across the constellations.

In the following, we refer to these results to support our claims and design choices.


\subsection{Core Components}

In the \textbf{terrestrial cloud}, as shown in Fig.~\ref{fig:oran_space_arch}, high-level network management functions are handled, including long-term network management, \gls{dt} modeling and policy optimization. This layer leverages extensive computational power to support non-real-time processes such as model training and large-scale data analysis.
By offloading these resource-intensive tasks to the cloud, the satellite network can focus on maintaining real-time responsiveness while reducing its energy consumption.
Strategic directives generated in the cloud are transmitted to the satellite network, ensuring efficient and cohesive operation throughout the constellation.
Due to the less tight latency constraints, these messages can also be transmitted using higher delay ground-to-satellite links, which represent the vast majority (\cref{fig:g2s_latency}) of available links where around 300 ISLs experience ultra-low latency below 10 ms, while approximately 450 ISLs maintain latency below 100 ms. 

On each satellite \textbf{on-board edge}, the \gls{spaceric} is responsible for localized control, allowing real-time decision-making essential for minimizing latency and reducing dependence on terrestrial input.
Within this \gls{spaceric}, specialized \glspl{sapp} are instantiated to manage critical network functions such as beamforming, spectral resource allocation, and link reconfiguration, dynamically adjusting to the unique and rapidly changing conditions of the \gls{ntn} environment. To ensure optimal coordination within satellite clusters \cite{clustering}, a hierarchical model is applied, where one satellite in each cluster assumes the role of Leader, managing cluster-wide tasks and real-time adjustments.
Other satellites act as Followers, carrying out specific functions under the Leader’s guidance and feeding real-time performance metrics back to it.
The setup leverages the almost constant number of available low-latency \glspl{isl} (\cref{fig:isl_latency}) and ensures that operational continuity is maintained even if the Leader experiences connectivity issues, another Follower can be promoted to assume leadership when needed.
The hardware setup onboard includes \glspl{cpu}, \glspl{gpu}, and memory managed by an \gls{os} middleware that dynamically allocates resources according to active demands.
This configuration, combined with a virtualization layer, allows flexible deployment of multiple network functions, enhancing adaptability, and enabling the network to respond efficiently and in a timely manner to changing conditions and service requirements.

\subsection{Dynamic Link-Interface Mapping}

A distinctive feature of the architecture is its ability to map multiple O-RAN interfaces simultaneously on a single physical link, dynamically adapting to the network’s functional and priority requirements.
This flexibility is vital in \glspl{ntn}, where dynamic conditions and diverse service demands require seamless orchestration of multiple roles for each link.
For example, an \gls{isl} can concurrently support the \gls{e2} for signaling and coordination between \glspl{spaceric}, and the \gls{f1} for \gls{du}-\gls{cu} communication, ensuring uninterrupted operation even when network functions are distributed between different satellites.
Such multipurpose configurations enable the network to dynamically respond to changing connectivity conditions while maintaining robust performance.

Similarly, \glspl{ul} and \glspl{fl} are capable of supporting both signaling and user traffic simultaneously, with resource allocation dynamically adjusted to application-specific priorities. High-priority slices requiring ultra-low latency, such as emergency response or critical \gls{iot} applications, can leverage low latency \glspl{isl} or \glspl{ul}.
The number of links that meet this requirement is...
Meanwhile, lower-priority traffic, such as bulk \gls{iot} data, can be offloaded to higher-latency paths, freeing premium resources for latency-sensitive tasks. 
% This adaptive mapping allows \glspl{ntn} to deliver tailored, slice-specific \gls{qos} that aligns with the stringent latency, reliability, and bandwidth requirements of diverse applications.

Table~\ref{tab:interface_mapping_flexibility} illustrates how the primary and adaptive roles of each type of link enable dynamic orchestration of O-RAN interfaces throughout the network, providing enhanced flexibility and resilience in \glspl{ntn}.

\begin{table*}[h]
\centering
\scriptsize % Reduce font size
\setlength{\tabcolsep}{2pt} % Reduce space between columns
\caption{Dynamic Interface-Link Mapping for NTNs}
\label{tab:interface_mapping_flexibility}
\begin{tabular}{|p{2cm}|p{2cm}|p{2cm}|p{4cm}|p{4 cm}|p{1.75 cm}|} % Adjust column widths to fit the page
\hline
\textbf{Link Type} & \textbf{Primary Function} & \textbf{Supported O-RAN Interfaces} & \textbf{Role in the Network} & \textbf{Dynamic Re-mapping Capability} & \textbf{Delay Quantiles}\\
\hline
User Link (UL) & Direct connection to end-user devices & F1 (User plane), E2 (Control plane) & Ensures reliable user data transmission, supporting QoS for latency-critical slices & Can dynamically re-map to feeder-like roles for backhaul or coordination purposes (e.g., A1, E2) during feeder link disruptions, maintaining minimal operational connectivity for high-priority slices & Median: 30 ms, 90\% perc.: 40 ms\\
\hline
Feeder Link (FL) & Satellite-to-ground backhaul for internet access, terrestrial network integration, and policy signaling & A1 (Policy/Config), E2 (Coordination), F1 (User plane) & Primarily handles high-capacity backhaul for user data and signaling, enabling configuration updates and integration with terrestrial systems & Supports dynamic user-plane traffic (F1) to alleviate congestion or serve as a temporary intra-constellation backhaul, ensuring uninterrupted service during feeder link degradation & Median: 50 ms, 90\% perc.: 70 ms\\
\hline
Inter-Satellite Link (ISL) & Coordination and resource sharing among satellites & E2 (Signaling), F1 (Distributed CU-DU), A1 (Policy sync) & Maintains distributed coordination and control across the constellation, enabling seamless CU-DU splits and intra-constellation data routing & Can re-map to support feeder-like backhaul functions during terrestrial connectivity outages or provide additional user-plane capacity for slice-specific needs under high load & Median: 5 ms, 90\% perc.: 10 ms\\
\hline
\end{tabular}
\end{table*}

\subsection{Hierarchical r/s/x/dApp Coordination}

The proposed framework leverages a hierarchical coordination structure, connecting terrestrial cloud resources with satellite-based edge systems. Through orchestrated use of \glspl{rapp}, \glspl{xapp}, and \glspl{dapp}, the system creates a seamless control loop that responds dynamically to the complex needs of \glspl{ntn}. Figure~\ref{fig:spaceRIC} illustrates this multilayered workflow for a beamforming application, showing how each layer (from ground to satellites) works in concert to deliver real-time adaptability.

At the terrestrial level, the \gls{smo} layer within the terrestrial cloud hosts \glspl{rapp}, responsible for strategic, non-real-time functions such as long-term spectrum management, \gls{dt} modeling, and policy generation based on \gls{ai}-driven analytics. These \glspl{rapp} process large volumes of historical data to develop high-level directives, which are then transmitted to the \gls{spaceric} Leader via the \gls{a1} interface, enabling these strategies to be embedded in real-time operations.

The \gls{spaceric} leader, positioned on a primary satellite within each cluster, combines these strategic directives with real-time telemetry from the satellite cluster through a coordination \gls{sapp}. This allows it to coordinate adjustments, allocate spectrum resources, and manage handovers across the cluster. The Leader also manages \glspl{xapp} that execute immediate critical tasks such as beamforming, spectrum reallocation, and handover operations, integrating both terrestrial directives and real-time data from neighboring satellites. This localized control at the edge allows for rapid response to orbital changes, bypassing the delays associated with terrestrial control.

Within each cluster, the \gls{spaceric} leader communicates with Followers via \glspl{isl}, utilizing the \gls{e2} interface for control signaling. The connection of each satellite to its own low layer metrics is facilitated by the E3 interface, which enables direct access to operational data instantiated in the \gls{du}. This setup allows each satellite to monitor essential metrics independently, supporting fast adjustments in line with the Leader’s overall coordination strategy. Followers, equipped with \glspl{dapp}, perform real-time tasks such as beam switching and monitor reporting based on the metrics collected. The \glspl{dapp} continuously adjust these parameters, allowing the Followers to respond in real-time while remaining aligned with the Leader’s instructions.

\begin{figure}[h]
\centering
\includegraphics[width=1\linewidth, trim=0 0 100 0, clip]{figures/SpaceRIC.pdf}
\captionsetup{justification=centering}
\caption{\gls{spaceric} workflow}
\label{fig:spaceRIC}
\end{figure}

\subsection{Security and Interoperability}

To address the security challenges posed by the intermittent nature of \gls{ntn} links, particularly with ground stations, we suggest an adaptive link authentication mechanism. This approach involves session-based authentication with temporary caching of session tokens on both ends, allowing for rapid reauthentication when a link reappears, bypassing a full handshake. Additionally, ephemeral keys are generated at each reconnection to ensure that each session is uniquely secured, even if interrupted.

For predictable reestablishment scenarios, such as scheduled satellite passes, pre-authentication can be initiated just before the link becomes active, reducing connection latency. A decentralized authentication authority (DAA) further supports autonomous authentication across the satellite network, enabling secure reauthentication even when terrestrial connectivity is inconsistent. Automated link monitoring with a timeout mechanism ensures that inactive session tokens are invalidated after link disruptions, adding an extra layer of security against unauthorized reconnections. Additionally, the framework is designed for seamless interoperability with O-RAN-compatible terrestrial networks, allowing for flexible integration with current \gls{5g} and emerging \gls{6g} systems.

\subsection{Propagation Delay and Real-Time Control}

For latency-critical applications, \glspl{isl} are prioritized to keep total propagation delays below a 50 ms threshold in \glspl{leo} constellations, utilizing the \gls{e2} interface as seen in \cref{fig:g2s_latency}. This configuration reduces the dependency on ground-based routing, which often incurs higher latency, thus supporting the low-delay requirements of real-time \gls{ntn} applications. Applications such as \gls{iot} monitoring and emergency response benefit directly from this low-latency setup, as well as adaptive beamforming adjustments that require rapid response to changing user demands. This setup not only minimizes service interruptions but also enhances responsiveness for dynamic applications, enabling feasibility analysis on real-time control under various network conditions.

XXX Put a Section on Use Cases here? XXX

\section{Future Outlook}
\label{sec:future}

XXX I would call this section Research Challenges. Incorporate the challenges from the previous section here as future challenges to be addressed XXX

The proposed architecture not only addresses the immediate demands of \glspl{ntn} within the \gls{6g} landscape, but also establishes a foundation for future expansion into autonomous and resilient networks suitable for deep-space missions and extraterrestrial applications. As \glspl{ntn} extend beyond Earth’s orbit, autonomous features such as self-healing capabilities and independent resource management will become critical to maintaining functionality when communication with Earth is delayed or disrupted. \gls{hdtn} protocols \cite{dudukovich2024advances}, leveraging standards like the Bundle Protocol, will be essential for managing high-latency and intermittent connectivity in these scenarios, enabling robust interplanetary communication.

Optimizing network functions and \gls{ai} models for resource-constrained satellite environments will further enhance the adaptability of the architecture. Techniques such as model compression, quantization, and edge \gls{ai} will support onboard applications while respecting the processing and energy limitations of satellite platforms. Federated learning frameworks could facilitate collaborative model training across satellite nodes, reducing the need for extensive data transmission and conserving bandwidth. These innovations will ensure real-time, adaptive services even in environments characterized by high latency and limited computational resources.

Scalability remains a central consideration, particularly as \glspl{ntn} expands to include additional satellites, surface stations, and potential extraterrestrial nodes. The modular design of the architecture allows for seamless integration of new components, supporting diverse applications ranging from scientific research and remote sensing to operations on the lunar surface or Mars. This flexibility ensures that the network can evolve to meet a wide range of mission requirements without disrupting ongoing operations.

Joint communication and sensing capabilities offer another promising avenue for development. The architecture’s ability to dynamically offload data-intensive sensing tasks, such as environmental monitoring, anomaly detection, and predictive analytics, to terrestrial cloud resources reduces the burden on satellite hardware. This integration of sensing with communication processes enhances real-time analysis and adaptability, strengthening the network’s intelligence and responsiveness to changing conditions.

The adoption of THz spectrum for inter-satellite and terrestrial links introduces exciting possibilities. THz bands, with their ultra-high-throughput potential, could serve as a complement or alternative to Ka, Ku, and laser \glspl{isl}, particularly for high-bandwidth applications. Although THz links face challenges such as sensitivity to atmospheric conditions and propagation losses, their integration into the architecture would offer unparalleled data rates and low latency. By incorporating intelligent spectrum management mechanisms, the architecture could seamlessly transition between the THz and lower frequency bands based on environmental conditions and network demands. This adaptability ensures optimized throughput and robust operation in varying scenarios, positioning \glspl{ntn} to support dense, high-speed data flows anticipated in \gls{6g} and beyond.

\section{Conclusions}
\label{sec:conclusions}

This paper introduces a flexible and resilient architecture tailored to the integration of \glspl{ntn} with terrestrial O-RAN-enabled \gls{6g} systems. The proposed approach addresses the challenges of dynamic connectivity, resource limitations, and multiscale coordination in highly variable \gls{ntn} environments. Using dynamic link-interface mapping, the architecture allows physical links to flexibly support multiple O-RAN interfaces based on real-time network requirements, ensuring seamless adaptation to shifting link conditions and application-specific demands. This capability significantly enhances the resilience and continuity of \gls{ntn} operations under the disruptions and variability inherent to satellite networks.

The architecture multiscale control mechanism, realized through coordinated actions of \glspl{rapp}, \glspl{xapp} and satellite-specific onboard \glspl{sapp}, ensures real-time responsiveness while maintaining long-term strategic optimization. Autonomous decision-making at the space edge minimizes reliance on terrestrial infrastructure for critical tasks, reducing latency, and enabling rapid adjustments in response to changing conditions. At the same time, the system leverages terrestrial cloud resources for computationally intensive \gls{ai}-driven tasks, such as predictive analytics and global optimization, effectively balancing edge and centralized processing to maximize performance and efficiency.

The simulation results highlight the ability of the architecture to maintain operational continuity in disrupted link scenarios, with intelligent re-mapping that reduces service interruptions and preserves \gls{qos}. The flexible mapping of \glspl{isl} demonstrated significant latency savings, with propagation delays reduced by up to 70 ms compared to terrestrial routing.

%Additionally, task offloading and distributed AI frameworks improved spectrum efficiency by 30% and reduced onboard power consumption by a similar margin, underscoring the architecture’s resource optimization capabilities.

This decentralized and interoperable framework provides a robust solution to the challenges of the future \glspl{ntn}. It not only improves the reliability and adaptability of satellite constellations but also supports the seamless integration of space, air, and ground networks in a cohesive interoperable open system. The architecture design ensures that \glspl{ntn} can meet the stringent requirements of latency sensitive and high priority applications, paving the way for scalable and resilient connectivity solutions in \gls{6g} and beyond.


%\section*{Acknowledgment}

%The preferred spelling of the word ``acknowledgment'' in America is without 
%an ``e'' after the ``g''. Avoid the stilted expression ``one of us (R. B. 
%G.) thanks $\ldots$''. Instead, try ``R. B. G. thanks$\ldots$''. Put sponsor 
%acknowledgments in the unnumbered footnote on the first page.

\bibliographystyle{IEEEtran}
\bibliography{biblio}

\vskip -3\baselineskip plus -1fil



\begin{IEEEbiographynophoto}
{Eduardo Baena} is a postdoctoral research fellow at Northeastern University, with a Ph.D. in Telecommunication Engineering from the University of Malaga. His experience includes roles in the international private sector (2010–2017) and contributions to H2020 and nationally funded projects as a lecturer and researcher at UMA.
\end{IEEEbiographynophoto}

\vskip -2\baselineskip plus -1fil

\begin{IEEEbiographynophoto}{Paolo Testolina} received a Ph.D. in information engineering from the University of Padova in 2022. He is a Post-Doctoral Researcher at Northeastern University, with research interests in mmWave and sub-THz networks, including channel modeling, link layer simulation, and vehicular networks.
\end{IEEEbiographynophoto}

\vskip -2\baselineskip plus -1fil

\begin{IEEEbiographynophoto}{Michele Polese} is a Research Assistant Professor at Northeastern University’s Institute for the Wireless Internet of Things. He received his Ph.D. from the University of Padova in 2020 and focuses on protocols for 5G and beyond, mmWave/THz networks, spectrum sharing, and open RAN development.
\end{IEEEbiographynophoto}

\vskip -2\baselineskip plus -1fil

\begin{IEEEbiographynophoto}{Dimitrios Koutsonikolas} is an Associate Professor in the department of Electrical and Computer Engineering and a member of the Institute for the Wireless Internet of Things at Northeastern University. He specializes in experimental wireless networking and mobile computing, with a focus on 5G/NextG networks and applications. He is a recipient of the IEEE Region 1 Technological Innovation Award and the NSF CAREER Award.
\end{IEEEbiographynophoto}

\vskip -2\baselineskip plus -1fil

\begin{IEEEbiographynophoto}{Josep M. Jornet} (M'13--SM'20--F'24) is a Professor and Associate Director of the Institute for the Wireless Internet of Things at Northeastern University. His research focuses on terahertz communications and networking, pioneering advancements in nanoscale communications and wireless systems. He has authored over 250 peer-reviewed publications and holds five US patents.
\end{IEEEbiographynophoto}

\vskip -2\baselineskip plus -1fil

\begin{IEEEbiographynophoto}{Tommaso Melodia} is the William Lincoln Smith Chair Professor at Northeastern University and Founding Director of the Institute for the Wireless Internet of Things. A recipient of the NSF CAREER award, he has served as an Associate Editor for leading IEEE journals.
\end{IEEEbiographynophoto}

\end{document}
