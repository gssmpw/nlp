\begin{tikzpicture}
    \begin{axis}[
        xlabel={[log scale] Batch Size},
        ylabel={[log scale] GPU Memory Usage (MByte)},
        xmin=100, xmax=100000000,
        ymin=300, ymax=32000,
        xmode=log,
        ymode=log,
        grid=both,
        grid style={line width=.1pt, draw=gray!10},
        major grid style={line width=.2pt,draw=gray!50},
        xlabel near ticks,
        ylabel near ticks,
        tick align=inside,
        legend columns=1,
        legend style={at={(1,0.65)},anchor=south east},
    ]
    % \addplot[ultra thick, mark=*, color=Paired-1] coordinates {
    %     (100, 368)
    %     (1000, 372)
    %     (10000, 414)
    %     (100000, 844)
    %     (500000, 4944)
    % };
    % \addlegendentry{$75$-$10$-$1$-q}

    % \addplot[ultra thick, mark=*, color=Paired-2] coordinates {
    %     (100, 368)
    %     (1000, 372)
    %     (10000, 414)
    %     (100000, 842)
    %     (1000000, 4980)
    % };
    % \addlegendentry{$75$-$10$-$5$-q}
    
    % \addplot[ultra thick, mark=*, color=Paired-1] coordinates {
    %     (100, 368)
    %     (1000, 372)
    %     (10000, 414)
    %     (100000, 860)
    %     (1000000, 5052)
    % };
    % \addlegendentry{$75$-$10$-$10$-q}

    \addplot[ultra thick, mark=*, color=Paired-1] coordinates {
        (100, 368)
        (1000, 374)
        (10000, 438)
        (100000, 982)
        (1000000, 6706)
        (5000000, 31580)
    };
    \addlegendentry{or-$100$-$20$-$8$-UC-$10$}
    
    % \addplot[ultra thick, mark=*, color=Paired-4] coordinates {
    %     (100, 368)
    %     (1000, 370)
    %     (10000, 402)
    %     (100000, 710)
    %     (1000000, 3732)
    % };
    % \addlegendentry{$90$-$10$-$1$-q}
    
    % \addplot[ultra thick, mark=*, color=Paired-5] coordinates {
    %     (100, 368)
    %     (1000, 370)
    %     (10000, 402)
    %     (100000, 726)
    %     (500000, 3832)
    % };
    % \addlegendentry{$90$-$10$-$5$-q}

    \addplot[ultra thick, mark=*, color=Paired-3] coordinates {
        (100, 368)
        (1000, 370)
        (10000, 396)
        (100000, 676)
        (1000000, 3272)
        (10000000, 27208)
    };
    \addlegendentry{$90$-$10$-$10$-q}


    


    % \addplot[ultra thick, mark=*, color=Paired-10] coordinates {
    %     (100, 388)
    %     (1000, 530)
    %     (10000, 2128)
    %     (100000, 17878)
    %     (150000, 27040)
    % };
    % \addlegendentry{s$15850$a\_$3$\_$2$}

    % \addplot[ultra thick, mark=*, color=Paired-10] coordinates {
    %     (100, 386)
    %     (1000, 524)
    %     (10000, 2094)
    %     (100000, 17284)
    %     (150000, 26064)
    % };
    % \addlegendentry{s$15850$a\_$7$\_$3$}
    \addplot[ultra thick, mark=*, color=Paired-7] coordinates {
        (100, 386)
        (1000, 526)
        (10000, 2126)
        (100000, 17632)
        (150000, 26532)
    };
    \addlegendentry{s$15850$a\_$15$\_$7$}

% \addplot[ultra thick, mark=*, color=Paired-7] coordinates {
    %     (100, 520)
    %     (1000, 1588)
    %     (10000, 12980)
    %     (20000, 25497)
    % };
    % \addlegendentry{Prod-$8$}

    % \addplot[ultra thick, mark=*, color=Paired-8] coordinates {
    %     (100, 748)
    %     (1000, 3416)
    %     (10000, 31888)
    % };
    % \addlegendentry{Prod-$20$}

    \addplot[ultra thick, mark=*, color=Paired-11] coordinates {
        (100, 976)
        (1000, 5246)
        (6000, 29082)
    };
    \addlegendentry{Prod-$32$}



    
    \end{axis}
\end{tikzpicture}



