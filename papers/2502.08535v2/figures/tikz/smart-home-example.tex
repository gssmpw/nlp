\begin{figure}
  \centering
  \begin{tikzpicture}[node distance=2cm,on grid,auto]

    \node (ap) [label={[yshift=-1mm]above:{wireless AP}}] {\includegraphics[scale=0.06] {figures/testbed/wireless-ap.png}};
    \node (router) [right=1.5cm of ap, label={[align=center, yshift=2mm]below:{LAN\\gateway}}] {\includegraphics[scale=0.07]{figures/testbed/router.png}};
    \node (internet) [right=1.7cm of router, label={[yshift=-3.5mm,align=center]above:{vendor-operated\\cloud}}] {\includegraphics[scale=0.08]{figures/testbed/cloud.png}};

    \node (phone) [left=2cm of ap,yshift=0.5cm, label={[align=right, xshift=0.15cm] left:{smartphone\\running\\companion app}}] {\includegraphics[scale=0.05]{figures/testbed/smartphone.png}};
    \node (wifi-light)[left=2cm of ap, yshift=-0.5cm, label={[align=right, xshift=0.15cm, yshift=-0.5mm] left:{smart\\lamp}}] {\includegraphics[scale=0.05]{figures/testbed/light-bulb.png}};

    \draw [wlan] (phone)  -- (ap);
    \draw [wlan] (ap) -- (wifi-light);
    \draw [wan] (ap) -- (router);
    \draw [wan] (router)  -- (internet);

  \end{tikzpicture}
  \caption{Typical Smart Home network with a smart lamp}
  \label{fig:scenario}
\end{figure}
