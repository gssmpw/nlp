\section{Preliminary}
For optimization of the recommendation model, the Bayesian Personalized Ranking (BPR) is used to learn the user preference from behavior data. The central idea of BPR is to maximize the ranking of positive items compared with the randomly sampled negative ones, achieved by the following loss function: 
\begin{equation}
    \mathcal{L}_\text{BPR}(u,i,j;\Theta)=-log\sigma(f(u,i;\Theta) - f(u,j;\Theta)),
\end{equation}
where $(u,i,j)$ is the training sample with a positive item $i$ and a negative item $j$ for user $u$. $f(\Theta)$ refers to the recommendation model. The learnable parameter $\Theta$ includes the user embedding $\mathbf{p}_u \in \mathbb{R}^d$ and the item embedding $\mathbf{q}_i \in \mathbb{R}^d$, where $d$ is the embedding dimension. $f(u,i;\Theta)$ is used to compute the relevance score between user $u$ and item $i$.
