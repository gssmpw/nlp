\def\isarxiv{1} %%% for icml submission version, we comment this line

\ifdefined\isarxiv
\documentclass[11pt]{article}

\usepackage[numbers]{natbib}

\else

\documentclass[conference,compsoc]{IEEEtran}

\fi

\usepackage{amsmath}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{algorithm}
\usepackage{subfig}
\usepackage{algpseudocode}
\usepackage{graphicx}
\usepackage{grffile}
\usepackage{wrapfig,epsfig}
\usepackage{url}
\usepackage{xcolor}
\usepackage{epstopdf}
\usepackage{bbm}
\usepackage{dsfont}
\usepackage{gradient-text} % Zhizhou: I add this packge for the fancy color in the paper title.

 %%% print refs in table of contents
%\displaybreak
\allowdisplaybreaks

%\usepackage[lmargin=1in,rmargin=1in,tmargin=0.8in,bmargin=0.8in]{geometry}

\ifdefined\isarxiv

\let\C\relax
\usepackage{tikz}
\usepackage{hyperref}  %%% arxiv don't allow this.
\hypersetup{colorlinks=true,citecolor=blue,linkcolor=blue} %%% Zhao : maybe we should comment this in submission.
\usetikzlibrary{arrows}
\usepackage[margin=1in]{geometry}

\else
%\usepackage[pagebackref,breaklinks,colorlinks]{hyperref}


% Support for easy cross-referencing
%\usepackage[capitalize]{cleveref}
%\usepackage{microtype}
\usepackage{hyperref}
\definecolor{mydarkblue}{rgb}{0,0.08,0.45}
\hypersetup{colorlinks=true, citecolor=mydarkblue,linkcolor=mydarkblue}
%\usepackage[capitalize,noabbrev]{cleveref}
%\usepackage{colortbl}

\fi
%\linespread{1}
%\newcommand{\QED}{\hfill$\qed$}
\graphicspath{{./figs/}}

%\theoremstyle{plain} %%%Zhao: let me comment it out.
\newtheorem{theorem}{Theorem}[section]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{notation}[theorem]{Notation}
%\newtheorem{proof}[theorem]{Proof}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{conjecture}[theorem]{Conjecture}
\newtheorem{assumption}[theorem]{Assumption}
\newtheorem{observation}[theorem]{Observation}
\newtheorem{fact}[theorem]{Fact}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{claim}[theorem]{Claim}
\newtheorem{example}[theorem]{Example}
\newtheorem{problem}[theorem]{Problem}
\newtheorem{open}[theorem]{Open Problem}
\newtheorem{property}[theorem]{Property}
\newtheorem{hypothesis}[theorem]{Hypothesis}
\newtheorem{condition}[theorem]{Condition}

\newcommand{\wh}{\widehat}
\newcommand{\wt}{\widetilde}
\newcommand{\ov}{\overline}
\newcommand{\N}{\mathcal{N}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\RHS}{\mathrm{RHS}}
\newcommand{\LHS}{\mathrm{LHS}}
\renewcommand{\d}{\mathrm{d}}
\renewcommand{\i}{\mathbf{i}}
\renewcommand{\tilde}{\wt}
\renewcommand{\hat}{\wh}
\newcommand{\Tmat}{{\cal T}_{\mathrm{mat}}}

\newcommand{\ac}{ac} %%% Zhao: use this for $\delta_{\ac}$ , which is accuracy
\newcommand{\pa}{pa} %%% Zhao: use this for $\delta_{\pa}$ , which is privacy

\DeclareMathOperator*{\E}{{\mathbb{E}}}
\DeclareMathOperator*{\var}{\mathrm{Var}}
\DeclareMathOperator*{\Z}{\mathbb{Z}}
\DeclareMathOperator*{\C}{\mathbb{C}}
\DeclareMathOperator*{\D}{\mathcal{D}}
\DeclareMathOperator*{\median}{median}
\DeclareMathOperator*{\mean}{mean}
\DeclareMathOperator{\OPT}{OPT}
\DeclareMathOperator{\supp}{supp}
\DeclareMathOperator{\poly}{poly}

\DeclareMathOperator{\nnz}{nnz}
\DeclareMathOperator{\sparsity}{sparsity}
\DeclareMathOperator{\rank}{rank}
\DeclareMathOperator{\diag}{diag}
\DeclareMathOperator{\dist}{dist}
\DeclareMathOperator{\cost}{cost}
\DeclareMathOperator{\vect}{vec}
\DeclareMathOperator{\tr}{tr}
\DeclareMathOperator{\dis}{dis}
\DeclareMathOperator{\cts}{cts}



\makeatletter
\newcommand*{\RN}[1]{\expandafter\@slowromancap\romannumeral #1@}
\makeatother
\newcommand{\Zhao}[1]{{\color{red}[Zhao: #1]}}
\newcommand{\Zhenmei}[1]{{\color{orange}[Zhenmei: #1]}}
\newcommand{\Zhizhou}[1]{{\color{blue}[Zhizhou: #1]}} 
\newcommand{\Yekun}[1]{{\color{purple}[Yekun: #1]}} 
% \newcommand{\InernName}[1]{{\color{blue}[InternName: #1]}} %%%Change to intern name


\usepackage{lineno}
\def\linenumberfont{\normalfont\small}

\ifdefined\isarxiv
\else
% Zhizhou: This line is added for S&P submission

% correct bad hyphenation here
\hyphenation{op-tical net-works semi-conduc-tor}
\fi

\begin{document}

\ifdefined\isarxiv

\date{}


% \title{DPBloomfilter: Securing Bloom Filters with Differential Privacy}
\title{\includegraphics[scale=0.045]{filter.png} \textbf{\textsc{\gradientRGB{DPBloomfilter}{11,47,159}{152,222,217}}}: Securing Bloom Filters with Differential Privacy}

\author{
Yekun Ke\thanks{\texttt{
keyekun0628@gmail.com}. Independent Researcher.}
\and
Yingyu Liang\thanks{\texttt{
yingyul@hku.hk}. The University of Hong Kong. \texttt{
yliang@cs.wisc.edu}. University of Wisconsin-Madison.} 
\and
Zhizhou Sha\thanks{\texttt{ shazz20@mails.tsinghua.edu.cn}. Tsinghua University.}
\and
Zhenmei Shi\thanks{\texttt{
zhmeishi@cs.wisc.edu}. University of Wisconsin-Madison.}
\and 
Zhao Song\thanks{\texttt{ magic.linuxkde@gmail.com}. The Simons Institute for the Theory of Computing at UC Berkeley.}
}
\else

% \title{DPBloomfilter: Securing Bloom Filters with Differential Privacy}
\title{\includegraphics[scale=0.035]{filter.png} \textbf{\textsc{\gradientRGB{DPBloomfilter}{11,47,159}{152,222,217}}}: Securing Bloom Filters with Differential Privacy}

% % author names and affiliations
% % use a multiple column layout for up to three different
% % affiliations
% \author{\IEEEauthorblockN{Michael Shell}
% \IEEEauthorblockA{School of Electrical and\\Computer Engineering\\
% Georgia Institute of Technology\\
% Atlanta, Georgia 30332--0250\\
% Email: http://www.michaelshell.org/contact.html}
% \and
% \IEEEauthorblockN{Homer Simpson}
% \IEEEauthorblockA{Twentieth Century Fox\\
% Springfield, USA\\
% Email: homer@thesimpsons.com}
% \and
% \IEEEauthorblockN{James Kirk\\ and Montgomery Scott}
% \IEEEauthorblockA{Starfleet Academy\\
% San Francisco, California 96678-2391\\
% Telephone: (800) 555--1212\\
% Fax: (888) 555--1212}}


% Zhizhou: I am not sure how to anonymize the author in IEEEtran.cls So I adopt the answer provided in this link https://tex.stackexchange.com/questions/676097/remove-author-name-in-latex-with-ieeetran-template
\author{\IEEEauthorblockN{Anonymous Authors}}

% \author{
% Yekun Ke\thanks{\texttt{
% keyekun0628@gmail.com}.}
% \and
% Yingyu Liang\thanks{\texttt{
% yingyul@hku.hk}. The University of Hong Kong. \texttt{
% yliang@cs.wisc.edu}. University of Wisconsin-Madison.} 
% \and
% Zhizhou Sha\thanks{\texttt{ shazz20@mails.tsinghua.edu.cn}. Tsinghua University.}
% \and
% Zhenmei Shi\thanks{\texttt{
% zhmeishi@cs.wisc.edu}. University of Wisconsin-Madison.}
% \and 
% Zhao Song\thanks{\texttt{ zsong@adobe.com}. Adobe Research.}
% }


\fi


\ifdefined\isarxiv
\begin{titlepage}
  \maketitle
  \begin{abstract}
  \input{0_abstract}
  \end{abstract}
  \thispagestyle{empty}
\end{titlepage}

{\hypersetup{linkcolor=black}
\tableofcontents
}
\newpage

\else

\maketitle 

\begin{abstract}
\input{0_abstract}
\end{abstract}

% For peerreview papers, this IEEEtran command inserts a page break and
% creates the second title. It will be ignored for other modes.
\IEEEpeerreviewmaketitle



\fi

\input{1_intro}
\input{2_related_work}
\input{3_preliminary}
\input{4_main_result}
\input{10_appendix_quantile}
\input{11.5_appendix_privacy_guarantee}
\input{11_appendix_utility_guarantee}
\input{10.5_appendix_running_time}
% \input{5_tech_overview}
\input{6_exp}
\input{7_discussion}
\input{8_conclusion}
% \input{8.1_ethic_consideration}

\ifdefined\isarxiv
\section*{Acknowledgement}
Research is partially supported by the National Science Foundation (NSF) Grants 2023239-DMS, CCF-2046710, and Air Force Grant FA9550-18-1-0166.
\else

% \bibliographystyle{ACM-Reference-Format}

% \bibliographystyle{alpha}
\bibliographystyle{plain}
% \bibliographystyle{plainnat}

\bibliography{ref}
% \bibliographystyle{plain}
\fi

\newpage
\onecolumn
% Zhizhou: if added the \appendix command, the all the \section will disappear in Appendix, only left \subsection. So I comment \appendix off. 
% \appendix

% \begin{center}
%     \textbf{\LARGE Appendix }
% \end{center}

%%%% Cut-line between first 10 pages and appendix





%%% some writing rules

%% Writing rule for creating tags.
%% Tags :
%% Theorem    \ref{thm:bla_bla}
%% Lemma      \ref{lem:bla_bla}
%% Claim      \ref{cla:bla_bla}
%% Corollary  \ref{cor:bla_bla}
%% Fact       \ref{fac:bla_bla}
%% Definition \ref{def:bla_bla}
%% Section    \ref{sec:bla_bla}
%% Subsection \ref{sub:bla_bla}
%% Equation   \ref{eq:bla_bla}

\ifdefined\isarxiv
%\section*{Acknowledgments}
\bibliographystyle{alpha}
\bibliography{ref}
\fi

\end{document}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
