\section{Proof of \pref{thm: general}}
\begin{proof}\textbf{of \pref{thm: general}}
    \begin{align*}
       &\E[\Reg(\pi_{1:T}^\star)] - \frac{\log|\Phi|}{\eta} \\
       &\leq \E\left[\sum_{t=1}^T \left(V_{M_t}(\pi_t^\star) -  V_{M_t}(\pi_t) - \frac{1}{\eta}\log\frac{\rho_{t+1}(\phi^\star)}{\rho_t(\phi^\star)} \right)\right] \\
       &= \E\left[\sum_{t=1}^T  \E_{\pi\sim p_t} \E_{o\sim M_t(\cdot|\pi)}\left[ V_{M_t}(\pi_t^\star) -  V_{M_t}(\pi) - \frac{1}{\eta} \log\frac{\nu_t(\phi^\star|\pi, o)}{\rho_t(\phi^\star)} \right]\right] \\
       \\&\leq \E\left[\sum_{t=1}^T  \max_{\mu \in \Delta(\Psi)}\E_{\phi^\star \sim \mu}\E_{(M, \pi^\star) \sim \mu(\cdot|\phi^\star)}\E_{\pi\sim p_t} \E_{o\sim M(\cdot|\pi)}\left[ V_{M}(\pi^\star) -  V_{M}(\pi) - \frac{1}{\eta} \log\frac{\nu_t(\phi^\star|\pi, o)}{\rho_t(\phi^\star)} \right]\right]
       \\&= \E\left[ \sum_{t=1}^T  \max_{\nu \in \Delta(\Psi)}\E_{\pi\sim p_t} \E_{(M,\pi^\star)\sim \nu} \E_{o\sim M(\cdot|\pi)}\left[ V_{M}(\pi^\star) -  V_{M}(\pi) - \frac{1}{\eta} \KL\left( \nu_{\bo{\phi}}(\cdot|\pi, o), \rho_t\right) \right]\right]  \tag{\pref{lem: max posterior}}   \\
       &= \E\left[ \sum_{t=1}^T  \min_{p\in\Delta(\Pi)}\max_{\nu\in\Delta(\joint)} \E_{\pi\sim p} \E_{(M,\pi^\star)\sim \nu} \E_{o\sim M(\cdot|\pi)}\left[ V_{M}(\pi^\star) -  V_{M}(\pi) - \frac{1}{\eta} \KL\left( \nu_{\bo{\phi}}(\cdot|\pi, o), \rho_t\right) \right]\right] \\
       &= \E\left[ \sum_{t=1}^T  \min_{p\in\Delta(\Pi)}\max_{\nu\in\Delta(\joint)}  
\air^\Phi_{\rho_t,\eta}(p,\nu) \right] \\
       &= \E\left[ \sum_{t=1}^T  \max_{\nu\in\Delta(\joint)}\min_{p\in\Delta(\Pi)}  
\air^\Phi_{\rho_t,\eta}(p,\nu) \right]   \tag{$\air^\Phi_{\rho_t,\eta}(p,\nu)$ is convex in $p$ and concave in $\nu$ and \pref{lem:minmax}}  \\
    &\leq  T \max_{\rho \in \Delta(\Phi)}\max_{\nu\in\Delta(\joint)}\min_{p\in\Delta(\Pi)}  
\air^\Phi_{\rho,\eta}(p,\nu). 
    \end{align*}
\end{proof}

\section{Relation with DEC}
We introduce a useful notion of a $\dec$ like complexity that equivalently describes the complexity of $\air^{\Phi}$.

\begin{definition} The $\Phi$-dependent DEC is defined as
\begin{align*}
&\dec_{\eta}^{\textsc{KL}}\left(\calM, \Phi\right) = 
\\&\max_{\Bar{M} \in \textsc{co}(\calM)}\min_{p\in\Delta(\Pi)}\max_{\phi\in\Phi} \max_{\nu\in \Delta(\phi)}   \E_{\pi\sim p} \E_{\phi\sim \nu}   \left[\E_{(M,\pi^\star)\sim \nu}[V_{M}(\pi^\star)] - V_{M^\nu}(\pi) - \frac{1}{\eta}  \KL\left( M^{\nu}(\cdot|\pi), \Bar{M}(\cdot|\pi) \right)\right]. 
\end{align*}
\end{definition}

We first establish that the maxmin of $\air^\Phi$ is bounded by the new notion of DEC.
\begin{lemma} \label{lem: equivalence of dec}$\displaystyle\max_{\rho \in\Delta(\Phi)}\max_{\nu\in\Delta(\joint)}\min_{p\in\Delta(\Pi)} \air^\Phi_{\rho,\eta}(p,\nu) = \dec^{\textsc{KL}}_\eta (\calM, \Phi)$. 
%
%\begin{align*}
%\max_{\rho \in\Delta(\Phi)}\max_{\nu\in\Delta(\joint)}\min_{p\in\Delta(\Pi)} \air^\Phi_{\rho,\eta}(p,\nu)  \leq \dec^{\textsc{KL}}_\eta(\bar\calM(\Phi)).
%\end{align*}
\end{lemma}
\begin{proof}\textbf{of \pref{lem: equivalence of dec}\ \ }
\begin{align*}
    \air^\Phi_{\rho,\eta}(p,\nu) &= \E_{\pi\sim p} \E_{(M,\pi^\star)\sim \nu} \E_{o\sim M(\cdot|\pi)}\left[ V_{M}(\pi^\star) -  V_{M}(\pi) - \frac{1}{\eta} \KL\left( \nu_{\bo{\phi}}(\cdot|\pi, o), \rho\right) \right] 
        \\
        &= \E_{\pi\sim p} \E_{(M,\pi^\star)\sim \nu} \E_{o\sim M(\cdot|\pi)}\left[ V_{M}(\pi^\star) -  V_{M}(\pi) - \frac{1}{\eta} \KL\left( \nu_{\bo{\phi}}(\cdot|\pi, o), \nu_{\bo{\phi}}\right) - \frac{1}{\eta}\KL\left( \nu_{\bo{\phi}}, \rho\right)\right]
\end{align*}
is jointly concave over $(\nu,\rho)$, hence by \pref{lem:minmax}
\begin{align*}
    &\max_{\rho \in \Delta(\Phi)}\max_{\nu\in \Delta(\Psi)} \min_{p\in\Delta(\Pi)}\air^\Phi_{\rho,\eta}(p,\nu)
    =\min_{p\in\Delta(\Pi)}\max_{\nu\in \Delta(\Psi)}\max_{\rho \in \Delta(\Phi)} \air^\Phi_{\rho,\eta}(p,\nu)\,.
\end{align*}
Let's assume $\nu$ and $\pi$ are fixed, we have for the $\rho$-dependent part
\begin{align*}
    \max_{\rho \in \Delta(\Phi)} \E_{(M,\pi^\star)\sim \nu} \E_{o\sim M(\cdot|\pi)}\left[-\KL\left( \nu_{\bo{\phi}}, \rho\right)\right]=0\,,
\end{align*}
with the argmax at $\rho=\nu_{\bo{\phi}}$, hence
\begin{align*}
    &\max_{\rho \in \Delta(\Phi)} \air^\Phi_{\rho,\eta}(p,\nu)=\air^\Phi_{\nu_{\bo{\phi}},\eta}(p,\nu)\,.
\end{align*}
We continue with the KL term in this expression. In an overload of notation, let $\nu$ conditioned on $\pi$ define a distribution over $\Delta(\Psi)\times\calO$ via $\nu(o,M,\pi^\star|\pi)=\nu(M,\pi^\star)M(o|\pi)$.
    Note that for fixed $\pi$, 
    \begin{align*}
        \E_{(M,\pi^\star)\sim \nu}\E_{o\sim M(\cdot|\pi)} \KL(\nu_{\bo{\phi}}(\cdot|\pi, o), \nu_{\bo{\phi}})  
        &=\E_{o\sim \nu_{\bo{o}}(\cdot|\pi)} \KL(\nu_{\bo{\phi}}(\cdot|\pi, o), \nu_{\bo{\phi}})  \\
        &=\E_{o\sim \nu_{\bo{o}}(\cdot|\pi)}\E_{\phi\sim\nu_{\bo{\phi}}(\cdot|\pi, o)} \log\left(\frac{\nu(\phi|\pi, o)}{\nu(\phi)}\right)  \\
        &=\E_{\phi\sim \nu_{\bo{\phi}}}\E_{o\sim\nu_{\bo{o}}(\cdot|\phi,\pi)} \log\left(\frac{\nu(\phi|\pi, o)}{\nu(\phi)}\right)  \\
        &=\E_{\phi\sim \nu_{\bo{\phi}}}\E_{o\sim\nu_{\bo{o}}(\cdot|\phi,\pi)} \log\left(\frac{\nu(o|\phi,\pi)}{\nu(o|\pi)}\right)  \tag{Bayes-rule}\\
        &= \E_{\phi\sim \nu} \KL\left( \nu_{\bo{o}}(\cdot|\phi,\pi),  \nu_{\bo{o}}(\cdot|\pi) \right)\,.
    \end{align*}
    We now consider $\mu\in\Delta(\calM)$, which again is overloaded to denote a distribution over $\Delta(\calM)\times\calO$.
    \begin{align*}
    -\E_{\phi\sim \nu} \KL\left( \nu_{\bo{o}}(\cdot|\phi,\pi),  \nu_{\bo{o}}(\cdot|\pi) \right) &= \max_{\mu\in\Delta(\calM)} \E_{\phi\sim \nu} \left[-\KL\left( \nu_{\bo{o}}(\cdot|\phi,\pi),  \nu_{\bo{o}}(\cdot|\pi) \right)-\KL\left( \nu_{\bo{o}}(\cdot|\pi),\mu_{\bo{o}}(\cdot|\pi) \right)\right]\\
    &=\max_{\mu\in\Delta(\calM)} \E_{\phi\sim \nu} \left[-\KL\left( \nu_{\bo{o}}(\cdot|\phi,\pi),  \mu_{\bo{o}}(\cdot|\pi) \right)\right]
    \end{align*}
Combining everything, we have shown that
\begin{align*}
    &\max_{\rho \in \Delta(\Phi)}\max_{\nu\in \Delta(\Psi)} \min_{p\in\Delta(\Pi)}\air^\Phi_{\rho,\eta}(p,\nu) \\
    &= \min_{p\in\Delta(\Pi)} \max_{\nu\in \Delta(\Psi)}\max_{\mu\in\Delta(\calM)}\E_{\pi\sim p} \E_{(M,\pi^\star)\sim \nu} \E_{o\sim M(\cdot|\pi)}\left[ V_{M}(\pi^\star) -  V_{M}(\pi) - \frac{1}{\eta}\KL\left( \nu_{\bo{o}}(\cdot|\phi,\pi),  \mu_{\bo{o}}(\cdot|\pi) \right)\right]\,.
\end{align*}
Again this is jointly concave over $(\nu,\mu)$ and convex concave in $(p,\nu)$ given $\mu$, hence by \pref{lem:minmax}
\begin{align*}
    &= \max_{\mu\in\Delta(\calM)}\min_{p\in\Delta(\Pi)} \max_{\nu\in \Delta(\Psi)}\E_{\pi\sim p} \E_{(M,\pi^\star)\sim \nu} \E_{o\sim M(\cdot|\pi)}\left[ V_{M}(\pi^\star) -  V_{M}(\pi) - \frac{1}{\eta}\KL\left( \nu_{\bo{o}}(\cdot|\phi,\pi),  \mu_{\bo{o}}(\cdot|\pi) \right)\right]\\
    &= \max_{\bar M\in\co(\calM)}\min_{p\in\Delta(\Pi)} \max_{\nu\in \Delta(\Psi)}\E_{\pi\sim p} \E_{(M,\pi^\star)\sim \nu} \E_{o\sim M(\cdot|\pi)}\left[ V_{M}(\pi^\star) -  V_{M}(\pi) - \frac{1}{\eta}\KL\left( M^{\nu(\cdot|\phi)}(\cdot|\pi),  \bar M(\cdot|\pi) \right)\right]\\
    &= \dec_{\eta}^{\textsc{KL}}\left(\calM, \Phi\right)\,.
\end{align*}
\end{proof}

\begin{proof}\textbf{of \pref{lem: air by dec}\ \ }
By \pref{lem: equivalence of dec}, we only need to compare $\dec^{\textrm{KL}}_\eta(\calM, \Phi)$ and $\dec^{\textrm{KL}}_\eta(\bar{\calM}(\Phi))$. 
Define 
    \begin{align*}
        C(\Phi) := \max_{\phi\in\Phi}\max_{\nu\in\Delta(\phi)}\E_{(M,\pi^\star)\sim\nu}[V_M(\pi^\star)]-V_{M^\nu}(\pi_{M^\nu})\,,
    \end{align*}
where $M^\nu$ is the mixture model $M^\nu(\cdot|\pi) := \E_{M\sim \nu}[M(\cdot|\pi)]$, and $\pi_{M^\nu} := \argmax_{\pi\in\Pi} V_{M^\nu}(\pi)$. 
In the fixed-comparator case, we have
\begin{align*}
&\max_{\phi\in\Phi}\max_{\nu\in\Delta(\phi)}\E_{(M,\pi^\star)\sim\nu}[V_M(\pi^\star)]-V_{M^\nu}(\pi_{M^\nu})\\
&=\max_{\phi\in\Phi}\max_{\nu\in\Delta(\phi)}V_{M^\nu}(\pi^\phi)-V_{M^\nu}(\pi_{M^\nu})\leq 0\,.
\end{align*}
We have
\begin{align*}
    &\max_{\phi\in\Phi} \max_{\nu\in \Delta(\phi)}   \E_{\pi\sim p} \E_{\phi\sim \nu}   \left[\E_{(M,\pi^\star)\sim \nu}[V_{M}(\pi^\star)] - V_{M^\nu}(\pi) - \frac{1}{\eta}  \KL\left( M^{\nu}(\cdot|\pi), \Bar{M}(\cdot|\pi) \right)\right]\\
    &\leq \max_{\phi\in\Phi} \max_{\nu\in \Delta(\phi)}   \E_{\pi\sim p} \E_{\phi\sim \nu}   \left[V_{M^\nu}(\pi_{M^\nu}) - V_{M^\nu}(\pi) - \frac{1}{\eta}  \KL\left( M^{\nu}(\cdot|\pi), \Bar{M}(\cdot|\pi) \right)\right] + C(\Phi)\\
    &=\max_{M^\nu\in\bar\calM(\Phi)}  \E_{\pi\sim p} \E_{\phi\sim \nu}   \left[V_{M^\nu}(\pi_{M^\nu}) - V_{M^\nu}(\pi) - \frac{1}{\eta}  \KL\left( M^{\nu}(\cdot|\pi), \Bar{M}(\cdot|\pi) \right)\right] + C(\Phi)
\end{align*}
Hence
\begin{align*}
    \dec^{\textsc{kl}}_\eta(\calM,\Phi)\leq \dec^{\textsc{kl}}_\eta(\bar\calM(\Phi)) + C(\Phi)\,. 
\end{align*}
If $C(\Phi)\leq 0$, which includes all fixed-comparator environments, this implies the Lemma.

Finally, assume $C(\Phi)>0$. We show that these environments are unlearnable and that $\dec^{\textsc{kl}}_\eta(\calM,\Phi)=\Omega(1)$ independent of $\eta$.
Fix $(\phi', \nu') = \argmax_{\phi\in\Phi,\nu\in\Delta(\phi)}\E_{(M,\pi^\star)\sim\nu}[V_M(\pi^\star)]-V_{M^\nu}(\pi_{M^\nu})$.
\begin{align*}
    &\dec^{\textsc{kl}}_\eta(\calM,\Phi)\\
    &\geq \min_{p\in\Delta(\Pi)}\max_{\phi\in\Phi} \max_{\nu\in \Delta(\phi)}   \E_{\pi\sim p} \E_{\phi\sim \nu}   \left[\E_{(M,\pi^\star)\sim \nu}[V_{M}(\pi^\star)] - V_{M^\nu}(\pi) - \frac{1}{\eta}  \KL\left( M^{\nu}(\cdot|\pi), M^{\nu'}(\cdot|\pi) \right)\right]\\
    &\geq \min_{p\in\Delta(\Pi)}\E_{\pi\sim p} \left[\E_{(M,\pi^\star)\sim \nu'}[V_{M}(\pi^\star)] - V_{M^{\nu'}}(\pi) - \frac{1}{\eta}  \KL\left( M^{\nu'}(\cdot|\pi), M^{\nu'}(\cdot|\pi) \right)\right]\\
    &=C(\Phi)=\Omega(1)\,.
\end{align*}
To show that the problem is indeed unlearnable, let the environment sample i.i.d. $(M_t,\pi^\star_t)\sim\nu'$ in every round. For any policy of the agent, the expected regret in every round is at least $C(\Phi)$, so the expected regret is lower bounded by $C(\Phi)T$.

\iffalse
Now we continue to prove $\dec^{\textsc{KL}}_\eta (\calM, \Phi) \leq \dec^{\textsc{KL}}_\eta(\bar\calM(\Phi))$.

By the definition of $\dec^{\textsc{KL}}_\eta(\bar\calM(\Phi))$, we have for any $\bar M\in \co(\calM)$ that there exists $p\in\Delta(\Pi)$ such that for all $\phi\in\Phi$ and all $q\in\co(\phi)$, we have
\begin{align*}
    \E_{\pi\sim p}\left[\max_{\pi'}V_{q}(\pi')-V_{q}(\pi)-\frac{1}{\eta}\KL(M^{q}(\pi), \bar M(\pi))\right] \leq \dec^{\textsc{KL}}_{\eta}(\bar\calM(\Phi))
\end{align*}
setting $q^{\phi}=\nu_{\cdot|\phi}$ and taking the expectation over $(\phi)\sim \nu$ leads to
\begin{align*}
&\dec_{\eta}^{\textsc{KL}}\left(\calM, \Phi\right) = 
\\&\max_{\Bar{M} \in \textsc{co}(\calM)}\min_{p\in\Delta(\Pi)} \max_{\nu\in \Delta(\Psi)}   \E_{\pi\sim p} \E_{\phi\sim \nu}  \E_{(M,\pi^\star)\sim \nu(\cdot|\phi)} \left[V_{M}(\pi^\star) - V_{M}(\pi) - \frac{1}{\eta}  \KL\left( M^{\nu(\cdot|\phi)}(\cdot|\pi), \Bar{M}(\cdot|\pi) \right)\right]\\
&\leq \max_{\Bar{M} \in \textsc{co}(\calM)}\min_{p\in\Delta(\Pi)} \max_{\nu\in \Delta(\Psi)}   \E_{\pi\sim p} \E_{\phi\sim \nu}\dec_{\eta}^{\textsc{KL}}(\bar\calM(\Phi))=\dec_{\eta}^{\textsc{KL}}(\bar\calM(\Phi))
\end{align*}
\fi
\end{proof}
\begin{proof}\textbf{of \pref{lem: dec equiv}\ \ }
Using \pref{lem: equivalence of dec}, we only need to compare the two notions of $\dec$.
Recall we consider the case where $\Phi=\Theta\times\Pi$.
    We have for fixed $p$ and $\bar M$
    \begin{align*}
    &\max_{\nu\in \Delta(\Psi)}   \E_{\pi\sim p} \E_{\phi\sim \nu}  \E_{(M,\pi^\star)\sim \nu(\cdot|\phi)} \left[V_{M}(\pi^\star) - V_{M}(\pi) - \frac{1}{\eta}  \KL\left( M^{\nu(\cdot|\phi)}(\cdot|\pi), \Bar{M}(\cdot|\pi) \right)\right]\\
    &=\max_{\theta\in\Theta}\max_{\nu\in \Delta(\theta)}\max_{\mu\in\Delta(\Pi)}   \E_{\pi\sim p}  \E_{(M,\pi^\star)\sim (\nu,\mu)} \left[V_{M}(\pi^\star) - V_{M}(\pi) - \frac{1}{\eta}  \KL\left( M^{\nu}(\cdot|\pi), \Bar{M}(\cdot|\pi) \right)\right]\\
    &=\max_{\theta\in\Theta}\max_{\nu\in \Delta(\theta)}\E_{\pi\sim p}  \E_{M\sim \nu} \left[V_{M}(\pi_{M^\nu}) - V_{M}(\pi) - \frac{1}{\eta}  \KL\left( M^{\nu}(\cdot|\pi), \Bar{M}(\cdot|\pi) \right)\right]\\
    &=\max_{M^\nu\in\bar\calM(\Phi)}\E_{\pi\sim p}  \left[V_{M^\nu}(\pi_{M^\nu}) - V_{M^\nu}(\pi) - \frac{1}{\eta}  \KL\left( M^{\nu}(\cdot|\pi), \Bar{M}(\cdot|\pi) \right)\right]\,.
    \end{align*}
    Since the first and last line are equal, taking the $\max$ over $\bar M$ and $\min$ over $p$ is still equal, which shows the Lemma.
\end{proof}

\begin{lemma}\label{lem: trimming}
Let $\Phi$ describe a trimmed and aggregated stochastic game, i.e. for all $\phi\in\Theta$ we have that $\phi=\{(M,\phi^\star_\theta) | M\in \calM_\phi\}$ and such that $\pi_{M}=\pi_{\theta}$ for all $M\in\calM_{\phi}$.

Further denote $\bar\Phi$ the unaggregated version, 
$\bar\Phi := \{\{(M,\pi)|M\in\calM_{\phi}\}|\phi\in\Phi,\pi\in\Pi\}$.
Then
$\dec_{\eta}^{\textsc{kl}}(\Phi)=\dec_{\eta}^{\textsc{kl}}(\bar\Phi)$ and $\bar\calM(\Phi)=\bar\calM(\bar\Phi)$.
\end{lemma}
\begin{proof}
The second statement is trivial since the convexivication is policy-unaware.
For the first statement, observe that for any function $F:\bigcup_{\phi\in\Phi}\Delta(\calM_{\phi})\times\Pi\rightarrow \bbR$, such that for any $\pi^\star_{\phi}=\argmax_{\pi\in\Pi}F(\nu_\phi,\pi)$ for any $\nu_\phi\in\Delta(\phi)$, we have
\begin{align*}
    \max_{(\calM_\phi,\pi)\in\bar\Phi}\max_{\nu_\phi\in\Delta(\calM_\phi)}F(\nu_{\phi},\pi)&=\max_{\phi\in\Phi}\max_{\nu_\phi\in\Delta(\calM_\phi)}\max_{\pi\in\Pi}F(\nu_{\phi},\pi)\\
    &=\max_{\phi\in\Phi}\max_{\nu_\phi\in\Delta(\calM_\phi)}F(\nu_{\phi},\pi^\star_\phi)\,.
\end{align*}
Finally, notice that $\dec_{\eta}^{\textsc{kl}}(\calM,\Phi)$ for a fixed $\bar M$ and $\pi$ is exactly such a function $F$. Using the equality above shows the equality between the complexities.
\end{proof}

\begin{lemma}\label{lem: max infoair to air}
    For fixed comparator games, i.e. $\Phi=\Theta\times\Pi$, we have 
$$\max_{\nu\in\Delta(\calM)}\max_{\pi^\Theta\in\Pi^\Theta}\infoair^\Theta_{\rho_t,\eta}(p,\nu,\pi_t^\Theta)
=\max_{\nu\in\Delta(\Psi)}\air^{\Phi}_{\rho,\eta}(p,\nu)\,.$$
\end{lemma}
\begin{proof}
    The RHS can be seen as a function 
    \begin{align}
        \max_{\nu\in\Delta(\Psi)}\E_{\phi^\star\sim\nu}\left[F(\nu_{\bo{M}}(\cdot|\phi^\star),\pi^{\phi^\star};\rho,\eta,p)\right]\,.  \label{eq: obje}
    \end{align}
    For any $\theta\in\Theta$, define 
    \begin{align*}
        \phi^\star(\theta) := \argmax_{\phi\in \theta\times\Pi}F(\nu_{\bo{M}}(\cdot|\phi),\pi^{\phi};\rho,\eta,p)\,.
    \end{align*}
    The objective \pref{eq: obje} is maximized when $\forall\phi\in\Phi$: 
    $\nu_{\bo{M}}(\cdot|\phi)=\argmax_{\mu\in\Delta(\phi)}F(\mu_{\bo{M}},\pi^{\phi};\rho,\eta,p)$.
    Also, we never decrease the objective by shifting probability mass from $\phi=(\theta,\pi)$ towards $\phi^\star(\theta)$ by the definition of $\phi^\star(\theta)$.
    Hence 
    \begin{align*}
        \max_{\nu\in\Delta(\Psi)}\air^{\Phi}_{\rho,\eta}(p,\nu
        )&=\max_{\nu\in\Delta(\Psi)}\E_{\phi\sim\nu}\left[F(\nu_{\bo{M}}(\cdot|\phi),\pi^{\phi};\rho,\eta,p)\right]
        \\&=\max_{\mu\in\Delta(\calM)}\E_{\theta\sim\mu}\left[F(\mu(\cdot|\theta),\pi^{\phi^\star(\theta)};\rho,\eta,p)\right]
        \\&=\max_{\mu\in\Delta(\calM)}\max_{\pi^\Theta\in\Pi^\Theta}\E_{\theta\sim\mu}\left[F(\mu(\cdot|\theta),\pi^{\theta};\rho,\eta,p)\right]
        \\&=\max_{\nu\in\Delta(\calM)}\max_{\pi^\Theta\in\Pi^\Theta}\infoair^\Theta_{\rho_t,\eta}(p,\nu,\pi^\Theta)\,.
    \end{align*}
\end{proof}
\begin{proof}\textbf{of \pref{thm: informed}\ \ }
The proof is almost the same as \pref{thm: general} but changing $\pi^\star$ to the revealed $\pi^\theta$ and not requiring a joint distribution over $\Theta\times\Pi$. We give a full proof here for completion. %\jz{We need to to change notation to how infoair is defined in the main body. $\mu(\cdot|\pi^\Phi)$ should not appear anymore (or needs to be defined)}
    \begin{align*}
    &\E[\Reg(\pi_{1:T}^{\theta^\star})] - \frac{\log|\Theta|}{\eta} \\
       &\leq \E\left[\sum_{t=1}^T \left(V_{M_t}(\pi_t^{\theta^\star}) -  V_{M_t}(\pi_t) - \frac{1}{\eta}\log\frac{\rho_{t+1}(\theta^\star)}{\rho_t(\theta^\star)} \right)\right] \\
       &= \E\left[\sum_{t=1}^T  \E_{\pi\sim p_t} \E_{o\sim M_t(\cdot|\pi)}\left[ V_{M_t}(\pi_t^{\theta^\star}) -  V_{M_t}(\pi) - \frac{1}{\eta} \log\frac{\nu_t(\theta^\star|\pi, o)}{\rho_t(\theta^\star)} \right]\right] \\
       \\&\le \E\left[\sum_{t=1}^T  \max_{\mu \in \Delta(\calM)}\E_{\theta^\star \sim \mu}\E_{M \sim \mu(\cdot|\theta^\star)}\E_{\pi\sim p_t} \E_{o\sim M(\cdot|\pi)}\left[ V_{M}(\pi_t^{\theta^\star}) -  V_{M}(\pi) - \frac{1}{\eta} \log\frac{\nu_t(\theta^\star|\pi, o)}{\rho_t(\theta^\star)} \right]\right] 
       % \\&= \E\left[\sum_{t=1}^T  \E_{\theta^\star \sim \nu_t}\E_{M \sim \nu_t(\cdot|\theta^\star)}\E_{\pi\sim p_t} \E_{o\sim M(\cdot|\pi)}\left[ V_{M}(\pi_t^{\theta^\star}) -  V_{M}(\pi) -  \frac{1}{\eta} \KL\left( \left(\nu_{t}\right)_{\bo{\theta}}(\cdot|\pi, o), \rho_t\right)\right]\right] 
       \\&= \E\left[ \sum_{t=1}^T  \max_{\nu\in\Delta(\calM)} \E_{\pi\sim p_t} \E_{\theta \sim \nu}\E_{M\sim \nu(\cdot|\theta)} \E_{o\sim M(\cdot|\pi)}\left[ V_{M}(\pi_t^{\theta}) -  V_{M}(\pi) - \frac{1}{\eta} \KL\left( \nu_{\bo{\theta}}(\cdot|\pi, o), \rho_t\right) \right]\right] \tag{\pref{lem: max posterior}}  \\
       &= \E\left[ \sum_{t=1}^T  \min_{p\in\Delta(\Pi)}\max_{\nu\in\Delta(\calM)} \E_{\pi\sim p} \E_{\theta \sim \nu}\E_{M\sim \nu(\cdot|\theta)} \E_{o\sim M(\cdot|\pi)}\left[ V_{M}(\pi_t^{\theta}) -  V_{M}(\pi) - \frac{1}{\eta} \KL\left( \nu_{\bo{\theta}}(\cdot|\pi, o), \rho_t\right) \right]\right] \\
       &= \E\left[ \sum_{t=1}^T  \min_{p\in\Delta(\Pi)}\max_{\nu\in\Delta(\calM)}  
 \infoair^\Theta{\rho_t,\eta}(p,\nu,\pi_t^\Theta)\right] \\
       &= \E\left[ \sum_{t=1}^T  \max_{\nu\in\Delta(\calM)}\min_{p\in\Delta(\Pi)}  
 \infoair^\Theta{\rho_t,\eta}(p,\nu,\pi_t^\Theta)\right]   \tag{\pref{lem:minmax}}  \\
    &\leq  T \max_{\pi^\Theta\in\Pi^\Theta}\max_{\rho\in \Delta(\Theta)}\max_{\nu\in\Delta(\calM)}\min_{p\in\Delta(\Pi)}  
\infoair^\Theta_{\rho,\eta}(p,\nu,\pi^\theta). 
\end{align*}
%\begin{lemma}
%    \begin{align*}
    %\max_{\pi^\Phi\in\Pi^\Phi}\max_{q\in\Delta(\Phi)}\max_{\nu\in\Delta(\joint)}\min_{p\in\Delta(\Pi)} \infoair^\Phi_{q,\eta}(p,\nu, \pi^\Phi) \le \dec^{\textsc{KL}}_\eta(\bar\calM(\Phi))
    %\end{align*}
%\label{lem:fAIR-dec}
%\end{lemma}
Finally, by \pref{lem:minmax} and \pref{lem: max infoair to air}, we have
\begin{align*}
    \max_{\pi^\Theta\in\Pi^\Theta}\max_{\rho\in \Delta(\Theta)}\max_{\nu\in\Delta(\calM)}\min_{p\in\Delta(\Pi)}  
\infoair^\Theta_{\rho,\eta}(p,\nu,\pi^\theta) = \max_{\rho\in \Delta(\Phi)}\max_{\nu\in\Delta(\joint)}\min_{p\in\Delta(\Pi)}  
\air^\Phi_{\rho,\eta}(p,\nu)\,.
\end{align*}
Using \pref{lem: dec equiv} and noting $\bar\calM(\Phi)=\bar\calM(\Theta)$ finishes the proof.
\end{proof}





\begin{proof}\textbf{of \pref{thm: simultaneous full-info}\ \ }
Define the players (randomized) meta-policy as
\begin{align*}
    \pi_t^\theta(a|s) \propto \exp\left(\gamma\sum_{i=1}^{t-1}Q^{\pi_i^\theta}(s,a;M^\theta_i)\right)\,,
\end{align*}
where $Q^{\pi}(\cdot,\cdot;M)$ is the $Q$ function of policy $\pi$ under model $M$. That this policy is computable relies crucially on the availability of $M_t^{\theta}$ for all $\theta\in\Theta$.
 We have

\begin{align*}
&\E\left[\sum_{t=1}^T \left(V_{M_t}(\pi^\star) - V_{M_t}(\pi_t^{\theta^\star})\right)\right]
\\&\le \E\left[\E_{s}^{M_t^{\theta^\star},\pi^\star} \left[\sum_{t=1}^T \sum_{a}\left(\pi^\star(a|s) - \pi_t^{\theta^\star}(a|s)\right)Q^{\pi_t^{\theta^\star}}(s, a; M_t^{\theta^\star})\right]\right]  \tag{\pref{lem:PDL}}
\\&\le \E\left[\E_{s}^{M_t^{\theta^\star},\pi^\star} \left[\frac{\log|\calA|}{\gamma}+\gamma T\right]\right]  \tag{$Q^\pi(s,a;M) \le 1$ and \pref{lem:EXP}}
\\&\le \left(\frac{\log|\calA|}{\gamma} + \gamma T\right) H \tag{$H$-stage MDP}\,.   
\end{align*}
\end{proof}

