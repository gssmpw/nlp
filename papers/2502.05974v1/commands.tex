\usepackage{xspace}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{framed}
\usepackage{bbm}
\usepackage{algorithm}
\usepackage{amsthm}
\usepackage[algo2e, vlined, ruled, linesnumbered]{algorithm2e}
%\usepackage{algorithmic}
\usepackage{natbib}
\usepackage{mathrsfs}
\usepackage{amssymb}
\usepackage{bm}
\usepackage[colorlinks=true, linkcolor=blue, citecolor=blue, breaklinks=true]{hyperref}
%\usepackage{makecell}
\usepackage{tabulary}
\usepackage{xcolor}
\usepackage{prettyref}
\usepackage{mathtools}
\usepackage{amsmath}
%\newcommand{\pref}{\prettyref}
\newcommand{\cw}[1]{{\color{magenta}(CW: #1)}}
\newcommand{\jz}[1]{{\color{olive}JZ: #1}}
\usepackage{multirow}
\usepackage{nicefrac}
%\usepackage[table]{xcolor}
\usepackage{amssymb}% http://ctan.org/pkg/amssymb
\usepackage{pifont}% http://ctan.org/pkg/pifont
\definecolor{Green}{rgb}{0.13, 0.65, 0.3}
\usepackage{colortbl}
\newcommand{\KL}{\text{KL}}
\newcommand{\pstar}{p^\star}
%\newcommand{\hatp}{\widehat{p}}
\newcommand{\hatq}{\widehat{q}}
%\newcommand{\one}{\mathbf{1}}
\newcommand{\calC}{\mathcal{C}}
\newcommand{\ee}{\bm{\mathrm{e}}}
\newcommand{\new}{\text{new}}
\newcommand{\old}{\text{old}}

%\usepackage{nicematrix}
\newcommand{\fillcell}{\cellcolor{blue!25}}
\newcommand{\thline}{\Xhline{\arrayrulewidth}}
\newcommand{\cmark}{\ding{51}}%
\newcommand{\xmark}{{\color{green}\ding{55}}}%
\DeclareMathOperator*{\argmin}{argmin} % no space, limits underneath in displays
\DeclareMathOperator*{\argmax}{argmax} % no space, limits underneath in displays


\newcommand{\hair}{\texttt{H-AIR}}
\newcommand{\qair}{\texttt{Q-AIR}}
\newcommand{\reg}{\texttt{reg}}
\newcommand{\odist}{\texttt{div}}

\newcommand{\Reg}{\text{\rm Reg}}
\newcommand{\hatReg}{\widehat{\text{\rm Reg}}}


\newcommand{\avgreg}{\rho}
\newcommand{\Rht}{\widehat{R}}
\newcommand{\calT}{\mathcal{T}}
\newcommand{\calG}{\mathcal{G}}
\newcommand{\calV}{\mathcal{V}}
\newcommand{\calA}{\mathcal{A}}
\newcommand{\calB}{\mathcal{B}}
\newcommand{\calE}{\mathcal{E}}
\newcommand{\calZ}{\mathcal{Z}}
\newcommand{\calH}{\mathcal{H}}
\newcommand{\calS}{\mathcal{S}}
\newcommand{\calM}{\mathcal{M}}
\newcommand{\calN}{\mathcal{N}}
\newcommand{\calI}{\mathcal{I}}
\newcommand{\calU}{\mathcal{U}}
\newcommand{\calL}{\mathcal{L}}
\newcommand{\calJ}{\mathcal{J}}
\newcommand{\calP}{\mathcal{P}}
\newcommand{\calQ}{\mathcal{Q}}
\newcommand{\calD}{\mathcal{D}}
\newcommand{\calF}{\mathcal{F}}
\newcommand{\calO}{\mathcal{O}}

\newcommand{\bark}{\overline{k}}
\newcommand{\tildeDelta}{\widetilde{\Delta}}
%\newcommand{\barR}{\overline{R}}
\newcommand{\underbeta}{\underline{\beta}}
\newcommand{\overbeta}{\overline{\beta}}

\newcommand{\ellest}{\ell^{\text{est}}}
\newcommand{\underA}{\underline{A}}
\newcommand{\overA}{\overline{A}}
\newcommand{\underB}{\underline{B}}
\newcommand{\overB}{\overline{B}}
\newcommand{\underP}{\underline{P}}
\newcommand{\overP}{\overline{P}}
\newcommand{\diff}{\text{diff}}
\newcommand{\conf}{\textit{conf}}
\newcommand{\nmax}{\widehat{n}\xspace}
\newcommand{\res}{\textit{res}}
\newcommand{\hatres}{\widehat{\textit{res}}}
\newcommand{\flag}{\text{flag}}
%\newcommand{\tildepi}{\widetilde{\pi}}
\newcommand{\const}{\zeta}
\newcommand{\hatp}{\widehat{p}}
\newcommand{\hatpi}{\widehat{\pi}}
\newcommand{\hatw}{\widehat{w}}
\newcommand{\tilder}{\widetilde{r}}
\newcommand{\tildep}{\widetilde{p}}
\newcommand{\tildeJ}{\widetilde{J}}
\newcommand{\hatL}{\widehat{L}}
\newcommand{\tildegamma}{\widetilde{\gamma}}
\newcommand{\tildeh}{\widetilde{h}}
\newcommand{\tilderho}{\widetilde{\rho}}
\newcommand{\barr}{\overline{r}}
\newcommand{\barp}{\overline{p}}
\newcommand{\spn}{\textrm{sp}}
\newcommand{\tildeD}{\widetilde{D}}
\newcommand{\disc}{\textit{disc}}
\newcommand{\calR}{\mathcal{R}}
\newcommand{\hatcalR}{\widehat{\calR}}
\newcommand{\terminate}{\textit{``terminate''}\xspace}
\newcommand{\hatbeta}{\widehat{\beta}}
\newcommand{\hatgamma}{\widehat{\gamma}}
\newcommand{\hatDelta}{\widehat{\Delta}}
\newcommand{\hatY}{\widehat{Y}}
\newcommand{\haty}{\widehat{y}}
\newcommand{\Bstar}{B^\star}
\newcommand{\dev}{\text{Dev}}
\newcommand{\hatx}{\widehat{x}}
\newcommand{\hatd}{\widehat{d}}
\newcommand{\hatpsi}{\widehat{\psi}}

\newcommand{\pp}{\textsf{p}}
\newcommand{\rr}{\textsf{r}}

\newcommand{\Qpred}{Q^{\text{pred}}}
\newcommand{\Qhat}{\widehat{Q}}
\newcommand{\Vpred}{V^{\text{pred}}}
\newcommand{\Vhat}{\widehat{V}}
\newcommand{\rpred}{r^{\text{pred}}}
\newcommand{\ppred}{p^{\text{pred}}}
\newcommand{\rhat}{\widehat{r}}
\newcommand{\phat}{\widehat{p}}
\newcommand{\guess}{\text{guess}}

\newcommand{\myComment}[1]{\null\hfill\scalebox{0.9}{\text{\color{black}$\triangleleft$ \textsf{#1}}}}
\newcommand{\dupp}{\overline{D}}
\newcommand{\dtil}{\widetilde{D}}
\newcommand{\hatcalY}{\widehat{\mathcal{Y}}}
\newcommand{\hatcalX}{\widehat{\mathcal{X}}}
\newcommand{\hatcalV}{\widehat{\mathcal{V}}}
\newcommand{\hatG}{\widehat{G}}
\newcommand{\bq}{\mathbf{q}}
\newcommand{\bp}{\mathbf{p}}
\newcommand{\bb}{\mathbf{b}}
\newcommand{\be}{\mathbf{e}}
\newcommand{\br}{\mathbf{r}}
\newcommand{\LCB}{\text{LCB}}
\newcommand{\barReg}{\overline{\text{\rm Reg}}}
\newcommand{\otil}{\widetilde{\order}}
\newcommand{\emphdef}[1]{{\color{red}\emph{(#1)}}\xspace}
\newcommand{\hatQ}{\hat{Q}}
\newcommand{\pen}{\text{pen}}
\newcommand{\stab}{\text{stab}}

\newcommand{\acw}{{\small\textsf{\textup{UCRL-ACW}}}\xspace}
\newcommand{\ucrlcw}{{\small\textsf{\textup{UCRL-CW}}}\xspace}
\newcommand{\mucrl}{{\small\textsf{\textup{MUCRL}}}\xspace}
\newcommand{\tournament}{\textsc{Tournament}\xspace}

\newcommand{\poly}{\textit{poly}}
\newcommand{\E}{\mathbb{E}}
\newcommand{\bbP}{\mathbb{P}}
\newcommand{\bbR}{\mathbb{R}}
\newcommand{\order}{\mathcal{O}}
\newcommand{\Thetatil}{\widetilde{\Theta}}
\newcommand{\child}{\text{child}}
%\newcommand{\poly}{\text{poly}}
\newcommand{\pt}{p^{(t)}}
\newcommand{\rt}{r^{(t)}}
\newcommand{\parent}{\text{parent}}
%\newcommand{\rt}{\text{root}}
\newcommand{\winner}{\text{winner}}
\newcommand{\leaf}{\text{leaves}}
\newcommand{\nul}{\text{Null}\xspace} 
\newcommand{\vote}{\textsc{SelectionRule}\xspace}
\newcommand{\level}{\textsc{Level}\xspace}
\newcommand{\lev}{\text{level}}
%\newcommand{\Reg}{\text{Reg}\xspace}
\newcommand{\SR}{\Pi^{\text{S}}}
\newcommand{\TR}{\Pi^{\text{T}}}
\newcommand{\HR}{\Pi^{\text{H}}}
\newcommand{\thit}{t_{\text{hit}}}
\newcommand{\hatr}{\widehat{r}}
\newcommand{\hatell}{\widehat{\ell}}
\newcommand{\ztil}{\widetilde{z}}
\newcommand{\norm}[1]{\left\|#1\right\|}
\newcommand{\opnorm}[1]{\left\|#1\right\|_{\text{op}}}
\newcommand{\trade}{\beta}
\newcommand{\tr}{\operatorname{Tr}}

\newcommand{\hatdev}{\widehat{\Delta}}
\newcommand{\rmax}{R_{\max}}
\newcommand{\calX}{\mathcal{X}}
\newcommand{\calY}{\mathcal{Y}}
\newcommand{\one}{\mathbf{1}}
\newcommand{\inner}[1]{\left\langle#1\right\rangle}
\newcommand{\rsi}{\text{SP-RSI}\xspace}
\newcommand{\der}{\mathrm{d}}
\newcommand{\hatV}{\widehat{V}}

\newcommand{\hatg}{\widehat{g}}
\newcommand{\tildef}{\widetilde{f}}
\newcommand{\tildeg}{\widetilde{g}}

\newcommand{\alg}{{\small\textsf{\textup{ALG}}}\xspace}
\newcommand{\inst}{\textit{alg}\xspace} 
\newcommand{\algs}{S\xspace}
\newcommand{\multialg}{{\small\textsf{\textup{MALG}}}\xspace}
\newcommand{\regbound}{C}
\newcommand{\multireg}{\widehat{C}}
\newcommand{\multiavg}{\widehat{\rho}}
\newcommand{\gap}{\alpha}
\newcommand{\multigap}{\widehat{\alpha}}
\newcommand{\masteralg}{{\small\textsf{\textup{MASTER}}}\xspace}
\newcommand{\term}{\textbf{term}}
\newcommand{\ucrl}{{\small\textsf{\textup{UCRL}}}\xspace}
\newcommand{\uc}{\textrm{ucrl}}
\newcommand{\baralpha}{\widetilde{\alpha}}
\newcommand{\barH}{\widetilde{H}}
\newcommand{\barmu}{\widetilde{\mu}}

\newcommand{\Rob}{\text{Rob}}
%\newtheorem*{theorem*}{Theorem}
\newtheorem{theorem}{Theorem}
\newtheorem{assumption}{Assumption}
\newtheorem{remark}{Remark}
\newcommand{\testone}{\textbf{Test~1}\xspace}
\newcommand{\testtwo}{\textbf{Test~2}\xspace}
\newcommand{\highlight}[1]{{\color{blue}#1}}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{claim}[theorem]{Claim}
\newtheorem{corollary}[theorem]{Corollary}
%\newtheorem{procedures}[theorem]{Procedure}
%\newtheorem*{lemma*}{Lemma}
\newtheorem{definition}[theorem]{Definition}

%\newcommand{\chenyu}[1]{\textcolor{red}{[CY: #1]}}
%\newcommand{\chungwei}[1]{\textcolor{orange}{(CW:#1)}}

%\theoremstyle{definition}
%\newtheorem{property}{Property}
\usepackage{tikz}
\newcommand*\circled[1]{\tikz[baseline=(char.base)]{
    \node[shape=circle,draw,inner sep=2pt] (char) {#1};}}



\newenvironment{protocol}[1][htb]
  {\renewcommand{\algorithmcfname}{Protocol}% Update algorithm name
   \begin{algorithm2e}[#1]%
   }{\end{algorithm2e}}
 
\newenvironment{example}[1][htb]
  {
  \renewcommand{\algorithmcfname}{Example} 
   \begin{algorithm2e}[#1]%
   }{\end{algorithm2e}}


\newenvironment{procedures}[1][htb]
  {\renewcommand{\algorithmcfname}{Procedure}% Update algorithm name
   \begin{algorithm2e}[#1]%
   }{\end{algorithm2e}}


\def\QED{{\phantom{x}} \hfill \ensuremath{\rule{1.3ex}{1.3ex}}}
\newcommand{\extraproof}[1]{\rm \trivlist 

\item[\hskip \labelsep{\bf Proof of #1. }]}
\def\endextraproof{\QED \endtrivlist}

\newenvironment{rtheorem}[3][]{

\bigskip

\noindent \ifthenelse{\equal{#1}{}}{\bf #2 #3}{\bf #2 #3 (#1)}
\begin{it}
}{\end{it}}

\newcommand{\nonl}{\renewcommand{\nl}{\let\nl}}
\def\NoNumber#1{{\def\alglinenumber##1{}\State #1}\addtocounter{ALG@line}{-1}}
\newcommand{\obs}{o}




\usepackage{prettyref}
\newcommand{\pref}[1]{\prettyref{#1}}
\newcommand{\pfref}[1]{Proof of \prettyref{#1}}
\newcommand{\savehyperref}[2]{\texorpdfstring{\hyperref[#1]{#2}}{#2}}
\newrefformat{eq}{\savehyperref{#1}{Eq.~\textup{(\ref*{#1})}}}
\newrefformat{eqn}{\savehyperref{#1}{Equation~\ref*{#1}}}
\newrefformat{lem}{\savehyperref{#1}{Lemma~\ref*{#1}}}
\newrefformat{lemma}{\savehyperref{#1}{Lemma~\ref*{#1}}}
\newrefformat{def}{\savehyperref{#1}{Definition~\ref*{#1}}}
\newrefformat{line}{\savehyperref{#1}{Line~\ref*{#1}}}
\newrefformat{thm}{\savehyperref{#1}{Theorem~\ref*{#1}}}
\newrefformat{corr}{\savehyperref{#1}{Corollary~\ref*{#1}}}
\newrefformat{cor}{\savehyperref{#1}{Corollary~\ref*{#1}}}
\newrefformat{sec}{\savehyperref{#1}{Section~\ref*{#1}}}
\newrefformat{subsec}{\savehyperref{#1}{Section~\ref*{#1}}}
\newrefformat{app}{\savehyperref{#1}{Appendix~\ref*{#1}}}
\newrefformat{assum}{\savehyperref{#1}{Assumption~\ref*{#1}}}
\newrefformat{ex}{\savehyperref{#1}{Example~\ref*{#1}}}
\newrefformat{fig}{\savehyperref{#1}{Figure~\ref*{#1}}}
\newrefformat{alg}{\savehyperref{#1}{Algorithm~\ref*{#1}}}
\newrefformat{rem}{\savehyperref{#1}{Remark~\ref*{#1}}}
\newrefformat{conj}{\savehyperref{#1}{Conjecture~\ref*{#1}}}
\newrefformat{prop}{\savehyperref{#1}{Proposition~\ref*{#1}}}
\newrefformat{proto}{\savehyperref{#1}{Protocol~\ref*{#1}}}
\newrefformat{prob}{\savehyperref{#1}{Problem~\ref*{#1}}}
\newrefformat{claim}{\savehyperref{#1}{Claim~\ref*{#1}}}
\newrefformat{que}{\savehyperref{#1}{Question~\ref*{#1}}}
\newrefformat{op}{\savehyperref{#1}{Open Problem~\ref*{#1}}}
\newrefformat{fn}{\savehyperref{#1}{Footnote~\ref*{#1}}}
\newrefformat{tab}{\savehyperref{#1}{Table~\ref*{#1}}}
\newrefformat{fig}{\savehyperref{#1}{Figure~\ref*{#1}}}
\newrefformat{proc}{\savehyperref{#1}{Procedure~\ref*{#1}}}

\newcommand{\dec}{\mathsf{DEC}}
\usepackage{caption}

\newcommand{\clip}{\text{clip}}

\newcommand{\Vcirc}{\accentset{\circ}{V}}
\newcommand{\Qcirc}{\accentset{\circ}{Q}}

\usepackage{accents}
%\DeclareCaptionFormat{myformat}{#3}
%\captionsetup[algorithm]{format=myformat}


\newcommand{\air}{\mathsf{AIR}}
\newcommand{\mair}{\mathsf{MAIR}}