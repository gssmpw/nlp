% Math package
\usepackage{mathtools}
\usepackage{amsmath}
%\usepackage{amsthm}
\let\Bbbk\relax
\usepackage{amssymb}
\usepackage{amsfonts}
\usepackage{amsopn}
\usepackage{graphicx} % Necessary to use \scalebox
\usepackage{textcomp}
\usepackage{xfrac}
\usepackage{bbm}
% Figures
\usepackage{overpic}
\usepackage{subfig}
\usepackage{wrapfig}
\usepackage[ruled,vlined,linesnumbered]{algorithm2e}
\SetAlFnt{\small}
\SetAlCapFnt{\small}
\SetAlCapNameFnt{\small}
\SetAlCapHSkip{0pt}

\usepackage{multirow}

\usepackage{booktabs}
\usepackage{footnote}
\usepackage{paralist}
\usepackage{enumitem}
\usepackage{autobreak}
\usepackage{hyperref}
\usepackage{cleveref}
\usepackage{cite}
\usepackage{siunitx}


%\usepackage[T1]{fontenc}
%\usepackage{lmodern}

%%
%% color comments are made possilble below
%%
\usepackage{color}
\definecolor{green}{rgb}{0, 0.4, 0}
\definecolor{orange}{rgb}{0.8, 0.6, 0.2}
\definecolor{red}{rgb}{1.0, 0.0, 0.0}
\definecolor{teal}{rgb}{0.0, 0.4, 0.4}
\definecolor{purple}{rgb}{0.65,0,0.65}
\definecolor{saffron}{rgb}{0.95,0.75,0.2}
\definecolor{turquoise}{rgb}{0.0,0.5,0.5}
\definecolor{brown}{rgb}{0.5, 0.16, 0.16}


% Overpic + myFigurename
\usepackage{overpic}
\usepackage{currfile} % \currfiledir
\newcommand{\vertical}[1]{\rotatebox{90}{#1}}
\newcommand{\myfigurename}{\put(-3,0){\vertical{\todo{\currfiledir}}}}
\renewcommand{\myfigurename}{}
\newlength\savedwidth
\newcommand\whline[1]{\noalign{\global\savedwidth\arrayrulewidth
		\global\arrayrulewidth #1} %
	\hline
	\noalign{\global\arrayrulewidth\savedwidth}}

\newcommand{\rev}[1]{{\color{blue}#1}}

\newcommand{\fix}[1]{{\color{blue}#1}}
\newcommand{\tofix}[1]{{\color{red}[To fix: #1]}}
%\newcommand{\supl}[1]{{\color{black}\emph{#1}}}
\newcommand{\supl}[1]{{\color{black}#1}}

\newcommand{\kxc}[1]{{\color{red}[KX: #1]}}
\newcommand{\kx}[1]{{\color{red}[#1]}}

\definecolor{lightgray}{rgb}{0.6, 0.6, 0.6}
\newenvironment{draft}{\color{red}}{\color{black}}
\newcommand{\todo}[1]{{\textcolor{red}{#1}}}
\newcommand{\TODO}[1]{{\textcolor{red}{[TODO: #1]}}}
\newcommand{\xunyong}[1]{{\textcolor{blue}{[jiazhao: #1]}}}
\newcommand{\gireesh}[1]{{\textcolor{teal}{[gireesh: #1]}}}

\newcommand{\addcite}[1]{{\textcolor{red}{[cite]}}}


\newcommand{\remove}[1]{{\overline{blue}{#1}}}



\definecolor{revisedcolor}{RGB}{100,0,200}
\newcommand{\revised}[1]{{\textcolor{revisedcolor}{#1}}}

\newcommand{\st}[1]{{\color{red}\sout{#1}}}
\newcommand{\od}[1]{{\color{red}#1}}
\newcommand{\odcmt}[1]{{\color{red}COMMENT: #1}}
\newcommand{\stod}[2]{\st{#1}{\color{red}{#2}}}

\newcommand{\changed}[1]{{\color{cyan}#1}}


%%
\newcommand{\Fig}[1]{Figure~\ref{fig:#1}}
\newcommand{\Eq}[1]{Eq.~(\ref{eq:#1})}
\newcommand{\Eqs}[2]{Eq.~(\ref{eq:#1}--\ref{eq:#2})}
\newcommand{\eq}[1]{(\ref{eq:#1})}
\newcommand{\Sec}[1]{Section~\ref{sec:#1}}
\newcommand{\Algo}[1]{Algorithm~\ref{algo:#1}}
\newcommand{\AlgoL}[1]{Line~\ref{algol:#1}}
\newcommand{\Tab}[1]{Table~\ref{tab:#1}}

% Corrections style
\usepackage[normalem]{ulem}
\newcommand{\scratch}[1]{{\color{red}\sout{#1}}}

\newcommand{\textapprx}{\raisebox{0.1ex}{\texttildelow}}
\newcommand{\pcite}{\protect\cite}

% \newcommand{\num}{{\color{blue}[X]~}}
\newcommand{\perc}{{\color{blue}[X\%]~}}


%%
%% text layout (COMMENT IN CAMERA READY)
%%
% Insert whitespace at the end of a paragraph
\setlength{\parskip}{.2\baselineskip}%
% Don't intent by default on new paragraph
%\setlength{\parindent}{0pt}%
% Ugly new siggraph paragraphs
%\renewcommand{\paragraph}[1]{\textbf{#1}}

%\newcommand{\etal}{et al.}
\newcommand{\hidecomment}[1]{}
%\newcommand{\ie}{i.e.~\/}
%\newcommand{\argmin}{\arg\!\min}
\newcommand{\R}{\mathbb{R}}
\newcommand{\cM}{\mathcal{M}}
\newcommand{\cN}{\mathcal{N}}
\newcommand{\cF}{\mathcal{F}}
\newcommand{\cS}{\mathcal{S}}
\newcommand{\cP}{\mathcal{P}}
\newcommand{\Q}{\mathcal{Q}}
\newcommand{\cI}{\mathcal{I}}
\newcommand{\cD}{\mathcal{D}}
\newcommand{\cL}{\mathcal{L}}
\newcommand{\cB}{\mathcal{B}}
\newcommand{\cC}{\mathcal{C}}
\newcommand{\cG}{\mathcal{G}}
\newcommand{\cV}{\mathcal{V}}
\newcommand{\cA}{\mathcal{A}}

\newcommand{\bw}{\mathbf{w}}
\newcommand{\bR}{\mathbf{R}}
\newcommand{\bn}{\mathbf{n}}
\newcommand{\br}{\mathbf{r}}
\newcommand{\bo}{\mathbf{o}}
\newcommand{\bx}{\mathbf{x}}
\newcommand{\bc}{\mathbf{c}}
\newcommand{\be}{\mathbf{e}}
\newcommand{\bs}{\mathbf{s}}
\newcommand{\bv}{\mathbf{v}}
\newcommand{\bq}{\mathbf{q}}
\newcommand{\bp}{\mathbf{p}}
\newcommand{\bt}{\mathbf{t}}
\newcommand{\bz}{\mathbf{z}}
\newcommand{\vn}{\vec{n}}
\newcommand{\bepsilon}{{\bf \epsilon}}
\newcommand{\bT}{\mathbf{T}}
\newcommand{\vc}{\vec{c}}
\newcommand{\bM}{\mathbf{M}}
\newcommand{\tv}{\tilde{v}}
\newcommand{\tdC}{\tilde{C}}
\newcommand{\tdD}{\tilde{D}}
\newcommand{\tW}{\text{W}}
\newcommand{\te}{\text{e}}
\newcommand{\bzero}{\mathbf{0}}
\newcommand{\bone}{\mathbf{1}}
\newcommand{\tm}{\text{m}}
\newcommand{\tQ}{\tilde{Q}}
\newcommand{\tp}{\text{p}}
\newcommand{\too}{\text{o}}



\DeclareMathOperator*{\argmin}{arg\,min}
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator{\sign}{sign}




\newcommand{\ps}{\mathcal{P}}
\newcommand{\nb}{\mathcal{N}}
\newcommand{\gt}{\mathcal{T}_\text{G}}
\newcommand{\gtx}{\mathcal{T}_\text{G}^x}
\newcommand{\gty}{\mathcal{T}_\text{G}^y}
\newcommand{\gtz}{\mathcal{T}_\text{G}^z}
\newcommand{\lt}{\mathcal{T}_\text{L}}
\newcommand{\xmin}{x_\text{min}}
\newcommand{\xmax}{x_\text{max}}
\newcommand{\ymin}{y_\text{min}}
\newcommand{\ymax}{y_\text{max}}
\newcommand{\zmin}{z_\text{min}}
\newcommand{\zmax}{z_\text{max}}

\newcommand{\best}[1]{{$\mathbf{\color{blue} #1}$}}
\newcommand{\sbest}[1]{{$\mathbf{\color{green} #1}$}}

\usepackage{xspace}
% Scene acronyms
\newcommand{\DSICL}{\texttt{ICL-NUIM}\xspace}
\newcommand{\DSTUM}{\texttt{TUM RGB-D}\xspace}
\newcommand{\DSETH}{\texttt{ETH3D}\xspace}
\newcommand{\DSETHCS}{\texttt{ETH3D-CS}\xspace}
\newcommand{\DSFCM}{\texttt{FastCaMo}\xspace}
\newcommand{\DSFCMS}{\texttt{FastCaMo-Synth}\xspace}
\newcommand{\DSFCMR}{\texttt{FastCaMo-Real}\xspace}
\newcommand{\DSFCML}{\texttt{FastCaMo-Large}\xspace}
\newcommand{\DSREPL}{\texttt{Replica}\xspace}
\newcommand{\DSSN}{\texttt{ScanNet}\xspace}

% Other algorithms acronyms
% Acronyms for algorithms 
