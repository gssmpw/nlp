% \clearpage
\section{Prompt Template Details}
\label{prompt_template_details}
% \subsubsection{Medical QA}
% \subsubsection{Financial QA}
% \subsubsection{Code Generation}

\subsection{Sampling Queries}
\label{sec:sampling_queries}
Prompt template shown in Figure \ref{fig:sample_queries} instructs GPT to act as a data creator by generating a new question similar to given private data from three private datasets.
GPT synthetic structured task instructions that align with previous patterns for the subsequently model fine-tuning.

\subsection{Sampling Response}
\label{sec:sampling_response}
% \subsubsection{Medical QA}
Figure \ref{fig:medical_sampling_response}, \ref{fig:finance_sampling_response} and \ref{fig:code_sampling_response} show the prompt templates we employed to sample responses from Medical QA, Financial QA and Code Generation datasets, respectively.
% \subsubsection{Financial QA}
% Prompt template shown in Figure 
% % \subsubsection{Code Generation}
% Prompt template shown in Figure  

\subsection{Generate Feedback}
\label{sec:generate_feedback}
% \subsubsection{Medical QA}
Prompt templates shown in Figure \ref{fig:medical_generate_feedback}, \ref{fig:finance_generate_feedback} and \ref{fig:code_generate_feedback} use LLM-generated feedback to evaluate the strength of chosen responses and the weakness of rejected ones from generation proxy model. The prompt templates are respectively used for Medical QA, Financial QA and Code Generation datasets.
% \subsubsection{Financial QA}
% Prompt template shown in Figure 
% % \subsubsection{Code Generation}
% Prompt template shown in Figure 

\subsection{Refine Synthetic Data}
\label{sec:refine_synthetic_data} 
The prompt template illustrated in Figure \ref{fig:refine_synthetic_data} is employed to refine synthetic data. User queries and feedback are sent to the target LLM $W_{target}$, which then generates new candidate responses to achieve data refinement.

\clearpage
\newpage
\begin{figure*}[!tp]
\centering 
     \includegraphics[width=0.99\textwidth]
     {latex/fig/prompts/sampling_queries.pdf}  
     \caption{Prompt template for sampling queries}
     \label{fig:sample_queries}
\end{figure*}

\begin{figure*}[!tp]
\centering 
     \includegraphics[width=0.99\textwidth]
     {latex/fig/prompts/medical_sampling_response.pdf}  
     \caption{Prompt template for sampling responses in Medical QA dataset}
     \label{fig:medical_sampling_response}
\end{figure*}

\begin{figure*}[!tp]
\centering 
     \includegraphics[width=0.99\textwidth]
     {latex/fig/prompts/finance_sampling_response.pdf}  
     \caption{Prompt template for sampling responses in Financial QA dataset}
     \label{fig:finance_sampling_response}
\end{figure*}

\begin{figure*}[!tp]
\centering 
     \includegraphics[width=0.99\textwidth]
     {latex/fig/prompts/code_sampling_response.pdf}  
     \caption{Prompt template for sampling responses in Code Generation dataset}
     \label{fig:code_sampling_response}
\end{figure*}

\begin{figure*}[!tp]
\centering 
     \includegraphics[width=0.99\textwidth]
     {latex/fig/prompts/medical_generate_feedback.pdf}  
     \caption{Prompt template for generating feedback in Medical QA dataset}
     \label{fig:medical_generate_feedback}
\end{figure*}

\begin{figure*}[!tp]
\centering 
     \includegraphics[width=0.99\textwidth]
     {latex/fig/prompts/finance_generate_feedback.pdf}  
     \caption{Prompt template for generating feedback in Financial QA dataset}
     \label{fig:finance_generate_feedback}
\end{figure*}

\begin{figure*}[!tp]
\centering 
     \includegraphics[width=0.99\textwidth]
     {latex/fig/prompts/code_generate_feedback.pdf}  
     \caption{Prompt template for generating feedback in Code Generation dataset}
     \label{fig:code_generate_feedback}
\end{figure*}

\begin{figure*}[!tp]
\centering 
     \includegraphics[width=0.99\textwidth]
     {latex/fig/prompts/refine_synthetic_data.pdf}  
     \caption{Prompt template for refining synthetic data}
     \label{fig:refine_synthetic_data}
\end{figure*}

