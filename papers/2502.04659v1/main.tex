
\documentclass[letterpaper,twocolumn,10pt]{article}
\usepackage{usenix2019_v3}

\usepackage{tikz}
\usepackage{comment}



\usepackage[camera]{dtrt}


\hypersetup{
     colorlinks=true,
     linkcolor=blue,
     filecolor=blue,
     citecolor = blue,
     urlcolor=blue,
 }

\usepackage[T1]{fontenc}
\usepackage{amssymb, amsmath, amsthm, booktabs}
\usepackage{graphicx}
\usepackage[capitalize]{cleveref}
\usepackage{enumitem}
\usepackage{subcaption}
\usepackage{dashbox}
\usepackage{cancel}
\usepackage{float}
\usepackage{csquotes}
\usepackage{listings}
\usepackage{algorithm}
\usepackage[noend]{algpseudocode}
\usepackage[normalem]{ulem}


\usepackage{array}
\newcolumntype{H}{>{\setbox0=\hbox\bgroup}c<{\egroup}@{}}

\newcommand{\myparagraph}[1]{\smallskip\noindent\textbf{#1.}}
\newcommand{\myparagraphit}[1]{{\smallskip\textit{#1}}}

\crefname{part}{\S}{\S\S}
\crefname{chapter}{\S}{\S\S}
\crefname{section}{\S}{\S\S}
\crefname{subsection}{\S}{\S\S}

\crefname{claim}{Claim}{Claims}
\crefname{remark}{Remark}{Remarks}

\def\UrlBreaks{\do\/\do-}

\newcommand{\pname}{\texorpdfstring{\ensuremath{\mathsf{CRATE}}}{CRATE}}

\pagestyle{plain}




\begin{document}

\input{preamble}
\input{contracts/solidity-highlighting}	%

\date{}

\title{\Large \bf \pname: Cross-Rollup Atomic Transaction Execution}

\author{
{\rm Ioannis Kaklamanis}\\
Yale University
\and
{\rm Fan Zhang}\\
Yale University
} %

\maketitle

\begin{abstract}
Blockchains have revolutionized decentralized applications, with composability enabling atomic, trustless interactions across smart contracts. However, layer 2 (L2) scalability solutions like rollups introduce fragmentation and hinder composability.
Current cross-chain protocols, including atomic swaps, bridges, and shared sequencers, lack the necessary coordination mechanisms or rely on trust assumptions, and are thus not sufficient to support full cross-rollup composability.
This paper presents $\pname$, a secure protocol for cross-rollup composability that ensures all-or-nothing and serializable execution of cross-rollup transactions (CRTs).
 $\pname$ supports rollups on distinct layer 1 (L1) chains, achieves finality in 4 rounds on L1, and only relies on the underlying L1s and the liveness of L2s. We introduce two formal models for CRTs, define atomicity within them, and formally prove the security of $\pname$. We also provide an implementation of $\pname$ along with a cross-rollup flash loan application; our experiments demonstrate that $\pname$ is practical in terms of gas usage on L1.
\end{abstract}

\section{Introduction}~\label{sec:intro}
\input{sections/01_intro}

\section{Background}~\label{sec:background}
\input{sections/02_background}

\section{Technical Overview}~\label{sec:overview}
\input{sections/03_technical-overview}

\section{Formal Foundations}~\label{sec:foundations}
\input{sections/04_formal-foundations}


\section{\pname: Off-Chain Execution -- XEVM}~\label{sec:xevm}
\input{sections/05_xevm}

\section{\pname: 2PC Protocol}~\label{sec:2pc-trustless}
\input{sections/10_2pc-trustless}

\section{\pname: Safety and Liveness}~\label{sec:safety-liveness}
\input{sections/11_safety_liveness}


\section{\pname: Supporting DAG CRTs}~\label{sec:dag-crt-protocol}
\input{sections/13_dag-crt}


\section{Implementation and Evaluation}~\label{sec:implementation}


\input{sections/15_implementation}


\section{Discussion}~\label{sec:discussion}
\input{sections/16_discussion}

\section{Related Work}~\label{sec:relwork}
\input{sections/17_rel-work}


\section{Conclusion}~\label{sec:conclusion}
\input{sections/18_conclusion}


\section*{Acknowledgements}
We want to thank Fangyan Shi and Wenhao Wang for their help with the SNARK-based implementation of MPT verification, as well as Sen Yang for helpful discussions.



\bibliographystyle{plain}
\bibliography{ref,fanz}


\appendix
\newpage
\input{sections/20_appendix}

\end{document}
