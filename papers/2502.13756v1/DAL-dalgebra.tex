\section{Deontic Action Logic via Algebra}\label{sec:algebraic-char}

% The Deontic Action Logic \DAL enjoys some interesting characteristics.
% In particular, it is a simple system that provides a well-executed characterization of deontic operators.
% It enjoys an elegant semantics via sets and collections of sets (or dually via ideals and Boolean algebras).
% Interestingly also, \DAL further allows for additional deontic operators to be added systematically.
%More importantly, the formalism is sound and complete (Theorem 3.1 in \cite{Segerberg1982}).

We now turn our attention to revisiting and expanding the algebraic characterization of \DAL we presented in \cite{CCFA:2021}. To be noted, this algebraic framework is mathematically more abstract compared to the one in \cite{Segerberg1982}. This level of abstraction is a characteristic of algebraic logics, which can be leveraged to address broader issues in deontic logic. Furthermore, a distinguishing feature of our approach is its modularity. The class of algebras described below can be easily extended to support additional deontic operators, and in all cases, standard algebraic tools can be employed to prove soundness and completeness results.
We take advantage of this feature to build new deontic actions logics in the spirit of \DAL in \Cref{section:new:dals}.


\input{preliminaries}

\subsection{Algebraizing Deontic Action Logic}
We start the algebraization of  \DAL introducing its signature, i.e., the symbols needed to capture the language of the logic in an algebraic way.


%The first step in algebraizing a logic, and \DAL is no exception, is to view formulas of a logical language as terms of an algebraic language over an appropriate signature.
%To this end, we introduce the following definition.
%We define the signature and the algebraic language that we use in what follows.

\medskip
\begin{definition}\label[definition]{def:signature}
The signature of \DAL is a tuple $\Sigma = \tup{S, \Omega}$ where:
% \begin{enumerate}
% 	\item
		$S = \{\sorta, \sortf\}$; and %, i.e., $S$ has sort symbol $\sorta$ for actions, and sort symbol $\sortf$ for formulas; and
	% \item
		$\textstyle \bigcup \Omega = \{
			{\sqcup}, {\sqcap}, \bar{~}, \iact, \mathsf{1},
			{\lor}, {\land}, {\lnot}, {\bot}, {\top},
			{=}, {\perm}, {\forb}
		\}$.
	The symbols in $\textstyle \bigcup \Omega$ are further categorized into sets
		$\Omega_{\sorta\sorta\sorta}$,
		$\Omega_{\sorta\sorta}$,
		$\Omega_{\sorta}$,
		$\Omega_{\sortf\sortf\sortf}$,
		$\Omega_{\sortf\sortf}$,
		$\Omega_{\sortf}$,
		$\Omega_{\sorta\sorta\sortf}$,
		$\Omega_{\sorta\sortf}$ summarized in \Cref{tab:sig}.
	
	\begin{figure}
		\centering
		\begin{tabular}{r@{~}lr@{~}lr@{~}lr@{~}lr@{~}l}
			\toprule
			&& \multicolumn{8}{c}{operations}
			\tabularnewline
			\cmidrule{3-10}
			& sorts && actions && formulas && equality && normative
			\tabularnewline
			\midrule
			$S$ & $=\{\sorta, \sortf\}$ &
			$\Omega_{\sorta\sorta\sorta}$ & $= \{ {\sqcup}, {\sqcap}\}$ &
			$\Omega_{\sortf\sortf\sortf}$ & $= \{ {\lor}, {\land}\}$ &
			$\Omega_{\sorta\sorta\sortf}$ & $= \{ {=}\}$ &
			$\Omega_{\sorta\sorta\sortf}$ & $= \{ {\perm}, {\forb}\}$
			\tabularnewline
			&&
			$\Omega_{\sorta\sorta}$ & $= \{\bar{~}\}$ &
			$\Omega_{\sortf\sortf}$ & $= \{{\lnot}\}$ &
			\tabularnewline
			&&
			$\Omega_{\sorta}$ & $= \{\iact, \mathsf{1}\}$ &
			$\Omega_{\sortf}$ & $= \{\bot, \top\}$ &
			\tabularnewline
			\bottomrule
		\end{tabular}\\[1em]
		\caption{The Signature used in the algebraization of \DAL.}\label{tab:sig}
	\end{figure}
% \end{enumerate}
\end{definition}
\medskip

In our discussion on the algebraization of \DAL, we take $\Sigma = \tup{S, \Omega}$ to be as in \Cref{def:signature}.
Intuitively, the sort symbols $\sorta$ and $\sortf$ in $S$ categorize actions and formulas, respectively.
In turn, we think of $\Omega$ as containing
symbols for operations on actions, operations on formulas, and
(heterogeneous) operations from actions to formulas.

\medskip
\begin{definition}\label{dal:talg}
	The term algebra $\TAlgebra$ for \DAL uses the set ${\bact}$ as the set of variables of sort $\sorta$, and the empty set $\emptyset$ as the set of variables of sort $\sortf$.  We call this algebra the deontic action term algebra, or the algebraic language of \DAL.
\end{definition}
\medskip

The term algebra $\TAlgebra$ in \Cref{dal:talg} is interpreted over \emph{deontic action algebras}. Deontic action algebras are to \DAL what Boolean algebras are to Classical Propositional Logic, or what Heyting algebras are to Intuitionistic Propositional Logic.
We provide the precise definition of a deontic action algebra in \Cref{definition:deontic:algebra}.

\medskip
\begin{definition}\label[definition]{definition:deontic:algebra}
	A deontic action algebra is an algebra
		$\DAlgebra =
			\langle
				\Algebra[A], \Algebra[F], \E, \P, \F
			\rangle$
	of type $\Sigma$ where:%
		\footnote{
			We use $=$ as the function interpreting `$=$' in $\Algebra[F]$, and $=_{\Algebra[A]}$ and $=_{\Algebra[B]}$ as equality in $\Algebra[A]$ and $\Algebra[B]$, respectively.
		}
		$\Algebra[A] = \tup{A, {\sqcup}, {\sqcap}, \bar{~}, \iact, \uact}$
		and
		$\Algebra[F] = \tup{F, {\lor}, {\land}, {\lnot}, \bot, \top}$ are Boolean algebras,
		and
			$\E$,
			$\P$,
			and
			$\F$,
		satisfy the conditions below
		\begin{multicols}{3}
			\begin{enumerate}[leftmargin=\parindent]
				\item $\P(a {\sqcup} b) \,{=_{\Algebra[F]}}\, {\P(a) {\land} \P(b)}$
				\item $\F(a {\sqcup} b) \,{=_{\Algebra[F]}}\, {\F(a) {\land} \F(b)}$
				\item ${\P(a) {\land} \F(a)} \,{=_{\Algebra[F]}}\, (a \,{=}\, \iact)$
				\item $(a = b) \land \P(a) \preccurlyeq \P(b)$
				\item $(a = b) \land \F(a) \preccurlyeq \F(b)$
				\item[]
				\item ${a \,{=_{\Algebra[A]}}\, b} ~\text{iff}~ {(a \,{=}\, b) \,{=_{\Algebra[F]}}\, \top}$.
			\end{enumerate}
		\end{multicols}
	\noindent
	Let $h: \TAlgebra \to \DAlgebra$ be an interpretation.
	We use $\DAlgebra, h \vDash \tau_1 \doteq \tau_2$ as a shorthand for $h(\tau_1) = h(\tau_2)$.
	In turn, let $\DALVariety$ indicate the class of all deontic action algebras.
	We use $\DALVariety \vDash \tau_1 \doteq \tau_2$ as the universal quantification of $\vDash$ to all deontic action algebras in $\DALVariety$ and all interpretations on these algebras; i.e., $\DALVariety \vDash \tau_1 \doteq \tau_2$ iff $\DAlgebra, h \vDash \tau_1 \doteq \tau_2$, for all $\DAlgebra \in \DALVariety$, and all interpretations $h: \TAlgebra \to \DAlgebra$.
	% The condition $a = b \iff \E(a,b) = \top$
	% is a pair of quasi-identities.
	% This makes the class $\DALVariety$ of all deontic action algebras a quasi-variety.
\end{definition}
\medskip

The next two results are immediate.

\medskip
\begin{proposition}\label[proposition]{pro:dal:act2form}
	It follows that $\DALVariety \vDash \alpha \doteq_{\sorta} \beta$ iff $\DALVariety \vDash (\alpha = \beta) \doteq_{\sortf} \top$.
\end{proposition}
\medskip

\begin{proposition}\label[proposition]{pro:dal:qvariety}
	The class $\DALVariety$ of all deontic action algebras is a quasi-variety.
\end{proposition}
\begin{proof}
	It suffices to show that the conditions in the definition of a deontic action algebra can be captured by equations, or quasi-equations.
	The interesting cases are:
	\smallskip
	\begin{enumerate}[leftmargin=\parindent]
		\item $\P(a \sqcup b) =_{\Algebra[F]} {\P(a) \land \P(b)}$ expressed as $\P(a \sqcup b) \doteq_{\sortf} \P(a) \land \P(b)$;
		\item ${\P(a) \land \F(a)} =_{\Algebra[F]} \E(a,\iact)$ expressed as ${\P(a) \land \P(b)} \doteq_{\sortf} {a = \iact}$;
		\item $(a = b) \land \P(a) \preccurlyeq \P(b)$ expressed as $((a = b) \land \P(a)) \lor \P(b) \doteq_{\sortf} \P(b)$; and
		\item ${a =_{\Algebra[A]} b} ~\text{iff}~ {(a = b) =_{\Algebra[F]} \top}$ expressed as the quasi-equations
			${a \doteq_{\sorta} b} \To {(a = b) \doteq_{\sortf} \top}$, and
			${(a = b) \doteq_{\sortf} \top} \To {a \doteq_{\sorta} b}$. \qedhere
	\end{enumerate}
\end{proof}
\medskip

The definition of a deontic action algebra in \Cref{definition:deontic:algebra} draws on ideas and terminology from Pratt's dynamic algebras~\cite{Pratt:1991}. We present the general structure of a deontic action algebra in a form slightly different from the general treatment of many-sorted algebras in \Cref{section:basics}. In doing this we wish to highlight the modular nature of deontic action algebras. In \Cref{section:new:dals}, we leverage this modularity to introduce variants of \DAL by considering different algebraic structures for each component of the deontic action algebra. 
Finally, notice that, as made clear in \Cref{pro:dal:qvariety}, our treatment of equality in the logic results in the class of deontic action algebras being a quasi-variety.
The result in \Cref{pro:dal:act2form} tells us we can dispense explicitly referring to equations on actions as they are also captured as particular equations on formulas via equality in the logic.

\medskip
\begin{example}
	\Cref{ex:deontic:algebra} depicts the deontic action algebra ${\DAlgebra = \langle \Algebra[A], \Algebra[2], \E, \P, \F \rangle}$ where: the algebra $\Algebra[A]$ of actions is the free Boolean algebra on the set of generators $\{a,b\}$.
	In $\DAlgebra$, the functions $\P$ and $\F$ are defined as:
	\begin{align*}
		\P(x) &=
			{\begin{cases}
				1 & \text{if } x \preccurlyeq \bar{b} \\
				0 & \text{otherwise.}
			\end{cases}}
		&
		\F(x) &=
			{\begin{cases}
				1 & \text{if } x \preccurlyeq b \\
				0 & \text{otherwise.}
			\end{cases}}
	\label{eq:ex:pf}
	\end{align*}
	% The dashed arrows from the graph of $\Algebra[A]$ to the graph of $\Algebra[F]$ show the elements of $|\Algebra[A]|$ that $\P$ maps to $1$.
	In \Cref{ex:deontic:algebra}, the elements of $|\Algebra[A]|$ that $\P$ and $\F$ map to $\top$ are indicated with green and red, respectively.
	To avoid overcrowding the drawing, we have chosen not to highlight the elements these operations do not map to $\top$.
	In \Cref{ex:deontic:algebra} also, the sets $P$ and $F$ indicate which actions are permitted and which ones are forbidden.
	Note that both sets form an ideal in $\Algebra[A]$ whose intersection contains only the $\iact$ element of the algebra.
	It can easily be inferred from this example that: if $\P(x) = \top$ for all $x \in |\Algebra[A]|$, then, $\F(x) = \bot$ for all $\iact \prec x \in |\Algebra[A]|$.
	Similarly, if $\F(x) = \top$ for all $x \in |\Algebra[A]|$, then, $\P(x) = \bot$ for all $\iact \prec x \in |\Algebra[A]|$.
	These cases are known as \emph{deontic heaven} and \emph{deontic hell}, respectively.
	We will discuss them later on.
\end{example}
\medskip

\begin{figure}
	\centering
	\includegraphics[width=0.5\textwidth]{deontic-algebra.pdf}\\[.5em]
	\caption{A Deontic Action Algebra.}\label{ex:deontic:algebra}
\end{figure}

\begin{example}
	Let $\DAlgebra$ be the deontic action algebra in \Cref{ex:deontic:algebra}, and $\mathsf{drinking}$, $\mathsf{driving}$, and $\mathsf{parking}$, be basic action symbols.
	In addition, let $h: \TAlgebra \to \DAlgebra$ be an interpretation s.t.:
		$h_{\sorta}(\mathsf{drinking}) = b$,
		$h_{\sorta}(\mathsf{driving}) = a$, and
		$h_{\sorta}(\mathsf{parking}) = \bar{b}$.
	It follows that:

   \begin{multicols}{2}
   \begin{enumerate}
      \item $h(\overline{\mathsf{parking}} = \mathsf{driving}) =_{\Algebra[F]} \top$
      \item $h(\forb(\mathsf{drinking} \sqcap \mathsf{driving})) =_{\Algebra[F]} \top$
      \item $h(\perm(\mathsf{drinking} \sqcap \mathsf{parking})) =_{\Algebra[F]} \top$
      \item $h(\perm(\mathsf{driving} \sqcup \mathsf{parking})) \neq_{\Algebra[F]} \top$.
   \end{enumerate}
   \end{multicols}

   \noindent In brief, the deontic action algebra $\DAlgebra$ may be understood as the algebraic version of the deontic model $\DeonticModel$ in \Cref{section:dal:semantics}.
\end{example}

The following proposition shows the ideals in the deontic action algebra in \Cref{ex:deontic:algebra} are indeed a distinguishing characteristic of the operations of permission and prohibition.

\medskip
\begin{proposition}\label[proposition]{prop:dal:ideal}
	Let $\DAlgebra = \tup{\Algebra[A], \Algebra[F], \E, \P, \F}$ be a deontic action algebra. The pre-image $P$ of $\top$ under $\P$, as well as the preimage $F$ of $\top$ under $\F$, are ideals in $\Algebra[A]$ s.t.\ ${{P \cap F} = \{\iact\}}$.
\end{proposition}
\begin{proof}
	The result is obtained from the following:
		\medskip
		\begin{enumerate}%[(i)]
			\setlength{\itemsep}{5pt}
			\item
			For all $\{a,b\} \subseteq P$, ${a \sqcup b} \in P$.
			To see why, let $\{a,b\} \subseteq P$.
			Then, $\P(a) = \P(b) = \top$, and $\P(a) \land \P(b) = \top$.
			The properties of $\P$ in \Cref{definition:deontic:algebra} ensure $\P(a) \land \P(b) = \P(a \sqcup b)$.
			This implies $\P(a \sqcup b) = \top$; and so $(a \sqcup b) \in P$.

			\item
			For all $a \in P$ and $b \in |\Algebra[A]|$, ${(a \sqcap b)} \in P$.
			To see why, let $a \in P$ and $b \in |\Algebra[A]|$.
			We know $\P(a) = \top$ and $a = {a \sqcup (a \sqcap b)}$.
			This means $\P({a \sqcup (a \sqcap b)}) = \top$.
			The properties of $\P$ in \Cref{definition:deontic:algebra} ensure $\P(a \sqcup (a \sqcap b)) = \P(a) \land \P(a \sqcap b)$.
			This means, $\P(a) \land \P(a \sqcap b) = \top$.
			From our supposition, $\P(a \sqcap b) = \top$; and so $(a \sqcap b) \in P$.

			\item
			The arguments in 1 and 2 remain true if we replace $P$ and $\P$ for $F$ and $\F$, resp.

			\item
			${P \cap F} = \{ \iact \}$.
			To see why, note that $\P(\iact) = \F(\iact) = \top$; and so $\{\iact\} \subseteq {P \cap F}$.
			In turn, consider an arbitrary $a \in (P \cap F)$.
			Then, $\P(a) = \F(a) = \top$.
			This implies $\P(a) \land \F(a) = \top$, and so $(a = \iact) =_{\Algebra[F]} \top$.
			The `iff' condition in \Cref{definition:deontic:algebra} ensures $a =_{\Algebra[A]} \iact$.
			Since $a$ is arbitrary, the last step tells us that any element in ${P \cap F}$ is equal to $\iact$.
			Therefore, ${P \cap F} \subseteq \{ \iact \}$. \qedhere
		\end{enumerate}
\end{proof}

We proceed to connect the deontic action algebras in $\DALVariety$ with the theorems of $\DAL$.

\medskip
\begin{theorem}[Soundness]\label[theorem]{theorem:soundness}
	If $\varphi$ is a theorem of \DAL, then, $\DALVariety \vDash {\varphi \doteq \top}$.
\end{theorem}
\begin{proof} %(Sketch)
	Let $\DAlgebra \in \DALVariety$ and $h: \TAlgebra \to \DAlgebra$ be any interpretation.
	We continue by induction on the length of the proof of $\varphi$.
	We prove the more interesting cases;  others are similar.

	\medskip
	\begin{enumerate}[leftmargin=\parindent]
		\setlength{\itemsep}{5pt}
		
		\item
		$h_{\sortf}(\perm(\alpha\sqcup\beta) \liff (\perm(\alpha) \land \perm(\beta)))
			=_{\Algebra[F]} \top$.
		The result follows from items (a)--(c) below.

			\medskip
			\begin{enumerate}[leftmargin=\parindent]
				\setlength{\itemsep}{5pt}
				\item
				\begin{description}[leftmargin=\parindent]
					\item[]
					$h_{\sortf}(\perm(\alpha\sqcup\beta) \liff (\perm(\alpha) \land \perm(\beta))) =_{\Algebra[F]}$
					\item[]
					$h_{\sortf}(
						(\lnot \perm(\alpha\sqcup\beta) \lor (\perm(\alpha) \land \perm(\beta)))
						\land
						(\lnot (\perm(\alpha) \land \perm(\beta)) \lor \perm(\alpha\sqcup\beta))
						)=_{\Algebra[F]}$
					\item[]
					$h_{\sortf}(
						\lnot \perm(\alpha\sqcup\beta) \lor (\perm(\alpha) \land \perm(\beta)))
					\land
						h_{\sortf}(
						(\lnot (\perm(\alpha) \land \perm(\beta)) \lor \perm(\alpha\sqcup\beta)))$.
				\end{description}

				\item 
				\begin{description}[leftmargin=\parindent]
					\item[]
					$h_{\sortf}(
						\lnot
							\perm(\alpha\sqcup\beta)
							\lor
							(\perm(\alpha) \land \perm(\beta))) =_{\Algebra[F]}$
					\item[]
						$\lnot
							\perm(h_{\sorta}(\alpha \sqcup \beta))
							\lor
							(\perm(h_{\sorta}(\alpha)) \land \perm(h_{\sorta}(\beta))) =_{\Algebra[F]}$
					\item[]
						$\lnot
							\perm(h_{\sorta}(\alpha \sqcup \beta))
							\lor
							(\perm(h_{\sorta}(\alpha) \sqcup h_{\sorta}(\beta))) =_{\Algebra[F]}$
							\dotfill \Cref{definition:deontic:algebra}(1)
					\item[]
						$\lnot
							\perm(h_{\sorta}(\alpha \sqcup \beta))
							\lor
							(\perm(h_{\sorta}(\alpha \sqcup \beta))) =_{\Algebra[F]} \top$.
				\end{description}

				\item $h_{\sortf}(
					\lnot(\perm(\alpha) \land \perm(\beta))
					\lor
					\perm(\alpha\sqcup\beta)) =_{\Algebra[F]} \top$ is similar to (b).
			\end{enumerate}

		\item
		$h_{\sortf}((\perm(\alpha) \land \forb(\alpha)) \to (\alpha = \iact))
			=_{\Algebra[F]} \top$.
		Then,

			\medskip
			\begin{description}[leftmargin=\parindent]
				\item[]
				$h_{\sortf}((\perm(\alpha) \land \forb(\alpha)) \to (\alpha = \iact)) =_{\Algebra[F]}$
				\item[]
				$h_{\sortf}(
					\lnot (\perm(\alpha) \land \forb(\alpha)) \lor (\alpha = \iact)) =_{\Algebra[F]}$
				\item[]
				$\lnot
					(\perm(h_{\sorta}(\alpha)) \land \forb(h_{\sorta}(\alpha)))
					\lor
					h_{\sortf}(\alpha = \iact) =_{\Algebra[F]}$
				\item[]
				$\lnot
					(\perm(h_{\sorta}(\alpha)) \land \forb(h_{\sorta}(\alpha)))
					\lor
					h_{\sortf}(\alpha = \iact) =_{\Algebra[F]}$
				\item[]
				$\lnot
					(h_{\sorta}(\alpha) = \iact)
					\lor
					h_{\sortf}(\alpha = \iact) =_{\Algebra[F]}$ \dotfill \Cref{definition:deontic:algebra}(3)
				\item[]
				$\lnot
					h_{\sortf}(\alpha = \iact)
					\lor
					h_{\sortf}(\alpha = \iact) =_{\Algebra[F]} \top$.
			\end{description}

		\item
		$h_{\sortf}(((\alpha = \beta) \land \perm(\alpha)) \to \perm(\beta))
			=_{\Algebra[F]} \top$.
			Then,
			
			\medskip
			\begin{description}[leftmargin=\parindent]
				\item[]
					$h_{\sortf}(((\alpha \,{=}\, \beta) {\land} \perm(\alpha)) \to \perm(\beta)) =_{\Algebra[F]}$
				\item[]
					$\lnot
						h_{\sortf}((\alpha \,{=}\, \beta) {\land} \perm(\alpha))
					\lor
					\perm(h_{\sorta}(\beta)) =_{\Algebra[F]}$
				\item[]
					$\lnot
						h_{\sortf}((\alpha \,{=}\, \beta) {\land} \perm(\alpha))
					\lor
						((h_{\sorta}(\alpha) \,{=}\, h_{\sorta}(\beta)) {\land} \perm(h_{\sorta}(\alpha)))
						\lor
						\perm(h_{\sorta}(\beta)) =_{\Algebra[F]}$
						\dotfill \Cref{definition:deontic:algebra}(4)
				\item[]
					$\lnot
						h_{\sortf}((\alpha \,{=}\, \beta) {\land} \perm(\alpha))
					\lor 
						h_{\sortf}((\alpha \,{=}\, \beta) {\land} \perm(\alpha))
					\lor
						\perm(h_{\sorta}(\beta)) =_{\Algebra[F]} \top$.
			\end{description}

			\smallskip
			\noindent
			The result in (3.) is a particular case of the axioms E2 in \Cref{dal:axioms}.
			Other instances can be proven by induction on the size of the formula $\varphi$.
			\qedhere
	\end{enumerate}
\end{proof}

\Cref{theorem:soundness} implies that not every formula of \DAL is provable in the logic.
In particular, non-theorems are not provable.
To see why, consider a theorem $\varphi$, the deontic action algebra $\DAlgebra = \langle \Algebra[A], \Algebra[2], \E, \P, \F \rangle$, and any interpretation $h: \TAlgebra \to \DAlgebra$.
From \Cref{theorem:soundness}, we have $h_{\sortf}(\varphi) = \top$.
Since $h$ is a homomorphism, $h_{\sortf}(\lnot \varphi) = \iact$.
Using the contrapositive of \Cref{theorem:soundness}, $\lnot \varphi$ is not a theorem; i.e., it is not provable.

The converse of \Cref{theorem:soundness}, i.e., the algebraic completeness of \DAL, requires us to show that every non-theorem $\varphi$ of \DAL is falsified in some deontic action algebra $\DAlgebra$ (i.e., there is an interpretation $h: \TAlgebra \to \DAlgebra$ s.t.\ $h_{\sortf}(\varphi) \neq \top$).
We arrive at this result introducing an appropriate notion of congruence, and constructing a quotient algebra via this congruence. 

\medskip
\begin{proposition}\label[proposition]{prop:congruence}
	Let $\TAlgebra$ be the deontic term algebra, and ${\cong_{\sorta}} \subseteq |\TAlgebra|_{\sorta} \times |\TAlgebra|_{\sorta}$ and ${\cong_{\sortf}} \subseteq |\TAlgebra|_{\sortf} \times |\TAlgebra|_{\sortf}$ be s.t.: 1.~$\alpha \cong_{\sorta} \beta$ iff $\alpha = \beta$ is a theorem, and 2.~$\varphi \cong_{\sortf} \psi$ iff $\varphi \liff \psi$ is a theorem.
	It follows that $\cong_{\sorta}$ and $\cong_{\sortf}$ define a congruence $\cong$ on $\TAlgebra$.
\end{proposition}
\medskip

\begin{proposition}\label[proposition]{prop:lindenbaum}
	The quotient of the deontic action term algebra $\TAlgebra$ under $\cong$ is a structure
		$\LTAlgebra = \tup{\Algebra[A], \Algebra[F], \E, \P, \F}$
	where:
		1.~$|\Algebra[A]| = {\act/{\cong_{\sorta}}}$,
		2.~$|\Algebra[F]| = {\form/{\cong_{\sortf}}}$, and
		3.~the operations in $\LTAlgebra$ are those induced by the equivalence classes in $\cong$.
		% \medskip
		% \begin{enumerate}[leftmargin=\parindent]
		% 	\item
		% 		$\Algebra[A]
		% 			= \tup{{\act/{\cong_{\sorta}}}, {\sqcup}, {\sqcap}, {\bar{~}}, {\iact}, {\uact}}$
		% 	\item
		% 		$\Algebra[F]
		% 			= \tup{{\form/{\cong_{\sortf}}}, {\lor}, {\land}, {\lnot}, {\bot}, {\top}}$
		% \end{enumerate}
		% \medskip
	It follows that $\LTAlgebra \in \DALVariety$.
\end{proposition}
\begin{proof}%[Sketch]
	It is clear that $\Algebra[A]$ and $\Algebra[F]$ are Boolean algebras.
	Let us use $\check{\_}$ to indicate the operations in $\LTAlgebra$ induced by $\cong$, and to separate them from the corresponding symbols.
	The result is concluded if $\check{\E}$, $\check{\P}$, and $\check{\F}$ satisfy the conditions in \Cref{definition:deontic:algebra}.
  	We prove some interesting cases only.
	% We drop the subscript $\cong$ unless it is strictly necessary to improve readability.

	\medskip
	\begin{enumerate}[leftmargin=\parindent]
		\setlength{\itemsep}{7pt}
		
		\item%
		{$\check{\P}([\alpha \sqcup \beta]_{\cong_{\sorta}}) =_{\Algebra[F]} \check{\P}([\alpha]_{\cong_{\sorta}}) \land \check{\P}([\beta]_{\cong_{\sorta}})$}
		% See (a) below.

			\medskip
			\begin{description}[leftmargin=\parindent]
				\item[]
					$\check{\P}([\alpha \sqcup \beta]_{\cong_{\sorta}}) =_{\Algebra[F]}
					[\perm(\alpha \sqcup \beta)]_{\cong_{\sortf}} =_{\Algebra[F]}$
				\item[]
					$[\perm(\alpha) \land \perm(\beta)]_{\cong_{\sortf}} =_{\Algebra[F]}$
					\dotfill \Cref{dal:axioms}(D1)
				\item[]
					$[\perm(\alpha)]_{\cong_{\sortf}} \land [\perm(\beta)]_{\cong_{\sortf}} =_{\Algebra[F]}
					\check{\P}([\alpha]_{\cong_{\sorta}}) \land \check{\P}([\beta]_{\cong_{\sorta}})$.
			\end{description}

		\item%
		{$\check{\P}([\alpha]_{\cong_{\sorta}}) \land \check{\F}([\alpha]_{\cong_{\sorta}}) =_{\Algebra[F]}
			[\alpha]_{\cong_{\sorta}} \mathrel{\check{=}} \iact$}
		% See below.

			\medskip
			\begin{description}[leftmargin=\parindent]
				\item[]
					$
					\check{\P}([\alpha]_{\cong_{\sorta}})
					\land
					\check{\F}([\alpha]_{\cong_{\sorta}})
					=_{\Algebra[F]}
					[\perm(\alpha)]_{\cong_{\sortf}}
					\land
					[\forb(\alpha)]_{\cong_{\sortf}}
					=_{\Algebra[F]}$
				\item[]
					$
					[\perm(\alpha) \land \forb(\alpha)]_{\cong_{\sortf}}
					=_{\Algebra[F]}
					$
				\item[]
					$[\alpha = \iact]_{\cong_{\sortf}} =_{\Algebra[F]}$
					\dotfill \Cref{dal:axioms}(D3)
				\item[]
					$[\alpha]_{\cong_{\sorta}} \mathrel{\check{=}} \iact$.
			\end{description}
		
		\item%
		{$[\alpha]_{\cong_{\sorta}} =_{\Algebra[A]} [\beta]_{\cong_{\sorta}}$ iff
			$[\alpha]_{\cong_{\sorta}} \mathrel{\check{=}} [\beta]_{\cong_{\sorta}} =_{\Algebra[F]} \top$}.
		% See below.

			\medskip
			\begin{description}[leftmargin=\parindent]
				\setlength{\itemsep}{2pt}
				\item[Left-to-right:]
				Let $[\alpha]_{\cong_{\sorta}} =_{\Algebra[A]} [\beta]_{\cong_{\sorta}}$.
				This assumption implies, by definition, that ${\alpha = \beta}$ is a theorem.
				Immediately, ${(\alpha = \beta) \liff \top}$ is also a theorem.
				But this means, $[\alpha = \beta]_{\cong_{\sortf}} =_{\Algebra[F]} \top$.
				Thus, $[\alpha]_{\cong_{\sorta}} \mathrel{\check{=}} [\beta]_{\cong_{\sorta}} =_{\Algebra[F]} \top$.

				\item[Right-to-left:]
				Similarly, let $[\alpha]_{\cong_{\sorta}} \mathrel{\check{=}} [\beta]_{\cong_{\sorta}} =_{\Algebra[F]} \top$.
				Then, $[\alpha = \beta]_{\cong_{\sortf}} = \top$.
				This means $\alpha = \beta$ is a theorem.
				And so, $[\alpha]_{\cong_{\sorta}} =_{\Algebra[A]} [\beta]_{\cong_{\sorta}}$. \qedhere
			\end{description}
	\end{enumerate}	
\end{proof}

We call the quotient algebra $\LTAlgebra$ in \Cref{prop:lindenbaum} the Lindenbaum-Tarski deontic action algebra.
In brief, $\LTAlgebra$ is a canonical algebra that captures theoremhood in \DAL.
From this observation, we obtain the following result.

\medskip
\begin{theorem}[Completeness]\label[theorem]{theorem:completeness}
	If $\DALVariety \vDash {\varphi \doteq \top}$, then, $\varphi$ is a theorem.
\end{theorem}
\begin{proof}
	We show that if $\varphi$ is not a theorem, then $\DALVariety \nvDash {\varphi \doteq \top}$.
	Let $\varphi$ be a non-theorem.
	From the definition of $\cong$, $[\varphi]_{\cong_{\sortf}} \neq_{\Algebra[F]} \top$.
	Define a function $h: {\bact \to {\Algebra[A]/{\cong}}}$ that sends each $\mathsf{a}_i \in \bact$ to the equivalence class $[\mathsf{a}_i]_{\cong_{\sorta}}$.
	The function $h$ extends uniquely to an interpretation $\check{h}: \TAlgebra \to \LTAlgebra$ such that $\check{h}(\varphi) \neq_{\Algebra[F]} [\varphi]_{\cong_{\sortf}}$.
	Therefore, $\DALVariety \nvDash {\varphi \doteq \top}$.
	%\qed
\end{proof}

% \Cref{cor:completeness} is obtained via a standard argument in algebraic logic.

\begin{corollary}\label[corollary]{cor:completeness}
	$\DALVariety \vDash {\varphi \doteq \top}$ implies $\varphi$ is a tautology.
\end{corollary}
\begin{proof}
	Immediate from \Cref{th:segerber:completeness,theorem:completeness}.
\end{proof}

% As usual then, the Lindenbaum-Tarski algebra can be seen as a canonical (algebraic) model providing counterexamples to non-valid formulas.

\subsection{Deontic Action Algebras and Deontic Action Models}

Interestingly, the algebraization of \DAL enjoys a Stone-type representation result connecting the algebraic semantics using deontic action algebras with the original semantics using deontic action models.
This connection provides us with another completeness result for the theorems of $\DAL$.

Recall that Stone's representation theorem establishes that every Boolean algebra is isomorphic to a field of sets~\cite{Stone36}. Such a result reveals a tight connection between the properties of an abstract structure with those of a \emph{concrete} one (a collection of sets).
This is also true for deontic action algebras.
We begin by introducing the definition of a concrete deontic action algebra.

%Just as Boolean algebras made of sets (i.e., fields of sets) are referred to as \emph{concrete} in algebraic logic, concrete deontic action algebras are deontic action algebras whose algebras of actions and formulas are fields of sets.
%This is made precise immediately below.

\medskip
\begin{definition}
	A deontic action algebra $\DAlgebra = \langle \Algebra[A], \Algebra[F],  \E, \P, \F \rangle$ is \emph{concrete} iff $\Algebra[A]$ and $\Algebra[F]$ are fields of sets.
  	Let $\DALVariety(0)$ be the class of concrete deontic algebras, for equations of the appropriate sort, we use $\DALVariety(0) \vDash \tau_1 \doteq \tau_2$ as the analogue of $\DALVariety \vDash \tau_1 \doteq \tau_2$ in \Cref{definition:deontic:algebra}.
\end{definition}
\medskip

We prove that validity in deontic action algebras reduces to validity in concrete deontic algebras.
In this way, concrete deontic algebras enable us to connect the algebraic semantics of \DAL with Segerberg's original semantics via Stone's duality.


\medskip
\begin{theorem}\label[theorem]{theorem:reducibility}
	It follows that $\DALVariety(0) \vDash \varphi \doteq \top$ iff $\DALVariety \vDash \varphi \doteq \top$.
\end{theorem}
\begin{proof}
	The left-to-right direction is straightforward.
	The proof for the right-to-left direction is by contradiction.
	Assume that $\DALVariety(0) \vDash \varphi \doteq \top$ and $\DALVariety \nvDash \varphi \doteq \top$.
	This means that we have a deontic action algebra $\DAlgebra = \langle \Algebra[A], \Algebra[F],  \E, \P, \F \rangle$ and an interpretation $h: \TAlgebra \to \DAlgebra$ s.t.\ $h_{\sortf}(\varphi) \neq_{\Algebra[F]} \top$.
	Via the Stone duality result for Boolean algebras, we can construct a concrete deontic action algebra $\DAlgebra' = \langle \Algebra[A]', \Algebra[F]',  \E', \P', \F' \rangle$ that is isomorphic to $\DAlgebra$.
	Moreover, we can define an interpretation $h': \TAlgebra \to \DAlgebra'$ s.t.\ $h'(a_i) = \varphi_{\Algebra[A]'}(h(a_i))$ (with  $\varphi_{\Algebra[A]'}$ being the Stone isomorphism for $\Algebra[A]'$).
	This construction ensures $h'(\varphi) \neq_{\Algebra[F]'} \top$; contradicting the original assumption that $\DALVariety(0) \vDash \varphi \doteq \top$.
\end{proof}

We can now link deontic action models with concrete deontic action algebras.


\medskip
\begin{definition}\label[definition]{def:mod2alg}
	Let $\DeonticModel = \langle E, P, F \rangle$ be a deontic action model, $v:\bact \to 2^{E}$ be a valuation on $\DeonticModel$, and $A = \set{v(\mathsf{a}_i)}{\mathsf{a}_i \in \bact}$.
	Define a concrete deontic action algebra $\algebra(\DeonticModel, v) = \langle \Algebra[A], \Algebra[2], \E, \P, \F \rangle$ where:
	\begin{align*}
			\Algebra[A] &= \tup{2^A, {\cup}, {\cap}, {}^{\complement}, \emptyset, A} &
			(a = b) =_{\Algebra[2]} \top &~\text{iff}~ a =_{\Algebra[A]} b &
			\P(a) = \top &~\text{iff}~ a \subseteq P \\
			&&&& \F(a) = \top &~\text{iff}~ a \subseteq F.
		\end{align*}
	Define also the interpretation $h: \TAlgebra \to \algebra(\DeonticModel, v)$ as the unique extension of $v$.
\end{definition}
\medskip

Similarly, concrete deontic algebras give rise to deontic action models.


\medskip
\begin{definition}\label{def:alg2mod}
	Let $\DAlgebra = \langle \Algebra[A], \Algebra[F],  \E, \P, \F \rangle$ be a concrete deontic algebra, $h: \TAlgebra \to \DAlgebra$ be an interpretation.
	Define a deontic action model $\model(\DAlgebra, h) = \langle E, P, F \rangle$ where:
	\begin{align*}
		E &= |\Algebra[A]| &
		P &= \bigcup \set{a}{\P(a) =_{\Algebra[F]} \top} &
		F &= \bigcup \set{a}{\F(a) =_{\Algebra[F]} \top}.
	\end{align*}
	Define also a valuation $v$ on $\model(\DAlgebra, f)$ as the restriction of $h$ to $\bact$.
\end{definition}
\medskip

If seen as operators, $\model$ and $\algebra$ are inverses of each other.


\medskip
\begin{theorem}\label[theorem]{theorem:inverses}
	It follows that:
		$\algebra(\model(\DAlgebra,v),h)\!=\!\DAlgebra$; and
		$\model(\algebra(\DeonticModel,v),h)\!=\!\DeonticModel$.
\end{theorem}
\medskip

In light of \Cref{theorem:inverses}, we obtain the following result.


\medskip
\begin{corollary}\label[corollary]{theorem:models-and-algebras}
		It follows that:
		$\DeonticModel, v \Vdash \varphi$ iff $\algebra(\DeonticModel, v), h \vDash \varphi \doteq \top$; and
		$\DAlgebra, h \vDash \varphi \doteq \top$ iff $\model(\DAlgebra,h), v \vDash \varphi$.
\end{corollary}
\medskip

% \begin{theorem}\label[theorem]{theorem:algebras-to-models}
% $\DAlgebra, f \vDashcurly \varphi \doteq \top \mbox{ iff } \model(\DAlgebra,f), {f{\restriction}_{\bact}} \vDash \varphi$.
% \end{theorem}


\medskip

The results in \Cref{theorem:inverses,theorem:models-and-algebras} enable us to prove the completeness of $\DAL$ w.r.t.\ Segerberg's original deontic models entirely in an algebraic way.

\medskip
\begin{theorem} It follows that $\varphi$ is a theorem iff it is a tautology.
\end{theorem}
\begin{proof}
	Suppose that $\varphi$ is a theorem.
	From \Cref{cor:completeness}, $\DALVariety \vDash \varphi \doteq \top$.
	From \Cref{theorem:reducibility}, $\DALVariety(0) \vDash \varphi \doteq \top$.
	From \Cref{theorem:models-and-algebras}, $\varphi$ is a tautology.
	Thus, $\varphi$ is a theorem implies $\varphi$ is a tautology.
	Using these results in the inverse order we obtain $\varphi$ is a tautology implies $\varphi$ is a theorem.
\end{proof}
