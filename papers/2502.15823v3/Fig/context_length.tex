\pgfplotsset{
axis background/.style={fill=gallery!62},
grid=both,
  xtick pos=left,
  ytick pos=left,
  tick style={
    major grid style={style=white, line width=0.5pt},
    minor grid style=gallery!62,
    draw=none
    },
  minor tick num=1,
  ymajorgrids,
	major grid style={draw=white},
	y axis line style={opacity=0},
	tickwidth=0pt,
}
%nodes near coords,
%every node near coord/.append style={anchor=north, font=\fontsize{4pt}{4pt}\selectfont},%\fontsize{4pt}{4pt}\selectfont
%every tick label/.append style={font=\scriptsize}

%diamond*, diamond, square, pentagon, *

\begin{figure*}
\centering
    \begin{tikzpicture} [scale=0.62]
	\begin{groupplot}[
	    group style={group size=3 by 1,
	        horizontal sep = 32pt,
		% vertical sep=5em
	        }, 
	width=0.55\linewidth,
	height=0.32\linewidth,
        ymin = 0,
        ymax = 1,
	xlabel=Sample Size Multiples,
        xticklabels={1, 2, 3, 4, 5},
        xtick={1,2,3,4,5,6},
        ymajorgrids,
        major grid style={draw=white},
        y axis line style={opacity=0},
        tickwidth=0pt,
        yticklabel style={
        /pgf/number format/fixed,
        /pgf/number format/precision=5,
        },
        legend style = {
		  font=\small,
          draw=none, 
          fill=none,
          column sep = 2pt, 
          /tikz/every even column/.append style={column sep=5mm},
          legend columns = 1, 
          },
        scaled y ticks=false,
        % every axis title/.append style={at={(0.1,0.8)},font=\bfseries},
        every axis plot/.append style={mark size=2, very thick},
	    ]
	\nextgroupplot[
		% legend style = {
		%   font=\small,
  %         draw=none, 
  %         fill=none,
  %         column sep = 2pt, 
  %         /tikz/every even column/.append style={column sep=5mm},
  %         legend columns = -1, 
  %         legend to name = grouplegend},
		title=Impact of Context Length with Different rules, 
            title style={at={(0.5,0.96)}, anchor=south},
            ylabel=Average Compatibility (\%),
		]
	\addplot[color=flamingo,mark=pentagon] coordinates {
          (1, 0.8833333333333333)
          (2, 0.4833333333333334)
          (3, 0.44285714285714295)
          (4, 0.3111111111111111)
          (5, 0.34444444444444444)
        }; \addlegendentry{rules = 1}
         \addplot[color=free_speech_aquamarine,mark=diamond] coordinates {
          (1, 0.2777777777777778)
          (2, 0.2)
          (3, 0.17777777777777776)
          (4, 0.2222222222222222)
          (5, 0.18888888888888888)
        }; \addlegendentry{rules = 2}
        \addplot[color=matisse,mark=square] coordinates {
          (1, 0.32500000000000007)
          (2, 0.07777777777777778)
          (3, 0.07777777777777778)
          (4, 0.05555555555555555)
          (5, 0.06666666666666667)
        };\addlegendentry{rules = 3}
        
        \nextgroupplot[
        title=Impact of Context Length with Different k,
        title style={at={(0.5,0.96)}, anchor=south}, ]
		\addplot[color=flamingo,mark=pentagon] coordinates {
          (1, 0.788888888888889)
          (2, 0.4555555555555555)
          (3, 0.43333333333333335)
          (4, 0.4)
          (5, 0.4111111111111111)
        }; \addlegendentry{k=2}
         \addplot[color=free_speech_aquamarine,mark=diamond] coordinates {
          (1, 0.275)
          (2, 0.15)
          (3, 0.15000000000000002)
          (4, 0.16666666666666666)
          (5, 0.12222222222222223)
        }; \addlegendentry{k=3}
        \addplot[color=matisse,mark=square] coordinates {
          (1, 0.18333333333333335)
          (2, 0.014285714285714287)
          (3, 0.0375)
          (4, 0.022222222222222223)
          (5, 0.06666666666666667)
        };\addlegendentry{k=4}
        \nextgroupplot[title=Impact of Context Length with Different Vocab Size, 
        title style={at={(0.5,0.96)}, anchor=south}, ]
	\addplot[color=flamingo,mark=pentagon] coordinates {
          (1, 0.5555555555555556)
          (2, 0.3111111111111111)
          (3, 0.25555555555555554)
          (4, 0.23333333333333334)
          (5, 0.2777777777777778)
        }; \addlegendentry{vocab size=2}
         \addplot[color=free_speech_aquamarine,mark=diamond] coordinates {
          (1, 0.39999999999999997)
          (2, 0.25)
          (3, 0.2777777777777778)
          (4, 0.2666666666666667)
          (5, 0.24444444444444446)
        }; \addlegendentry{vocab size=3}
        \addplot[color=matisse,mark=square] coordinates {
          (1, 0.37142857142857144)
          (2, 0.08571428571428572)
          (3, 0.08571428571428573)
          (4, 0.08888888888888889)
          (5, 0.07777777777777778)
        };\addlegendentry{vocab size=4}

	\end{groupplot}

\end{tikzpicture}
\vspace{-10pt}
    \caption{Impact of Context Length with Different Sample Size Multiples.}
\vspace{-10pt}
    \label{fig:context_length_impact}
\end{figure*}