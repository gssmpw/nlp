%%%%% NEW MATH DEFINITIONS %%%%%

\usepackage{amsmath,amsfonts,bm}
\usepackage{cleveref}
\usepackage{thmtools}
\usepackage{dsfont}
\usepackage{stackrel}
\usepackage{algorithm,algorithmic}


% Theorem box
% \newtheorem*{theorem*}{Theorem}  # ICLR style can't have it
\newtheorem{theorem}{Theorem}
\newtheorem{claim}{Claim}
\newtheorem{lemma}{Lemma}
\newtheorem{condition}{Condition}
\newtheorem{proposition}{Proposition}
\newtheorem{corollary}{Corollary}
\newtheorem{question}{Question}
\newtheorem{assumption}{Assumption}
\newtheorem{definition}{Definition}
% \newtheorem*{remark*}{Remark}  # ICLR style can't have it
\newtheorem{remark}{Remark}
\newtheorem{example}{Example}
\makeatletter

\newcommand{\newreptheorem}[2]
{\newenvironment{rep#1}[1]
	{\def\rep@title{#2 \ref{##1}} \begin{rep@theorem}}%
		{\end{rep@theorem}}}
\makeatother
\newreptheorem{theorem}{Theorem}
\newreptheorem{lemma}{Lemma}
\newreptheorem{corollary}{Corollary}
\newreptheorem{proposition}{Proposition}

\crefname{hypothesis}{Hypothesis}{Hypothesis}
\crefname{condition}{Condition}{Conditions}
\crefname{distribution}{Distribution}{Distributions}
\declaretheorem[name=Theorem]{thm}
\declaretheorem[name=Corollary]{cor}
\crefname{thm}{Theorem}{Theorems}


% Mark sections of captions for referring to divisions of figures
\newcommand{\figleft}{{\em (Left)}}
\newcommand{\figcenter}{{\em (Center)}}
\newcommand{\figright}{{\em (Right)}}
\newcommand{\figtop}{{\em (Top)}}
\newcommand{\figbottom}{{\em (Bottom)}}
\newcommand{\captiona}{{\em (a)}}
\newcommand{\captionb}{{\em (b)}}
\newcommand{\captionc}{{\em (c)}}
\newcommand{\captiond}{{\em (d)}}
% \newcommand{\compl}[1]{#1^\mathsf{c}}
\newcommand{\compl}[1]{-#1}

\newcommand{\pr}{\Pr}
\newcommand{\poisson}{\mathrm{Poisson}}
\newcommand{\stirlingii}{\genfrac{\{}{\}}{0pt}{}}
% \newcommand{\KL}{\mathop{\bf KL\/}}
% \newcommand{\TV}{{\bf TV}}
% Matrix notation
\newcommand{\bmax}{\beta_{\max}}

\newcommand{\cP}{\mathcal{P}}
\newcommand{\cR}{\mathcal{R}}
\newcommand{\calD}{\mathcal{D}}
\newcommand{\cK}{\generator }
\newcommand{\tmle}{\hat \theta_{\mbox{MLE}}}
\newcommand{\tsm}{\hat \theta_{\mbox{SM}}}
%\newcommand{\cp}{C_{\mbox{PC}}
\newcommand{\cp}{C_{P}}
\newcommand{\smin}{\lambda_{\min}}
\newcommand{\smax}{\lambda_{\max}}
\newcommand{\bone}{\mathbbm{1}}
\newcommand{\psE}{\tilde \E}
\DeclareMathOperator{\LSI}{LSI}
\DeclareMathOperator{\kl}{KL}
\newcommand{\hess}{\nabla^2}
\newcommand{\fisher}{\mathcal{I}}


\newcommand{\cQ}{\mathcal{Q}}
\newcommand{\cC}{\mathcal{C}}
\newcommand{\bP}{\mathbb{P}}
\newcommand{\bE}{\mathbb{E}}
\newcommand{\cE}{\mathcal{E}}
\renewcommand{\L}{\mathcal{L}}
\newcommand{\I}{\mathcal{I}}
\newcommand{\eps}{\varepsilon}
\newcommand{\smo}{\mathcal{O}} 
\newcommand{\generator}{\mathcal{L}}
\newcommand{\cpc}{C_{\mbox{PC}}} 
\newcommand{\gmle}{\Gamma_{\mbox{MLE}}} 
\newcommand{\opdim}{k} 
\newcommand{\paramdim}{m}

% Highlight a newly defined term
\newcommand{\newterm}[1]{{\bf #1}}


% Figure reference, lower-case.
\def\figref#1{figure~\ref{#1}}
% Figure reference, capital. For start of sentence
\def\Figref#1{Figure~\ref{#1}}
\def\twofigref#1#2{figures \ref{#1} and \ref{#2}}
\def\quadfigref#1#2#3#4{figures \ref{#1}, \ref{#2}, \ref{#3} and \ref{#4}}
% Section reference, lower-case.
\def\secref#1{section~\ref{#1}}
% Section reference, capital.
\def\Secref#1{Section~\ref{#1}}
% Reference to two sections.
\def\twosecrefs#1#2{sections \ref{#1} and \ref{#2}}
% Reference to three sections.
\def\secrefs#1#2#3{sections \ref{#1}, \ref{#2} and \ref{#3}}
%% Reference to an equation, lower-case.
%\def\eqref#1{equation~\ref{#1}}
%% Reference to an equation, upper case
%\def\Eqref#1{Equation~\ref{#1}}
% A raw reference to an equation---avoid using if possible
\def\plaineqref#1{\ref{#1}}
% Reference to a chapter, lower-case.
\def\chapref#1{chapter~\ref{#1}}
% Reference to an equation, upper case.
\def\Chapref#1{Chapter~\ref{#1}}
% Reference to a range of chapters
\def\rangechapref#1#2{chapters\ref{#1}--\ref{#2}}
% Reference to an algorithm, lower-case.
\def\algref#1{algorithm~\ref{#1}}
% Reference to an algorithm, upper case.
\def\Algref#1{Algorithm~\ref{#1}}
\def\twoalgref#1#2{algorithms \ref{#1} and \ref{#2}}
\def\Twoalgref#1#2{Algorithms \ref{#1} and \ref{#2}}
% Reference to a part, lower case
\def\partref#1{part~\ref{#1}}
% Reference to a part, upper case
\def\Partref#1{Part~\ref{#1}}
\def\twopartref#1#2{parts \ref{#1} and \ref{#2}}


\def\1{\bm{1}}
\newcommand{\train}{\mathcal{D}}
\newcommand{\valid}{\mathcal{D_{\mathrm{valid}}}}
\newcommand{\test}{\mathcal{D_{\mathrm{test}}}}



% Random variables
\def\reta{{\textnormal{$\eta$}}}
\def\ra{{\textnormal{a}}}
\def\rb{{\textnormal{b}}}
\def\rc{{\textnormal{c}}}
\def\rd{{\textnormal{d}}}
\def\re{{\textnormal{e}}}
\def\rf{{\textnormal{f}}}
\def\rg{{\textnormal{g}}}
\def\rh{{\textnormal{h}}}
\def\ri{{\textnormal{i}}}
\def\rj{{\textnormal{j}}}
\def\rk{{\textnormal{k}}}
\def\rl{{\textnormal{l}}}
% rm is already a command, just don't name any random variables m
\def\rn{{\textnormal{n}}}
\def\ro{{\textnormal{o}}}
\def\rp{{\textnormal{p}}}
\def\rq{{\textnormal{q}}}
\def\rr{{\textnormal{r}}}
\def\rs{{\textnormal{s}}}
\def\rt{{\textnormal{t}}}
\def\ru{{\textnormal{u}}}
\def\rv{{\textnormal{v}}}
\def\rw{{\textnormal{w}}}
\def\rx{{\textnormal{x}}}
\def\ry{{\textnormal{y}}}
\def\rz{{\textnormal{z}}}

% Random vectors
\def\rvepsilon{{\mathbf{\epsilon}}}
\def\rvtheta{{\mathbf{\theta}}}
\def\rva{{\mathbf{a}}}
\def\rvb{{\mathbf{b}}}
\def\rvc{{\mathbf{c}}}
\def\rvd{{\mathbf{d}}}
\def\rve{{\mathbf{e}}}
\def\rvf{{\mathbf{f}}}
\def\rvg{{\mathbf{g}}}
\def\rvh{{\mathbf{h}}}
\def\rvu{{\mathbf{i}}}
\def\rvj{{\mathbf{j}}}
\def\rvk{{\mathbf{k}}}
\def\rvl{{\mathbf{l}}}
\def\rvm{{\mathbf{m}}}
\def\rvn{{\mathbf{n}}}
\def\rvo{{\mathbf{o}}}
\def\rvp{{\mathbf{p}}}
\def\rvq{{\mathbf{q}}}
\def\rvr{{\mathbf{r}}}
\def\rvs{{\mathbf{s}}}
\def\rvt{{\mathbf{t}}}
\def\rvu{{\mathbf{u}}}
\def\rvv{{\mathbf{v}}}
\def\rvw{{\mathbf{w}}}
\def\rvx{{\mathbf{x}}}
\def\rvy{{\mathbf{y}}}
\def\rvz{{\mathbf{z}}}

% Elements of random vectors
\def\erva{{\textnormal{a}}}
\def\ervb{{\textnormal{b}}}
\def\ervc{{\textnormal{c}}}
\def\ervd{{\textnormal{d}}}
\def\erve{{\textnormal{e}}}
\def\ervf{{\textnormal{f}}}
\def\ervg{{\textnormal{g}}}
\def\ervh{{\textnormal{h}}}
\def\ervi{{\textnormal{i}}}
\def\ervj{{\textnormal{j}}}
\def\ervk{{\textnormal{k}}}
\def\ervl{{\textnormal{l}}}
\def\ervm{{\textnormal{m}}}
\def\ervn{{\textnormal{n}}}
\def\ervo{{\textnormal{o}}}
\def\ervp{{\textnormal{p}}}
\def\ervq{{\textnormal{q}}}
\def\ervr{{\textnormal{r}}}
\def\ervs{{\textnormal{s}}}
\def\ervt{{\textnormal{t}}}
\def\ervu{{\textnormal{u}}}
\def\ervv{{\textnormal{v}}}
\def\ervw{{\textnormal{w}}}
\def\ervx{{\textnormal{x}}}
\def\ervy{{\textnormal{y}}}
\def\ervz{{\textnormal{z}}}

% Random matrices
\def\rmA{{\mathbf{A}}}
\def\rmB{{\mathbf{B}}}
\def\rmC{{\mathbf{C}}}
\def\rmD{{\mathbf{D}}}
\def\rmE{{\mathbf{E}}}
\def\rmF{{\mathbf{F}}}
\def\rmG{{\mathbf{G}}}
\def\rmH{{\mathbf{H}}}
\def\rmI{{\mathbf{I}}}
\def\rmJ{{\mathbf{J}}}
\def\rmK{{\mathbf{K}}}
\def\rmL{{\mathbf{L}}}
\def\rmM{{\mathbf{M}}}
\def\rmN{{\mathbf{N}}}
\def\rmO{{\mathbf{O}}}
\def\rmP{{\mathbf{P}}}
\def\rmQ{{\mathbf{Q}}}
\def\rmR{{\mathbf{R}}}
\def\rmS{{\mathbf{S}}}
\def\rmT{{\mathbf{T}}}
\def\rmU{{\mathbf{U}}}
\def\rmV{{\mathbf{V}}}
\def\rmW{{\mathbf{W}}}
\def\rmX{{\mathbf{X}}}
\def\rmY{{\mathbf{Y}}}
\def\rmZ{{\mathbf{Z}}}

% Elements of random matrices
\def\ermA{{\textnormal{A}}}
\def\ermB{{\textnormal{B}}}
\def\ermC{{\textnormal{C}}}
\def\ermD{{\textnormal{D}}}
\def\ermE{{\textnormal{E}}}
\def\ermF{{\textnormal{F}}}
\def\ermG{{\textnormal{G}}}
\def\ermH{{\textnormal{H}}}
\def\ermI{{\textnormal{I}}}
\def\ermJ{{\textnormal{J}}}
\def\ermK{{\textnormal{K}}}
\def\ermL{{\textnormal{L}}}
\def\ermM{{\textnormal{M}}}
\def\ermN{{\textnormal{N}}}
\def\ermO{{\textnormal{O}}}
\def\ermP{{\textnormal{P}}}
\def\ermQ{{\textnormal{Q}}}
\def\ermR{{\textnormal{R}}}
\def\ermS{{\textnormal{S}}}
\def\ermT{{\textnormal{T}}}
\def\ermU{{\textnormal{U}}}
\def\ermV{{\textnormal{V}}}
\def\ermW{{\textnormal{W}}}
\def\ermX{{\textnormal{X}}}
\def\ermY{{\textnormal{Y}}}
\def\ermZ{{\textnormal{Z}}}

% Vectors
\def\vzero{{\bm{0}}}
\def\vone{{\bm{1}}}
\def\vmu{{\bm{\mu}}}
\def\vtheta{{\bm{\theta}}}
\def\va{{\bm{a}}}
\def\vb{{\bm{b}}}
\def\vc{{\bm{c}}}
\def\vd{{\bm{d}}}
\def\ve{{\bm{e}}}
\def\vf{{\bm{f}}}
\def\vg{{\bm{g}}}
\def\vh{{\bm{h}}}
\def\vi{{\bm{i}}}
\def\vj{{\bm{j}}}
\def\vk{{\bm{k}}}
\def\vl{{\bm{l}}}
\def\vm{{\bm{m}}}
\def\vn{{\bm{n}}}
\def\vo{{\bm{o}}}
\def\vp{{\bm{p}}}
\def\vq{{\bm{q}}}
\def\vr{{\bm{r}}}
\def\vs{{\bm{s}}}
\def\vt{{\bm{t}}}
\def\vu{{\bm{u}}}
\def\vv{{\bm{v}}}
\def\vw{{\bm{w}}}
\def\vx{{\bm{x}}}
\def\vy{{\bm{y}}}
\def\vz{{\bm{z}}}

% Elements of vectors
\def\evalpha{{\alpha}}
\def\evbeta{{\beta}}
\def\evepsilon{{\epsilon}}
\def\evlambda{{\lambda}}
\def\evomega{{\omega}}
\def\evmu{{\mu}}
\def\evpsi{{\psi}}
\def\evsigma{{\sigma}}
\def\evtheta{{\theta}}
\def\eva{{a}}
\def\evb{{b}}
\def\evc{{c}}
\def\evd{{d}}
\def\eve{{e}}
\def\evf{{f}}
\def\evg{{g}}
\def\evh{{h}}
\def\evi{{i}}
\def\evj{{j}}
\def\evk{{k}}
\def\evl{{l}}
\def\evm{{m}}
\def\evn{{n}}
\def\evo{{o}}
\def\evp{{p}}
\def\evq{{q}}
\def\evr{{r}}
\def\evs{{s}}
\def\evt{{t}}
\def\evu{{u}}
\def\evv{{v}}
\def\evw{{w}}
\def\evx{{x}}
\def\evy{{y}}
\def\evz{{z}}

% Matrix
\def\mA{{\bm{A}}}
\def\mB{{\bm{B}}}
\def\mC{{\bm{C}}}
\def\mD{{\bm{D}}}
\def\mE{{\bm{E}}}
\def\mF{{\bm{F}}}
\def\mG{{\bm{G}}}
\def\mH{{\bm{H}}}
\def\mI{{\bm{I}}}
\def\mJ{{\bm{J}}}
\def\mK{{\bm{K}}}
\def\mL{{\bm{L}}}
\def\mM{{\bm{M}}}
\def\mN{{\bm{N}}}
\def\mO{{\bm{O}}}
\def\mP{{\bm{P}}}
\def\mQ{{\bm{Q}}}
\def\mR{{\bm{R}}}
\def\mS{{\bm{S}}}
\def\mT{{\bm{T}}}
\def\mU{{\bm{U}}}
\def\mV{{\bm{V}}}
\def\mW{{\bm{W}}}
\def\mX{{\bm{X}}}
\def\mY{{\bm{Y}}}
\def\mZ{{\bm{Z}}}
\def\mBeta{{\bm{\beta}}}
\def\mPhi{{\bm{\Phi}}}
\def\mLambda{{\bm{\Lambda}}}
\def\mSigma{{\bm{\Sigma}}}

% Tensor
\DeclareMathAlphabet{\mathsfit}{\encodingdefault}{\sfdefault}{m}{sl}
\SetMathAlphabet{\mathsfit}{bold}{\encodingdefault}{\sfdefault}{bx}{n}
\newcommand{\tens}[1]{\bm{\mathsfit{#1}}}
\def\tA{{\tens{A}}}
\def\tB{{\tens{B}}}
\def\tC{{\tens{C}}}
\def\tD{{\tens{D}}}
\def\tE{{\tens{E}}}
\def\tF{{\tens{F}}}
\def\tG{{\tens{G}}}
\def\tH{{\tens{H}}}
\def\tI{{\tens{I}}}
\def\tJ{{\tens{J}}}
\def\tK{{\tens{K}}}
\def\tL{{\tens{L}}}
\def\tM{{\tens{M}}}
\def\tN{{\tens{N}}}
\def\tO{{\tens{O}}}
\def\tP{{\tens{P}}}
\def\tQ{{\tens{Q}}}
\def\tR{{\tens{R}}}
\def\tS{{\tens{S}}}
\def\tT{{\tens{T}}}
\def\tU{{\tens{U}}}
\def\tV{{\tens{V}}}
\def\tW{{\tens{W}}}
\def\tX{{\tens{X}}}
\def\tY{{\tens{Y}}}
\def\tZ{{\tens{Z}}}


% Graph
\def\gA{{\mathcal{A}}}
\def\gB{{\mathcal{B}}}
\def\gC{{\mathcal{C}}}
\def\gD{{\mathcal{D}}}
\def\gE{{\mathcal{E}}}
\def\gF{{\mathcal{F}}}
\def\gG{{\mathcal{G}}}
\def\gH{{\mathcal{H}}}
\def\gI{{\mathcal{I}}}
\def\gJ{{\mathcal{J}}}
\def\gK{{\mathcal{K}}}
\def\gL{{\mathcal{L}}}
\def\gM{{\mathcal{M}}}
\def\gN{{\mathcal{N}}}
\def\gO{{\mathcal{O}}}
\def\gP{{\mathcal{P}}}
\def\gQ{{\mathcal{Q}}}
\def\gR{{\mathcal{R}}}
\def\gS{{\mathcal{S}}}
\def\gT{{\mathcal{T}}}
\def\gU{{\mathcal{U}}}
\def\gV{{\mathcal{V}}}
\def\gW{{\mathcal{W}}}
\def\gX{{\mathcal{X}}}
\def\gY{{\mathcal{Y}}}
\def\gZ{{\mathcal{Z}}}

% Sets
\def\sA{{\mathbb{A}}}
\def\sB{{\mathbb{B}}}
\def\sC{{\mathbb{C}}}
\def\sD{{\mathbb{D}}}
% Don't use a set called E, because this would be the same as our symbol
% for expectation.
\def\sF{{\mathbb{F}}}
\def\sG{{\mathbb{G}}}
\def\sH{{\mathbb{H}}}
\def\sI{{\mathbb{I}}}
\def\sJ{{\mathbb{J}}}
\def\sK{{\mathbb{K}}}
\def\sL{{\mathbb{L}}}
\def\sM{{\mathbb{M}}}
\def\sN{{\mathbb{N}}}
\def\sO{{\mathbb{O}}}
\def\sP{{\mathbb{P}}}
\def\sQ{{\mathbb{Q}}}
\def\sR{{\mathbb{R}}}
\def\sS{{\mathbb{S}}}
\def\sT{{\mathbb{T}}}
\def\sU{{\mathbb{U}}}
\def\sV{{\mathbb{V}}}
\def\sW{{\mathbb{W}}}
\def\sX{{\mathbb{X}}}
\def\sY{{\mathbb{Y}}}
\def\sZ{{\mathbb{Z}}}

% Entries of a matrix
\def\emLambda{{\Lambda}}
\def\emA{{A}}
\def\emB{{B}}
\def\emC{{C}}
\def\emD{{D}}
\def\emE{{E}}
\def\emF{{F}}
\def\emG{{G}}
\def\emH{{H}}
\def\emI{{I}}
\def\emJ{{J}}
\def\emK{{K}}
\def\emL{{L}}
\def\emM{{M}}
\def\emN{{N}}
\def\emO{{O}}
\def\emP{{P}}
\def\emQ{{Q}}
\def\emR{{R}}
\def\emS{{S}}
\def\emT{{T}}
\def\emU{{U}}
\def\emV{{V}}
\def\emW{{W}}
\def\emX{{X}}
\def\emY{{Y}}
\def\emZ{{Z}}
\def\emSigma{{\Sigma}}

% entries of a tensor
% Same font as tensor, without \bm wrapper
\newcommand{\etens}[1]{\mathsfit{#1}}
\def\etLambda{{\etens{\Lambda}}}
\def\etA{{\etens{A}}}
\def\etB{{\etens{B}}}
\def\etC{{\etens{C}}}
\def\etD{{\etens{D}}}
\def\etE{{\etens{E}}}
\def\etF{{\etens{F}}}
\def\etG{{\etens{G}}}
\def\etH{{\etens{H}}}
\def\etI{{\etens{I}}}
\def\etJ{{\etens{J}}}
\def\etK{{\etens{K}}}
\def\etL{{\etens{L}}}
\def\etM{{\etens{M}}}
\def\etN{{\etens{N}}}
\def\etO{{\etens{O}}}
\def\etP{{\etens{P}}}
\def\etQ{{\etens{Q}}}
\def\etR{{\etens{R}}}
\def\etS{{\etens{S}}}
\def\etT{{\etens{T}}}
\def\etU{{\etens{U}}}
\def\etV{{\etens{V}}}
\def\etW{{\etens{W}}}
\def\etX{{\etens{X}}}
\def\etY{{\etens{Y}}}
\def\etZ{{\etens{Z}}}

% The true underlying data generating distribution
\newcommand{\pdata}{p_{\rm{data}}}
% The empirical distribution defined by the training set
\newcommand{\ptrain}{\hat{p}_{\rm{data}}}
\newcommand{\Ptrain}{\hat{P}_{\rm{data}}}
% The model distribution
\newcommand{\pmodel}{p_{\rm{model}}}
\newcommand{\Pmodel}{P_{\rm{model}}}
\newcommand{\ptildemodel}{\tilde{p}_{\rm{model}}}
% Stochastic autoencoder distributions
\newcommand{\pencode}{p_{\rm{encoder}}}
\newcommand{\pdecode}{p_{\rm{decoder}}}
\newcommand{\precons}{p_{\rm{reconstruct}}}

\newcommand{\laplace}{\mathrm{Laplace}} % Laplace distribution

\newcommand{\Ls}{\mathcal{L}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\emp}{\tilde{p}}
\newcommand{\lr}{\alpha}
\newcommand{\reg}{\lambda}
\newcommand{\rect}{\mathrm{rectifier}}
\newcommand{\softmax}{\mathrm{softmax}}
\newcommand{\sigmoid}{\sigma}
\newcommand{\softplus}{\zeta}
\newcommand{\KL}{D_{\mathrm{KL}}}
\newcommand{\KLp}[2]{
    D_{\mathrm{KL}} \left( #1, #2 \right)
}
\newcommand{\Var}{\mathrm{Var}}
\newcommand{\Varp}[1]{
    \mathrm{Var} \left( #1 \right)
}
\newcommand{\standarderror}{\mathrm{SE}}
\newcommand{\Cov}{\mathrm{Cov}}
% Wolfram Mathworld says $L^2$ is for function spaces and $\ell^2$ is for vectors
% But then they seem to use $L^2$ for vectors throughout the site, and so does
% wikipedia.
\newcommand{\normlzero}{L^0}
\newcommand{\normlone}{L^1}
\newcommand{\normltwo}{L^2}
\newcommand{\normlp}{L^p}
\newcommand{\normmax}{L^\infty}

\newcommand{\parents}{Pa} % See usage in notation.tex. Chosen to match Daphne's book.

\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}

\DeclareMathOperator{\sign}{sign}
\DeclareMathOperator{\Tr}{Tr}
\let\ab\allowbreak



%----- Some standard definitions -----%


\newcommand{\minimize}{\mathop{\mathrm{minimize}}}



\newcommand{\Cor}{{\rm Corr}}
\newcommand{\ind}{\mathds{1}}  % Indicator
\newcommand{\indp}[1]{{\mathds{1}_{#1}}}  % Indicator
\newcommand{\smallfrac}[2]{{\textstyle \frac{#1}{#2}}}  
                                                        
\newcommand*{\zero}{{\bm 0}}
\newcommand*{\one}{{\bm 1}}

\newcommand{\diag}{{\rm diag}}
% \newcommand{\tr}{\mathrm{tr}}
\newcommand{\rank}{\mathrm{rank}}
\newcommand{\Unif}{\mathrm{Unif}}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


%%%%% Norms

\newcommand{\norm}[1]{\left\|#1\right\|}
%%%%%%%%%%%%%%%%%%%% Parenthesis stuff %%%%%%%%%%%%%%%%%%%%
\def\abs#1{\left| #1 \right|}
\newcommand{\floor}[1]{\left\lfloor\, {#1}\,\right\rfloor}
\newcommand{\ceil}[1]{\left\lceil\, {#1}\,\right\rceil}
\newcommand{\inparen}[1]{\left(#1\right)}              %\inparen{x+y}  is (x+y)
\newcommand{\inbraces}[1]{\left\{#1\right\}}           %\inbrace{x+y}  is {x+y}
\newcommand{\insquare}[1]{\left[#1\right]}             %\insquare{x+y} is [x+y]
\newcommand{\inangle}[1]{\left\langle#1\right\rangle}  %\inangle{A}    is <A>
\newcommand{\bignorm}[1]{\bigg|\bigg|#1\bigg|\bigg|}
\newcommand{\opnorm}[2]{| \! | \! | #1 | \! | \! |_{{#2}}}

%%%%% Dot product
\newcommand{\dotp}[2]{\langle{#1},{#2}\rangle}

%%%%  brackets
\newcommand{\inner}[2]{\left\langle #1,#2 \right\rangle}
\newcommand{\rbr}[1]{\left(#1\right)}
\newcommand{\sbr}[1]{\left[#1\right]}
\newcommand{\cbr}[1]{\left\{#1\right\}}
\newcommand{\nbr}[1]{\left\|#1\right\|}
\newcommand{\abr}[1]{\left|#1\right|}

\newcommand{\diff}{\mathrm{d}}


\newcommand{\red}[1]{{\color{red} #1}}

\newcommand{\F}{\mathrm{F}}

\newcommand{\iid}{\text{i.i.d.}}


\newcommand{\Xtil}{\widetilde{X}}
\newcommand{\err}{\textrm{err}}
\newcommand*{\E}{\mathbb{E}}  % Expectation
\newcommand*{\Ep}[2]{
    \mathbb{E}_{#1} \left[ #2 \right]
}
\newcommand*{\prob}{\mathbb{P}}
\newcommand{\dist}{\mathrm{dist}}
\newcommand*{\probp}[1]{\mathbb{P}\left\{#1\right\}}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\secondL}{\bzeta}
\newcommand{\thirdL}{\bnu}
\newcommand{\fourthL}{\bUpsilon}
\newcommand{\conttime}{\tau}
\newcommand{\lipschitz}{\bbeta_{\mathrm{lip}}}
\newcommand{\bound}{\bgamma_{\mathrm{ub}}}


\newcommand{\secondPhi}{\bxi}
\newcommand{\thirdPhi}{\bchi}

\newcommand{\eigengap}{\bDelta}
%\newcommand{\mineigen}{\bpi}
\newcommand{\mineigen}{\PLconstant}
\newcommand{\PLconstant}{\bmu}
\newcommand{\PLneighbor}{\balpha_{PL}}
\newcommand{\init}{\bbeta}
\newcommand{\secphaseinit}{\bvarsigma}

\newcommand{\restrict}{\balpha}
\newcommand{\restrictinit}{\balpha_0}
\newcommand{\initinit}{\bbeta_0}

\newcommand{\allinitbound}{\bbeta_{lb}}

\newcommand{\normerrterm}{\bPsi_{\mathrm{norm}}}
\newcommand{\normGtterm}{\bPsi_{\mathrm{G}}}


\newcommand{\constantreplace}{\bPsi}
\newcommand{\secconstantreplace}{\brho}
%\newcommand{\thirdconstantreplace}{\bvarphi}
\newcommand{\explosionconst}{\bvarphi}
\newcommand{\translate}{\bgamma}
\newcommand{\noisyexplosionconst}{\bvarepsilon}

\newcommand{\noiseparameter}{r}
\newcommand{\criticalangle}{\theta_{\text{critical}}}


\newcommand{\flowtraj}{Y}
\newcommand{\saferadius}{{\bm{\eps}}}
\newcommand{\presaferadius}{{\bm{\rho}}}
\newcommand{\lyapunov}{\cL}
\newcommand{\safeloss}{{\bm{\delta}}}
\newcommand{\restatableeq}[3]{\label{#3}#2\gdef#1{#2\tag{\ref{#3}}}}
\newcommand{\normal}{\mathrm{N} }
\newcommand{\tangent}{ \mathrm{T}}

\newcommand{\GFtraj}{Z}
\newcommand{\saferadiusZ}{{\bm{\iota} }}

\newcommand{\projd}[1]{P^{(#1:D)}}
\newcommand{\xinit}{x_{\text{init}}}
\newcommand{\freq}{0.1}
\newcommand{\projn}[1][x]{P_{#1, \Gamma}}
\newcommand{\projt}[1][x]{P_{#1, \Gamma}^\perp}

\newcommand{\cycleonestart}{N_0}
\newcommand{\cycletwostart}{N_1}
\newcommand{\cycletwoother}{N_2}

\newcommand{\stableness}[3]{S_{#1}(#2,#3)}

% customized math commands

\newcommand{\maxloss}[1][\rho]{L^{\textup{Max}}_{#1}}
\newcommand{\avgloss}[1][\rho]{L^{\textup{Avg}}_{#1}}
\newcommand{\ascloss}[1][\rho]{L^{\textup{Asc}}_{#1}}
\newcommand{\maxlimit}{S^{\textup{Max}}}
\newcommand{\avglimit}{S^{\textup{Avg}}}
\newcommand{\asclimit}{S^{\textup{Asc}}}
\newcommand{\stomaxlimit}{\widetilde S^{\textup{Max}}}
\newcommand{\stoavglimit}{\widetilde S^{\textup{Avg}}}
\newcommand{\stoasclimit}{\widetilde S^{\textup{Asc}}}
\newcommand{\stascloss}[1][\rho]{\E_k[L^{\textup{Asc}}_{k,#1}]}
\newcommand{\stmaxloss}[1][\rho]{\E_k[L^{\textup{Max}}_{k,#1}]}
\newcommand{\maxsharpness}[1][\rho]{R^{\textup{Max}}_{#1}}
\newcommand{\avgsharpness}[1][\rho]{R^{\textup{Avg}}_{#1}}
\newcommand{\ascsharpness}[1][\rho]{R^{\textup{Asc}}_{#1}}
\newcommand{\stascsharpness}[1][\rho]{\E_k[R^{\textup{Asc}}_{k,#1}]}
\newcommand{\stmaxsharpness}[1][\rho]{\E_k[R^{\textup{Max}}_{k,#1}]}
\newcommand{\stavgsharpness}[1][\rho]{\E_k[R^{\textup{Avg}}_{k,#1}]}

\newcommand{\continuous}[1]{\mathcal{C}^{#1}}

\newcommand{\lspectraltwo}{\zeta}
\newcommand{\lspectralthree}{\nu}
\newcommand{\lspectralfour}{\Upsilon}
\newcommand{\phispectraltwo}{\xi}
\newcommand{\phispectralthree}{\chi}


%used in appendix
\newcommand{\sIj}{\cap \sI_j}
\newcommand{\tx}{\tilde x}
\newcommand{\bx}{\bar x}
\newcommand{\hx}{\hat x}
\newcommand{\ths}{\frac{\eta \lambda_1^2 }{2 - \eta \lambda_1}}
\newcommand{\best}{\eta \lambda_i \sqrt{\frac{ \frac{1}{2}\lambda_i^2 + \lambda_1^2}{1 - \eta \lambda_1}}}
\newcommand{\Pjd}{P^{(j:D)}}
\newcommand{\Pd}[1]{P^{( #1 :D)}}
\newcommand{\Ptd}{P^{(2:D)}}
\newcommand{\xt}{x(t)}
\newcommand{\dl}[1]{\nabla L\left( #1 \right)}
\newcommand{\dpo}[1]{\partial \Phi \left( #1 \right)}
\newcommand{\dpt}[1]{\partial^2 \Phi \left( #1 \right)}
\newcommand{\dlt}[1]{\nabla^2 L\left( #1 \right)}

\newcommand{\ndl}[1]{\frac{\nabla L\left( #1 \right)}{\| \nabla L\left( #1 \right)\|}}
\newcommand{\ndli}[1]{\frac{\nabla L_k\left( #1 \right)}{\| \nabla L_k\left( #1 \right)\|}}
\newcommand{\dli}[1]{\nabla L_k\left( #1 \right)}
\newcommand{\dlti}[1]{\nabla^2 L_k\left( #1 \right)}
\newcommand{\gammai}{\Gamma_{1,...,i}}
\newcommand{\nexts}{\mathrm{next}}

\newcommand{\tgf}{t_{\mathrm{GF}}}
\newcommand{\xgf}{x(t_{\mathrm{GF}})}
\newcommand{\tdec}{t_{\mathrm{DEC}}}
\newcommand{\xdec}{x(t_{\mathrm{DEC}})}
\newcommand{\xdecs}{x(t_{\mathrm{DEC2}})}
\newcommand{\tdecs}{t_{\mathrm{DEC2}}}
\newcommand{\xloc}{x'}
\newcommand{\tinv}{t_{\mathrm{INV}}}
\newcommand{\xinv}{x(t_{\mathrm{INV}})}
\newcommand{\sIq}{\sI^{\mathrm{quad}}}
\newcommand{\sx}{x_{\mathrm{sur}}}
\newcommand{\sxq}{x'_{\mathrm{sur}}}
\newcommand{\talign}{t_{\mathrm{ALIGN}}}
\newcommand{\talignmid}{t_{\mathrm{ALIGNMID}}}
\newcommand{\tlocal}{t_{\mathrm{LOCAL}}}
