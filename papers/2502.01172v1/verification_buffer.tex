\begin{tikzpicture}
    \draw[lightgray] (3,13) rectangle ++(1,1);
    \draw[lightgray] (4,13) rectangle ++(1,1);
    \draw[lightgray] (5,13) rectangle ++(1,1);
    \draw[lightgray] (6,13) rectangle ++(1,1);
    \draw[lightgray] (7,13) rectangle ++(1,1);
    \draw[lightgray] (8,13) rectangle ++(1,1);
    \draw[lightgray] (9,13) rectangle ++(1,1);
    \draw[lightgray] (10,13) rectangle ++(1,1);

    \draw(2,11) rectangle ++(1,1);
    \draw(3,11) rectangle ++(1,1);
    \draw(4,11) rectangle ++(1,1);
    \draw(5,11) rectangle ++(1,1);
    \draw(6,11) rectangle ++(1,1);
    \draw(7,11) rectangle ++(1,1);
    \draw(8,11) rectangle ++(1,1);
    \draw(9,11) rectangle ++(1,1);
        
    \filldraw (9.5,12.75) circle (0.8pt);
    \filldraw (9.5,12.5) circle (0.8pt);
    \filldraw (9.5,12.25) circle (0.8pt);
    
    \filldraw (9.5,10.75) circle (0.8pt);
    \filldraw (9.5,10.5) circle (0.8pt);
    \filldraw (9.5,10.25) circle (0.8pt);
    
    \draw[ lightgray] (4,9) rectangle ++(1,1);
    \draw[ lightgray] (5,9) rectangle ++(1,1);
    \draw[ lightgray] (6,9) rectangle ++(1,1);
    \draw[ lightgray] (7,9) rectangle ++(1,1);
    \draw[ lightgray] (8,9) rectangle ++(1,1);
    \draw[ lightgray] (9,9) rectangle ++(1,1);
    \draw[ lightgray] (10,9) rectangle ++(1,1);
    
    \filldraw[black] (2.5,11.5) circle (2pt);
    \filldraw[black] (3.5,11.5) circle (2pt);
    \draw[black][black] (4.5,11.5) circle (2pt);
    \draw[black] (5.5,11.5) circle (2pt);
    \filldraw[black] (6.5,11.5) circle (2pt);
    \draw[black] (7.5,11.5) circle (2pt);
    \draw[black] (8.5,11.5) circle (2pt);
    \filldraw[black] (9.5,11.5) circle (2pt);
    
    \filldraw[lightgray] (3.5,13.5) circle (2pt);
    \draw[lightgray] (4.5,13.5) circle (2pt);
    \filldraw[lightgray] (5.5,13.5) circle (2pt);
    \draw[lightgray] (6.5,13.5) circle (2pt);
    \filldraw[lightgray] (7.5,13.5) circle (2pt);
    \draw[lightgray] (8.5,13.5) circle (2pt);
    \filldraw[lightgray] (9.5,13.5) circle (2pt);
    \filldraw[lightgray] (10.5,13.5) circle (2pt);


    \draw[lightgray] (4.5,9.5) circle (2pt);
    \filldraw[lightgray] (5.5,9.5) circle (2pt);
    \draw[lightgray] (6.5,9.5) circle (2pt);
    \filldraw[lightgray] (7.5,9.5) circle (2pt);
    \draw[lightgray] (8.5,9.5) circle (2pt);
    \filldraw[lightgray] (9.5,9.5) circle (2pt);
    \filldraw[lightgray] (10.5,9.5) circle (2pt);

    \node at (0.1, 15.1) [align=left] {\Large time};
    \node at (0.2, 14.5) [align=left] {\Large stamp};
    
    \node at (-1.6,14.2) [align=left] {\Large \ts{}};
    \draw (-.1,14.1) -- (-1.1,14.7);

    \node at (-0.5,13.5) {\LARGE$S_{1}$};
    \node at (9.5,14.4) {\Large{$t-1$}};
    \node at (6.5,14.4) {\Large{$t-4$}};

    \node at (3.5,14.4) {\Large{$t-7$}};
    \node at (10.5,14.4) {\Large{$t$}};
    
    \filldraw (8.8,14.4) circle (0.8pt);
    \filldraw (8.6,14.4) circle (0.8pt);
    \filldraw (8.4,14.4) circle (0.8pt);
    
    \filldraw (5.8,14.4) circle (0.8pt);
    \filldraw (5.6,14.4) circle (0.8pt);
    \filldraw (5.4,14.4) circle (0.8pt);

    \filldraw (2.8,14.4) circle (0.8pt);
    \filldraw (2.6,14.4) circle (0.8pt);
    \filldraw (2.4,14.4) circle (0.8pt);

    \filldraw (-0.5,12.75) circle (0.8pt);
    \filldraw (-0.5,12.5) circle (0.8pt);
    \filldraw (-0.5,12.25) circle (0.8pt);

    \filldraw (-0.5,10.75) circle (0.8pt);
    \filldraw (-0.5,10.5) circle (0.8pt);
    \filldraw (-0.5,10.25) circle (0.8pt);

    \draw[] (10,11) rectangle ++(1,1);
    \draw[black, ] (10.5,11.5) circle (2pt);

    \draw [ultra thick, red,-{Latex[length=2.8mm,width=3.5mm]} ](9.65,11.5) -- (10.4,11.5);
    \draw[green] (10,8) rectangle ++(1,1);
    \filldraw[black] (10.5,8.5) circle (2pt);
    \node [] at (-0.5,8.5) {\LARGE $S_{n+1}$};
    \node at (-0.5,11.5) {\LARGE $S_{i}$};
    \node at (-0.5,9.5) {\LARGE $S_{n}$};
    \draw (0,9) rectangle ++(10,5);

\end{tikzpicture}
