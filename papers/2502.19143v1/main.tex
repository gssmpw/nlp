%\documentclass[acmsmall,screen]{acmart}
%% Extended:
\documentclass[acmsmall,nonacm,screen]{acmart}

\newtoggle{draft}
% \toggletrue{draft}
\togglefalse{draft}

\newtoggle{extended}
\toggletrue{extended}
%\togglefalse{extended}

\input{preamble}

% BibTEX
\bibliographystyle{ACM-Reference-Format}

%% Title information
\iftoggle{extended}{
  \title{Language-Parametric Reference Synthesis (Extended)}
  \titlenote{This is an extended version of the paper \href{https://doi.org/10.1145/3720481}{published in PACMPL OOPSLA'25} \cite{Pelsmaeker_OOPSLA25}.}
}{
  \title{Language-Parametric Reference Synthesis}
}

%% Author information
\author{Daniel A. A. Pelsmaeker}
\orcid{0000-0003-0196-0567}
\affiliation{
  \department{Software Technology}
  \institution{Delft University of Technology}
  \city{Delft}
  \country{Netherlands}
}
\email{d.a.a.pelsmaeker@tudelft.nl}
\authornote{Both authors contributed equally to the paper.}


\author{Aron Zwaan}
\orcid{0000-0002-1818-4245}
\affiliation{
  \department{Software Technology}
  \institution{Delft University of Technology}
  \city{Delft}
  \country{Netherlands}
}
\email{a.s.zwaan@tudelft.nl}
\iftoggle{extended}{
  \authornotemark[2]
}{
  \authornotemark[1]
}


\author{Casper Bach}
\orcid{0000-0003-0622-7639}
\affiliation{
  \department{Software Technology}
  \institution{Delft University of Technology}
  \city{Delft}
  \country{Netherlands}
}
\email{c.b.poulsen@tudelft.nl}
\authornote{Author's current affiliation: University Of Southern Denmark, Odense, Denmark, casperbach@imada.sdu.dk}


\author{Arjan J. Mooij}
\orcid{0009-0005-9566-7696}
\affiliation{
  \institution{TNO-ESI}
  \city{Eindhoven}
  \country{Netherlands}
}
\affiliation{
  \institution{Z\"urich University of Applied Sciences}
  \city{Winterthur}
  \country{Switzerland}
}
\email{arjan.mooij@tno.nl}

%% CCS codes
\begin{CCSXML}
  <ccs2012>
    <concept>
      <concept_id>10011007.10011006.10011039.10011311</concept_id>
      <concept_desc>Software and its engineering~Semantics</concept_desc>
      <concept_significance>500</concept_significance>
    </concept>
    <concept>
      <concept_id>10011007.10011006.10011073</concept_id>
      <concept_desc>Software and its engineering~Software maintenance tools</concept_desc>
      <concept_significance>300</concept_significance>
    </concept>
  </ccs2012>
\end{CCSXML}
\ccsdesc[500]{Software and its engineering~Semantics}
\ccsdesc[300]{Software and its engineering~Software maintenance tools}

%% Keywords
\keywords{references, synthesis, semantics, scope graphs}

%% ACM License
\iftoggle{extended}{
  \setcopyright{cc}
  \setcctype{by}
  \copyrightyear{2025}
}{
  \setcopyright{acmlicensed}
  \acmJournal{PACMPL}
  \acmYear{2025} \acmVolume{9} \acmNumber{OOPSLA1} \acmArticle{123} \acmMonth{4}\acmDOI{10.1145/3720481}
}

%% Content
\begin{document}

\input{0000-abstract}

\maketitle

\input{0100-introduction}
\input{0200-scope-graphs-and-statix}
\input{0300-reference-synthesis-by-example}
\input{0400-operational-semantics}
\input{0500-heuristics}
\input{0600-evaluation}
\input{0800-related-work}
\input{0900-conclusion}
\input{1000-data-availability}
\input{1100-acknowledgements}

\bibliography{local,bibliography}

\iftoggle{extended}{

\pagebreak[4]  %% Suggested page break

\appendix

\input{A000-soundness-proofs.tex}

}{}

\end{document}

