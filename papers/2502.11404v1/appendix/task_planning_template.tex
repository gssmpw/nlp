\begin{figure*}[ht]
\centering
\begin{tcolorbox}[colback=white!95!blue, colframe=blue!40!, title=Prompt for Subtask Planning Module $\mathcal{M}_{TP}$, width=\textwidth]
\small
\texttt{Your objective is to analyze the user's complex question and create a breakdown of actionable subtasks, identifying the most appropriate APIs from the provided toolbox to address each subtask in sequence.}\\

\texttt{\#\#\# Available Tools:} \\
\texttt{\{toolbox\}}\\

\texttt{Each API includes a request path and a description of its functionality. Utilize these APIs strategically to decompose and solve the user's question according to the following guidelines:}\\

\texttt{\#\#\# Guidelines}\\
\texttt{1. Clarify Requirements: Carefully read the user's question to determine key requirements, objectives, and expected outcomes. Identify any specific data or information you need to gather to satisfy the request.}\\
\texttt{2. Break Down the Task: Divide the complex task into clear, manageable subtasks that each address part of the user's needs and can be fulfilled using one or more APIs.}\\
\texttt{3. Select Relevant APIs: Match each subtask to the most relevant API(s) from the toolbox. Base your choices on each API's functionality and response format to ensure it provides the required information.}\\
\texttt{4. Handle Dependencies: Check for dependencies between APIs. For example, to access '\//3\//movie\//\{movie\_id\}\//credits', the 'movie\_id' must first be retrieved via a compatible API.}\\
\texttt{5. Output in Pseudo-Code: Write your solution as a Python function using pseudo-code, with each step annotated in comments (denote as Step 1 to N) describing the subtask. Do not write any code implementation for the stepsâ€”only document the subtasks in comments.}\\

\texttt{User's Question: \{question\}}\\
\texttt{Pseudo-Code Task: \{pseudo\_code\_task\}}\\
\texttt{Planned Subtasks:}
\end{tcolorbox}
\caption{The prompt used for implementing the subtask planning module $\mathcal{M}_{TP}$ in the RestBench-TMDB dataset during our experiments.}
\label{fig:subtask_planning_prompt}
\end{figure*}