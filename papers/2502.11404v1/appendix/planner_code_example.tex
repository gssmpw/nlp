\begin{figure*}[htbp]
\centering
\begin{lstlisting}[language=python, basicstyle=\ttfamily\tiny]
def get_directed_movie_count(director_name: str) -> int:
    """
    Get the number of movies directed by a specific director.

    Parameters:
        director_name (str): The full name of the director whose movies to count.

    Returns:
        int: The number of movies directed by the specified director.
    """
    # Step 1. Search for the director "Sofia Coppola" using the /3/search/person API to find her person_id.
    person_search_response = call_api(
        api_path="/3/search/person", params={"query": director_name}
    )

    # Get person_id from response
    person_id = (
        person_search_response.get("results")[0]["id"]
        if person_search_response.get("results")
        else None
    )

    # Step 2. Retrieve the movie credits for Sofia Coppola using her person_id with the /3/person/{person_id}/movie_credits API.
    if person_id:
        movie_credits_response = call_api(
            api_path="/3/person/{person_id}/movie_credits",
            params={"person_id": person_id},
        )

        # Step 3. Count the number of movies in the credits retrieved.
        # Filter for movies that Sofia Coppola directed
        directed_movies = [
            movie
            for movie in movie_credits_response["crew"]
            if movie["job"] == "Director"
        ]

        number_of_movies_directed = len(directed_movies)
        return number_of_movies_directed

    return 0

if __name__ == "__main__":
    number_of_movies_directed = get_directed_movie_count(director_name="Sofia Coppola")
    print("Number of movies directed by Sofia Coppola:", number_of_movies_directed)
\end{lstlisting}
\caption{An example of the pseudo-code $c_{\boldsymbol{p}}$ generated by \texttt{ToolCoder} for the query: \textit{give me the number of movies directed by Sofia Coppola}.}
\label{app:planner_example}
\end{figure*}