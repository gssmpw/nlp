% This must be in the first 5 lines to tell arXiv to use pdfLaTeX, which is strongly recommended.
\pdfoutput=1
% In particular, the hyperref package requires pdfLaTeX in order to break URLs across lines.

\documentclass[11pt]{article}

% Change "review" to "final" to generate the final (sometimes called camera-ready) version.
% Change to "preprint" to generate a non-anonymous version with page numbers.
\usepackage[preprint]{acl}

% Standard package includes
\usepackage{times}
\usepackage{latexsym}
\usepackage{comment}
% For proper rendering and hyphenation of words containing Latin characters (including in bib files)
\usepackage[T1]{fontenc}
% For Vietnamese characters
% \usepackage[T5]{fontenc}
% See https://www.latex-project.org/help/documentation/encguide.pdf for other character sets

% This assumes your files are encoded as UTF8
\usepackage[utf8]{inputenc}

% This is not strictly necessary, and may be commented out,
% but it will improve the layout of the manuscript,
% and will typically save some space.
\usepackage{microtype}

% This is also not strictly necessary, and may be commented out.
% However, it will improve the aesthetics of text in
% the typewriter font.
\usepackage{inconsolata}

%Including images in your LaTeX document requires adding
%additional package(s)
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{enumitem}
\usepackage{multirow}
\usepackage{multicol}
\usepackage{booktabs}
\usepackage{arydshln}
\usepackage{color}
\usepackage{makecell}
\usepackage{subcaption}
\usepackage{lipsum}

\usepackage{colortbl}
\definecolor{mygray}{gray}{.9}

\usepackage{listings}
\usepackage{xcolor}

\usepackage{tcolorbox}

% 定义清新浅色主题的颜色
\definecolor{light-bg}{RGB}{250,250,250}
\definecolor{light-keyword}{RGB}{0,119,170}
\definecolor{light-string}{RGB}{221,74,104}
\definecolor{light-comment}{RGB}{112,128,144}
\definecolor{light-frame}{RGB}{240,240,240}

\lstset{
    language=Python,
    backgroundcolor=\color{light-bg},
    basicstyle=\ttfamily\small,
    keywordstyle=\color{light-keyword}\bfseries,
    commentstyle=\color{light-comment}\itshape,
    stringstyle=\color{light-string},
    breakatwhitespace=false,
    breaklines=true,
    columns=fullflexible,
    captionpos=b,
    keepspaces=true,
    % numbers=left,  % 注释掉这一行以去除行号
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=4,
    frame=single,
    framesep=3pt,
    framerule=0.4pt,
    rulecolor=\color{light-frame},
    xleftmargin=5pt,  % 由于没有行号，可以减少左边距
    xrightmargin=5pt
}


% \title{\texttt{ToolCoder}: A Program-Empowered Tool Learning Framework \\ for Large Language Models}
\title{
    \includegraphics[height=1.5em]{fig/code_robot2.png} % 插入图标
    \texttt{ToolCoder}: A Systematic Code-Empowered Tool Learning Framework \\ 
    for Large Language Models
}
\author{Hanxing Ding$^{1,2}$\thanks{\ \ Equal contributions.}\quad
Shuchang Tao$^{3}$\footnotemark[1] \quad
Liang Pang$^{1}$\thanks{\ \ Corresponding author}\quad
Zihao Wei$^{1,2}$\quad\\
\textbf{Jinyang Gao}$^{3}$\quad
\textbf{Bolin Ding}$^{3}$\quad
\textbf{Huawei Shen}$^{1,2}$
\textbf{Xueqi Cheng}$^{1,2}$\\
 $^{1}$Key Laboratory of AI Safety, Institute of Computing Technology, Chinese Academy of Sciences \\
 $^{2}$ University of Chinese Academy of Sciences \quad $^{3}$ Alibaba Group \\
 \texttt{\{dinghanxing18s, pangliang, weizihao22z, shenhuawei, cxq\}@ict.ac.cn} \\
 % \texttt{\{taoshuchang.tsc, jinyang.gjy, bolin.ding\}@alibaba-inc.com}
}

\begin{document}
\maketitle
\begin{abstract}
Tool learning has emerged as a crucial capability for large language models (LLMs) to solve complex real-world tasks through interaction with external tools. Existing approaches face significant challenges, including reliance on hand-crafted prompts, difficulty in multi-step planning, and lack of precise error diagnosis and reflection mechanisms. We propose \texttt{ToolCoder}, a novel framework that reformulates tool learning as a code generation task. Inspired by software engineering principles, \texttt{ToolCoder} transforms natural language queries into structured Python function scaffold and systematically breaks down tasks with descriptive comments, enabling LLMs to leverage coding paradigms for complex reasoning and planning. It then generates and executes function implementations to obtain final responses. Additionally, \texttt{ToolCoder} stores successfully executed functions in a repository to promote code reuse, while leveraging error traceback mechanisms for systematic debugging, optimizing both execution efficiency and robustness. Experiments demonstrate that \texttt{ToolCoder} achieves superior performance in task completion accuracy and execution reliability compared to existing approaches, establishing the effectiveness of code-centric approaches in tool learning. Our code is available at \href{https://github.com/dhx20150812/ToolCoder}{\color{red}{this link}}.
% https://anonymous.4open.science/r/ToolCoder-ACL
% 
\end{abstract}
\input{section/1_intro}
\input{section/2_related_work}
\input{section/3_method}
\input{section/4_experiments}
\input{section/5_conclusion}

\section*{Limitations}
Despite the promising performance demonstrated by our approach, several limitations constrain its applicability and highlight directions for future improvement. First, the method relies heavily on the availability of clear, well-defined, and comprehensive API documentation. When such documentation is incomplete, ambiguous, or inconsistent, the model’s ability to infer tool behavior and execute tasks correctly is significantly hindered. This dependency limits the approach's robustness in real-world scenarios where documentation quality is not guaranteed. Second, our approach adopts a global planning strategy that excels in generating structured and efficient solutions but lacks the flexibility to address dynamic, real-time constraints in evolving environments. For example, unforeseen changes in task requirements or partial observability may require adaptive or incremental adjustments that our current framework does not fully support. Finally, scalability remains a challenge when dealing with tasks involving numerous tools and complex interactions. While our approach is effective for moderately complex tool planning, scenarios with a large number of interdependent tools may introduce combinatorial challenges, potentially resulting in suboptimal plans.

\section*{Ethics Statements}
Our proposed method aims to improve tool learning and planning in structured environments by leveraging clear API documentation and a program-empowered planning framework. While the approach holds significant potential for enhancing task automation and efficiency, we recognize the ethical considerations associated with its application. First, the method is inherently dependent on the quality of input data, such as API documentation, which may contain biases or inaccuracies. Inaccurate documentation could propagate errors or lead to unintended outcomes, highlighting the need for careful evaluation and validation of input data. Second, the automation enabled by our approach may impact labor dynamics in specific domains by reducing reliance on human expertise for repetitive or highly structured tasks. We emphasize that the system is designed to assist rather than replace human operators, aiming to improve productivity and free up human capacity for more creative or complex decision-making tasks.

% Bibliography entries for the entire Anthology, followed by custom entries
\bibliography{anthology,custom}
% Custom bibliography entries only
% \bibliography{custom}

% \clearpage
\appendix
\input{section/6_appendix}

\end{document}
