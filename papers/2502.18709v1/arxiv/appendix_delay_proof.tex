\section{Omitted Details of \cref{sec:delay}}
\label{app:proof delay}
This section provides the proofs of the theorems in \cref{sec:delay}.

\subsection{Details of Optimistic Delayed Adaptive FTRL (ODAFTRL)}
\label{app:sub_odaftrl}
We provide a more detailed explanation of the Optimistic Delayed Adaptive FTRL (ODAFTRL) algorithm used for updating $\W_t$ in \cref{sec:delay}.
We recall that ODAFTRL computes $\W_t$ by the following update rule:
\begin{equation}
    \label{eq:odaftrl_2}
    \W_{t+1}=\argmin_{\W\in \ww} \set*{ \sum_{i=1}^{t-D} \inpr{\bm{G}_i ,\W} + \frac{\lambda_t \nrm{\W}_{\F}^2 }{2} },
\end{equation}
where $\lambda_t\geq0$ is a regularization parameter.
The ODAFTRL algorithm, when using this parameter update called AdaHedgeD, satisfies the following lemma:
\begin{lemma}[{\citealt[Theorem 12]{pmlr-v139-flaspohler21a}}]
    \label{thm:AdaHedgeD}
    Fix $\alpha>0$. 
    Let $S_t:\ww\to\R$ be a convex function for each $t=1,\dots,T$.
    Suppose that we update $\lambda_{t}$ in \eqref{eq:odaftrl_2} by the following AdaHedgeD update:
    \begin{align*}
        \lambda_{t+1}&=\frac{1}{\alpha}\sum_{s=1}^{t-D}\delta_s,\\
        \delta_t &= \min\crl*{F_{t+1}(\W_t)-F_{t+1}(\bar{\bm{W}}_t),\inpr{ \bm{G}_t,\W_t-\bar{\bm{W}}_t},F_{t+1}(\hat{\bm{W}}_t)-F_{t+1}(\bar{\bm{W}}_t)+\inpr{ \bm{G}_t,\W_t-\hat{\bm{W}}_t}}_+,\\
        \bar{\bm{W}}_t &= \argmin_{\W\in\ww}F_{t+1}(\W),\\
        \hat{\bm{W}}_t&= \argmin_{\W\in\ww}\set*{F_{t+1}(\W)-\min\crl*{\frac{\nrm{\bm{G}_t}_{\mathrm{F}}}{\nrm{\bm{G}_{t-D:t}}_{\mathrm{F}}},1}\inpr{\bm{G}_{t-D:t},\W}}, \text{  and}\\
        F_{t+1}(\W)&=\frac{\lambda_t\nrm{\W}_\F^2}{2}+\inpr{\G_{1:t},\W}.
    \end{align*}
    Then, for any $\U\in\ww$, ODAFTRL achieves
    \begin{equation*}
        \sumt{\sw}
        \leq
        \sumt{\su}
        +
        \prn*{\frac{B^2}{2\alpha}+1}\prn*{2\max_{s\in[T]}a_{s-D:s-1}+\sqrt{\sum_{t=1}^{T}a_{t}^2+2\alpha b_{t}}},
    \end{equation*}
    where 
    \begin{align*}
        a_{t}&=B\min\crl{\nrm{\bm{G}_{t-D:t}}_{\mathrm{F}},\nrm{\bm{G}_t}_{\mathrm{F}}},\\
        b_{t}&=\operatorname{huber}\prn{\nrm{\bm{G}_{t-D:t}}_{\mathrm{F}},\nrm{\bm{G}_t}_{\mathrm{F}}},\:\text{and} \:
        \operatorname{huber}(x,y)=\frac{1}{2}x^2-\frac{1}{2}(|x|-|y|)^2_+\leq\min\crl*{\frac{1}{2}x^2,|x||y|}.
    \end{align*}
\end{lemma}
In the following, we let $\alpha = \max_{\W \in \ww} \frac{\nrm{\W}_\F^2}{2} = \frac{B^2}{2}$ for simplicity. Then,
\begin{equation*}
        \sumt{\sw}
        \leq
        \sumt{\su}
        +
        2\prn*{2\max_{s\in[T]}a_{s-D:s-1}+\sqrt{\sum_{t=1}^{T}a_{t}^2+B^2 b_{t}}},
\end{equation*}


\subsection{Proof of \cref{thm:delayed_regret_expectation_abstract} }
\label{app:sub_delayed_regret_expectation_abstract}
We present \cref{thm:delayed_regret_expectation_abstract} in a more detailed form and provide its proof. 
\begin{theorem}[Formal version of \cref{thm:delayed_regret_expectation_abstract}]
    \label{thm:delayed_regret_expectation_abstract_detail}
    Let $\alpha=\frac{B^2}{2}$.
    Then, ODAFTRL with the AdaHedgeD update in online structured prediction with a delay of $D$ achieves
    \begin{equation*}
        \E\brk*{\reg}\leq4 B D \L+\frac{2bB^2}{a}
        +\frac{3}{2}\prn*{a^{-1}bB^4\L^2(D+1)^2T}^{1/3}.
    \end{equation*}
\end{theorem}
\begin{proof}
    From \cref{thm:AdaHedgeD} and the definition of $a_t$ and $b_t$, we have
    \begin{align*}
        \sumt{(\sw-\su)}&\leq2\prn*{2B\max_{s\in[T]}\sum_{i=s-D}^{s-1}\nrm{\G_i}_{\mathrm{F}}
        +\sqrt{\sumt{\prn*{B^2\normst^2+B^2\nrm{\G_{t-D:t}}_\F\normst}}}}\\
        &\leq 2\prn*{2BD\L+\sqrt{bB^2\sumt{\sw}}+  \prn*{b B^4 \L^2 (D+1)^2T\sumt{\sw}}^{1/4}},
    \end{align*}
    where we used the Cauchy--Schwarz inequality, $\normst\leq \L$, $\normst^2\leq b\sw$, and the subadditivity of $x \mapsto \sqrt{x}$ for $x \geq 0$ in the last inequality.
    From this inequality and \cref{asp:delayed_a}, we can evaluate surrogate regret as
    \begin{align*}
        \E\brk*{\reg} &\leq \sumt{\prn*{(1-a)\sw-\su}}\\
        &\leq 2\prn*{2BD\L+\sqrt{bB^2\sumt{\sw}} + \prn*{b B^4 \L^2 (D+1)^2 T\sumt{\sw}}^{1/4}} -a\sumt{\sw}\\
        &\leq 4 B D \L+\frac{2bB^2}{a}
        +\frac{3}{2}\prn*{a^{-1}bB^4\L^2(D+1)^2T}^{1/3}.
    \end{align*}
    We used $c_1\sqrt{x}-c_2x\leq{c_1^2}/\prn{4c_2}$ and $c_1x-c_2x^4\leq\prn{{3}/{4}}\prn*{{c_1^4}/\prn{4c_2}}^{1/3}$ that hold for any $x\geq0$, $c_1\geq 0$, and $c_2>0$ in the last inequality.
\end{proof}


\subsection{Proof of \cref{thm:delayed_regret_probability_abstract}}
\label{app:sub_delayed_regret_probability_abstract}
We present \cref{thm:delayed_regret_probability_abstract} in a more detailed form and provide its proof. 
\begin{theorem}
    \label{thm:delayed_regret_probability_abstract_detail}
    Let $\alpha=\frac{B^2}{2}$ and $\delta \in (0,1)$.
    Then, 
    ODAFTRL with the AdaHedgeD update in online structured prediction with a delay of $D$ achieves
    \begin{equation*}
        \reg\leq 4BD\L+\frac{\sqrt{2}}{3}\log\frac{1}{\delta}
        +\frac{\prn*{\sqrt{(1-a)\log\frac{1}{\delta}}+\sqrt{2bB^2}}^2}{a}
        +\frac{3}{2}\prn*{a^{-1}bB^4\L^2(D+1)^2T}^{1/3},
    \end{equation*}
    with probability at least $1 - \delta$. 
\end{theorem}

\begin{proof}
    We decompose $\reg$ into     
    \begin{equation}\label{eq:decompose_reg}
    \reg
    =\sumt{\prn*{L_t(\yht)-\expect{L_t(\yht)}}}+\sumt{\prn{\expect{L_t(\yht)}-\su}}.
    \end{equation}
    Let $Z_t=L_t(\yht)-\expect{L_t(\yht)}$. 
    Then, we have $|Z_t|\leq 1$ and $\expect{Z_t^2}\leq (1-a)\sw$ from \cref{asp:delayed_a}.
    Hence, from \cref{lem:Bernstein}, with probability at least $1 - \delta$, the first term in \eqref{eq:decompose_reg} is upper bounded as 
    \begin{equation}\label{eq:bound_of_zt}
        \sumt{Z_t}\leq\sqrt{2(1-a)\sumt{\sw}\log\frac{1}{\delta}}+\frac{\sqrt{2}}{3}\log\frac{1}{\delta}.
    \end{equation}
    From from \cref{asp:delayed_a} and \cref{thm:AdaHedgeD},
    the second term in \eqref{eq:decompose_reg} is also upper bounded as 
    \begin{align}
        &
        \sumt{(\expect{L_t(\yht)}-\su)}
        \nonumber \\
        &\leq
        2\prn*{2BD\L+\sqrt{bB^2\sumt{\sw}}+  \prn*{b B^4 \L^2 (D+1)^2T\sumt{\sw}}^{1/4}} - a\sumt{\sw},
        \label{eq:bound_of_reg_exp}
    \end{align}
    where we used the subadditivity of $x \mapsto \sqrt{x}$ for $x \geq 0$.
    Therefore, substituting \eqref{eq:bound_of_zt} and \eqref{eq:bound_of_reg_exp} into \eqref{eq:decompose_reg} gives 
    \begin{align*}
        \reg&\leq 4BD\L+\frac{\sqrt{2}}{3}\log\frac{1}{\delta}
        +\prn*{\sqrt{ 2 (1-a) \log \frac{1}{\delta} } + 2\sqrt{bB^2}}\sqrt{\sumt{\sw}}\\
        &\quad+2\prn*{b B^4 (D+1)^2 \L ^2T\sumt{\sw}}^{1/4} - a\sumt{\sw}\\
        &\leq 4BD\L+\frac{\sqrt{2}}{3}\log\frac{1}{\delta}
        +\frac{\prn*{\sqrt{(1-a)\log\frac{1}{\delta}}+\sqrt{2bB^2}}^2}{a}
        +\frac{3}{2}\prn*{a^{-1}bB^4\L^2(D+1)^2T}^{1/3},
    \end{align*}
    where we used $c_1\sqrt{x}-c_2x\leq{c_1^2}/\prn{4c_2}$ and $c_1x-c_2x^4\leq\prn{{3}/{4}}\prn*{{c_1^4}/\prn{4c_2}}^{1/3}$ for $x\geq0$, $c_1\geq 0$, and $c_2>0$ in the last inequality.
    This is the desired bound.
\end{proof}