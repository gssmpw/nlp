\section{Omitted Details of \cref{sec:bandit_and_delayed}}\label{app:bandit_and_delayed}
This section provides the omitted proofs of the theorems in \cref{sec:bandit_and_delayed}.

\subsection{Common analysis}
We provide the analysis that is commonly used in the proofs of \cref{thm:delay_bandit_bound_general_abstract,thm:delay_bandit_bound_self_abstract}.
We use ODAFTRL with the AdaHedgeD update in \cref{app:sub_odaftrl} for $\alg$.
From \cref{thm:AdaHedgeD}, it holds that
\begin{equation}\label{eq:inpr_common}
    \sumt{\inpr{\gtil,\W_t-\U}} 
    \leq 2\prn*{2\max_{t\in[T]}a_{t-D:t-1}+\sqrt{\sumt{a_t^2}+B^2 b_t}},
\end{equation}
where
\begin{equation*}
    a_t=B\min\set{\nrm{\tilde{\G}_{t-D:t}}_\F,\nrm{\gtil}_\F} \quad \mbox{and} \quad b_t\leq\min\set*{\frac{1}{2}\nrm{\tilde{\G}_{t-D:t}}_\F^2, \nrm{\tilde{\G}_{t-D:t}}_\F\nrm{\gtil}_\F}.
\end{equation*}
By the definition of $a_t$, we have 
\begin{equation}\label{eq:bound_of_at}
    \E\brk*{\max_{t\in\brk{T}}a_{t-D:t-1}}\leq B\E\brk*{\max_{t\in\brk{T}} \sum_{s=t-D}^{t-1}\nrm{\tilde{\G}_{s}}_\F }\leq B\E\brk*{\sqrt{D\max_{t\in\brk{T}}\sum_{s=t-D}^{t-1}\nrm{\tilde{\G}_s}_\F^2}}\leq B\sqrt{D\E\brk*{\sumt{\nrm{\gtil}_\F^2}}},
\end{equation}
from the Cauchy--Schwarz inequality and Jensen's inequality.
Hence, from \eqref{eq:inpr_common} and \eqref{eq:bound_of_at}, we have
\begin{align}\label{eq:bandit_delayed_expect_inpr}
    \E\brk*{\sumt{\inpr{\gtil,\W_t-\U}}}
    &\leq 2\prn*{2\E\brk*{\max_{t\in[T]}a_{t-D:t-1}}+\sqrt{\E\brk*{\sumt{a_t^2}}}+B\sqrt{ \E\brk*{\sumt{b_t}}}}\nonumber\\
    &\leq 2B\prn*{2\sqrt{D\E\brk*{\sumt{\nrm{\gtil}_\F^2}}}+\sqrt{\E\brk*{\sumt{\nrm{\gtil}_\F^2}}}+\sqrt{\E\brk*{\sumt{b_t}}}},
\end{align}
where we used the subadditivity of $x \mapsto \sqrt{x}$ for $x \geq 0$.
The last term in the last inequality is further bounded as
\begin{align}\label{eq:expect_bt}
    \E\brk*{\sumt{b_t}}&\leq \E\brk*{\sumt{\nrm{\tilde{\G}_{t-D:t}}_\F\nrm{\gtil}_\F}}
    \leq\E\brk*{\sumt{\nrm{\gtil}_\F^2}} +\E\brk*{\sumt{\nrm{\gtil}_\F\sum_{s=t-D}^{t-1}\nrm{\tilde{\G}_s}_\F}}\nonumber\\
    &=\E\brk*{\sumt{\nrm{\gtil}_\F^2}} + \E\brk*{\sumt
    {\E_t\brk*{\nrm{\gtil}_\F}\sum_{s=t-D}^{t-1}\nrm{\tilde{\G}_s}_\F}}, 
\end{align}
where the second inequality follows from the triangle inequality and the equality follows from the law of total expectation.


\subsection{Proof of \cref{thm:delay_bandit_bound_general_abstract}}\label{app:bandit_delayed_general}
We provide the complete version of \cref{thm:delay_bandit_bound_general_abstract}:
\begin{theorem}[Formal version of \cref{thm:delay_bandit_bound_general_abstract}]
    The algorithm in \cref{subsec:bandit_delay_general} achieves
\begin{equation*}
    \E\brk*{\reg}
    \leq \frac{4bB}{a}\prn*{D^{1/4}+D^{-1/4}}^2\sqrt{KT}+2B \L\sqrt{D T}+B\sqrt{DKT}
    = O\prn{D\sqrt{KT}}
    .
\end{equation*}
\end{theorem}

\begin{proof}
First, we will upper bound $\E\brk*{\sumt{b_t}}$.
From \eqref{eq:expect_bt}, we have
\begin{align}\label{eq:bound_of_bt_general}
    \E\brk*{\sumt{b_t}}&\leq \E\brk*{\sumt{\nrm{\gtil}_\F^2}} + \E\brk*{\sumt
    {\E_t\brk*{\nrm{\gtil}_\F}\sum_{s=t-D}^{t-1}\nrm{\tilde{\G}_s}_\F}}\nonumber\\
    &\leq \E\brk*{\sumt{\nrm{\gtil}_\F^2}} + \L\E\brk*{\sumt{\sum_{s=t-D}^{t-1}\E_s\brk*{\nrm{\tilde{\G}_s}_\F}}}\nonumber\\
    &\leq \E\brk*{\sumt{\nrm{\gtil}_\F^2}} + D\L^2 T,
\end{align}
where the second and third inequality follow from the inequality $\expect{\nrm{\gtil}_\F}=\nrm{\G_t}_\F\leq \L$.
Hence, from \eqref{eq:bandit_delayed_expect_inpr} and \eqref{eq:bound_of_bt_general}, it holds that
\begin{align}
    \E\brk*{\sumt{\inpr{\gtil,\W_t-\U}}}
    &\leq 2B\prn*{2\sqrt{D\E\brk*{\sumt{\nrm{\gtil}_\F^2}}}+\sqrt{\E\brk*{\sumt{\nrm{\gtil}_\F^2}}}
    +
    \sqrt{{\E\brk*{\sumt{\nrm{\gtil}_\F^2}} + D\L^2 T}}}\nonumber\\
    &\leq 4B\prn*{\sqrt{D}+1}\sqrt{\E\brk*{\sumt{\nrm{\gtil}_\F^2}}}+2 B\L\sqrt{ D T}\nonumber\\
    &\leq 4B\prn*{\sqrt{D}+1}\sqrt{\frac{bK}{q}\E\brk*{\sumt{\sw}}}+2B\L\sqrt{ D T},
\end{align}
where in the second inequality we used the subadditivity of $x \mapsto \sqrt{x}$ for $x \geq 0$ and in the last inequality we used 
\begin{equation*}
\expect{\|\gtil\|_{\mathrm{F}}^2}
=
\frac{\|\G_t\|_{\mathrm{F}}^2}{p_t(\yt)}
\leq
\frac{\K }{q}\|\G_t\|_{\mathrm{F}}^2
\leq
\frac{b\K }{q}\sw.
\end{equation*}
Therefore, combining all the above arguments yields 
\begin{align*}
    \E\brk*{\reg}&
    \leq \E\brk*{\sumt{(\sw-\su)}} - a\E\brk*{\sumt{\sw}} + q T\\
    &\leq \E\brk*{\sumt{\inpr{\gtil,\W_t-\U}}} - a\E\brk*{\sumt{\sw}} + q T\\
    &\leq 4B\prn*{\sqrt{D}+1}\sqrt{\frac{bK}{q}\E\brk*{\sumt{\sw}}}+2 B\L\sqrt{ D T}- a\E\brk*{\sumt{\sw}} + q T\\
    &\leq \frac{4bB^2}{a}\prn*{\sqrt{D}+1}^2\frac{bK}{q}+2 B\L\sqrt{D T}+ q T,
\end{align*}
where the first inequality follows from \cref{asp:bandit_a},
the second inequality follows from the convexity of $S_t$ and the unbiasedness of $\gtil$,
and the last inequality follows from $c_1\sqrt{x}-c_2x\leq{c_1^2}/\prn{4c_2}$ for $x \geq 0$, $c_1 \geq 0$, and $c_2 > 0$.
Finally, by substituting $q=B\sqrt{DK/T}$, we obtain
\begin{equation*}
    \E\brk*{\reg}
    \leq
    \frac{4bB}{a}\prn*{D^{1/4}+D^{-1/4}}^2\sqrt{KT}+2B \L\sqrt{D T}+B\sqrt{DKT},
\end{equation*}
which is the desired bound.
\end{proof}





\subsection{Proof of \cref{thm:delay_bandit_bound_self_abstract}}\label{app:bandit_delayed_self}
We provide the complete version of \cref{thm:delay_bandit_bound_self_abstract}:
\begin{theorem}[Formal version of \cref{thm:delay_bandit_bound_self_abstract}]
    The algorithm in \cref{subsec:bandit_delay_self} achieves
    \begin{equation*}
        \E\brk{\reg}
        =
        \frac{8bB^2}{a}\prn[\Big]{\sqrt{D} + 1}^2
    +2B (\L+\dix \diy )\sqrt{DT}
        + O\prn*{ B^{2/3} D^{1/3} T^{2/3} }. 
    \end{equation*}
\end{theorem}
\begin{proof}
First, we will derive an upper bound of $\E\brk*{\sumt{b_t}}$.
We first observe that
\begin{align*}
    \expect{\nrm{\gtil}_\F}&=\expect{\nrm{(\yho(\tht)-\ytilde)\xt^\top}_\F}\leq \expect{\nrm{\G_t}_\F + \dix \nrm{\yt-\ytilde}_2}
    \leq \nrm{\G_t}_\F + \dix \expect{\nrm{\yt}_2+\nrm{\ytilde}_2}\\
    &\leq \nrm{\G_t}_\F + \dix \diy + \dix \expect{\sqrt{\tr\prn*{\ytilde\ytilde^\top}}}
    \leq \nrm{\G_t}_\F + \dix \diy + \dix {\sqrt{\expect{\tr\prn*{\ytilde\ytilde^\top}}}}\\
    &\leq \nrm{\G_t}_\F + \dix \diy + \sqrt{\dix^2\omega / q}
    \leq \L+ \dix \diy + \sqrt{\dix^2\omega / q},
\end{align*}
where the first inequality follows from $\dix =\diam(\xx)$, the third inequality follows from $\diy=\diam(\yy)$, the fourth inequality follows from Jensen's inequality, and the fifth inequality follows from \cref{lem:bound of trace}.
Thus, combining \eqref{eq:expect_bt} with the last inequality, we have
\begin{align}
    \E\brk*{\sumt{b_t}}&\leq \E\brk*{\sumt{\nrm{\gtil}_\F^2}} + \E\brk*{\sumt
    {\E_t\brk*{\nrm{\gtil}_\F}\sum_{s=t-D}^{t-1}\nrm{\tilde{\G}_s}_\F}} \nonumber \\
    &\leq \E\brk*{\sumt{\nrm{\gtil}_\F^2}}+ \prn*{\L+ \dix \diy + \sqrt{\frac{\dix^2\omega}{q}} } \E\brk*{\sumt{\sum_{s=t-D}^{t-1}\E_s\brk*{\nrm{\tilde{\G}_s}_\F}}} \nonumber \\
    & \leq\E\brk*{\sumt{\nrm{\gtil}_\F^2}}+ D T \prn*{\L+ \dix \diy + \sqrt{\frac{\dix^2\omega}{q}} }^2.
    \label{eq:expect_gtil_self}
\end{align}
Hence, from \eqref{eq:bandit_delayed_expect_inpr} and \eqref{eq:expect_gtil_self}, we have
\begin{align}\label{eq:expext_inpr_self}
    &\E\brk*{\sumt{\inpr{\gtil,\W_t-\U}}}\nonumber\\
    &\leq 2B\prn*{2\sqrt{D\E\brk*{\sumt{\nrm{\gtil}_\F^2}}}+\sqrt{\E\brk*{\sumt{\nrm{\gtil}_\F^2}}}+\sqrt{\E\brk*{\sumt{b_t}}}}\nonumber\\
    &\leq 4B\prn*{\sqrt{D}+1}\sqrt{\E\brk*{\sumt{\nrm{\gtil}_\F^2}}} + 2B\prn*{\L+ \dix \diy + \sqrt{ \dix^2\omega / q } } \sqrt{DT}\nonumber\\
    &\leq 4B\prn*{\sqrt{D}+1}\sqrt{2\sumt{\prn*{b\sw+\frac{\dix^2\omega}{q}}}
    }
    + 2B\prn*{\L+ \dix \diy + \sqrt{\dix^2\omega / q} } \sqrt{DT},
\end{align}
where the first inequality follows from \eqref{eq:bandit_delayed_expect_inpr}, 
the second inequality follows from \eqref{eq:expect_gtil_self} and the subadditivity of $x \mapsto \sqrt{x}$ for $x \geq 0$, 
and the last inequality follows from \cref{thm:evaluation of Gtilde}.
Therefore, combining all the above arguments yields 
\begin{align*}
    \E\brk*{\reg}
    &\leq \E\brk*{\sumt{(\sw-\su)}} - a\E\brk*{\sumt{\sw}} + q T\\
    &\leq \E\brk*{\sumt{\inpr{\gtil,\wt-\U}}} - a\E\brk*{\sumt{\sw}} + q T\\
    & \leq 4B\prn*{\sqrt{D} + 1}\prn*{\sqrt{2b\sumt{\sw}}+\sqrt{ 2\dix^2\omega T / q}
    }
    \nonumber \\
    &\qquad+ 2B\prn*{\L+ \dix \diy + \sqrt{\dix^2\omega / q}  } \sqrt{DT} - a\E\brk*{\sumt{\sw}} + q T \\
    &\leq
    \frac{8bB^2}{a}\prn[\Big]{\sqrt{D} + 1}^2
    +2B (\L+\dix \diy )\sqrt{DT}
    +2B\dix\prn[\big]{(2\sqrt{2}+1)\sqrt{D}+2\sqrt{2}}\sqrt{\omega T/ q} + q T,
\end{align*}
where the first inequality follows from \cref{asp:bandit_a}, 
the third inequality follows from \eqref{eq:expext_inpr_self} and the subadditivity of $x \mapsto \sqrt{x}$ for $x \geq 0$, 
and the last inequality follows from the definition of $\epsilon$ and $c_1\sqrt{x}-c_2x\leq{c_1^2}/\prn{4c_2}$ for $x \geq 0$, $c_1 \geq 0$, and $c_2 > 0$.
Finally, substituting $q=\prn*{\frac{\omega B^2\dix^2 D}{T}}^{1/3}$ gives the desired bound.
\end{proof}

