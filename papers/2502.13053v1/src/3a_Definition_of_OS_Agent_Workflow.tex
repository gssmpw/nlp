\subsection{Definition of the OS Agent Workflow}
\label{sec:Definition of OS Agents Workflow}
To clarify the workflow of the OS Agent, the workflow parameters are formally defined as follows: $Action_i$ represents the action, and $State_i$ denotes the state during execution (with $State_{sys}$ representing the system state), where $i \in [0, N]$, with $i$ indicating the step required for the task and $N$ being the maximum number of steps needed to complete the task. $Action_{fin}$ represents the action indicating that the reasoning process is considered finished by the (M)LLMs. $State_{goal}$ denotes the goal state, $State_{mem}$ refers to the past state stored in memory, and $State_{fin}$ represents the final state after reasoning. $Reasoning(.)$ denotes the reasoning function, and $System(.)$ represents the system state function. We present the overall workflow of the OS Agent in Algorithm \ref{algorithm:Workflow of OS Agents}. 

% In the Perception state, the OS Agent collects data from the OS device, which is expressed as:
% \begin{equation}
% \begin{split}
%     State_i \leftarrow Perception(OS)
% \end{split}
% \label{eq:percetion}
% \end{equation}

% In the Reasoning state, the MLLM processes the collected data, decomposes the user goal into sub-tasks, and infers the necessary actions to be taken, as described in Equation \ref{eq:reasoning}. This reasoning process places the Agent in a \textit{StopTheWorld} state. 
% \begin{equation}
% \begin{split}
%     Action_i &\leftarrow Reasoning(State_{goal},\\
%     & State_i, State_{mem})
% \end{split}
% \label{eq:reasoning}
% \end{equation}


% After Reasoning, if the goal has not been achieved, the Agent executes operations within the Action Space on the OS device, as formalized by Equation \ref{eq:system}. Upon completing the action, the Agent proceeds to the next iteration to continue pursuing the goal. 
% \begin{equation}
% \begin{split}
%     State_{i+1} \leftarrow System(State_i, Action_i)
% \end{split}
% \label{eq:system}
% \end{equation}


% If the Reasoning result indicates that the goal has been achieved, the evaluation function assesses the system state, represented as:
% \begin{equation}
% \begin{split}
%     True/False \leftarrow Eval(State_{i}, State_{goal})
% \end{split}
% \label{eq:eval}
% \end{equation}


\begin{algorithm}[t]
\begin{spacing}{1}
\caption{Workflow of the OS Agent}
\label{algorithm:Workflow of OS Agents}
\LinesNumbered % 显示行号
\KwIn{Operating System $OS$, Goal State $State_{goal}$} % 输入参数
\KwOut{Final system state $State_{fin}$} % 输出结果
\setstretch{1} % 增加行间距

\While{Reasoning result is not $Action_{fin}$} {
    \textbf{Perception Stage:} The OS Agent collects data from the OS. 
    $State_i \leftarrow Perception(OS)$ \\

    \textbf{Reasoning Stage:} The MLLMs process the collected data and infer the necessary actions to be taken. 
    $Action_i/Action_{fin} \leftarrow Reasoning(State_{goal}, State_i, State_{mem})$ \\

    \textbf{Action Stage:} The Agent executes operations within the Action Space of OS when reasoning result is $Action_i$. 
    $State_{i+1} \leftarrow System(State_i, Action_i)$ \\

}

The OS Agent finishes the task and obtains the final system state.
    $State_{fin} \leftarrow State_{i}$

% \textbf{Evaluation Stage:} Use the evaluation function to assess the system state. 
% $Res \leftarrow Eval(State_{i}, State_{goal})$ \\% 循环完成后评估
% \Return $Res$
\end{spacing}
\end{algorithm}