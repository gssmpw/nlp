\documentclass[final,a4paper,UKenglish,cleveref,autoref]{oasics-v2021}

\bibliographystyle{plainurl} % the mandatory bibstyle

% titolo provvisorio!
\title{Formal verification in Solidity and Move: insights from a comparative analysis}  
% (Experience report)

%\titlerunning{Dummy short title} %TODO optional, please use if title is longer than one line

\author{Massimo Bartoletti}{University of Cagliari, Italy \and \url{http://blockchain.unica.it} }{bart@unica.it}{https://orcid.org/0000-0003-3796-9774}{Partially supported by project SERICS (PE00000014) and PRIN 2022 DeLiCE (F53D23009130001) under the MUR National Recovery and Resilience Plan funded by the European Union -- NextGenerationEU.}

\author{Silvia Crafa}{University of Padova, Italy}{crafa@math.unipd.it}{https://orcid.org/0000-0003-0993-4734}{Supported by the National Recovery and Resilience Plan (NRRP) Project ``Securing sOftware Platforms - SOP'', CUP H73C22000890001}

\author{Enrico Lipparini}{University of Cagliari, Italy \and \url{https://elipparini.github.io/}}{enrico.lipparini@unica.it}{https://orcid.org/0009-0009-0428-4403}{Supported by project PRIN 2022 DeLiCE (F53D23009130001) under the MUR National Recovery and Resilience Plan funded by the European Union -- NextGenerationEU.}

%TODO mandatory, please use full name; only 1 author per \author macro; first two parameters are mandatory, other parameters can be empty. Please provide at least the name of the affiliation and the country. The full address is optional. Use additional curly braces to indicate the correct name splitting when the last name consists of multiple name parts.

\authorrunning{M. Bartoletti, S. Crafa, E. Lipparini} 

%TODO mandatory. First: Use abbreviated first/middle names. Second (only in severe cases): Use first author plus 'et al.'

\Copyright{M. Bartoletti, S. Crafa, E. Lipparini}
%TODO mandatory, please use full first names. LIPIcs license is "CC-BY";  http://creativecommons.org/licenses/by/3.0/

% \ccsdesc[500]{Software and its engineering~Formal methods}
\ccsdesc[500]{Software and its engineering~Formal software verification}

%TODO mandatory: Please choose ACM 2012 classifications from https://dl.acm.org/ccs/ccs_flat.cfm 

\keywords{Smart contracts, Solidity, Move, Verification, Blockchain}

\category{} %optional, e.g. invited paper

\relatedversion{} %optional, e.g. full version hosted on arXiv, HAL, or other respository/website
%\relatedversiondetails[linktext={opt. text shown instead of the URL}, cite=DBLP:books/mk/GrayR93]{Classification (e.g. Full Version, Extended Version, Previous Version}{URL to related version} %linktext and cite are optional

% \supplement{\url{https://github.com/fsainas/contracts-verification-benchmark}}%optional, e.g. related research data, source code, ... hosted on a repository like zenodo, figshare, GitHub, ...
%\supplementdetails[linktext={opt. text shown instead of the URL}, cite=DBLP:books/mk/GrayR93, subcategory={Description, Subcategory}, swhid={Software Heritage Identifier}]{General Classification (e.g. Software, Dataset, Model, ...)}{URL to related version} %linktext, cite, and subcategory are optional

%\funding{(Optional) general funding statement \dots}%optional, to capture a funding statement, which applies to all authors. Please enter author specific funding statements as fifth argument of the \author macro.

% \acknowledgements{I want to thank \dots}%optional

\nolinenumbers %uncomment to disable line numbering

% \EventEditors{Bruno Bernardo and Diego Marmsoler}
% \EventNoEds{2}
% \EventLongTitle{5th International Workshop on Formal Methods for Blockchains (FMBC 2024)}
% \EventShortTitle{FMBC 2024}
% \EventAcronym{FMBC}
% \EventYear{2024}
% \EventDate{April 7, 2024}
% \EventLocation{Luxembourg City, Luxembourg}
% \EventLogo{}
% \SeriesVolume{118}
% \ArticleNo{6}

\input{macro.tex}
\input{styles.tex}

% correct the font size of lstinline 
\makeatletter
\lstdefinestyle{mystyle}{
  basicstyle=%
    \ttfamily
    \lst@ifdisplaystyle\footnotesize\fi
}
\makeatother
\lstset{style=mystyle}

%\newcommand{\urlSheets}{\url{https://tinyurl.com/3ndkhj57}}

\newcommand{\githubaddress}{https://github.com/blockchain-unica/solidity-vs-move-verification}
\newcommand{\githuburl}{\url{\githubaddress}}
\newcommand{\sheeturl}{https://docs.google.com/spreadsheets/d/1oy43kISC2iM63XfksfonRBzjXPkpLoDglz-m24nazvc/edit?usp=sharing}

\newcommand{\specurl}[2]{\href{\githubaddress/blob/main/contracts/#1/README.md\#{#2}}{\textcolor{blue}{\texttt{#1}/\texttt{#2}}}}

\newcommand{\contracturl}[1]{\href{\githubaddress/blob/main/contracts/#1/README.md}{\textcolor{blue}{\texttt{#1}}}}

% TODO: fix command
% \newcommand{\solidityurl}[1]{\href{\githubaddress/blob/main/contracts/#1/certora/#1.sol}{\texttt{#1}}}


% Statistics on the dataset
\newcounter{nBankCounter}
\setcounter{nBankCounter}{28}

\newcounter{nVaultCounter}
\setcounter{nVaultCounter}{21}

\newcounter{nPricebetCounter}
\setcounter{nPricebetCounter}{17}

\newcounter{nTotCounter}
\setcounter{nTotCounter}{\numexpr\value{nBankCounter}+\value{nVaultCounter}+\value{nPricebetCounter}\relax}

\newcommand{\nBankProperties}{\arabic{nBankCounter}\xspace}
\newcommand{\nVaultProperties}{\arabic{nVaultCounter}\xspace}
\newcommand{\nPricebetProperties}{\arabic{nPricebetCounter}\xspace}
\newcommand{\nTotProperties}{\arabic{nTotCounter}\xspace}

\begin{document}

\maketitle

\input{abstract.tex}

%\enriconote{Nel titolo togliere "insights from"? O "a comparative analysis-based study"?}

\input{intro.tex}
%\enriconote{da qualche parte specificare che con Move ci riferiremo specificamente a Aptos Move}
\input{background.tex}
\input{methodology.tex}
\input{comparison.tex}
\input{conclusions.tex}
%%
%% Bibliography
%%
\bibliography{main}

\newpage
\appendix
\input{benchmark.tex}
\input{properties.tex}




%\newpage


%\begin{itemize}

%\item Move sembra più adatto per la verifica rispetto a Solidity (fare esempi di quando siamo riusciti a verificare meglio) In Section \ref{sec:comparison:language}  sembra sempre meglio, eccetto che per immutable.

%\item \enriconote{più facile capire la ground truth in Move perché non ci sono le schifezze di Solidity}

%\item in entrambi i casi, esprimere bene alcune proprietà richiede conoscenze di basso livello di come funziona il linguaggio (per Solidity, reentrancy, fallback; per Move, quella roba sulle features dei token, ...). Dare spec richiede conoscenza della piattaforma abbastanza low level, perché a volte la verifica fallisce e non capisci perché

%\item per Solidity ecosistema più ricco di tool per la verifica, anche che vanno oltre le proprietà verificabili da Certora

%\item Certora nel complesso più espressivo, ma sembra possibile migliorare il Move Prover per renderlo paragonabile a Certora riguardo ad espressività (ad esempio, trace properties, metamorphic properties, reference a transition variables)

%\item esistono comunque proprietà interessanti che nessuno dei tool sembra di grado di esprimere (hyperproperties?)
%(It has been observed that properties that abstract the system %, although in general harder to verify in practice, are  more desirable and have a better return-on-investment than low-level properties~\cite{Xu24langsec}.) 

%\item Non abbiamo pretesa di esaustività: è possibile/probabile che ci siano altre differenze rilevanti che non abbiamo incontrato nei nostri esperimenti. Ciò comunque non invalida i nostri finds. 

%\item Future work includes 
%extending our dataset and exploring other features, % \enriconote{mah potrebbe far pensare che abbia esplorato giusto un paio di features}
%as well as investigating  verification in other contract languages.
% \begin{itemize}
%    \item sarebbe bello mettere mutants per vedere quanto i tool sono bravi a fare bug detection
%    \item altri linguaggi?
%    \item gas rent fees?
%\end{itemize} 
%\end{itemize}


\noindent \enriconote{TODOs:  \ \\ \ \\ 
 %* change  github url to solidity-vs-move-verification \ \\ \ \\ 
 * add link to table in each README \ \\ %(e.g. https://github.com/blockchain-unica/certora-vs-move-prover-benchmark/blob/main/contracts/bank/README.md)
 * define N/A and N/D in tables \ \\
 %* link codice appendice da Sez 4 \ \\
 * %cambiare nomi prop local-global intra-inter 
 in MSL a rigore nella inter dovremmo usare disable\_invariants\_in\_body \ \\ 
}

% \input{taxonomy.tex}
% \input{rimasugli.tex}

\end{document}