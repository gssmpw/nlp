\documentclass{article}
\usepackage{booktabs}
\usepackage{adjustbox}
\begin{document}
\section{Full DomainBed results}
% Total records: 72348

\subsection{Model selection: training-domain validation set}

\subsubsection{ColoredMNIST}

\begin{center}
\adjustbox{max width=\textwidth}{%
\begin{tabular}{lcccc}
\toprule
\textbf{Algorithm}   & \textbf{+90\%}       & \textbf{+80\%}       & \textbf{-90\%}       & \textbf{Avg}         \\
\midrule
ERM                  & 71.4 $\pm$ 0.3       & 72.7 $\pm$ 0.1       & 10.1 $\pm$ 0.1       & 51.4                 \\
IRM                  & 72.7 $\pm$ 0.5       & 73.2 $\pm$ 0.1       & 9.8 $\pm$ 0.1        & 51.9                 \\
VREx                 & 72.0 $\pm$ 0.1       & 72.8 $\pm$ 0.2       & 9.8 $\pm$ 0.1        & 51.5                 \\
\bottomrule
\end{tabular}}
\end{center}

\subsubsection{RotatedMNIST}

\begin{center}
\adjustbox{max width=\textwidth}{%
\begin{tabular}{lccccccc}
\toprule
\textbf{Algorithm}   & \textbf{0}           & \textbf{15}          & \textbf{30}          & \textbf{45}          & \textbf{60}          & \textbf{75}          & \textbf{Avg}         \\
\midrule
ERM                  & 95.3 $\pm$ 0.2       & 98.5 $\pm$ 0.0       & 99.0 $\pm$ 0.1       & 99.0 $\pm$ 0.0       & 98.8 $\pm$ 0.1       & 95.9 $\pm$ 0.1       & 97.7                 \\
IRM                  & 92.1 $\pm$ 1.3       & 98.2 $\pm$ 0.2       & 98.6 $\pm$ 0.2       & 98.4 $\pm$ 0.2       & 98.3 $\pm$ 0.2       & 94.3 $\pm$ 0.8       & 96.7                 \\
VREx                 & 95.1 $\pm$ 0.4       & 98.5 $\pm$ 0.1       & 99.0 $\pm$ 0.0       & 98.9 $\pm$ 0.1       & 98.9 $\pm$ 0.0       & 96.2 $\pm$ 0.1       & 97.7                 \\
\bottomrule
\end{tabular}}
\end{center}

% \subsubsection{Averages}

% \begin{center}
% \adjustbox{max width=\textwidth}{%
% \begin{tabular}{lccccc}
% \toprule
% \textbf{Algorithm}        & \textbf{ColoredMNIST}     & \textbf{RotatedMNIST}     & \textbf{VLCS}             & \textbf{PACS}             & \textbf{Avg}              \\
% \midrule
% ERM                       & 51.4 $\pm$ 0.1            & 97.7 $\pm$ 0.1            & 73.4 $\pm$ 0.6            & 68.6 $\pm$ 2.6            & 72.8                      \\
% IRM                       & 51.9 $\pm$ 0.2            & 96.7 $\pm$ 0.5            & 68.5 $\pm$ 3.0            & 54.9 $\pm$ 10.0           & 68.0                      \\
% VREx                      & 51.5 $\pm$ 0.1            & 97.7 $\pm$ 0.1            & 71.9 $\pm$ 1.5            & 71.3 $\pm$ 4.6            & 73.1                      \\
% \bottomrule
% \end{tabular}}
% \end{center}

\subsection{Model selection: leave-one-domain-out cross-validation}

\subsubsection{ColoredMNIST}

\begin{center}
\adjustbox{max width=\textwidth}{%
\begin{tabular}{lcccc}
\toprule
\textbf{Algorithm}   & \textbf{+90\%}       & \textbf{+80\%}       & \textbf{-90\%}       & \textbf{Avg}         \\
\midrule
ERM                  & 50.0 $\pm$ 0.3       & 49.9 $\pm$ 0.3       & 12.7 $\pm$ 2.2       & 37.5                 \\
IRM                  & 50.1 $\pm$ 0.3       & 50.6 $\pm$ 0.9       & 15.8 $\pm$ 4.7       & 38.9                 \\
VREx                 & 50.2 $\pm$ 0.4       & 48.9 $\pm$ 0.1       & 24.7 $\pm$ 11.9      & 41.3                 \\
\bottomrule
\end{tabular}}
\end{center}

\subsubsection{RotatedMNIST}

\begin{center}
\adjustbox{max width=\textwidth}{%
\begin{tabular}{lccccccc}
\toprule
\textbf{Algorithm}   & \textbf{0}           & \textbf{15}          & \textbf{30}          & \textbf{45}          & \textbf{60}          & \textbf{75}          & \textbf{Avg}         \\
\midrule
ERM                  & 94.5 $\pm$ 0.5       & 98.5 $\pm$ 0.2       & 98.9 $\pm$ 0.1       & 98.7 $\pm$ 0.1       & 98.7 $\pm$ 0.1       & 95.9 $\pm$ 0.4       & 97.5                 \\
IRM                  & 91.3 $\pm$ 1.5       & 96.9 $\pm$ 0.7       & 98.4 $\pm$ 0.3       & 98.2 $\pm$ 0.1       & 94.9 $\pm$ 2.9       & 94.1 $\pm$ 0.6       & 95.6                 \\
VREx                 & 94.3 $\pm$ 0.8       & 98.2 $\pm$ 0.1       & 98.8 $\pm$ 0.1       & 98.8 $\pm$ 0.0       & 98.7 $\pm$ 0.1       & 95.6 $\pm$ 0.1       & 97.4                 \\
\bottomrule
\end{tabular}}
\end{center}

% \subsubsection{Averages}

% \begin{center}
% \adjustbox{max width=\textwidth}{%
% \begin{tabular}{lccccc}
% \toprule
% \textbf{Algorithm}        & \textbf{ColoredMNIST}     & \textbf{RotatedMNIST}     & \textbf{VLCS}             & \textbf{PACS}             & \textbf{Avg}              \\
% \midrule
% ERM                       & 37.5 $\pm$ 0.7            & 97.5 $\pm$ 0.1            & 64.7 $\pm$ 5.2            & 57.3 $\pm$ 0.0            & 64.3                      \\
% IRM                       & 38.9 $\pm$ 1.6            & 95.6 $\pm$ 0.8            & 27.2 $\pm$ 8.9            & 16.6 $\pm$ 1.1            & 44.6                      \\
% VREx                      & 41.3 $\pm$ 3.9            & 97.4 $\pm$ 0.2            & 65.7 $\pm$ 3.7            & 29.6 $\pm$ 8.0            & 58.5                      \\
% \bottomrule
% \end{tabular}}
% \end{center}

\subsection{Model selection: test-domain validation set (oracle)}

\subsubsection{ColoredMNIST}

\begin{center}
\adjustbox{max width=\textwidth}{%
\begin{tabular}{lcccc}
\toprule
\textbf{Algorithm}   & \textbf{+90\%}       & \textbf{+80\%}       & \textbf{-90\%}       & \textbf{Avg}         \\
\midrule
ERM                  & 69.7 $\pm$ 0.9       & 72.7 $\pm$ 0.3       & 26.2 $\pm$ 1.8       & 56.2                 \\
IRM                  & 72.5 $\pm$ 0.5       & 71.9 $\pm$ 0.5       & 52.0 $\pm$ 1.7       & 65.5                 \\
VREx                 & 71.7 $\pm$ 1.3       & 72.1 $\pm$ 0.7       & 43.1 $\pm$ 6.4       & 62.3                 \\
\bottomrule
\end{tabular}}
\end{center}

\subsubsection{RotatedMNIST}

\begin{center}
\adjustbox{max width=\textwidth}{%
\begin{tabular}{lccccccc}
\toprule
\textbf{Algorithm}   & \textbf{0}           & \textbf{15}          & \textbf{30}          & \textbf{45}          & \textbf{60}          & \textbf{75}          & \textbf{Avg}         \\
\midrule
ERM                  & 95.1 $\pm$ 0.1       & 98.5 $\pm$ 0.2       & 98.9 $\pm$ 0.2       & 98.6 $\pm$ 0.1       & 98.9 $\pm$ 0.2       & 96.0 $\pm$ 0.0       & 97.7                 \\
IRM                  & 92.1 $\pm$ 0.9       & 97.6 $\pm$ 0.4       & 98.5 $\pm$ 0.3       & 98.1 $\pm$ 0.2       & 98.1 $\pm$ 0.4       & 93.5 $\pm$ 1.3       & 96.3                 \\
VREx                 & 94.6 $\pm$ 0.3       & 98.3 $\pm$ 0.3       & 99.0 $\pm$ 0.0       & 98.9 $\pm$ 0.0       & 98.9 $\pm$ 0.0       & 96.2 $\pm$ 0.1       & 97.6                 \\
\bottomrule
\end{tabular}}
\end{center}

% \subsubsection{Averages}

% \begin{center}
% \adjustbox{max width=\textwidth}{%
% \begin{tabular}{lccccc}
% \toprule
% \textbf{Algorithm}        & \textbf{ColoredMNIST}     & \textbf{RotatedMNIST}     & \textbf{VLCS}             & \textbf{PACS}             & \textbf{Avg}              \\
% \midrule
% ERM                       & 56.2 $\pm$ 1.0            & 97.7 $\pm$ 0.1            & 70.5 $\pm$ 0.6            & 68.8 $\pm$ 2.8            & 73.3                      \\
% IRM                       & 65.5 $\pm$ 0.8            & 96.3 $\pm$ 0.6            & 47.0 $\pm$ 16.2           & 31.6 $\pm$ 12.2           & 60.1                      \\
% VREx                      & 62.3 $\pm$ 2.1            & 97.6 $\pm$ 0.0            & 71.5 $\pm$ 1.2            & 68.4 $\pm$ 4.5            & 75.0                      \\
% \bottomrule
% \end{tabular}}
% \end{center}
\end{document}
