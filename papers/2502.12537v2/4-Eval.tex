\input{results_table}
\FloatBarrier
\section{Results}
\subsection{Experimentation on the Technical Indicator Dataset}
The analysis of the Technical Indicator dataset, without any feature rearrangement, as illustrated in the figure below, uncovers a notable pattern in the accumulation of rewards over different time intervals. The most significant gain, observed in the 2-week observation size, reached a cumulative reward of 155.89. This finding highlights the efficacy of this specific observation window. The peak performance noted within this 2-week timeframe may constitute the most advantageous period for analysis in the context of this dataset and its feature composition. This observation window provides the optimal balance mentioned in our hypothesis section, generating the most significant rewards in the given feature arrangement setting and dataset.

\begin{figure}[ht]
\centering
\includegraphics[width=\linewidth]{old_data_no_shuffle.pdf}
\caption{Cumulative rewards in the Technical Indicator dataset without rearrangement }
\label{fig:tech_indicator_not_rearranged}
\end{figure}

The extended analysis of the Technical Indicator dataset over periods ranging from 4 to 12 weeks reveals a discernible decline in cumulative rewards, reaching its lowest point at the 10-week interval, where the reward significantly drops to 104.58. This downward trajectory, although slightly mitigated in the 12-week observation window, predominantly suggests diminishing returns as the duration of the observation period increases. This pattern serves as a crucial insight, highlighting the limitations of the convolutional neural network (CNN) in effectively utilizing longer observation windows for this specific dataset and feature configuration. This trend underscores the importance of strategically selecting the observation window to optimize the CNN's predictive performance, and it supports our hypothesis that information overload can diminish the CNN's ability to utilize most important features in the input tensor.

During the analysis of the Technical Indicator dataset with rearranged features, as depicted in the figure below, we found a markedly different trend in cumulative rewards across varying timeframes compared to the dataset with the original feature arrangement. The rearranged dataset demonstrates a similar pattern, where the peak cumulative reward is noted at the 10-week mark, registering at 121.59. This outcome indicates that the rearrangement of features shifts the optimal observation window to bigger sizes. Notably, a prolonged 10-week period emerges as most favorable in the rearranged dataset, in stark contrast to the 2-week window size identified as optimal in the original dataset configuration. This finding suggests that feature rearrangement significantly improves the model's ability to utilize longer observation windows, again underscoring the need for adaptable strategies in financial data analysis with CNNs.

\begin{figure}[ht]
    \centering
    \includegraphics[width=\linewidth]{old_data_shuffled.pdf}
    \caption{Cumulative rewards in the Technical Indicator dataset with rearrangement }
    \label{fig:tech_indicator_rearranged}
\end{figure}

As depicted in the figure, rearranging features within the technical indicator dataset markedly improves the model's capacity to capitalize on extended observation windows. Notably, the model's optimal performance, demonstrated at the 10-week interval with a cumulative reward of 121.59, signifies an enhanced ability to utilize more extended periods for analysis. This reorganization of features enables a more efficient interpretation of extended-term trends, optimizing the model's accuracy over such durations. This finding emphasizes the vital importance of feature engineering in amplifying the effectiveness of Convolutional Neural Networks, particularly in intricate and dynamic settings like financial market analysis.

In contrast, a different pattern emerges when analyzing the technical indicator dataset without feature rearrangement, as illustrated in the corresponding plot. Here, the 2-week interval emerges as the most productive timeframe, registering the highest cumulative reward of 155.89. This finding indicates that in its original configuration, the dataset is optimally tuned for short-term analysis, showing diminishing performance with lengthening observation periods, except for a slight increase at 12 weeks. However, these extended periods do not outperform the initial 2-week observation window. This trend highlights the model's predisposition towards shorter timeframes when processing the non-rearranged data, underscoring the impact of data structuring on the model's temporal adaptability and predictive power.

\begin{figure}[ht]
    \centering
    \includegraphics[width=\linewidth]{old_data_best.pdf}
    \caption{Best performers in the Technical Indicator Dataset}
    \label{fig:sma_nonrearranged}
\end{figure}

The contrasting results observed in the rearranged technical indicator data are striking. In this scenario, the model strides in the 10-week observation period, achieving a cumulative reward of 121.59. This shift from the optimal 2-week period in the non-rearranged data to a more extended 10-week period in the rearranged data is significant. The rearranging of features profoundly influences the model's efficiency in capturing and forecasting market trends. Compared to the reduced effectiveness in shorter durations, the enhanced performance at this longer interval underscores the impact of data sequencing on the model's predictive precision. This observation again stresses the criticality of data arrangement and preprocessing in financial time series analysis, as it can substantially alter the model's interpretation and response to market dynamics over different temporal scales. 

\subsection{Experimentation on the SMA dataset}
The analysis of the SMA dataset without data rearrangement reveals a distinct pattern in cumulative rewards over various timeframes, as shown in Figure \ref{fig:sma_rearranged}. The most significant performance is apparent in the 2-week observation window, achieving a peak cumulative reward of 184.05. This high point suggests that a 2-week observation window is particularly effective for this dataset, indicating an optimal short-term period for analysis in this context.

\begin{figure}[ht]
    \centering
    \includegraphics[width=\linewidth]{new_data_no_shuffle.pdf}
    \caption{Cumulative rewards in the SMA dataset without rearrangement}
    \label{fig:sma_rearranged}
\end{figure}

As the observation window extends, a decreasing trend in cumulative rewards is evident, particularly at 8 and 12 weeks, with rewards noted at 99.80 and 105.99, respectively. However, an unexpected increase in cumulative reward to 144.22 at the 10-week mark presents an intriguing anomaly. This inconsistency might indicate complex, possibly cyclical patterns in the SMA dataset, which the model discerns differently across various intervals. This behavior further highlights the intricate nature of these quantitative indicators and emphasizes the importance of selecting an appropriate observation window for predictive modeling.

A different outcome is observed in the analysis of the SMA dataset with feature rearrangement. The 4-week interval emerges as the most favorable, registering a peak cumulative reward of 181.84. This result contrasts the lower performance in the 2-week window, where the cumulative reward is 117.14. This discrepancy suggests that rearranging the data may significantly alter the model's ability to utilize temporal relationships in the data, affecting its effectiveness across different timeframes. The rearranged dataset's peak at a longer interval underlines the same pattern where feature arrangement enhances the model's ability to effectively capture and analyze market trends.

\begin{figure}[ht]
    \centering
    \includegraphics[width=\linewidth]{new_data_shuffled.pdf}
    \caption{Cumulative rewards in the SMA dataset with rearrangement }
    \label{fig:new_data_no_suhffle}
\end{figure}

However, an irregular trend emerges as the observation period extends beyond 4 weeks. A marked decrease in cumulative rewards is noted at 6 and 8 weeks, with figures falling to 101.04 and 90.77, respectively. Intriguingly, there is a modest reward recovery at the 10 and 12-week intervals. This pattern suggests that the model may interpret different characteristics of the rearranged SMA dataset over extended timeframes. Such fluctuations in performance underscore the added complexity due to data rearrangement and the importance of carefully choosing the observation window to maximize the model's efficacy. 

\subsection{Best Performers in the SMA Dataset}
In the next phase of our data analysis, we conducted a comparative study of optimal timeframes in the simple moving average (SMA) dataset, considering its original and rearranged forms, as shown in the plot. This revealed distinctive trends. 

In the case of the non-rearranged SMA dataset, the most effective timeframe emerges as the 2-week window, registering a peak cumulative reward of 184.05. This notable performance at the shorter interval indicates the model's ability to effectively capture the prevailing trends within the original SMA data structure. As the observation period extends, a gradual decline in cumulative rewards is observed across longer timeframes. Although there is a marginal uplift in performance at the 10-week mark, this is within the benchmark set by the 2-week observation window, which means that the pattern still highlights the dataset's responsiveness to short-term fluctuations.

The clear differentiation in performance across various timeframes suggests that the underlying dynamics of the SMA dataset are more readily discernible and exploitable in shorter intervals when the data remains in its original sequence. This insight is pivotal for financial analysts and modelers, emphasizing the need for strategic consideration of time windows in predictive modeling, especially when dealing with complex financial datasets like the SMA.
\begin{figure}[ht]
    \centering
    \includegraphics[width=\linewidth]{new_data_best.pdf}
    \caption{Best performers in the SMA dataset }
    \label{fig:sma_data_best_performers}
\end{figure}

In contrast, after rearranging the features in the SMA dataset, our analysis presents a different optimal timeframe. The 4-week window emerges as the best performer with a cumulative reward of 181.84, indicating a significant shift in the model's ability to utilize longer temporal windows. Our analysis also shows a more pronounced decline in performance for other timeframes, especially at 6 and 8 weeks. We noted that the 2-week observation size was the best performer in the non-rearranged data versus the 4-week peak in the rearranged data. Once again, the sharp contrast between the non-rearranged and rearranged data demonstrates the model's temporal processing ability.

\subsection{Best Performers overall}
Several insightful trends emerge in our final analysis of the datasets, encompassing both the SMA and Technical Indicator datasets. In its original feature arrangement, the SMA dataset exhibits strong performance in the 2-week timeframe, reaching a cumulative reward of 184.057, the highest across all datasets and timeframes. This result underscores the effectiveness of short-term observation in capturing market dynamics with this dataset. On the other hand, when the SMA features are rearranged, the 4-week window becomes the most productive, achieving a cumulative reward of 181.84. This shift suggests that market dynamics are captured more effectively over shorter temporal windows, but once features are rearranged, a slightly extended observation size proved more effective.

\begin{figure}[ht]
    \centering
    \includegraphics[width=\linewidth]{best_over_all.pdf}
    \caption{Best performers overall. }
    \label{fig:best_performers_overall}
\end{figure}

The observed trends in the Technical Indicator dataset echo those seen in the SMA dataset, particularly in the context of the original sequence. A 2-week observation window demonstrates optimal effectiveness, reaching a peak cumulative reward of 155.89. This similarity across the datasets consistently proves our decerned pattern that, without shorter observation periods, can be highly effective for predictive modeling. However, a significant shift occurs when the data sequence in the Technical Indicator dataset is rearranged. This modification leads to the 10-week timeframe becoming the most favorable, as evidenced by a cumulative reward of 121.59.

This shift indicates that the Convolutional Neural Network (CNN) becomes more adept at discerning the complex patterns between features and their temporal dynamics when the data is organized to maintain a cohesive structure for each company's features. The rearrangement enhances the model's ability to grasp longer-term trends and relationships, which may be less apparent or accessible in shorter timeframes or with non-rearranged data. This observation is crucial as it suggests that the efficacy of a CNN in financial market analysis can be significantly influenced by how the data is structured. It highlights the importance of considering the arrangement of data to optimize the predictive capabilities of models, especially in financial contexts where the relationships between various indicators and their evolution over time are crucial to understanding market movements. Thus, a flexible and context-specific approach to selecting observation periods and organizing data is paramount to maximizing the utility and accuracy of predictive models in financial analysis.