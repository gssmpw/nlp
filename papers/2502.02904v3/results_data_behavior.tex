\section{\textsc{ScholaWrite}: A Dataset of Cognitive Process of Scholarly Writing}



% \begin{table}[t] \centering
% \begin{minipage}[t]{0.99\linewidth}
%     \resizebox{\textwidth}{!}{
%     \large
%     \begin{tabular}{@{}l|c|c|c|c|c @{}} 
%      \toprule
%      Project & 1 & 2 & 3 & 4 & 5\\
%      \midrule \midrule
%     \# Authors  & 1 (3) & 1 (4) & 1 (3) & 1 (4) & 9 (18)\\
%      \# keystrokes & 14,217 & 5,059 & 6,641 & 8,348 & 27,239 \\
%      \# Words added & 17,387  & 23,835 & 7,779 & 12,448 & 57,511\\
%      \# Words deleted & 11,739 & 15,158 & 2,308 & 7,621 & 25,853\\
%      \bottomrule
%     \end{tabular}
%     }
%     \vspace{-3mm}
%     \caption{Statistics of writing actions per Overleaf project in \textsc{ScholaWrite}. `\# Authors' represents the number of authors who participated in our study (with the total number of authors in the final manuscript). 
%     } \label{table:data-stat}
% \end{minipage}\hfill
% \vspace{5mm}
%     \begin{minipage}[t]{0.99\linewidth}
%     \resizebox{\textwidth}{!}{
%     \large
%     \begin{tabular}{@{}l|ccccc@{}}
%         \toprule
%          & 1 & 2 & 3 & 4 & 5 \\
%         \midrule \midrule
%         Idea Generation & 515 & 130 & 116 & 309 & 3255 \\
%         Idea Organization & 0 & 45 & 25 & 9 & 231 \\
%         Section Planning & 182 & 57 & 111 & 201 & 773 \\
%         \midrule
%         Text Production & 9267 & 2438 & 5109 & 4478 & 14031 \\
%         Object Insertion & 583 & 383 & 62 & 486 & 1300 \\
%         Cross-reference & 141 & 112 & 13 & 292 & 458 \\
%         Citation Integration & 75 & 151 & 69 & 127 & 245 \\
%         Macro Insertion & 16 & 7 & 51 & 29 & 33 \\
%         \midrule 
%         Linguistic Style & 233 & 75 & 42 & 201 & 411 \\
%         Coherence & 422 & 242 & 126 & 193 & 1021 \\
%         Clarity & 1249 & 645 & 721 & 1180 & 3301 \\
%         Scientific Accuracy & 307 & 15 & 2 & 24 & 95 \\
%         Structural & 359 & 506 & 105 & 257 & 1042 \\
%         Fluency & 116 & 90 & 46 & 135 & 476 \\
%         Visual Formatting & 752 & 163 & 43 & 427 & 567 \\
%         % Idea Generation & 88 & 46 & 120 & 315 & 526 \\
%         % Idea Organization & 37 & 13 & 25 & 9 & 0 \\
%         % Section Planning & 19 & 41 & 115 & 237 & 193 \\
%         % \midrule
%         % Text Production & 1281 & 1242 & 5139 & 4576 & 9305 \\
%         % Object Insertion & 281 & 128 & 65 & 550 & 627 \\
%         % Citation Integration & 121 & 64 & 76 & 147 & 83 \\
%         % Cross-reference & 56 & 70 & 14 & 330 & 143 \\
%         % Macro Insertion & 7 & 0 & 59 & 34 & 16 \\
%         % \midrule 
%         % Fluency & 42 & 66 & 48 & 148 & 137 \\
%         % Clarity & 190 & 524 & 726 & 1241 & 1289 \\
%         % Coherence & 76 & 173 & 134 & 200 & 449 \\
%         % Structural & 146 & 400 & 110 & 266 & 413 \\
%         % Scientific Accuracy & 1 & 15 & 2 & 25 & 322 \\
%         % Textual Style & 42 & 34 & 42 & 216 & 238 \\
%         % Visual Style & 53 & 129 & 43 & 445 & 784 \\
%         \bottomrule
%         \end{tabular}
%     }
%     \vspace{-3mm}
%     \caption{Distribution of intention labels annotated across all five Overleaf projects.} \label{table:label_distribution_all}
% \end{minipage}
% \end{table}



\paragraph{Summary}
Our post-processed dataset, \textsc{ScholaWrite}, contains end-to-end writing trajectories with annotated intentions, for five Overleaf projects whose final product turned into arXiv preprints. 
The dataset consists of 61,504 arrays of keystroke changes with fine-grained annotations of writing intentions. 
% We publicly release our post-processed data in Huggingface data cards.\footnote{\url{https://huggingface.co/datasets/minnesotanlp/scholawrite}} 
Appendix Table \ref{table:data-stat} shows the overall statistics of the dataset.

% \begin{table}[ht!]
% \centering
% \footnotesize
% \begin{tabular}{@{}c|c|c|c|c|c @{}} 
%  \toprule
%  Project & 1 & 2 & 3 & 4 & 5\\
%  \midrule \midrule
%  \# Authors (participants) & 1 & 1 & 1 & 1 & 9\\
%  \# Authors (manuscript) & 3 & 4 & 3 & 4 & 18\\
%  \# Writing Activities & 13419 & 5002 & 6589 & 7942 & 26784 \\
%  \# Words added & 18394 & 24779 & 7724 & 14601 & 62140\\
%  \# Words deleted & 14056 & 17194 & 3061 & 10163 & 35125\\
%  % Final word count &  & 12308 & 6672 & 9984 & 32286\\
%  \bottomrule
% \end{tabular}
% % \begin{tabular}{@{}c|c|c|c|c|c @{}} 
% %  \toprule
% %  Project & 1 & 2 & 3 & 4 & 5\\
% %  \midrule \midrule
% %  \# Authors & 3 (1) & 4 (1) & 3 (1) & 4 (1) & 18 (9)\\
% %  \# Writing Activities & 13419 & 5002 & 6589 & 7942 & 26784 \\
% %  \# Words added & 18394 & 24779 & 7724 & 14601 & 62140\\
% %  \# Words deleted & 14056 & 17194 & 3061 & 10163 & 35125\\
% %  % Final word count &  & 12308 & 6672 & 9984 & 32286\\
% %  \bottomrule
% % \end{tabular}
% \caption{Statistics of writing actions per Overleaf project in \textsc{ScholaWrite}. The rows `\# Authors (participants)' and `\# Authors (manuscript)' represent the number of authors who participated in our research and the total number of authors present in the final manuscript, respectively.
% Note that the authors who participated in projects 1,2,3, and 4 are also the authors of project 5.}
% \label{table:data-stat}
% \end{table}





% \begin{figure*}[ht]
%     \centering
%     \begin{subfigure}[b]{0.4\textwidth}
%         \centering
%         \includegraphics[width=0.9\columnwidth,trim={0 0cm 0 0},clip]{figures/sankey/newplot5.png}
%         \caption{Sankey diagram of writing intention flow}
%         \label{fig:sankey-proj2}
%     \end{subfigure}
%     \vspace{2mm}
%     \begin{subfigure}[b]{0.43\textwidth}
%         \centering
%         \includegraphics[width=0.9\columnwidth,trim={0 0cm 0 0},clip]{figures/writing_activities/timestamp_proj1_intention.pdf}
%         \caption{Per-intention human writing activities over time}
%          \label{fig:writing-activity-per-intention}
%     \end{subfigure}

% \end{figure*}


% \begin{figure}[ht!]
%     \centering
%     % \makebox[\textwidth]
%     {\includegraphics[width=0.9\columnwidth,trim={0 1cm 0 0},clip]{figures/writing_activities/timestamp_proj1_intention.pdf}}
%     \caption{Per-intention human writing activities over time in the \textsc{ScholaWrite} dataset.\vspace{-4mm}}
%     \label{fig:writing-activity-per-intention}
% \end{figure}

% \subsection{Writing Pattern Analyses}
\paragraph{Writing Intention Distributions} The writing intention distributions is illustrated in Figure \ref{fig:intention-dist}. During the planning stage, idea generation is the most frequent intention.  Text production dominates the implementation stage, and clarity becomes the primary focus during the revision stage. Since we defined the boundary between implementation and revision as the point where meaning changes occur, the high frequency of text production suggests that authors often continue revising their texts by introducing new topics into the documents.  Appendix Table \ref{table:label_distribution_all} shows the label distribution per project. 

\begin{table}[t!]
\footnotesize
\centering
\begin{tabular}{@{}lp{1pt}rr@{}}
\toprule
Label & & Subsequent label & Probability  \\
\midrule
\colorbox{planningcolor}{Idea Generation} & $\rightarrow$ & \colorbox{implementationcolor}{Text Production} & 0.52 \\
\colorbox{planningcolor}{Idea Organization} & $\rightarrow$ & \colorbox{planningcolor}{Idea Generation} & 0.34  \\
\midrule
\colorbox{implementationcolor}{Citation Integration} & $\rightarrow$ & \colorbox{implementationcolor}{Text Production} & 0.37 \\
\colorbox{implementationcolor}{Cross-reference} & $\rightarrow$ & \colorbox{implementationcolor}{Text Production} & 0.36  \\
\midrule
\colorbox{revisioncolor}{Clarity} & $\rightarrow$ & \colorbox{implementationcolor}{Text Production}  & 0.35  \\
\colorbox{revisioncolor}{Coherence} & $\rightarrow$ & \colorbox{implementationcolor}{Text Production}  & 0.34  \\
\colorbox{revisioncolor}{Scientific Accuracy} & $\rightarrow$ & \colorbox{implementationcolor}{Text Production}  & 0.34 \\
\bottomrule
\end{tabular}
\caption{Top-2 Probability of inter-connections between writing intentions. For example, in 34\% of instances where an author engaged in ``Idea Organization,'' the subsequent intention was ``Idea Generation.'' See Appendix Table \ref{table:flow-intention-full} for full description.\vspace{-2mm}}
\label{table:flow-intention}
\end{table}

% \begin{figure}[ht!]
%     \centering
%     \includegraphics[width=0.9\linewidth]{latex/figures/overall_label_distribution.pdf}
%     \vspace{-4mm}
%     \caption{Aggregated log-scaled distribution of writing intentions across the entire dataset. Color indicates high-level process - \colorbox{planningcolor}{planning}, \colorbox{implementationcolor}{implementation}, and \colorbox{revisioncolor}{revision}. Authors predominantly introduce new content during writing sessions.}
%     \label{fig:intention-dist}
% \end{figure}


\paragraph{Flows Between Writing Intentions} 

We analyze the flow of writing intentions most likely to follow each other throughout the writing process, as presented in Table \ref{table:flow-intention}. Many intentions proceed to text production, where the idea generation has the highest probability of feeding into text production. Figure \ref{fig:sankey-proj2} also shows a similar pattern of flows between text productions and other intentions. Also, in Table \ref{table:flow-intention} the reflexive relationship between text production and clarity suggests a constant loop of producing new texts and refining them, ensuring the precision and reasonability of their claims. Please see Appendix Figure \ref{fig:writing-sankey-all} for the intention flows of each of the five projects.



% \vspace{-3mm}
\begin{figure*}[ht]
    \centering
    \begin{subfigure}[b]{0.4\textwidth}
        \centering
        \includegraphics[width=0.9\columnwidth,trim={0 0cm 0 0},clip]{figures/sankey/project2.pdf}
        \caption{Sankey diagram of writing intention flow}
        \label{fig:sankey-proj2}
    \end{subfigure}
    \vspace{2mm}
    \begin{subfigure}[b]{0.43\textwidth}
        \centering
        \includegraphics[width=0.9\columnwidth,trim={0 0cm 0 0},clip]{figures/writing_activities/timestamp_proj1_intention.pdf}
        \caption{Per-intention human writing activities over time}
         \label{fig:writing-activity-per-intention}
    \end{subfigure}
    
    \begin{subfigure}[b]{0.34\textwidth}
        \centering
        \includegraphics[width=\textwidth,trim={0.1 1.2cm 0 0.1cm},clip]{figures/overall_label_distribution.pdf}
        \vspace{-2em}
        \caption{distribution (log) of intentions}
        \label{fig:intention-dist}
    \end{subfigure}
    \hspace{0.1em}
    \begin{subfigure}[b]{0.30\textwidth}
        \centering
        \includegraphics[width=\textwidth,trim={0.3cm 0 0 0},clip]{figures/dist_to_uni/avg_label_w_dist.pdf}
        \vspace{-2em}
        \caption{distance to uniform distribution}
        \label{fig:avg_dist_uni}
    \end{subfigure}
    \hspace{0.1em}
    \begin{subfigure}[b]{0.33\textwidth}
        \centering
        \includegraphics[width=\textwidth]{figures/project_label_distributions/avg_time_series.pdf}
        \vspace{-2em}
        \caption{label distribution over time}
        \label{fig:avg-time-label}
    \end{subfigure}
    % \begin{subfigure}{0.4\textwidth}
    %     \centering
    %     \raisebox{1.3\height}{% Adjust vertical alignment
    %         \includegraphics[width=\textwidth]{latex/figures/writing_activities/timestamp_proj1_broad.pdf}
    %     }
    %     \caption{High-level writing activities over time}
    %     \label{fig:timestamp-proj1-broad}
    % \end{subfigure}
    % \begin{subfigure}[b]{0.5\textwidth}
    %     \centering
    %     \includegraphics[width=0.9\textwidth]{latex/figures/writing_activities/timestamp_proj1_intention.pdf}
    %     \caption{Per-intention writing activities over time}
    %     \label{fig:timestamp-proj1-intention}
    % \end{subfigure}
    \caption{Overall characteristics of scholarly writing patterns in the \textsc{ScholaWrite} dataset
    %: (a) the distribution of writing intentions; (b) the average Wasserstein distance to the uniform distribution; and (c) The distribution of labels of one project over time, sorted according to their distribution mean.
    }
    \label{fig:sec4-results}
\end{figure*}

% \begin{table}[ht!]
% \footnotesize
% \centering
% \begin{tabular}{@{}lp{1pt}rr@{}}
% \toprule
% Label & & Subsequent label & Probability  \\
% \midrule
% \colorbox{planningcolor}{Idea Generation} & $\rightarrow$ & \colorbox{implementationcolor}{Text Production} & 0.52 \\
% \colorbox{planningcolor}{Idea Organization} & $\rightarrow$ & \colorbox{planningcolor}{Idea Generation} & 0.34  \\
% \colorbox{planningcolor}{Section Planning} & $\rightarrow$ & \colorbox{implementationcolor}{Text Production} & 0.33  \\
% \midrule
% \colorbox{implementationcolor}{Text Production} & $\rightarrow$ & \colorbox{revisioncolor}{Clarity} & 0.20\\
% \colorbox{implementationcolor}{Object Insertion} & $\rightarrow$ & \colorbox{implementationcolor}{Text Production} & 0.32 \\
% \colorbox{implementationcolor}{Citation Integration} & $\rightarrow$ & \colorbox{implementationcolor}{Text Production} & 0.37 \\
% \colorbox{implementationcolor}{Cross-reference} & $\rightarrow$ & \colorbox{implementationcolor}{Text Production} & 0.36  \\
% \colorbox{implementationcolor}{Macro Insertion} & $\rightarrow$ & \colorbox{planningcolor}{Idea Generation} & 0.29 \\
% \midrule
% \colorbox{revisioncolor}{Fluency} & $\rightarrow$ & \colorbox{implementationcolor}{Text Production}  & 0.30 \\
% \colorbox{revisioncolor}{Coherence} & $\rightarrow$ & \colorbox{implementationcolor}{Text Production}  & 0.34  \\
% \colorbox{revisioncolor}{Clarity} & $\rightarrow$ & \colorbox{implementationcolor}{Text Production}  & 0.35  \\
% \colorbox{revisioncolor}{Structural} & $\rightarrow$ & \colorbox{implementationcolor}{Text Production}  & 0.27  \\
% \colorbox{revisioncolor}{Linguistic Style} & $\rightarrow$ & \colorbox{implementationcolor}{Text Production}  & 0.29 \\
% \colorbox{revisioncolor}{Scientific Accuracy} & $\rightarrow$ & \colorbox{implementationcolor}{Text Production}  & 0.34 \\
% \colorbox{revisioncolor}{Visual Formatting} & $\rightarrow$ & \colorbox{implementationcolor}{Text Production} & 0.25 \\
% \bottomrule
% \end{tabular}
% \caption{Probability of inter-connections between writing intentions in \textsc{ScholaWrite}. For example, in 34\% of instances where an author engaged in ``Idea Organization,'' the subsequent intention was ``Idea Generation.'' }
% \label{table:flow-intention-full}
% \end{table}


%%%%%%%%%%%%%%%%%%%%%%%

\paragraph{Time-series Distributions of Writing Intentions} 
% \vspace{-3mm}

We calculated the average Wasserstein distance between each intention distribution and uniform distribution to assess how evenly intentions occur throughout the writing process. As shown in Figure \ref{fig:avg_dist_uni}, text production had the smallest distance, while scientific accuracy had the largest. This suggests that text production is spread throughout the writing, whereas scientific accuracy is concentrated in specific phases. A similar pattern appears in Figure \ref{fig:avg-time-label} , where text production is evenly distributed over time, and scientific accuracy peaks in the middle-to-late of the writing process. 
% Appendix Figures \ref{fig:writing-step-broad-all} and \ref{fig:writing-step-detailed-all} demonstrate a similar pattern that text production of the implementation stage spreads evenly over time. 
Figure \ref{fig:writing-activity-per-intention} demonstrates a similar pattern that text production of the implementation stage spreads evenly over time. 
Types of clarity and structural revisions tend to occur after the medium steps of writing. Please see Appendix Figures \ref{fig:dist-to-uni-all} to \ref{fig:writing-step-detailed-all} for each of the five projects.
% Please refer to Figures \ref{fig:dist-to-uni-all} to \ref{fig:writing-step-detailed-all} in the Appendix for each of the five Overleaf projects. 

% \dk{Add the timestamp figures that Ross made here for one of the projects. Please include two figures at high-level and intention level.}

% \begin{figure}[ht!]
%     \centering
%     \includegraphics[width=0.9\linewidth]{latex/figures/dist_to_uni/avg_w_dist_to_uni.pdf}
%     \vspace{-5mm}
%     \caption{Average distance to uniform}
%     \label{fig:avg_dist_uni}
% \end{figure}







