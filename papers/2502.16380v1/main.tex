%%%%%%%% ICML 2025 EXAMPLE LATEX SUBMISSION FILE %%%%%%%%%%%%%%%%%

\documentclass{article}
\usepackage{etoolbox}
\providetoggle{arxiv}
\providetoggle{icml}
\settoggle{arxiv}{true}
\settoggle{icml}{false}


% Recommended, but optional, packages for figures and better typesetting:
\usepackage{microtype}
\usepackage{graphicx, tabularx}
\usepackage{subfigure}
\usepackage{array,booktabs,tabularx,multirow,colortbl,hhline}
\usepackage{adjustbox}
\usepackage{pifont} 
%\usepackage{hyperref}
\usepackage{wrapfig}

\usepackage{titlesec}
\usepackage[toc,page,header]{appendix}
\usepackage{minitoc}
\renewcommand\thepart{}
\renewcommand\partname{}

\iftoggle{icml}{
\newcommand{\repourl}{https://anonymous.4open.science/r/confined_regions-6A8D/}
}

\iftoggle{arxiv}{
\newcommand{\repourl}{https://github.com/conlaw/confined_regions/}
}

% Attempt to make hyperref and algorithmic work together better:
\newcommand{\theHalgorithm}{\arabic{algorithm}}

% Use the following line for the initial blind version submitted for review:
\iftoggle{icml}{
\usepackage[nonatbib]{style/icml2025}
}

\iftoggle{arxiv}{
    \usepackage{style/jmlr2e_preprint}
    \jmlrheading{1}{2025}{}{}{}{Connor Lawless, Tsui-Wei Weng, Berk Ustun, Madeleine Udell}
    \ShortHeadings{Understanding Fixed Predictions via Confined Regions}{Lawless, Weng, Ustun, Udell}
    \firstpageno{1}
}

% If accepted, instead use the following line for the camera-ready submission:
%\usepackage[accepted]{icml2025}

% For theorems and such
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{amsthm}
\usepackage{amsmath}
\usepackage{xspace}
\usepackage[hang,flushmargin]{footmisc}

\usepackage{enumitem}
% if you use cleveref..
\usepackage[capitalize,noabbrev]{cleveref}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% THEOREMS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{assumption}[theorem]{Assumption}
\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark}
\usepackage{makecell}

% Todonotes is useful during development; simply uncomment the next line
%    and comment out the line below the next line to turn off comments
%\usepackage[disable,textsize=tiny]{todonotes}
\usepackage[textsize=tiny]{todonotes}
\newcommand{\cell}[2]{\setlength{\tabcolsep}{0pt}\begin{tabular}{#1}#2 \end{tabular}}
\newcommand{\connor}[1]{\textcolor{blue}{[Connor: #1]}}
\newcommand{\adddatainfo}[6]{\cell{l}{\textds{#1}\\$n={#2} \;\; d={#3}$\\ $|\Omega|={#4} \;\; p={#5}$ \\ {#6}}}
\newcommand{\ficoinfo}[0]{\adddatainfo{heloc}{5842}{43}{155}{22.2\%}{\citet{fico}}}
\newcommand{\givemecreditinfo}{\adddatainfo{givemecredit}{120,268}{23}{715}{7.4\%}{\citet{data2018givemecredit}}}
\newcommand{\twitterbotinfo}{\adddatainfo{twitterbot}{1438}{21}{20}{55.3\%}{\citet{twitterbot}}}
\newcommand{\pitfall}{red!70!black}
\newcommand{\sublevel}{\reflectbox{\rotatebox[origin=c]{180}{$\Rsh$}}}
\newcommand{\textds}{\texttt}
\newcommand{\textfn}{\texttt}
\DeclareMathOperator*{\argmin}{argmin}
\DeclareMathOperator*{\argmax}{argmax}
\newcommand{\textheader}[1]{{\bfseries{#1}}}

\newcommand{\us}{{$\mathsf{ReVer}$\xspace}}
\newcommand{\baseline}[1]{{$\mathsf{#1}$\xspace}}
\newcommand{\flagyes}[0]{\mathtt{Responsive}}
\newcommand{\flagno}[0]{\mathtt{Confined}}
\newcommand{\flagidk}[0]{\bot}
\newcommand{\Verify}[2]{\mathsf{Verify}(#1, #2)}

\newcommand{\yes}{\ding{51}}%
\newcommand{\no}{\ding{55}}%
\newcommand{\ignored}[0]{}
\newcommand{\implemented}[0]{\textcolor{green!80!black}{\yes{}}}
\newcommand{\notimplemented}[0]{}
\newcolumntype{H}{>{\setbox0=\hbox\bgroup}c<{\egroup}@{}}
\newcolumntype{R}[1]{>{\raggedright\arraybackslash}p{#1}}

% Madeleine defines
\newcommand{\maximize}{\mathop{\textup{maximize}}}
\newcommand{\st}{\mbox{\textup{subject to}}}


% The \icmltitle you define below is probably too long as a header.
% Therefore, a short form for the running title is supplied here:

\begin{document}

\iftoggle{icml}{
\icmltitlerunning{Submission and Formatting Instructions for ICML 2025}
\twocolumn[
\icmltitle{Understanding Fixed Predictions via Confined Regions}
\icmlsetsymbol{equal}{*}
\begin{icmlauthorlist}
\icmlauthor{Firstname1 Lastname1}{equal,yyy}
\icmlauthor{Firstname2 Lastname2}{equal,yyy,comp}
\icmlauthor{Firstname3 Lastname3}{comp}
\icmlauthor{Firstname4 Lastname4}{sch}
\icmlauthor{Firstname5 Lastname5}{yyy}
\icmlauthor{Firstname6 Lastname6}{sch,yyy,comp}
\icmlauthor{Firstname7 Lastname7}{comp}
%\icmlauthor{}{sch}
\icmlauthor{Firstname8 Lastname8}{sch}
\icmlauthor{Firstname8 Lastname8}{yyy,comp}
%\icmlauthor{}{sch}
%\icmlauthor{}{sch}
\end{icmlauthorlist}
\icmlaffiliation{yyy}{Department of XXX, University of YYY, Location, Country}
\icmlaffiliation{comp}{Company Name, Location, Country}
\icmlaffiliation{sch}{School of ZZZ, Institute of WWW, Location, Country}
\icmlcorrespondingauthor{Firstname1 Lastname1}{first1.last1@xxx.edu}
\icmlcorrespondingauthor{Firstname2 Lastname2}{first2.last2@www.uk}
\icmlkeywords{Machine Learning, ICML}
\vskip 0.3in
]
}

\iftoggle{arxiv}{
\title{Understanding Fixed Predictions via Confined Regions}
\author{%
\name Connor Lawless \email lawlessc@stanford.edu \\ \addr Stanford University \AND
\name Tsui-Wei Weng \email lweng@ucsd.edu \\ \addr University of California, San Diego \AND
\name Berk Ustun \email berk@ucsd.edu \\ \addr University of California, San Diego \AND
\name Madeleine Udell \email udell@stanford.edu \\ \addr Stanford University%
}
\maketitle
}


\begin{abstract}
\input{sections/0_abstract_new}
\end{abstract}
\iftoggle{arxiv}{
\vspace{0.25em}
\begin{keywords}
Recourse, Explainability, Actionability, Discrete Optimization
\end{keywords}
}



\input{sections/1_introduction}
\input{sections/2_related_work}
\input{sections/3_problem_setup}
%\input{sections/4_ip_formulation}
%\input{sections/5_scaling}
\input{sections/4_methodology}
\input{sections/6_experiments}
\input{sections/7_conclusion}

\iftoggle{icml}{
\input{sections/99_impact_statement}
}

\iftoggle{arxiv}{
\section*{Acknowledgements}
MU and CL gratefully acknowledge support from
the National Science Foundation (NSF) Award IIS-2233762, % NSF CAREER
the Office of Naval Research (ONR) Awards N000142212825, % fast rerouting
N000142412306, % RandNLA for optimization
and N000142312203, % DREAMI
IBM, and the Alfred P. Sloan Foundation. BU and LW gratefully acknowledge support from the National Science Foundation (NSF) under award IIS-2313105.
}

\clearpage

{
\small
\iftoggle{icml}{
\bibliographystyle{style/icml2025}
}
\bibliography{references}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% APPENDIX
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newpage
\appendix
\onecolumn

\iftoggle{icml}{
{%
\bfseries\Large 
\begin{center}
\toptitlebar{%
Supplementary Materials\\[0.1em]%
Understanding Fixed Predictions via Confined Regions%
}\bottomtitlebar
\end{center}%
}
}
\iftoggle{arxiv}{
{
\bfseries\Large 
\begin{center}
Appendix\\[0.1em]%
Understanding Fixed Predictions via Confined Regions%
\end{center}
}
}

\renewcommand*{\thepage}{\arabic{page}}
\input{appendix/rep_formulation}
\include{appendix/multiple_boxes}
\include{appendix/tum_proof}
\include{appendix/relaxing_discrete_vars}

\include{appendix/addition_exp_details}
\include{appendix/distribution_shift}
\include{appendix/case_study_details}

\end{document}

