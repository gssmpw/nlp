%File: formatting-instructions-latex-2025.tex
%release 2025.0
\documentclass[letterpaper]{article} % DO NOT CHANGE THIS
\usepackage{aaai25}  % DO NOT CHANGE THIS
\usepackage{times}  % DO NOT CHANGE THIS
\usepackage{helvet}  % DO NOT CHANGE THIS
\usepackage{courier}  % DO NOT CHANGE THIS
\usepackage[hyphens]{url}  % DO NOT CHANGE THIS
\usepackage{graphicx} % DO NOT CHANGE THIS
\urlstyle{rm} % DO NOT CHANGE THIS
\def\UrlFont{\rm}  % DO NOT CHANGE THIS
\usepackage{natbib}  % DO NOT CHANGE THIS AND DO NOT ADD ANY OPTIONS TO IT
\usepackage{caption} % DO NOT CHANGE THIS AND DO NOT ADD ANY OPTIONS TO IT
\frenchspacing  % DO NOT CHANGE THIS
\setlength{\pdfpagewidth}{8.5in}  % DO NOT CHANGE THIS
\setlength{\pdfpageheight}{11in}  % DO NOT CHANGE THIS
%
% These are recommended to typeset algorithms but not required. See the subsubsection on algorithms. Remove them if you don't have algorithms in your paper.
\usepackage{algorithm}
\usepackage{algorithmic}

%
% These are are recommended to typeset listings but not required. See the subsubsection on listing. Remove this block if you don't have listings in your paper.
\usepackage{newfloat}
\usepackage{listings}
\DeclareCaptionStyle{ruled}{labelfont=normalfont,labelsep=colon,strut=off} % DO NOT CHANGE THIS
\lstset{%
	basicstyle={\footnotesize\ttfamily},% footnotesize acceptable for monospace
	numbers=left,numberstyle=\footnotesize,xleftmargin=2em,% show line numbers, remove this entire line if you don't want the numbers.
	aboveskip=0pt,belowskip=0pt,%
	showstringspaces=false,tabsize=2,breaklines=true}
\floatstyle{ruled}
\newfloat{listing}{tb}{lst}{}
\floatname{listing}{Listing}
%
% Keep the \pdfinfo as shown here. There's no need
% for you to add the /Title and /Author tags.
\pdfinfo{
/TemplateVersion (2025.1)
}

% \usepackage{hyperref}

% DISALLOWED PACKAGES
% \usepackage{authblk} -- This package is specifically forbidden
% \usepackage{balance} -- This package is specifically forbidden
% \usepackage{color (if used in text)
% \usepackage{CJK} -- This package is specifically forbidden
% \usepackage{float} -- This package is specifically forbidden
% \usepackage{flushend} -- This package is specifically forbidden
% \usepackage{fontenc} -- This package is specifically forbidden
% \usepackage{fullpage} -- This package is specifically forbidden
% \usepackage{geometry} -- This package is specifically forbidden
% \usepackage{grffile} -- This package is specifically forbidden
% \usepackage{hyperref} -- This package is specifically forbidden
% \usepackage{navigator} -- This package is specifically forbidden
% (or any other package that embeds links such as navigator or hyperref)
% \indentfirst} -- This package is specifically forbidden
% \layout} -- This package is specifically forbidden
% \multicol} -- This package is specifically forbidden
% \nameref} -- This package is specifically forbidden
% \usepackage{savetrees} -- This package is specifically forbidden
% \usepackage{setspace} -- This package is specifically forbidden
% \usepackage{stfloats} -- This package is specifically forbidden
% \usepackage{tabu} -- This package is specifically forbidden
% \usepackage{titlesec} -- This package is specifically forbidden
% \usepackage{tocbibind} -- This package is specifically forbidden
% \usepackage{ulem} -- This package is specifically forbidden
% \usepackage{wrapfig} -- This package is specifically forbidden
% DISALLOWED COMMANDS
% \nocopyright -- Your paper will not be published if you use this command
% \addtolength -- This command may not be used
% \balance -- This command may not be used
% \baselinestretch -- Your paper will not be published if you use this command
% \clearpage -- No page breaks of any kind may be used for the final version of your paper
% \columnsep -- This command may not be used
% \newpage -- No page breaks of any kind may be used for the final version of your paper
% \pagebreak -- No page breaks of any kind may be used for the final version of your paperr
% \pagestyle -- This command may not be used
% \tiny -- This is not an acceptable font size.
% \vspace{- -- No negative value may be used in proximity of a caption, figure, table, section, subsection, subsubsection, or reference
% \vskip{- -- No negative value may be used to alter spacing above or below a caption, figure, table, section, subsection, subsubsection, or reference


\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{booktabs}
\usepackage{amsfonts}
\usepackage{nicefrac}
\usepackage{microtype}
\usepackage{xcolor}
\usepackage{algorithm}
\usepackage{algorithmic}
\usepackage{subcaption}
\usepackage{ifsym}
\usepackage{diagbox}
\usepackage{float}
\usepackage{multirow}
\usepackage{epsfig}
\usepackage{marvosym}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{amsthm}
\usepackage{wasysym}
\usepackage{enumitem}
\usepackage{tcolorbox}
\usepackage{makecell}
\usepackage{colortbl}
\usepackage{tikz}

\definecolor{mygreen}{HTML}{3cb44b}
\definecolor{mygreyr}{rgb}{0.99,0.985,0.98}
\definecolor{mygreyr1}{rgb}{0.98,0.975,0.97}
\definecolor{mygreyr2}{rgb}{0.97,0.965,0.96}
\definecolor{mygreyr3}{rgb}{0.96,0.955,0.95}
\definecolor{mygreyr4}{rgb}{0.955,0.95,0.945}
\definecolor{myred}{rgb}{0.995,0.9796,0.958}
\definecolor{myred1}{rgb}{0.992,0.9576,0.932}
\definecolor{myred2}{rgb}{0.991,0.9416,0.917}
\definecolor{myred3}{rgb}{0.990,0.9256,0.902}
\definecolor{myred4}{rgb}{0.990,0.915,0.89}

\newcommand{\PredSty}[1]{\textnormal{\ttfamily\color{mygreen!90!black}#1}\unskip}

\setcounter{secnumdepth}{0} %May be changed to 1 or 2 if section numbers are desired.

% The file aaai25.sty is the style file for AAAI Press
% proceedings, working notes, and technical reports.
%

% Title

% Your title must be in mixed case, not sentence case.
% That means all verbs (including short verbs like be, is, using,and go),
% nouns, adverbs, adjectives should be capitalized, including both words in hyphenated terms, while
% articles, conjunctions, and prepositions are lower case unless they
% directly follow a colon or long dash
\title{Capability Instruction Tuning: A New Paradigm for Dynamic LLM Routing}
\author{
    %Authors
    % All authors must be in the same font size and format.
      Yi-Kai Zhang, \ \textbf{De-Chuan Zhan}, \  \textbf{Han-Jia Ye}\thanks{Corresponding author.}
}
\affiliations{
  School of Artificial Intelligence, Nanjing University\\
  National Key Laboratory for Novel Software Technology, Nanjing University\\
  \{zhangyk, zhandc, yehj\}@lamda.nju.edu.cn
%
% See more examples next
}

%Example, Single Author, ->> remove \iffalse,\fi and place them surrounding AAAI title to use it
\iffalse
\title{My Publication Title --- Single Author}
\author {
    Author Name
}
\affiliations{
    Affiliation\\
    Affiliation Line 2\\
    name@example.com
}
\fi

\iffalse
%Example, Multiple Authors, ->> remove \iffalse,\fi and place them surrounding AAAI title to use it
\title{My Publication Title --- Multiple Authors}
\author {
    % Authors
    First Author Name\textsuperscript{\rm 1,\rm 2},
    Second Author Name\textsuperscript{\rm 2},
    Third Author Name\textsuperscript{\rm 1}
}
\affiliations {
    % Affiliations
    \textsuperscript{\rm 1}Affiliation 1\\
    \textsuperscript{\rm 2}Affiliation 2\\
    firstAuthor@affiliation1.com, secondAuthor@affilation2.com, thirdAuthor@affiliation1.com
}
\fi


% REMOVE THIS: bibentry
% This is only needed to show inline citations in the guidelines document. You should not need it and can safely delete it.
\usepackage{bibentry}
% END REMOVE bibentry

\begin{document}

\maketitle

\begin{abstract}
Large Language Models (LLMs) have demonstrated human-like instruction-following abilities, particularly those exceeding 100 billion parameters.
The combined capability of some smaller, resource-friendly LLMs can address most of the instructions that larger LLMs excel at.
In this work, we explore how to route the best-performing LLM for each instruction to achieve better overall performance.
We develop a new paradigm, constructing \textit{capability instructions} with model capability representation, user instruction, and performance inquiry prompts to assess the performance.
To learn from capability instructions, we introduce a new end-to-end framework called \underline{Model} \underline{S}election with \underline{A}ptitude \underline{T}est (\textsc{Model-SAT}), which generates positive and negative samples based on what different models perform well or struggle with. \textsc{Model-SAT} uses a model capability encoder that extends its model representation to a lightweight LLM.
Our experiments show that \textsc{Model-SAT} understands the performance dimensions of candidate models and provides the probabilities of their capability to handle various instructions.
Additionally, during deployment, a new model can quickly infer its aptitude test results across 50 tasks, each with 20 shots. \textsc{Model-SAT} performs state-of-the-art model routing without candidate inference and in real-world new model-released scenarios. The code
is available at \url{https://github.com/Now-Join-Us/CIT-LLM-Routing}.

\end{abstract}

\input{sections/introduction}

\input{sections/preliminary_method}

\input{sections/experiments}

\section*{Acknowledgments}
This work is partially supported by NSFC (62376118, 62250069), Key Program of Jiangsu Science Foundation (BK20243012), Collaborative Innovation Center of Novel Software Technology and Industrialization.

\bibliography{aaai25}
\end{document}
