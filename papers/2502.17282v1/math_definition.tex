\usepackage{amssymb}
\usepackage{amsmath,amsfonts}
\usepackage{amsopn}
\usepackage{bm}
\usepackage{multirow}
\usepackage{flushend}
\usepackage{tabularx}
\newcommand{\zoopy}{{\textit{Zoopy}}\xspace}


\newcommand{\twoline}[2]{\vtop{\hbox{\strut #1}\hbox{\strut #2}}}
\newcommand{\dc}{\textcolor{cyan}{\Delta_{\text{CL-FL}}}}
\newcommand{\dr}{\textcolor{magenta}{\Delta_{\text{rand}}}}

% define vector and matrix symbols
\newcommand{\vct}[1]{\boldsymbol{#1}} % vector
\newcommand{\mat}[1]{\boldsymbol{#1}} % matrix
\newcommand{\cst}[1]{\mathsf{#1}}  % constant

%%%% Special math symbols
\newcommand{\field}[1]{\mathbb{#1}}
\newcommand{\R}{\field{R}} % real domain
\newcommand{\C}{\field{C}} % complex domain
\newcommand{\F}{\field{F}} % functional domain
\newcommand{\I}{\field{I}} % functional domain
\newcommand{\T}{^{\textrm T}} % transpose


%% operator in linear algebra, functional analysis
\newcommand{\inner}[2]{#1\cdot #2}
%\newcommand{\norm}[1]{\|#1\|}
\newcommand{\twonorm}[1]{\left\|#1\right\|_2^2}
\newcommand{\onenorm}[1]{\|#1\|_1}
\newcommand{\Map}[1]{\mathcal{#1}}  % operator in functions, maps such as M: domain1 --> domain 2

% operator in probability: expectation, covariance, 
\newcommand{\ProbOpr}[1]{\mathbb{#1}}
% independence
\newcommand\independent{\protect\mathpalette{\protect\independenT}{\perp}}
\def\independenT#1#2{\mathrel{\rlap{$#1#2$}\mkern2mu{#1#2}}}
\newcommand{\ind}[2]{{#1} \independent{#2}}
\newcommand{\cind}[3]{{#1} \independent{#2}\,|\,#3} % conditional independence
\newcommand{\expect}[2]{%
\ifthenelse{\equal{#2}{}}{\ProbOpr{E}_{#1}}
{\ifthenelse{\equal{#1}{}}{\ProbOpr{E}\left[#2\right]}{\ProbOpr{E}_{#1}\left[#2\right]}}} % Expectation: syntax: E{1}{2} = E_1[2], E{}{2}=E[2], E{1}{} = E_1
%\newcommand{\var}[2]{%
%\ifthenelse{\equal{#2}{}}{\ProbOpr{VAR}_{#1}}
%{\ifthenelse{\equal{#1}{}}{\ProbOpr{VAR}\left[#2\right]}{\ProbOpr{VAR}_{#1}\left[#2\right]}}} % Expectation: syntax: V{1}{2} = V_1[2], V{}{2}=V[2], V{1}{} = V_1
\newcommand{\cndexp}[2]{\ProbOpr{E}\,[ #1\,|\,#2\,]}  % conditional expectation

% operator in optimization
\DeclareMathOperator{\argmax}{arg\,max}
\DeclareMathOperator{\argmin}{arg\,min}
\DeclareMathOperator{\softmax}{softmax}

% special functions
%\newcommand{\trace}[1]{\operatornamewithlimits{tr}\left\{#1\right\}}
\newcommand{\diag}{\operatornamewithlimits{diag}}
\newcommand{\sign}{\operatornamewithlimits{sign}}
\newcommand{\const}{\operatornamewithlimits{const}}

% special display
\newcommand{\parde}[2]{\frac{\partial #1}{\partial  #2}}


% shorthand
\newcommand{\x}{{\vct{x}}}
\newcommand{\y}{\vct{y}}
\newcommand{\z}{{\vct{z}}}
\newcommand{\w}{\vct{w}}
\newcommand{\p}{\vct{p}}
\newcommand{\mphi}{{\boldsymbol{\phi}}}
\newcommand{\mgamma}{{\boldsymbol{\gamma}}}
\newcommand{\mGamma}{{\boldsymbol{\Gamma}}}
\newcommand{\mxi}{{\boldsymbol{\xi}}}
\newcommand{\mXi}{{\boldsymbol{\Xi}}}
\newcommand{\mtheta}{{\boldsymbol{\theta}}}
\newcommand{\mmu}{{\boldsymbol{\mu}}}

\newcommand{\vtheta}{\vct{\theta}}
\newcommand{\vTheta}{\vct{\Theta}}
\newcommand{\vmu}{\vct{\mu}}
\newcommand{\vlambda}{\vct{\lambda}}
\newcommand{\vc}{\vct{c}}
\newcommand{\vp}{\vct{p}}
\newcommand{\vb}{\vct{b}}
\newcommand{\vq}{\vct{q}}
\newcommand{\vo}{{\vct{o}}}
\newcommand{\vr}{\vct{r}}
\newcommand{\vt}{\vct{t}}
\newcommand{\vv}{\vct{v}}
\newcommand{\vzero}{\vct{0}}
\newcommand{\vf}{\vct{f}}
\newcommand{\vh}{\vct{h}}
\newcommand{\vg}{\vct{g}}
\newcommand{\vphi}{\vct{\phi}}
\newcommand{\vpsi}{\vct{\psi}}
\newcommand{\ones}{\vct{1}}
\newcommand{\mU}{\mat{U}}
\newcommand{\mA}{\mat{A}}
\newcommand{\mB}{\mat{B}}
\newcommand{\mD}{\mat{D}}
\newcommand{\mW}{\mat{W}}
\newcommand{\mH}{\mat{H}}
\newcommand{\mS}{\mat{S}}
\newcommand{\mJ}{\mat{J}}
\newcommand{\mM}{\mat{M}}
\newcommand{\mT}{\mat{T}}
\newcommand{\mZ}{\mat{Z}}
\newcommand{\mO}{\mat{O}}
\newcommand{\mY}{\mat{Y}}
\newcommand{\mL}{\mat{L}}
\newcommand{\mI}{\mat{I}}
\newcommand{\mK}{\mat{K}}
\newcommand{\mSigma}{\mat{\Sigma}}
\newcommand{\mOmega}{\mat{\Omega}}
\newcommand{\cC}{\cst{C}}
\newcommand{\cM}{\cst{M}}
\newcommand{\cN}{\cst{N}}
\newcommand{\cQ}{\cst{Q}}
\newcommand{\cD}{\cst{D}}
\newcommand{\cL}{\cst{L}}
\newcommand{\cK}{\cst{K}}
\newcommand{\cH}{\cst{H}}
\newcommand{\cR}{\cst{R}}
\newcommand{\cU}{\cst{U}}
\newcommand{\cS}{\cst{S}}
\newcommand{\sQ}{\mathcal{Q}}
\newcommand{\sS}{\mathcal{S}}
\newcommand{\sF}{\mathcal{F}}
\newcommand{\sC}{\mathcal{C}}
\newcommand{\sT}{\mathcal{T}}
\newcommand{\sD}{\mathcal{D}}
\newcommand{\sU}{\mathcal{U}}
\newcommand{\sL}{\mathcal{L}}
\newcommand{\sA}{\mathcal{A}}

% 
\newcommand{\nx}{\tilde{x}}
\newcommand{\vnx}{{\tilde{\vx}}}
\newcommand{\vnz}{{\tilde{\vz}}}
%\newcommand{\deltavx}{(\vnx-\vx)}
\newcommand{\deltavx}{\delta_\vx}
\newcommand{\vmx}{\bar{\vx}}
\newcommand{\vmz}{\bar{\vz}}
\newcommand{\sigmax}{\mSigma_{\vx}}
\newcommand{\sigmaz}{\mSigma_{\vz}}
\newcommand{\no}{\tilde{o}}
\newcommand{\vno}{{\tilde{\vo}}}
\newcommand{\nell}{\tilde{\ell}}
\newcommand{\jacob}{\mat{J}}
\newcommand{\hess}{\mat{H}}
\newcommand{\mloss}{\hat{\ell}}

%
\newcommand{\eat}[1]{}
\newcommand{\method}[1]{\textsc{#1}}
\newcommand{\task}[1]{\textbf{#1}}


\newcommand{\bbR}{\mathbb{R}}

\newcommand{\bbE}{\mathbb{E}}
\newcommand{\bbV}{\mathbb{V}}

\newcommand{\mathI}{\mathcal{I}}

\newcommand{\mr}{{\mathrm{t}}}

\newcommand{\mP}{{\mathbf{P}}}
