\usetikzlibrary{patterns}
\usepgfplotslibrary{fillbetween}

\def\datagraphwf1{Figures/welfare_diff_graph1.csv}
\def\datagraphwfdecwf{Figures/welfare_diff_graph_dec_wf.csv}
\def\datagraphwfincwf{Figures/welfare_diff_graph_inc_wf.csv}

\definecolor{O2}{RGB}{0,0,255}
\def\unitwo{O2}

\definecolor{O1}{RGB}{255,0,0}
\def\unicolor{O1}

\definecolor{O3}{RGB}{255, 140, 0}
\def\treecolor{O3}

\begin{tikzpicture}[scale=0.9]

\begin{axis}[
    axis lines = left,
    xlabel = Round $t$,
    ylabel = $w_t^g(\bft{x})$,
    ylabel near ticks,
    xlabel near ticks,
    legend style={at={(0.95,0.05)}, anchor=south east}, % Aligns legend exactly to the right bottom
    legend cell align = left,
    ytick style = {draw=none},
    yticklabels = {}, % Remove tick labels
    xtick = {0.75}, 
    xticklabels = {$\tau$}, 
]

% Plotting the strategies
\addplot [\unicolor, mark=*, mark options={solid}, line width=1.1pt] 
    table[x=x, y=y, col sep=comma] {\datagraphwf1};
\addlegendentry{\footnotesize $\bft{x}$}

\addplot [\unitwo, mark=triangle*, mark options={solid}, line width=1.1pt] 
    table[x=x, y=y_tau, col sep=comma] {\datagraphwf1};
\addlegendentry{\footnotesize $\bft{x}^\tau$}

\addplot [\treecolor, dashed, line width=1.1pt] 
    table[x=x, y=treshold, col sep=comma] {\datagraphwf1};
\addlegendentry{\footnotesize $C$}

% --- Gray Background with Vertical Lines Pattern ---
\addplot [name path=dec_above, draw=none] 
    table[x=x, y=y_tau_above, col sep=comma] {\datagraphwfdecwf};
\addplot [name path=dec_below, draw=none] 
    table[x=x, y=y_tau_below, col sep=comma] {\datagraphwfdecwf};

% 1. Fill with Gray Color
\addplot [
    fill=gray,                        % Fill color set to gray
    opacity=0.2                       % Opacity level
] fill between [of=dec_above and dec_below];

% 2. Overlay with Vertical Lines Pattern
\addplot [
    pattern=horizontal lines,           % Vertical lines pattern
    pattern color=black,              % Pattern lines colored black
    draw=none,                        % No border
    opacity=1                         % Full opacity for pattern
] fill between [of=dec_above and dec_below];

% --- Green Background with Diagonal Lines Pattern ---
\addplot [name path=inc_above, draw=none] 
    table[x=x, y=y_tau_above, col sep=comma] {\datagraphwfincwf};
\addplot [name path=inc_below, draw=none] 
    table[x=x, y=y_tau_below, col sep=comma] {\datagraphwfincwf};

% 1. Fill with Green Color
\addplot [
    fill=green,                       % Fill color set to green
    opacity=0.4                       % Opacity level
] fill between [of=inc_above and inc_below];

% 2. Overlay with Diagonal Lines Pattern
\addplot [
    pattern=vertical lines,         % Diagonal lines pattern
    pattern color=black,              % Pattern lines colored black
    draw=none,                        % No border
    opacity=1                         % Full opacity for pattern
] fill between [of=inc_above and inc_below];

\end{axis}

\end{tikzpicture}

% \usetikzlibrary{patterns}
% \usepgfplotslibrary{fillbetween}

% \def\datagraphwf1{Figures/welfare_diff_graph1.csv}
% \def\datagraphwfdecwf{Figures/welfare_diff_graph_dec_wf.csv}
% \def\datagraphwfincwf{Figures/welfare_diff_graph_inc_wf.csv}

% \definecolor{O2}{RGB}{0,0,255}
% \def\unitwo{O2}

% \definecolor{O1}{RGB}{255,0,0}
% \def\unicolor{O1}

% \definecolor{O3}{RGB}{128, 0, 128}
% \def\treecolor{O3}

% \begin{tikzpicture}[scale=0.85]

% \begin{axis}[
%     axis lines = left,
%     xlabel = Round $t$,
%     ylabel = $w_t^g(\bft{x})$,
%     legend style={at={(1.15,0.05)}, anchor=south east}, % Aligns legend exactly to the right bottom
%     legend cell align = left,
%     ytick style = {draw=none},
%     yticklabels = {}, % Remove tick labels
%     xtick = {0.75}, 
%     xticklabels = {$\tau$}, 
% ]

% \addplot [\unicolor, mark=*, mark options={solid}, line width=1.1pt] table[x=x, y=y, col sep=comma] {\datagraphwf1};
% \addlegendentry{\footnotesize $\bft{x}$}

% \addplot [\unitwo, mark=triangle*, mark options={solid}, line width=1.1pt] table[x=x, y=y_tau, col sep=comma] {\datagraphwf1};
% \addlegendentry{\footnotesize $\bft{x}^\tau$}


% \addplot [\treecolor, dashed, line width=1.1pt] table[x=x, y=treshold, col sep=comma] {\datagraphwf1};
% \addlegendentry{\footnotesize $C$}

% \addplot [name path=dec_above, draw=none] table[x=x, y=y_tau_above, col sep=comma] {\datagraphwfdecwf};
% \addplot [name path=dec_below, draw=none] table[x=x, y=y_tau_below, col sep=comma] {\datagraphwfdecwf};
% \addplot [
%     green, 
%     opacity=0.7,
%     pattern=north west lines, % You can choose different patterns
%     pattern color=gray % Set the pattern color
% ] fill between [of=dec_above and dec_below];

% \addplot [name path=inc_above, draw=none] table[x=x, y=y_tau_above, col sep=comma] {\datagraphwfincwf};
% \addplot [name path=inc_below, draw=none] table[x=x, y=y_tau_below, col sep=comma] {\datagraphwfincwf};
% \addplot [
%     green, 
%     opacity=0.7,
%     pattern=north west lines, % You can choose different patterns
%     pattern color=green % Set the pattern color
% ] fill between [of=inc_above and inc_below];


% \end{axis}

% \end{tikzpicture}