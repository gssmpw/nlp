% !TEX program = pdflatex
\documentclass{article}

%
%
\usepackage{graphicx}
\usepackage{booktabs}
\usepackage{hyperref}
\usepackage{colortbl, xcolor}
\usepackage{amsmath}
\usepackage{hyperref}


\usepackage[accepted]{icml2025}

\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{amsthm}
\usepackage{multirow}

%
% \newcommand{\theHalgorithm}{\arabic{algorithm}}


\usepackage[utf8]{inputenc} %
\usepackage[T1]{fontenc}    %
\usepackage{amsfonts}       %
\usepackage{nicefrac}       
\usepackage{ulem, bm, kotex}

\usepackage{subcaption}
% \usepackage[style=base]{caption}
% \usepackage{caption}
\usepackage{float}
\usepackage{wrapfig}
\usepackage{lipsum}

\usepackage{pifont}
\newcommand{\cmark}{\text{\ding{51}}}
\newcommand{\xmark}{\text{\ding{55}}}

%
% \usepackage{color}
% \newcommand{\mj}[1]{{\color{blue}{mijung:#1}}}
%
\usepackage[capitalize,noabbrev]{cleveref}

%
%
%
\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{assumption}[theorem]{Assumption}
\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark}
\newtheorem*{reptheorem}{\textnormal{\textbf{Theorem \ref{thm:safe}}}}
\newtheorem*{replemma}{\textnormal{\textbf{Lemma \ref{lemma:unsafe}}}}

%
% \usepackage[table]{xcolor}
% \RequirePackage[table]{xcolor}

% \newcommand{\hl}[1]{\textcolor{blue}{#1}}
% \newcommand{\dkc}[1]{\textcolor{orange}{[DJ: #1]}}
% \newcommand{\dk}[1]{\textcolor{orange}{#1}}
% \newcommand{\mgyu}[1]{\textcolor{grey}{#1}}
\newcommand*\diff{\mathop{}\!\mathrm{d}}
\newcommand{\cc}[1]{\cellcolor{gray!#1}}

%
\newcommand{\BarStar}{%
  \rule{0.8cm}{0.25cm}%
  \llap{%
    \hspace{0.4cm}%
    \raisebox{0.02cm}{\textcolor{white}{*}}%
  }%
}

%
%
%
\usepackage[textsize=tiny]{todonotes}
\input{math_commands.tex}

%
%
\icmltitlerunning{Training-Free Safe Denoisers For Safe Use of Diffusion Models}

\begin{document}
\twocolumn[
\icmltitle{Training-Free Safe Denoisers for Safe Use of Diffusion Models}

%
%
%
%

%
%
%
%

%
%
%
\icmlsetsymbol{equal}{*}

\author{%
  Mingyu Kim, Dongjun Kim, Amman Yusuf, Stefano Ermon, Mi Jung Park\\
  UBC CS, Standford CS, UBC CS, UBC CS\\
  \texttt{mgyu.kim@ubc.ca},
  \texttt{dongjun@stanford.edu}
  \texttt{mijungp@cs.ubc.ca} \\
}

\begin{icmlauthorlist}
\icmlauthor{Mingyu Kim}{equal,yyy}
\icmlauthor{Dongjun Kim}{equal,sch}
\icmlauthor{Amman Yusuf}{yyy}
\icmlauthor{Stefano Ermon}{sch}
\icmlauthor{Mi Jung Park}{yyy}
\end{icmlauthorlist}

\icmlaffiliation{yyy}{UBC CS}
\icmlaffiliation{sch}{Stanford CS}

\icmlcorrespondingauthor{Mi Jung Park}{mijungp@cs.ubc.ca}

%
%
%
\icmlkeywords{Machine Learning, ICML}

\vskip 0.3in
]

%

%
%
%
%
%

%
\printAffiliationsAndNotice{\icmlEqualContribution} %

\begin{abstract}

There is growing concern over the safety of powerful diffusion models (DMs), as they are often misused to produce inappropriate, not-safe-for-work (NSFW) content or generate copyrighted material or data of individuals who wish to be forgotten. 
%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
Many existing methods tackle these issues by heavily relying on text-based negative prompts or extensively retraining DMs to eliminate certain features or samples. 
%
In this paper, we take a radically different approach, directly modifying the sampling trajectory by leveraging a negation set (e.g., unsafe images, copyrighted data, or datapoints needed to be excluded) to avoid specific regions of data distribution, without needing to retrain or fine-tune DMs. 
We formally derive the relationship between the expected denoised samples that are safe and those that are not safe, leading to our \textit{safe} denoiser which ensures its final samples are away from the area to be negated.
Inspired by the derivation, we develop a practical algorithm that successfully produces high-quality samples while avoiding negation areas of the data distribution in text-conditional, class-conditional, and unconditional image generation scenarios. These results hint at the great potential of our training-free safe denoiser for using DMs more safely.
%
%
%
%
%

%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
%
\end{abstract}

\vspace{-0.5cm}
\textcolor{red}{Warning: This paper contains disturbing content such as violent and sexually explicit images.}
%
\input{Manuscript/Introduction}
\input{Manuscript/Preliminary}
\input{Manuscript/Method}
\input{Manuscript/Related_works}
\input{Manuscript/Experiments}
\input{Manuscript/Conclusion}
%


%
%
% \nocite{langley00}
% \Notice@String

\bibliography{main}
\bibliographystyle{icml2025}

\newpage

%

%
%
%
%
%
\newpage
\appendix
\onecolumn

\setcounter{equation}{0}
\renewcommand{\theequation}{\Alph{section}.\arabic{equation}}
\setcounter{table}{0}
\renewcommand{\thetable}{\Alph{section}.\arabic{table}}
\setcounter{figure}{0}
\renewcommand{\thefigure}{\Alph{section}.\arabic{figure}}

%
\input{Appendix/Proof}
\input{Appendix/Experimental_details}
%
%


\end{document}


%
%
%
%
%
%
%
%
%
%
%
%
%
