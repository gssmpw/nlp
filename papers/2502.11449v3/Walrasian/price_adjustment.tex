The most common class of algorithms to compute a Walrasian equilibrium are first-order price adjustment processes simply called \mydef{price adjustment processes} \cite{papadimitriou2010impossibility}.
Given a Walrasian economy $(\numgoods, \excess)$, and an initial price vector $\price[][0] \in \R^\numgoods_+$, a \mydef{price adjustment process} $\priceupdate$ consists of an update function $\priceupdate: \bigcup_{\numhorizons \geq 1} (\R^\numgoods_+ \times \R^\numgoods) \to \R^\numgoods_+$ which generates the sequence of prices $\{\price[][\numhorizon]\}_{\numhorizon}$ given for all $\numhorizon = 0, 1, \hdots$ by:
$
    \price[][\numhorizon + 1] \doteq  \priceupdate\left(\bigcup_{k = 0}^{\numhorizon} (\price[][k], \excess(\price[][k])) \right)
$

An important class of price-adjustment processes are natural price-adjustment processes. Intuitively, these are price-adjustment processes where the price of each commodity is updated using only information about the past prices of the commodity and its excess demand. This class of processes are natural in the sense that the price of each commodity is updated with information relevant to it, and as such if each commodity is sold by one fictional seller, then each seller can update the price of its good without having to coordinate with other seller.
Given a Walrasian economy $(\numgoods, \excess)$, and an initial price vector $\price[][0] \in \R^\numgoods_+$, a price adjustment process $\priceupdate$ is said to be \mydef{natural} if for all commodities, the price adjustment process can be written as as $\priceupdate \doteq (\priceupdate[1], \hdots, \priceupdate[\numgoods])$ where for all commodities $\good \in \goods$, $\priceupdate[\good]: \bigcup_{\numhorizons \geq 1} (\R_+ \times \R) \to \R^\numgoods_+$ s.t. for all $\numhorizon = 0, 1, \hdots$ we have:
$
        \price[\good][\numhorizon + 1] \doteq  \priceupdate[\good]\left(\bigcup_{k = 0}^{\numhorizon} (\price[\good][k], \excess[\good](\price[][k])) \right)
$.
The canonical type of natural price adjustment processes are \emph{t\^atonnement processes} \cite{walras, arrow-hurwicz}, i.e., natural price-adjustment process $\priceupdate \doteq (\priceupdate[1], \hdots, \priceupdate[\numgoods])$ s.t. for all $\good \in \goods$ and $\numhorizon \in \N_{++}$ there exists a function $g: \R_+ \times \R \to \R$ that satisfies:
$\priceupdate[\good]\left(\bigcup_{k = 0}^{\numhorizon} (\price[\good][k], \excess[\good](\price[][k])) \right) \doteq g(\price[\good][\numhorizon], \excess[\good](\price[][\numhorizon])).
$%
\footnote{
Traditionally, $\tatonnfunc$ is further restricted to be sign preserving, i.e.,  $\forall \price[ ] \in \R_+, \excess[ ] \in \R, \sign(g(\price[ ], \excess[ ])) = \sign(\excess[ ])$, as with this restriction in place a \emph{t\^atonnement} process can be seen a mathematical model of the law supply and demand which stipulates that the price of any commodity in the economy which is demanded (resp. supplied) in excess will rise (resp. decrease) \citet{walras, arrow-hurwicz}. }
% Givena Walrasian economy $(\numgoods, \excess)$, and an initial price vector $\price[][0] \in \simplex[\numgoods]$, a \mydef{price adjustment process} $\priceupdate$ is an algorithm  defined by a function $\priceupdate: \bigcup_{\numhorizons \geq 1} (\simplex[\numgoods] \times \R^\numgoods)$ which outputs the sequence of prices $\{\price[][\numhorizon]\}_{\numhorizon}$ given for all $\numhorizon = 0, 1, \hdots$ by:
%     \begin{align*}
%         \price[][\numhorizon + 1] \doteq  \priceupdate\left(\bigcup_{k = 0}^{\numhorizon} (\price[][k], \excess(\price[][k])) \right)
%     \end{align*}
    
% An algorithm which takes as inputa Walrasian economy $(\numgoods, \excessset)$, and initial prices $\price[][0][] \in \simplex[\numgoods]$ is said to be a t\^atonnement process, if there exists a function $g: \R_+ \times \R \to \R$ which is sign preserving, i.e.,  $\forall \price[ ] \in \R_+, \excess[ ] \in \R, \sign(g(\price[ ], \excess[ ])) = \sign(\excess[ ])$, the \emph{t\^atonnement} process updates prices as follows for $\numhorizon = 0, 1, \hdots$:
% \begin{align}
%     \price[][\numhorizon + 1] \in   \price[][\numhorizon] + g(\excess[](\price[][\numhorizon])))  && \text{ for some }
%     \excess(\price[][\numhorizon]) \in \excessset(\excess(\price[][\numhorizon]))\\
%     \price[][0][] \in \interior(\simplex[\numgoods])
% \end{align}


Now notice that the mirror gradient method applied to the VI $(\R_+^\numgoods, -\excessset)$ defines a family of \emph{t\^atonnement} processes parametrized by the kernel function $\kernel$ which we call the mirror \emph{t\^atonnement} process.\footnote{A similar observation was previously made by \citet{fisher-tatonnement} for a smaller class of Walrasian economies known as convex potential markets.} Unfortunately, as demonstrated by \citet{scarf1960instable} using his eponymous Walrasian economy with 3 commodities an excess demand generated by Leontief consumers, continuous time-variants of \emph{t\^atonnement} processes cycle ad infinitum around the unique Walrasian equilibrium of the Scarf economy. For discrete-time variants of \emph{t\^atonnement}, as we show in \Cref{sec_ap:experiments}, the behavior of price trajectories is even more undesirable as they spiral away from the Walrasian equilibrium getting further and further. Interestingly, as we show next the VI $([0, 1], \excess^{\mathrm{scarf}})$, satisfies the Minty condition, which suggests that we should be able to compute a Walrasian equilibrium in Scarf economies by applying the mirror extragradient algorithm to this VI, which as we have shown earlier can be guaranteed to converge in polynomial-time under suitable continuity assumptions. 

\subsubsection{Mirror Extr\^atonnement Process in Balanced Economies}

To characterize the class of Walrasian economies for which a Walrasian equilibrium can be computed by using the VI characterizations, we now introduce the class of variationally stable economies. A Walrasian economy $(\numgoods, \excessset)$, is said to be \mydef{variationally stable} on $\pricespace \subseteq \R^\numgoods_+$ iff there exists $\price[][][*] \in \pricespace$ s.t. for all prices $\price \in \pricespace$, $\excess(\price) \in \excessset(\price)$:
$
        \innerprod[{ \excess(\price)}][{\price[][][*] - \price}] \geq 0.
$ Intuitively, a Walrasian economy $(\numgoods, \excessset)$ is variationally stable on $\pricespace$ iff the VI $(\pricespace, -\excessset)$ satisfies the Minty condition.
\footnote{
To understand the variational stability condition, consider a fictional auctioneer who buys the commodities sold in the economy and sells them back at prices $\price \in \R^\numgoods_+$. The profit of the auctioneer for his transaction is given by $\innerprod[{ \excess(\price)}][{\price}]$. Now suppose that the auctioneer where to change the prices at which it bought and sold its commodities to prices $\price[][][*] \in \R^\numgoods_+$, while fixing the quantities of goods sold and bought to those that he has observed (i.e., the excess demand $\excess(\price)$), then the auctioneer's profit improvement in ``hindsight'' would be given by $\innerprod[{ \excess(\price)}][{\price[][][*]}] - \innerprod[{ \excess(\price)}][{\price[][][*]}] =  \innerprod[{ \excess(\price)}][{\price[][][*] - \price}]$. Then, variational stability condition requires the existence of a price vector $\price[][][*]  \in \pricespace$, which in hindsight looks to the auctioneer like a more profitable price vector than any original price vector $\price \in \R^\numgoods_+$ it chose. 
}

A surprising and important result which is described by the following lemma is that the VI $([0, 1]^\numgoods, -\excessset)$ associated with any balanced economy $(\numgoods, \excessset)$ satisfies the Minty condition, i.e., any balanced economy is variationally stable on $[0, 1]^\numgoods$.

% \begin{lemma}[Balanced Economies are Variationally Stable]\label{lemma:balanced_is_minty}
%     Any balanced economy $(\numgoods, \excessset)$ is variationally stable, in particular letting $\price[][][*] \doteq \zeros[\numgoods]$, for all prices $\price \in [0, 1]^\numgoods$ and $\excess(\price) \in \excessset(\price)$, we have:
%     \begin{align*}
%         \innerprod[{ \excess(\price)}][{\price[][][*] - \price}] \geq 0
%     \end{align*}
% \end{lemma}

\begin{restatable}[Balanced Economies are Variationally Stable on the Unit Box]{lemma}{lemmabalancedisminty}\label{lemma:balanced_is_minty}
     Any balanced economy $(\numgoods, \excessset)$ is variationally stable on $[0, 1]^\numgoods$, in particular letting $\price[][][*] \doteq \zeros[\numgoods]$, for all prices $\price \in [0, 1]^\numgoods$ and $\excess(\price) \in \excessset(\price)$, we have $
        \innerprod[{ \excess(\price)}][{\price[][][*] - \price}] \geq 0$.
\end{restatable}


\input{algos/mirror_tatonn}

The above lemma is a highly surprising and important as it suggests that for balanced economies, which among others includes Arrow-Debreu competitive economies, under suitable continuity assumptions, first-order methods for the VI $([0, 1]^\numgoods, -\excessset)$ are guaranteed to converge to a strong solution. 
Hence, with \Cref{lemma:balanced_is_minty} in hand, we now turn our attention to solving the VI $([0, 1]^\numgoods, -\excessset)$---or in our case rather the VI $([0, 1]^\numgoods, -\excess)$ since we assume for our algorithms that the excess demand is singleton-valued---and hence a Walrasian equilibrium with the mirror extragradient method. Solving the VI $([0, 1]^\numgoods, -\excess)$ with the mirror extragradient method, gives rise to a family of price adjustment processes parameterized by the kernel function $\kernel$ which we will call the \mydef{mirror extrat\^atonnement process} (\Cref{alg:mirror_extratatonnement}).


\begin{remark}[Mirror \emph{Extrat\^atonnement} is a Natural Price-Adjustment Process]
    For the choice of a price space $\pricespace \doteq [0, 1]^\numgoods$, and any choice of kernel function s.t. $\kernel(\price) \doteq \sum_{\good \goods} \kernel[\good](\price[\good])$ for some $\{\kernel[\good]:\R^\numgoods \to \R\}_{\good \in \goods}$, the mirror \emph{extrat\^atonnement} updates can be written for all commodities $\good \in \goods$ and $\numhorizon \in \N$ as:
$
        \price[\good][\numhorizon + 0.5] \gets     \argmin\limits_{\price[\good] \in [0, 1]} \{ \excess[\good](\price[][\numhorizon])(\price[\good][\numhorizon] - \price[\good]) + \frac{1}{2 \learnrate[][ ]} \divergence[{\kernel[\good]}][{\price[\good]}][{\price[\good][\numhorizon]}]\} ,
$
$
        \price[\good][\numhorizon +1] \gets \argmin\limits_{\price[\good] \in [0, 1]} \left\{ \excess[\good](\price[][\numhorizon + 0.5])(\price[\good][\numhorizon] - \price[\good]) + \frac{1}{2 \learnrate[][ ]} \divergence[{\kernel[\good]}][{\price[\good]}][{\price[\good][\numhorizon]}]\right\} \enspace .
$
% 
    Now, multiplying the indices of the sequence of price iterates by 2, the mirror \emph{extrat\^atonnement} process (\Cref{alg:mirror_extratatonnement}) can be interpretted as a natural price adjustment process which on odd time-steps applies a \emph{t\^atonnement} update on the current time-step's prices, and on even time-step applies a \emph{t\^atonnement} update on the \emph{previous} time-step's prices. As such, the mirror \emph{extrat\^atonnement} process is natural price adjustment process. 
% 
%     we can re-write the above update rule for all commodities $\good \in \goods$ and $\numhorizon \in \N$ as:
% $
%         \price[\good][\numhorizon + 1] \gets     \argmin\limits_{\price[\good] \in [0, 1]} \left\{ \innerprod[{\excess[\good](\price[][\numhorizon])}][{\price[\good][\numhorizon] - \price[\good]}] + \frac{1}{2 \learnrate[][ ]} \divergence[{\kernel[\good]}][{\price[\good]}][{\price[\good][\numhorizon]}]\right\},
% $
% $
%         \price[\good][\numhorizon +2] \gets \argmin\limits_{\price[\good] \in [0, 1]} \left\{ \innerprod[{\excess[\good](\price[][\numhorizon + 1])}][{ \price[\good][\numhorizon] - \price[\good]}] + \frac{1}{2 \learnrate[][ ]} \divergence[{\kernel[\good]}][{\price[\good]}][{\price[\good][\numhorizon]}]\right\} \enspace .
% $
%     That is, 
\end{remark}

With the mirror \emph{extr\^atonnement} process, and \Cref{lemma:balanced_is_minty} in hand, we can apply \Cref{thm:mirror_extragradient_global_convergence} to prove the convergence of the mirror \emph{extr\^atonnement} process (\Cref{alg:mirror_extratatonnement}).  
% 
% 
\if 0
\begin{theorem}[Convergence of Mirror Extrat\^atonnement]\label{thm:mirror_extra_tatonn_convergence}
    Let $(\numgoods, \excess)$ be a balanced economy. 
    % 
    Consider the mirror \emph{extr\^atonnement} process run on $(\numgoods, \excess)$, with a $1$-strongly-convex and $\kernelsmooth$-Lipschitz-smooth kernel function $\kernel$, any time horizon $\numhorizon \ \dotin \  \N$, any step size $\learnrate[ ][ ] > 0$, a price space $\pricespace \doteq [0, 1]^\numgoods$, and any initial price vector $\price[][0] \in [0, 1]^\numgoods$, and let $\{\price[][\numhorizon], \price[][\numhorizon + 0.5] \}_{\numhorizon}$ be the sequence of prices generated. Suppose that there exists $\lsmooth \in (0, \frac{1}{\sqrt{2}\learnrate[ ][ ]}]$, s.t. $\frac{1}{2}\|\excess(\price[][k+0.5]) - \excess(\price[][k])\|^2 \leq \lsmooth^2 \divergence[\kernel][{\price[][k+0.5]}][{\price[][k]}]$. 

    Let $\bestiter[{\price}][\numhorizons] \in \argmin_{\vartuple[][][k+0.5] : k = 0, \hdots, \numhorizons} \divergence[\kernel](\price[][k+0.5], \price[][k])$, then for some time horizon $\numhorizons \ \dotin \ O(\frac{\kernelsmooth^2 \numgoods^2 \divergence[\kernel](\zeros[\numgoods], \price[][0])}{\learnrate[ ][ ]^2 \varepsilon^2})$, 
    $\bestiter[{\price}][\numhorizons]$ is a $\varepsilon$-Walrasian equilibrium.

    % 
    Further, we have that $\lim_{\numhorizon \to \infty} \price[][\numhorizon+0.5] = \lim_{\numhorizon \to \infty} \price[][\numhorizon] = \price[][][*]$ is a Walrasian equilibrium.
\end{theorem}
\fi
\begin{restatable}[Convergence of Mirror Extrat\^atonnement]{theorem}{thmmirrorextratatonnconvergence}\label{thm:mirror_extra_tatonn_convergence}
    Let $(\numgoods, \excess)$ be a balanced economy. 
    % 
    Consider the mirror \emph{extr\^atonnement} process run on $(\numgoods, \excess)$, with a $1$-strongly-convex and $\kernelsmooth$-Lipschitz-smooth kernel function $\kernel$, any time horizon $\numhorizon \ \dotin \  \N$, any step size $\learnrate[ ][ ] > 0$, a price space $\pricespace \doteq [0, 1]^\numgoods$, and any initial price vector $\price[][0] \in [0, 1]^\numgoods$, and let $\{\price[][\numhorizon], \price[][\numhorizon + 0.5] \}_{\numhorizon}$ be the sequence of prices generated. Suppose that there exists $\lsmooth \in (0, \frac{1}{\sqrt{2}\learnrate[ ][ ]}]$, s.t. $\frac{1}{2}\|\excess(\price[][k+0.5]) - \excess(\price[][k])\|^2 \leq \lsmooth^2 \divergence[\kernel][{\price[][k+0.5]}][{\price[][k]}]$. 

    Let $\bestiter[{\price}][\numhorizons] \in \argmin_{\vartuple[][][k+0.5] : k = 0, \hdots, \numhorizons} \divergence[\kernel](\price[][k+0.5], \price[][k])$, then for some time horizon $\numhorizons \ \dotin \ O(\frac{\kernelsmooth^2 \numgoods^2 \divergence[\kernel](\zeros[\numgoods], \price[][0])}{\learnrate[ ][ ]^2 \varepsilon^2})$, 
    $\bestiter[{\price}][\numhorizons]$ is a $\varepsilon$-Walrasian equilibrium.
% 
    % 
    Further, we have that $\lim_{\numhorizon \to \infty} \price[][\numhorizon+0.5] = \lim_{\numhorizon \to \infty} \price[][\numhorizon] = \price[][][*]$ is a Walrasian equilibrium.
\end{restatable}


The convergence guarantee provided by the above theorem is highly general, and does not require Lipschitz-continuity of the excess demand $\excess$. Rather, the above theorem requires pathwise Bregman-continuity over price trajectories of the \emph{extrat\^atonnement} process. This broad statement is purposeful as it is in general not possible to guarantee the Lipschitz-continuity of the excess demand at $\price = \zeros[\numgoods]$ in balanced economies. Indeed, the only balanced economies with a Lipschitz-continuous excess demand function are those economies with a constant excess demand function.\footnote{To see this, suppose that $\excess$ is $\lsmooth$-Lipschitz-continuous on $[0, 1]^\numgoods$, then by homogeneity of degree $0$, we have for all $\alpha > 0$ and $\price, \otherprice \in [0, 1]^\numgoods$, $\|\excess(\price) - \excess(\otherprice) \| = \| \excess(\alpha\price) - \excess(\alpha \otherprice)\| \leq \lambda \alpha \| \price - \otherprice \|$.
Hence, taking $\alpha \to 0$, we have for all  $\price, \otherprice \in [0, 1]^\numgoods$, $\excess(\otherprice) = \excess(\price)$.} 
Nevertheless, while Lipschitz-continuity over $[0, 1]^\numgoods$ is too restrictive, Lipschitz continuity over paths of the mirror \emph{extrat\^atonnement} process (i.e., $\|\excess(\price[][k+0.5]) - \excess(\price[][k])\| \leq \lsmooth \|\price[][k+0.5] - \price[][k]] \|$)
% \footnote{Notice that when the kernel function in the statement of \Cref{thm:mirror_extra_tatonn_convergence} is chosen to be $\kernel(\price) \doteq \frac{1}{2}\|\price\|^2$, the condition $\frac{1}{2}\|\excess(\price[][k+0.5]) - \excess(\price[][k])\|^2 \leq \lsmooth^2 \divergence[\kernel][{\price[][k+0.5]}][{\price[][k]}]$ reduces to $\|\excess(\price[][k+0.5]) - \excess(\price[][k])\| \leq \lsmooth \|\price[][k+0.5] - \price[][k]] \|$.}
seems to be a mild assumption that holds in a large class of Walrasian economies as we show in our experiments in \Cref{sec:experiments}. 

While we leave the question open for future work, it seems likely that for choices of kernel functions $\kernel$ s.t. the associated Bregman divergence $\divergence[\kernel]$ is not homogeneous of degree $\alpha > 0$ (i.e., for all $\price, \otherprice \in \R^\numgoods_+, \alpha, \lambda > 0$ $\divergence[\kernel](\lambda \price, \lambda\otherprice) \neq \lambda^\alpha \divergence[\kernel](\price, \otherprice)$), the following class of Walrasian economies seems to be likely to contain a large number of Walrasian economies. 
Given a modulus of continuity $\lsmooth \geq 0$, and a kernel function $\kernel: \pricespace \to \R$, a \mydef{$(\lsmooth, \kernel)$-Bregman-continuous economy} on $\pricespace \subseteq \R^\numgoods_+$ is a Walrasian economy $(\numgoods, \excess)$ whose excess demand $\excess$ $(\lsmooth, \kernel)$-Bregman-continuous on $\pricespace$.\footnote{Bregman continuous functions have been introduced in recent years in the optimization literature and have been shown to contain a large number of important function classes which are not continuous (see, for instance, \citet{lu2019relative}). Note that when the kernel function $\kernel$ is chosen to be $\kernel(\price) \doteq \frac{1}{2}\|\price\|^2$, $\lsmooth$-Bregman-continuity reduces to $\lsmooth$-Lipschitz continuity. Further, the literature on algorithmic general equilibrium theory has considered variants of Bregman continuity to prove the polynomial-time convergence of the mirror t\^atonnement process to Walrasian equilibria in restricted classes of Walrasian economies (see, for instance \citet{fisher-tatonnement} and \citet{cheung2018dynamics}). As such, Bregman continuity seems a natural assumption to prove the convergence of algorithms to a Walrasian equilibrium. } 
With the definition in hand, we note the following corollary of \Cref{thm:mirror_extra_tatonn_convergence}.

\begin{corollary}[Convergence of Mirror \emph{Extr\^atonnement} under Bregman Continuity]\label{thm:bregman_mirror_exta_tatonn_convergence}
    Let $(\numgoods, \excess)$ be a balanced economy which is $(\lsmooth, \kernel)$-Bregman-continuous on $[0, 1]^\numgoods$. 
    % 
    Consider the mirror \emph{extr\^atonnement} process run on $(\numgoods, \excess)$, with a $1$-strongly-convex and $\kernelsmooth$-Lipschitz-smooth kernel function $\kernel$, any time horizon $\numhorizon \ \dotin \  \N$, any step size $\learnrate[ ][ ] \in (0, \frac{1}{\sqrt{2}\lsmooth}]$, a price space $\pricespace \doteq [0, 1]^\numgoods$, and any initial price vector $\price[][0] \in [0, 1]^\numgoods$, and let $\{\price[][\numhorizon], \price[][\numhorizon + 0.5] \}_{\numhorizon}$ be the sequence of prices generated. 

    Let $\bestiter[{\price}][\numhorizons] \in \argmin_{\vartuple[][][k+0.5] : k = 0, \hdots, \numhorizons} \divergence[\kernel](\price[][k+0.5], \price[][k])$, then for some  time horizon $\numhorizons \ \dotin \ O(\frac{\kernelsmooth^2 \numgoods^2 \divergence[\kernel](\zeros[\numgoods], \price[][0])}{\learnrate[ ][ ]^2 \varepsilon^2})$, 
    $\bestiter[{\price}][\numhorizons]$ is a $\varepsilon$-Walrasian equilibrium.
    % 
    % 
    Further, we have that $\lim_{\numhorizon \to \infty} \price[][\numhorizon+0.5] = \lim_{\numhorizon \to \infty} \price[][\numhorizon] = \price[][][*]$ is a Walrasian equilibrium.
\end{corollary}




While these convergences result are useful, it is not clear what types of excess demand functions satisfy Bregman-continuity. As a result, to characterize the Bregman-continuity properties of Walrasian economies we introduce the following economic parameters based on elasticity which have been extensively used in the analysis of algorithms for the computation of Walrasian equilibrium (see, for instance, \citet{cole2008fast}). Given any function $\vioper: \R^n \to \R^m$, we define the \mydef{elasticity} $\elastic[{\vioper[\good]}][{\price[k]}]: \R^n \times \R^n \to \R$ of output $\vioper[\good]$ w.r.t. input $\vartuple[k]$ between any two points $\vartuple \in \R^n$ and $\othervartuple \in \R^n$ as the percentage change in $\vioper[\good]$ for a one percent change from $\vartuple[k]$ to $\othervartuple[k]$, i.e., 
$
\elastic[{\vioper[\good]}][{\vartuple[k]}](\vartuple, \othervartuple) \doteq  \frac{\vioper[\good](\othervartuple) - \vioper[\good](\vartuple)}{\vioper[\good](\vartuple)} \frac{\vartuple[k]}{\othervartuple[k] - \vartuple[k]} 
$. Given $\lelastic \geq 0$, a \mydef{$\lelastic$-elastic economy} $(\numgoods, \demandfunc, \supplyfunc)$  is a Walrasian economy $(\numgoods, \excess)$ which consists of an \mydef{aggregate demand function} $\demandfunc: \R^\numgoods_+ \to \R^\numgoods_+$ and \mydef{aggregate supply function} $\supplyfunc: \R^\numgoods_+ \to \R^\numgoods_+$ s.t. we have $\excess(\price) \doteq \demandfunc(\price) - \supplyfunc(\price)$, and the following two bounds hold:
\begin{align*}
        &\max_{\substack{\price, \otherprice \in \R^\numgoods_+\\
        \good, k \in \goods}} \left|\elastic[{\demandfunc[\good]}][{\price[k]}](\price, \otherprice) \right|  \leq \lelastic, & \max_{\substack{\price, \otherprice \in \R^\numgoods_+\\
        \good, k \in \goods}} \left|\elastic[{\supplyfunc[\good]}][{\price[k]}](\price, \otherprice) \right| \leq \lelastic
\end{align*}



The following lemma provides intuition on conditions which ensures that a $\lelastic$-economy satisfy Bregman-continuity.

\if 0
\begin{lemma}[Bregman Continuity for elastic economies]\label{lemma:bregman_cont_elastic}
    Let $(\numgoods, \demandfunc, \supplyfunc)$ be an $\lelastic$-elastic economy, then for any $1$-strongly-convex kernel function $\kernel: \R^\numgoods_+ \to \R$, the following bound holds:
    \begin{align*}
        \frac{1}{2}\| \excess(\otherprice) - \excess(\price) \|^2 \leq \left(\frac{\elastic \left(\|\demandfunc(\price)\| + \|\supplyfunc(\price)\| \right)}{\|\price\|_\infty} \right)^2 \divergence[\kernel](\otherprice,\price)
    \end{align*}
\end{lemma}
\fi
\begin{restatable}[Bregman Continuity Bound for elastic economies]{lemma}{lemmabregmancontelastic}\label{lemma:bregman_cont_elastic}
        Let $(\numgoods, \demandfunc, \supplyfunc)$ be an $\lelastic$-elastic economy, then for any $1$-strongly-convex kernel function $\kernel: \R^\numgoods_+ \to \R$, the following bound holds:
$
        \frac{1}{2}\| \excess(\otherprice) - \excess(\price) \|^2 \leq \left(\frac{\elastic \left(\|\demandfunc(\price)\| + \|\supplyfunc(\price)\| \right)}{\|\price\|_\infty} \right)^2 \divergence[\kernel](\otherprice,\price)
$
\end{restatable}


\Cref{lemma:bregman_cont_elastic} suggests that boundedness of the excess demand and a lower bound on the prices is sufficient to ensure the Bregman-continuity of the excess demand. Boundedness of the excess demand can be ensured in large class of Walrasian economies including Arrow-Debreu competitive economies (see, \Cref{lemma:ad_economies_are_comp_bounded} in \Cref{sec_app:ad_comp}). While it is not possible to ensure that prices are bounded from below when running the mirror extrat\^atonnement process with the price space $\pricespace \doteq [0, 1]^\numgoods$, if we choose as a price space $\simplex[\numgoods]$, we can then obtain a Bregman continuity bound from the above lemma. Unfortunately, however balanced economies are not necessarily variationally stable on $\simplex[\numgoods]$, and as such to obtain a stronger convergence result, we have to restrict our attention to competitive economies which are variationally stable on $\simplex[\numgoods]$.\footnote{
In \Cref{sec_app:var_stable_classes}, we discuss some important classes of Walrasian economies which are variationally stable on $\simplex[\numgoods]$. The class of Walrasian economies which are variationally stable on $\simplex[\numgoods]$ include amongst others Walrasian economies whose excess demand satisfies the weak axiom of revealed preferences (WARP) (\Cref{def:warp}, \Cref{sec_app:var_stable_classes}), the weak gross substitutes (WGS) condition (\Cref{def:wgs}, \Cref{sec_app:var_stable_classes}), and the law of supply and demand (\Cref{def:law_of_supply_and_demand}, \Cref{sec_app:var_stable_classes}).}
% 
% 
Unfortunately, as the price space $\pricespace = \simplex[\numgoods]$ does not include the zero vector $\zeros[\numgoods]$ which ensures that balanced economies are variationally stable,  the restriction of the price space to $\simplex[\numgoods]$ effectively ``destabilizes'' the economy and makes computation of a Walrasian equilibrium intractable. As a result, to overcome this challenge we have to restrict the class of competitive economies to the class of competitive economies which are variationally stable on $\simplex[\numgoods]$.
\if 0
\footnote{For balanced economies, by weak Walras' law a sufficient condition for the economy to be variationally stable on $\simplex[\numgoods]$ is the existence of $\price[][][*] \in \simplex[\numgoods]$ s.t. for all prices $\price \in \simplex[\numgoods]$, $\excess(\price) \in \excessset(\price)$, $
        \innerprod[{ \excess(\price)}][{\price[][][*]}] \geq 0$.
Now, suppose that there exists a commodity $\good \in \goods$ which is (weakly) demanded in excess for all $\price \in \simplex[\numgoods]$, i.e., $\excess[\good](\price) \geq 0$. Then, setting $\price[][][*] = \basis[\good]$, we have $\innerprod[{ \excess(\price)}][{\price[][][*]}] = \innerprod[{ \excess(\price)}][{\basis[\good]}] = \excess[\good](\price) \geq 0$. Hence, if there is a good which is never supplied in excess the economy is variationally stable.

Alternatively, a balanced economy is variationally stable on $\simplex[\numgoods]$ whenever there exists two commodities $\good, k \in \goods$, whose excess demands are negatively proportional for all prices, i.e., $\exists \alpha > 0$, s.t. $\excess[\good](\price) \geq -\alpha \excess[k](\price)$, Then, setting $\price[][][*] = \frac{1}{1 + \alpha}\basis[\good] + \frac{\alpha}{(1+\alpha)} \basis[k]$, we have $\innerprod[{ \excess(\price)}][{\price[][][*]}] = \frac{1}{1 + \alpha}\excess[\good](\price)  + \frac{\alpha}{(1+\alpha)} \excess[k](\price) \geq \frac{-\alpha}{1 + \alpha}\excess[k](\price)  + \frac{\alpha}{(1+\alpha)} \excess[k](\price) = 0$. In light of this observation, the variational stability assumption on $\simplex[\numgoods]$ can be seen as a rather mild assumption, as commodities whose excess demands are negatively correlated are abundant in the real world. For instance,   airplane tickets and airplanes, whenever the excess demand for airline tickets is positive, this must mean that there are not enough airplanes, that is the excess demand for planes is negative.}
\fi 

To use \Cref{lemma:bregman_cont_elastic} we have to ensure that the excess demand of the economy is bounded, which is a mild assumption which can be ensured to hold in all Arrow-Debreu competitive economies by bounding the consumption space of all consumers for any commodity by the maximum aggregate supply of each commodity. Formally,
given $\lbounded \geq 0$, a \mydef{$\lbounded$-bounded economy} $(\numgoods, \demandfunc, \supplyfunc)$  is a Walrasian economy $(\numgoods, \excessset)$ which consists of an \mydef{aggregate demand function} $\demandfunc: \R^\numgoods_+ \to \R^\numgoods_+$ and an \mydef{aggregate supply function} $\supplyfunc: \R^\numgoods_+ \to \R^\numgoods_+$ s.t. we have $\excess(\price) \doteq \demandfunc(\price) - \supplyfunc(\price)$ and the following bounds hold:
$
\|\demandfunc\|_\infty \leq \lbounded
$,
$\|\supplyfunc\|_\infty \leq \lbounded
$. In \Cref{lemma:ad_economies_are_comp_bounded} (\Cref{sec_app:ad_comp}), we prove that any Arrow-Debreu competitive economy \cite{arrow-debreu} can be represented as a bounded continuous competitive economy, as such, we note that this assumption is very mild.
% 
With this definition in place, we can now apply \Cref{lemma:bregman_cont_elastic} to derive the polynomial-time convergence of the mirror extr\^atonnement process as a direct corollary of \Cref{thm:mirror_extra_tatonn_convergence}.\footnote{Going beyond variationally stable competitive economies on $\simplex[\numgoods]$, the local convergence behavior of mirror \emph{extrat\^atonnement} can similarly be obtained by applying \Cref{thm:vi_mirror_extragrad_local}, and replacing the assumption that the competitive economy is variationally stable with the assumption that the initial price iterate starts close enough to a price vector which is local weak solution of the VI $(\simplex[\numgoods], -\excess)$.}

\if 0
\begin{theorem}[{Mirror Extrat\^atonnement Convergence in $\simplex[\numgoods]$}]\label{thm:mirror_extratatonn_var_stable}
    Let $(\numgoods, \demandfunc, \supplyfunc)$ be a $\lelastic$-elastic and $\lbounded$-bounded balanced economy which is variationally stable on $\simplex[\numgoods]$, and let $\price[][][*] \in \we(\numgoods, \demandfunc, \supplyfunc)$ be any of it Walrasian equilibria.
    % 
    Consider the mirror \emph{extr\^atonnement} process run on $(\numgoods, \excess)$, with a $1$-strongly-convex and $\kernelsmooth$-Lipschitz-smooth kernel function $\kernel$, any time horizon $\numhorizon \ \dotin \  \N$, any step size $\learnrate[ ][ ] \in (0, \frac{1}{2\sqrt{2}\numgoods \elastic \lbounded}]$, a price space $\pricespace \doteq \simplex[\numgoods]$, and any initial price vector $\price[][0] \in \simplex[\numgoods]$, and let $\{\price[][\numhorizon], \price[][\numhorizon + 0.5] \}_{\numhorizon}$ be the sequence of prices generated. The following convergence bound holds: 
$
        \min_{k = 0, \hdots, \numhorizons} \max_{\price \in \simplex} \langle \excess(\price[][k+0.5]),  \price - \price[][k+0.5] \rangle \leq  \frac{2 \sqrt{2}(1 + \kernelsmooth)}{\learnrate[ ][ ]} \frac{\sqrt{\max_{\price \in \simplex}\divergence[\kernel][{\price[][][*]}][{\price[][0]}]}}{\sqrt{\numhorizons}}
$
    % Let $\bestiter[{\price}][\numhorizons] \in \argmin_{\vartuple[][][k+0.5] : k = 0, \hdots, \numhorizons} \divergence[\kernel](\price[][k+0.5], \price[][k])$, then for some time horizon $\numhorizons \ \dotin \ O(\frac{\kernelsmooth^2 \numgoods^2 \divergence[\kernel](\zeros[\numgoods], \price[][0])}{\learnrate[ ][ ]^2 \varepsilon^2})$, 
    % $\bestiter[{\price}][\numhorizons]$ is a $\varepsilon$-Walrasian equilibrium.
    % 
    % 
    Further, we have that $\lim_{\numhorizon \to \infty} \price[][\numhorizon+0.5] = \lim_{\numhorizon \to \infty} \price[][\numhorizon] = \price[][][*]$ is a Walrasian equilibrium.
\end{theorem}
\fi 

\begin{restatable}[{Mirror Extrat\^atonnement Convergence on the Unit Simplex}]{theorem}{thmmirrorextratatonnvarstable}\label{thm:mirror_extratatonn_var_stable}
    
    Let $(\numgoods, \demandfunc, \supplyfunc)$ be a $\lelastic$-elastic and $\lbounded$-bounded balanced economy which is variationally stable on $\simplex[\numgoods]$, and let $\price[][][*] \in \we(\numgoods, \demandfunc, \supplyfunc)$ be any of it Walrasian equilibria.
    % 
    Consider the mirror \emph{extr\^atonnement} process run on $(\numgoods, \excess)$, with a $1$-strongly-convex and $\kernelsmooth$-Lipschitz-smooth kernel function $\kernel$, any time horizon $\numhorizon \ \dotin \  \N$, any step size $\learnrate[ ][ ] \in (0, \frac{1}{2\sqrt{2}\numgoods \elastic \lbounded}]$, a price space $\pricespace \doteq \simplex[\numgoods]$, and any initial price vector $\price[][0] \in \simplex[\numgoods]$, and let $\{\price[][\numhorizon], \price[][\numhorizon + 0.5] \}_{\numhorizon}$ be the sequence of prices generated. The following convergence bound holds: 
$
        \min_{k = 0, \hdots, \numhorizons} \max_{\price \in \simplex} \langle \excess(\price[][k+0.5]),  \price - \price[][k+0.5] \rangle \leq  \frac{2 \sqrt{2}(1 + \kernelsmooth)}{\learnrate[ ][ ]} \frac{\sqrt{\max_{\price \in \simplex}\divergence[\kernel][{\price[][][*]}][{\price[][0]}]}}{\sqrt{\numhorizons}}.
$
    Further, we have that $\lim_{\numhorizon \to \infty} \price[][\numhorizon+0.5] = \lim_{\numhorizon \to \infty} \price[][\numhorizon] = \price[][][*]$ is a Walrasian equilibrium.
\end{restatable}

% \begin{remark}[Local convergence of mirror \emph{extrat\^atonnement}]
 
% \end{remark}
\if 0
With this theorem in hand, we make the following remarks before turning our attention to second order price adjustment processes.

\begin{remark}[Contribution]
    While \citet{arrow-hurwicz} had in a seminal paper shown that a continuous-time variant of \emt\^atonnement price adjustment process converge in continuous time to a Walrasian equilibrium in Walrasian economies which satisfy WARP, to the best of our knowledge such a result did not exist in discrete time. As such, our result is the first polynomial-time computation result for $\varepsilon$-Walrasian equilibrium, and first convergence result for a price adjustment in the class of Arrow-Debreu economies which satisfy WARP. 
\end{remark}

\begin{remark}[Boundedness of excess demand]\label{remark:we_tatonn_bounded_demand}
        The assumption that there exists $\overline{z} \geq 0$ s.t. for all $\numhorizon \in [\numhorizons]$, $\|\excess(\price[][\numhorizon])\| \leq \overline{z}$ is a common place assumption in the analysis of discrete time price adjustment processes (see, for instance, \citet{fisher-tatonnement} or \Cref{chap:fisher_markets}), and is often guaranteed by doing a more fine grained analysis of the Walrasian economy at hand. That said, it is indeed possible to restrict the excess demand to bounded by the total amount of the commodity that can be ever supplied without modifying the Walrasian equilibria of the economy. This is indeed the approach that \citet{arrow-debreu} take in Section 3 of their paper for proving their seminal Walrasian equilibrium existence result. This restriction is also realistic from an economic perspective since it is not possible for the economy to consume more of a commodity that there can exist, and resources in the real-world are indeed scarce. Indeed, otherwise there would be no use for the economic sciences: the science of resource allocation under scarcity. We present the result in this format to maintain generality of the results for future work.
\end{remark}
\fi



\subsubsection{Mirror Extrat\^atonnement in Scarf Economies}


One of the earliest negative and most discouraging results in the literature on price-adjustment processes is an example of a Walrasian economy provided by Herbert Scarf in which continuous-time t\^atonnement is known to cycle around the Walrasian equilibrium of the economy, while discrete-time variants are known to spiral away from the equilibrium for any initial non-equilibrium price vector \cite{scarf1960instable}. Formally, a \mydef{Scarf economy} $\excess^{\mathrm{scarf}}$ is a Walrasian economy $(3, \excess^{\mathrm{scarf}})$ with 3 goods for which the excess demand is singleton-valued and given by the function:
$
        \excess^{\mathrm{scarf}}(\price) \doteq \left(
            \frac{\price[1]}{\price[1] + \price[2]} + \frac{\price[3]}{\price[1] + \price[3]} - 1,
            \frac{\price[1]}{\price[1] + \price[2]} + \frac{\price[2]}{\price[2] + \price[3]} - 1,
            \frac{\price[2]}{\price[2] + \price[3]} + \frac{\price[3]}{\price[1] + \price[3]} - 1
            \right)
$.
As we show in \Cref{lemma:scarf_var_stable_breg_cont} (\Cref{sec_app:walrasian}), the Scarf economy is variationally stable on any non-empty price space $\pricespace \subseteq \R^3_+$, and Bregman-continuous on any price space bounded away from $0$. With this in mind, we thus obtain the following corollary of \Cref{thm:bregman_mirror_exta_tatonn_convergence}.
% 
\begin{corollary}[Convergence of Mirror \emph{Extr\^atonnement} in Scarf Economies]\label{thm:scarf_convergence}
    Let $\underline{\price[ ][][]} \in (0, 1)$.
    % 
    Consider the mirror \emph{extr\^atonnement} process run on the Scarf economy $\excess^{\mathrm{scarf}}$, with a $1$-strongly-convex and $\kernelsmooth$-Lipschitz-smooth kernel function $\kernel$, any time horizon $\numhorizon \ \dotin \  \N$, any step size $\learnrate[ ][ ] \in (0, \frac{1}{\sqrt{2}\lsmooth}]$, a price space $\pricespace \doteq [\underline{\price[ ][]}, 1]^3$, and any initial price vector $\price[][0] \in \pricespace$, and let $\{\price[][\numhorizon], \price[][\numhorizon + 0.5] \}_{\numhorizon}$ be the sequence of prices generated. Then, we have that $\lim_{\numhorizon \to \infty} \price[][\numhorizon+0.5] = \lim_{\numhorizon \to \infty} \price[][\numhorizon] = \price[][][*]$ is a Walrasian equilibrium.
\end{corollary}

