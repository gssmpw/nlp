\subsection{Proof of Proposition \ref{prop-moment-generating-function}}
\label{sec:prop-moment-generating-function}

\begin{proof}[Proof of Proposition \ref{prop-moment-generating-function}]
Let us repeat the form of the conditional density $p_{\mathbf{x}_t\vert \mathbf{x}_0}(\mathbf{x}_{t}|\mathbf{x}_{0})$ given in~\eqref{eq-vp-sde-kernel}
\begin{equation*}
p_{\mathbf{x}_t|\mathbf{x}_0}(\mathbf{x}_t|\mathbf{x}_0) = \mathcal{N}(\mathbf{x}_t; \sqrt{\alpha_t} \mathbf{x}_0, v_t \mathbf{I}_{d}), 
\end{equation*} 
for two scalars $\sqrt{\alpha_{t}}$ and $v_{t}$.
Using the exponential family representation for the Gaussian distribution, we write
\begin{equation}
    p_{\mathbf{x}_t\vert \mathbf{x}_0}(\mathbf{x}_{t}|\mathbf{x}_0) = h(\mathbf{x}_{t})  \exp({\mathbf{x}_0^{\top}T(\mathbf{x}_{t}) - A(\mathbf{x}_0)} )
\end{equation}
where 
\begin{align}
    T(\mathbf{x}_t) &:= \frac{\sqrt{\alpha_t}}{v_t} \mathbf{x}_t\\
    h(\mathbf{x}_t) &:= (2\pi v_{t})^{-d/2}  \exp\left(\frac{-||\mathbf{x}_{t}||^2}{2v_{t}}\right),\\
    A(\mathbf{x}_{0}) &:=  \frac{\alpha_t}{2 v_t} ||\mathbf{x}_{0}||^2
\end{align}
Using Bayes' rule we obtain
\begin{equation}
\label{eq-bayes-rule-posterio-x0-xt}
\begin{aligned}
    p(\mathbf{x}_0|\mathbf{x}_{t}) &= \frac{
    h(\mathbf{x}_{t})  \exp({\mathbf{x}_0^{\top} T(\mathbf{x}_{t}) - A(\mathbf{x}_0)} ) p_{\mathbf{x}_0}(\mathbf{x}_0)} {p_{\mathbf{x}_t}(\mathbf{x}_t)}\\
    &= \tilde{h}(\mathbf{x}_0) \exp({\mathbf{x}_0^{\top} T(\mathbf{x}_{t}) - \lambda(\mathbf{x}_t)} ) 
\end{aligned}
\end{equation}
where $p_{\mathbf{x}_0}(\mathbf{x}_0)$ is the marginal density of $\mathbf{x}_0$, $p_{\mathbf{x}_t}(\mathbf{x}_t)$ is the marginal density of $\mathbf{x}_t$ and 
\begin{align}
    \lambda(\mathbf{x}_{t}) &:= \log \frac{p_{\mathbf{x}_t}(\mathbf{x}_{t})}{h(\mathbf{x}_{t})}\\
    \tilde{h}(\mathbf{x}_0) &:= \exp(- A(\mathbf{x}_0))p_{\mathbf{x}_0}(\mathbf{x}_0).
\end{align}
The moment generating function of $T(\mathbf{x}_0)|\mathbf{x}_{t}$ is 
\begin{align}
    \mathbb{E}_{\mathbf{x}_{0}\vert\mathbf{x}_{t}}[e^{T(\mathbf{x}_0)^{\top} \mathbf{t}}] 
    &= \mathbb{E}_{\mathbf{x}_{0}\vert\mathbf{x}_{t}}[e^{\mathbf{x}_0^{\top}  \frac{\sqrt{\alpha_t}}{v_t} \mathbf{t}}]  \\
    &= \int \exp\left({\mathbf{x}_0^{\top} \frac{\sqrt{\alpha_t}}{v_t} \mathbf{t}}\right) \tilde{h}(\mathbf{x}_0) \exp\left({\mathbf{x}_0^{\top} T(\mathbf{x}_{t}) - \lambda(\mathbf{x}_t)} \right)  d\mathbf{x}_0\\
    &= \int  \tilde{h}(\mathbf{x}_0) \exp\left(\mathbf{x}_0^{\top} \left(\frac{\sqrt{\alpha_t}}{v_t} \mathbf{t} + T(\mathbf{x}_{t})\right) - \lambda(\mathbf{x}_t) \right)d\mathbf{x}_0\\
    &= \int  \tilde{h}(\mathbf{x}_0) \exp\left(\mathbf{x}_0^{\top} T( \mathbf{t} +\mathbf{x}_{t}) - \lambda(\mathbf{x}_t) \right)d\mathbf{x}_0\\
     &= \frac{\exp(- \lambda(\mathbf{x}_t))}{\exp(-\lambda(\mathbf{t} + \mathbf{x}_t))} \int  \tilde{h}(\mathbf{x}_0) \exp\left(\mathbf{x}_0^{\top} T( \mathbf{t} +\mathbf{x}_{t}) - \lambda(\mathbf{t} + \mathbf{x}_t) \right)d\mathbf{x}_0 \\
     &= \frac{\exp(- \lambda(\mathbf{x}_t))}{\exp(-\lambda(\mathbf{t} + \mathbf{x}_t))} \\
     &= \frac{p_{\mathbf{x}_t}( \mathbf{t} + \mathbf{x}_{t})}{p_{\mathbf{x}_t}( \mathbf{x}_{t})} \frac{h(\mathbf{x}_{t})}{h(\mathbf{t} + \mathbf{x}_{t})}.
\end{align}
The moment generating function of $\mathbf{x}_0|\mathbf{x}_{t}$ is 
\begin{align} \label{eq-moment-generating-before-ratio}
\mathbb{E}_{\mathbf{x}_{0}\vert\mathbf{x}_{t}}[e^{\mathbf{x}_0^{\top} \mathbf{t}}] = \frac{p_{\mathbf{x}_t}( \frac{v_t}{\sqrt{\alpha_t}}\mathbf{t} + \mathbf{x}_{t})}{p_{\mathbf{x}_t}( \mathbf{x}_{t})} \frac{h(\mathbf{x}_{t})}{h(\frac{v_t}{\sqrt{\alpha_t}}\mathbf{t} + \mathbf{x}_{t})}
\end{align}
We can explicitly compute the ratio
\begin{equation}
\frac{h(\mathbf{x}_{t})}{h(\frac{v_t}{\sqrt{\alpha_t}}\mathbf{t} + \mathbf{x}_{t})} = \exp\left(||\mathbf{t}||^2\frac{v_{t}}{2\alpha_{t}} + \frac{1}{\sqrt{\alpha_{t}}}\mathbf{t}^{\top}\mathbf{x}_{t}\right).
\end{equation}
which can be plugged back in \eqref{eq-moment-generating-before-ratio} to get
\begin{equation}
    M_{\mathbf{x}_{0}\vert\mathbf{x}_{t}}(\mathbf{t}) := \mathbb{E}_{\mathbf{x}_{0}\vert\mathbf{x}_{t}}[e^{\mathbf{x}_0^{\top} \mathbf{t}}] = \exp\left(||\mathbf{t}||^2\frac{v_{t}}{2\alpha_{t}} + \frac{1}{\sqrt{\alpha_{t}}}\mathbf{t}^{\top}\mathbf{x}_{t} + \log\left(\frac{p_{\mathbf{x}_t}\left(\mathbf{x}_{t}+\frac{v_{t}}{\sqrt{\alpha}}\mathbf{t}\right)}{p_{\mathbf{x}_t}\left(\mathbf{x}_{t}\right)}\right)\right)
\end{equation}
which shows the desired result.
\end{proof}



% \begin{proof}[Proof of Proposition \ref{prop-moment-generating-function}]
% Recall that the conditional density $p_{t\vert 0}(\mathbf{x}_{t}|\mathbf{x}_{0})$ is of the form
% \begin{equation}
%     p_{t\vert 0}(\mathbf{x}_{t}|\mathbf{x}_{0}) = \mathcal{N}_d(\mathbf{x}_{t};\sqrt{\alpha_{t}}\mathbf{x}_{0},v_{t}\mathbf{I}_{d})
% \end{equation}
% for $\sqrt{\alpha_{t}}$ and $v_{t}$ defined in ?. The marginal distribution $p_{t}(\mathbf{x}_{t})$ is given by 
% \begin{equation}
% p_{t}(\mathbf{x}_{t})= \int p_{t\vert 0} (\mathbf{x}_{t}\vert \mathbf{x}_{0}) p_{0}(\mathbf{x}_{0})\mathrm{d}\mathbf{x}_{0}.
% \end{equation} Our goal is to compute the moment generating function of the posterior
% \begin{equation}
%     p_{0\vert t}(\mathbf{x}_{0}\vert \mathbf{x}_{t}) = \frac{p_{t\vert 0}(\mathbf{x}_{t}\vert \mathbf{x}_{0})p_{0}(\mathbf{x}_{0})}{p_{t}(\mathbf{x}_{t})}.
% \end{equation}
% Using the exponential family parameterization for the Gaussian distribution $ p_{t\vert 0}(\mathbf{x}_{t}|\boldsymbol{\psi}_{0})$, we write
% \begin{equation}
%     p_{t\vert 0}(\mathbf{x}_{t}|\boldsymbol{\psi}_{0}) = h(\mathbf{x}_{t})  \exp({\boldsymbol{\psi}_{0}\cdot\mathbf{x}_{t} - A(\boldsymbol{\psi}_{0})} )
% \end{equation}
% where $\boldsymbol{\psi}_{0}=\mathbf{x}_{0}\sqrt{\alpha_{t}}/v_{t}$ and 
% \begin{align}
%     h(\mathbf{x}_t) &= (2\pi v_{t})^{-d/2}  e^{-\mathbf{x}_{t}\cdot\mathbf{x}_{t}/2v_{t}},\\
%     A(\boldsymbol{\psi}_{0}) &=  \frac{v_t}{2}\mathbf{\psi}_{0}\cdot\mathbf{\psi}_{0}
% \end{align}
% Substituting the exponential family form into Bayesâ€™ rule, we rewrite $p(\boldsymbol{\psi}_{0}|\mathbf{x}_{t})$ as 
% \begin{equation}
% \begin{aligned}
%     p(\boldsymbol{\psi}_{0}|\mathbf{x}_{t}) &= \frac{e^{\boldsymbol{\psi}_{0}\cdot\mathbf{x}_{t} - A(\boldsymbol{\psi_{0}})}q(\mathbf{x}_{t})}{p_{t}(\mathbf{x}_{t})} 
%     q_{0}(\boldsymbol{\psi}_{0})   \\
%     &=e^{\boldsymbol{\psi}_{0}\cdot\mathbf{x}_{t} - A(\boldsymbol{\psi_{0}}) -\lambda(\mathbf{x}_{t})}
%     q_{0}(\boldsymbol{\psi}_{0})\\
%     & = e^{\boldsymbol{\psi}_{0}\cdot\mathbf{x}_{t} - \lambda(\mathbf{x}_{t})} \left[
%     q_{0}(\boldsymbol{\psi}_{0})e^{- A(\boldsymbol{\psi}_{0})}\right]
% \end{aligned}
% \end{equation}
% where $q_{0}(\boldsymbol{\psi}_{0})$ represent the prior over $\boldsymbol{\psi}_{0}$. By simplifying we obtain
% \begin{equation}
%      p(\boldsymbol{\psi}_{0}|\mathbf{x}_{t})= e^{\boldsymbol{\psi}_{0}\cdot\mathbf{x}_{t} - \lambda(\mathbf{x}_{t})} \left[
%     q_{0}(\boldsymbol{\psi}_{0})e^{- A(\boldsymbol{\psi}_{0})}\right]
% \end{equation}
% where
% \begin{equation}
%     \lambda(\mathbf{z}) := \log \frac{p_{t}(\mathbf{x}_{t})}{q(\mathbf{x}_{t})}
% \end{equation}
% is the \textit{cumulant} of the $p(\boldsymbol{\psi}_{0}|\mathbf{x}_{t})$. We notice that also $p(\boldsymbol{\psi}_{0}|\mathbf{x}_{t})$ is in the exponential family with natural parameter $\mathbf{x}_{t}$. The cumulant generating function $K(\mathbf{z})$ for the exponential family distribution $ p(\boldsymbol{\psi}_{0}|\mathbf{x}_{t})$ is given by
% \begin{equation}
% K(\mathbf{z\vert \mathbf{x}_{t}}) = \log \mathbb{E}_{p(\boldsymbol{\psi}_{0}\vert\mathbf{x}_{t})}\left[e^{\mathbf{z}\cdot\boldsymbol{\psi}_{0}}\right] = \lambda(\mathbf{z}+\mathbf{x}_{t}) -  \lambda(\mathbf{x}_{t}) = \log\left(\frac{p_{t}(\mathbf{x}_{t}+\mathbf{z})}{p_{t}(\mathbf{x}_{t})}\frac{q(\mathbf{x}_{t})}{q(\mathbf{x}_{t}+\mathbf{z})}\right)
% \end{equation}
% Thus, the moment generating function is
% \begin{equation}
% M_{\boldsymbol{\psi}_{0}\vert\mathbf{x}_{t}}(\mathbf{z})= \mathbb{E}_{p(\boldsymbol{\psi}_{0}\vert\mathbf{x}_{t})}\left[e^{\mathbf{z}\cdot\boldsymbol{\psi}_{0}}\right]  = \frac{p_{t}(\mathbf{x}_{t}+\mathbf{z})}{p_{t}(\mathbf{x}_{t})}\frac{q(\mathbf{x}_{t})}{q(\mathbf{x}_{t}+\mathbf{z})}.
% \end{equation}
% Setting $\mathbf{z}=\frac{v_{t}}{\sqrt{\alpha}}\mathbf{k}$ we obtain
% \begin{equation}
% \label{eq-moment-generating-before-ratio}
% \mathbb{E}_{p(\mathbf{x}_{0}\vert\mathbf{x}_{t})}[e^{\mathbf{k}\cdot\mathbf{x}_{0}}\vert \mathbf{x}_{t}]  = \frac{p_{t}(\mathbf{x}_{t}+\frac{v_{t}}{\sqrt{\alpha}}\mathbf{k})}{p_{t}(\mathbf{x}_{t})}\frac{q(\mathbf{x}_{t})}{q(\mathbf{x}_{t}+\frac{v_{t}}{\sqrt{\alpha_{t}}}\mathbf{k})}
% \end{equation}
% We can explicitly compute the ratio
% \begin{equation}
% \frac{q(\mathbf{x}_{t})}{q(\mathbf{x}_{t}+\frac{v_{t}}{\sqrt{\alpha_{t}}}\mathbf{k})} = e^{\mathbf{k}\cdot\mathbf{k}\frac{v_{t}}{2\alpha_{t}} + \frac{1}{\sqrt{\alpha_{t}}}\mathbf{k}\cdot\mathbf{x}_{t}}.
% \end{equation}
% which can be plugged back in \eqref{eq-moment-generating-before-ratio} to get
% \begin{equation}
%     M_{\mathbf{x}_{0}\vert\mathbf{x}_{t}}(\mathbf{k}) = \mathbb{E}_{p(\mathbf{x}_{0}\vert\mathbf{x}_{t})}[e^{\mathbf{k}\cdot\mathbf{x}_{0}}\vert \mathbf{x}_{t}]   = e^{\mathbf{k}\cdot\mathbf{k}\frac{v_{t}}{2\alpha_{t}} + \frac{1}{\sqrt{\alpha_{t}}}\mathbf{k}\cdot\mathbf{x}_{t} + \log\left(\frac{p_{t}\left(\mathbf{x}_{t}+\frac{v_{t}}{\sqrt{\alpha}}\mathbf{k}\right)}{p_{t}\left(\mathbf{x}_{t}\right)}\right)} 
% \end{equation}
% which shows the desired result.
% \end{proof}