\usetikzlibrary{arrows.meta}
\newcommand{\getAngle}[2]{%
	\pgfmathanglebetweenpoints{\pgfpointanchor{#1}{center}}
	{\pgfpointanchor{#2}{center}}
	\global\let\myangle\pgfmathresult % we need a global macro
}
\tikzset{auto shift/.style={auto=right,->,
to path={ let \p1=(\tikztostart),\p2=(\tikztotarget),
\n1={atan2(\y2-\y1,\x2-\x1)},\n2={\n1+180}
in ($(\tikztostart.{\n1})!.4mm!270:(\tikztotarget.{\n2})$) --
($(\tikztotarget.{\n2})!.4mm!90:(\tikztostart.{\n1})$) \tikztonodes}}}
\small
\begin{tikzpicture}
  [point/.style={draw, circle, inner sep=0pt, minimum size=1ex},
   node/.style={point, fill=black},
   edge/.style={>=stealth, ->, shorten >=1pt, shorten <=1pt},
   original edge/.style={edge, draw=black}]

  \node [node] (a) at (2,0) {};
  \node [node] (b) at (0.5,1) {};
  \node [node] (c) at (3.5,1.5) {};
  \node [node] (d) at (2,2.5) {};

  \draw (a) edge [original edge, ->] node[auto=left]  {7} (b);
  \draw (a) edge [original edge, ->] node[auto=right] {2} (c);
  \draw (b) edge [original edge, auto shift, {-Stealth[harpoon,swap]}] node[auto=left]  {1} (d);
  \draw (d) edge [original edge, auto shift, {-Stealth[harpoon,swap]}] node[auto=left]  {1} (b);
  \draw (c) edge [original edge, ->] node[auto=right] {2} (d);

  \getAngle{b}{c}
  \node[minimum size = -0.1cm] at ($(c)!-0.2!(b)$) (x) {};
  \node[right=-.1 of x] (wl) {4};

  \pgfmathadd{\myangle}{90};
  \let\inangle\pgfmathresult
  \pgfmathsubtract{\myangle}{90};
  \let\outangle\pgfmathresult
  \draw[original edge, ->] (d) to[out=\myangle,in=\inangle] (x.70) to[out=\outangle,in=\myangle] (a);



  \node [node] (a2) at (2   + 6,0) {};
  \node [node] (b2) at (0.5 + 6,1) {};
  \node [node] (c2) at (3.5 + 6,1.5) {};
  \node [node] (d2) at (2   + 6,2.5) {};

  \draw (a2) edge [original edge, -] node[auto=left] {$\infty$} node[right=1mm, pos=0.6] {7} (b2);
  %\draw (b2) edge [original edge, auto shift, ->] (a2);
  \draw (a2) edge [original edge, -] node[left=1mm, pos=0.6] {2} node[right=1mm, pos=0.4] {$\infty$} (c2);
  %\draw (c2) edge [original edge, auto shift, <-] (a2);
  \draw (b2) edge [original edge, -] node[auto=left] {1} node[right=1mm, pos=0.4] {1} (d2);
  %\draw (d2) edge [original edge, auto shift, <-] (b2);
  \draw (c2) edge [original edge, -] node[left=2mm, pos=0.3] {6} node[right=1mm, pos=0.65] {2} (d2);
  %\draw (d2) edge [original edge, auto shift, ->] (c2);
  \draw (b2) edge [original edge, -, dashed] node[above] {$\infty$} node[below] {$\infty$} (c2);
  %\draw (c2) edge [original edge, auto shift, <-, dashed] (b2);

  \getAngle{b2}{c2}
  \node[minimum size = -0.1cm] at ($(c2)!-0.2!(b2)$) (x2) {};
  \node[right=-.1 of x2] (wl) {$\infty$};
  \node[left=-.2 of x2] (wl) {4};

  \pgfmathadd{\myangle}{90};
  \let\inangle\pgfmathresult
  \pgfmathsubtract{\myangle}{90};
  \let\outangle\pgfmathresult
  \draw[original edge, <-] (d2) to[out=\myangle,in=\inangle] (x2.70) to[out=\outangle,in=\myangle] (a2);
  %\draw[original edge, ->] (d2.-20) to[out=\myangle,in=\inangle] (x2.110) to[out=\outangle,in=\myangle] (a2);


  \draw[->, original edge] (-1.3,-0.2) -- node[right] {rank} (-1.3,2.7);
\end{tikzpicture}
