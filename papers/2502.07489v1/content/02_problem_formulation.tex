
\section{Irregularly Sampled Time Series Forecasting}\label{sec:prob_form}
% TODO: \rho is really ugly for a distribution. better p_{\text{gt}} ?
%
% imts
An \emph{irregularly sampled multivariate time series (IMTS)} is a
sequence
  $X \coloneqq ((t_i, v_i))_{i=1:I} \in (\R \times (\R\cup \{\nan\})^C)^* \eqqcolon \mathcal{X}$
of pairs where
  $t_i$ is the observation timepoint and
  $v_i$ is an observation event
    with maximum of $C$-many variables (or channels) being observed.
We use $^*$ to indicate the space of sequences.
We call
  $v_{i,c} \in\R$ an observed value and
  $v_{i,c} = \nan$ a missing value.
% query
$Q\coloneqq (t^\qry_k, c^\qry_k)_{k=1:K} \in (\R\times \{1, \ldots, C\})^*\eqqcolon \mathcal{Q}$
is the query sequence where
  $t^\qry_k$ is a queried (future) timepoint and
  $c^\qry_k$ is a queried channel.
% answer
$Y \coloneqq (y_1, \ldots, y_K) \in \R^* \eqqcolon \mathcal{Y}$
is the forecasting answer where
  $y_k$ is the ground truth forecast value for $Q_k$.

Then the \emph{IMTS forecasting problem} is defined as
follows:
% given
given a sequence of triples $((X_n, Q_n, Y_n))_{n=1:N}$
drawn from a random distribution $\rho$ where
  $X_n \in\mathcal{X}$ is an irregularly sampled time series,
  $Q_n\in\mathcal{Q}$ is a query sequence and
  $Y_n \in \mathcal{Y}$ is a ground truth answer,
as well as
a loss function
  $\ell: \mathcal{Y} \times \mathcal{Y}\to \R$,
    e.g., the mean squared error between two equilength sequences,
% find
the task is to find a model
  $\hat{Y}: \mathcal{X}\times \mathcal{Q} \to\mathcal{Y}$
% such that
such that the expected loss between
  the ground-truth forecasting answer $Y$ and
  the model prediction $\hat{Y}(X, Q)$ is minimal:
\begin{align}
	\mathcal{L}(\hat{Y}; \rho) \coloneqq \E_{(X, Q, Y)\sim \rho}
	\ell(Y, \hat{Y}(X,Q)).
\end{align}
