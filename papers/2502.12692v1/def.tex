\usepackage{calc}








\makeatletter
%\DeclareUrlCommand\ULurl@@{%
 

%\pagenumbering{arabic}
% Package includes
\usepackage{xcolor,multirow,gensymb}
  \usepackage{cite}
\usepackage{graphicx,subfigure,epsfig}
\usepackage{psfrag}
\usepackage{amsmath,amssymb}
\usepackage{color}
\usepackage{array}
\usepackage{nicefrac}
\interdisplaylinepenalty=2500
%\include{preamble_global}
%++++++++++++++++++++++++++++++

\usepackage{amsmath,amssymb}
\usepackage{xifthen}
\usepackage{mathtools}
\usepackage{enumerate}
\usepackage{microtype}
\usepackage{xspace}
%\usepackage[noadjust]{cite}
\usepackage{bm}
\usepackage[T1]{fontenc}
%\usepackage[francais]{babel}
\usepackage{fancyhdr}
\usepackage{lastpage}
\usepackage{rotating}
\usepackage{tabulary}
% \usepackage{cleveref}

% vectors and matrices
\newcommand{\vect}[1]{{\lowercase{\mbs{#1}}}}
\renewcommand{\deg}{\degree}


%definition of identity matrix I have to redefine \bm below in mathbb(m)
\newcommand{\mbs}[1]{\bm{#1}}
\newcommand{\mat}[1]{{\uppercase{\mbs{#1}}}}
\newcommand{\Id}{\mat{\mathrm{I}}}


\renewcommand{\Bmatrix}[1]{\begin{bmatrix}#1\end{bmatrix}}
\newcommand{\Pmatrix}[1]{\begin{pmatrix}#1\end{pmatrix}}

% transpose, Hermitian  transpose
\newcommand{\T}{{\scriptscriptstyle\mathsf{T}}}
\renewcommand{\H}{{\scriptscriptstyle\mathsf{H}}}
%\newcommand{\h}{{\scriptscriptstyle\mathsf{H}}}

\newcommand{\cond}{\,\vert\,}
\renewcommand{\Re}[1][]{\ifthenelse{\isempty{#1}}{\operatorname{Re}}{\operatorname{Re}\left(#1\right)}}
\renewcommand{\Im}[1][]{\ifthenelse{\isempty{#1}}{\operatorname{Im}}{\operatorname{Im}\left(#1\right)}}
\usepackage{float}

\newfloat{longequation}{b}{ext}

\newcommand{\av}{\vect{a}}
\newcommand{\bv}{\vect{b}}
\newcommand{\cv}{\vect{c}}
\newcommand{\dv}{\vect{d}}
\newcommand{\ev}{\vect{e}}
\newcommand{\fv}{\vect{f}}
\newcommand{\gv}{\vect{g}}
\newcommand{\hv}{\vect{h}}
\newcommand{\iv}{\vect{i}}
\newcommand{\jv}{\vect{j}}
\newcommand{\kv}{\vect{k}}
\newcommand{\lv}{\vect{l}}
\newcommand{\mv}{\vect{m}}
\newcommand{\nv}{\vect{n}}
\newcommand{\ov}{\vect{o}}
\newcommand{\pv}{\vect{p}}
\newcommand{\qv}{\vect{q}}
\newcommand{\rv}{\vect{r}}
\newcommand{\sv}{\vect{s}}
\newcommand{\tv}{\vect{t}}
\newcommand{\uv}{\vect{u}}
\newcommand{\vv}{\vect{v}}
\newcommand{\wv}{\vect{w}}
\newcommand{\xv}{\vect{x}}
\newcommand{\yv}{\vect{y}}
\newcommand{\zv}{\vect{z}}
\newcommand{\zerov}{\vect{0}}
\newcommand{\etv}{\vect{\eta}}
\newcommand{\betv}{\vect{\beta}}
\newcommand{\thetv}{\vect{\theta}}
\def\var{{\mathrm{var}}}
\newcommand{\bphi}{\vect{\phi}}
\newcommand{\bpsi}{\vect{\phi}}

\newcommand{\nuv}{\vect{\nu}}
\newcommand{\deltav}{\hbox{\boldmath$\delta$}}
\newcommand{\Lambdam}{\pmb{\Lambda}}
\newcommand{\Phim}{\pmb{\Phi}}
\newcommand{\Psim}{\pmb{\Psi}}
\newcommand{\Deltam}{\pmb{\Delta}}

\newcommand{\Am}{\mat{a}}
\newcommand{\Bm}{\mat{b}}
\newcommand{\Cm}{\mat{c}}
\newcommand{\Dm}{\mat{d}}
\newcommand{\Em}{\mat{e}}
\newcommand{\Fm}{\mat{f}}
\newcommand{\Gm}{\mat{g}}
\newcommand{\Hm}{\mat{h}}
\newcommand{\Idd}{{\bf I}}
%\renewcommand{\Im}{\mat{i}}
\newcommand{\Jm}{\mat{j}}
\newcommand{\Km}{\mat{k}}
\newcommand{\Lm}{\mat{l}}
\newcommand{\Mm}{\mat{M}}
\newcommand{\Nm}{\mat{n}}
\newcommand{\Om}{\mat{o}}
\newcommand{\Pm}{\mat{p}}
\newcommand{\Qm}{\mat{q}}
\newcommand{\Rm}{\mat{r}}
\newcommand{\Sm}{\mat{s}}
\newcommand{\Um}{\mat{u}}
\newcommand{\Vm}{\mat{V}}
\newcommand{\Wm}{\mat{w}}
\newcommand{\Xm}{\mat{x}}
\newcommand{\ym}{\mat{y}}

% Bold capital letters
\def\bA{{\mathbf{A}}}
\def\bB{{\mathbf{B}}}
\def\bC{{\mathbf{C}}}
\def\bD{{\mathbf{D}}}
\def\bE{{\mathbf{E}}}
\def\bF{{\mathbf{F}}}
\def\bG{{\mathbf{G}}}
\def\bH{{\mathbf{H}}}
\def\bI{{\mathbf{I}}}
\def\bJ{{\mathbf{J}}}
\def\bK{{\mathbf{K}}}
\def\bL{{\mathbf{L}}}
\def\bM{{\mathbf{M}}}
\def\bN{{\mathbf{N}}}
\def\bO{{\mathbf{O}}}
\def\bP{{\mathbf{P}}}
\def\bQ{{\mathbf{Q}}}
\def\bR{{\mathbf{R}}}
\def\bS{{\mathbf{S}}}
\def\bT{{\mathbf{T}}}
\def\bU{{\mathbf{U}}}
\def\bV{{\mathbf{V}}}
\def\bW{{\mathbf{W}}}
\def\bX{{\mathbf{X}}}
\def\bY{{\mathbf{Y}}}
\def\bZ{{\mathbf{Z}}}
\def\bSigma{{\mathbf{\Sigma}}}


% Caligraphic capital letters
\def\cA{{\mathcal{A}}}
\def\cB{{\mathcal{B}}}
\newcommand{\cC}{{\cal C}}
\def\cD{{\mathcal{D}}}
\def\cE{{\mathcal{E}}}
\def\cF{{\mathcal{F}}}
\def\cG{{\mathcal{G}}}
\def\cH{{\mathcal{H}}}
\def\cI{{\mathcal{I}}}
\def\cJ{{\mathcal{J}}}
\def\cK{{\mathcal{K}}}
\def\cL{{\mathcal{L}}}
\def\cM{{\mathcal{M}}}
\newcommand{\cN}{{\cal N}}
\def\cO{{\mathcal{O}}}
\def\cP{{\mathcal{P}}}
\def\cQ{{\mathcal{Q}}}
\def\cR{{\mathcal{R}}}
\def\cS{{\mathcal{S}}}
\def\cT{{\mathcal{T}}}
\def\cU{{\mathcal{U}}}
\def\cV{{\mathcal{V}}}
\def\cW{{\mathcal{W}}}
\def\cX{{\mathcal{X}}}
\def\cY{{\mathcal{Y}}}
\def\cZ{{\mathcal{Z}}}
\def\cd{{\mathcal{d}}}

% Caligraphic lowercase letters
\def\ra{{\mathrm{a}}}
\def\rb{{\mathrm{b}}}
\def\rc{{\mathrm{c}}}
\def\rd{{\mathrm{d}}}
\def\re{{\mathrm{e}}}
\def\rf{{\mathrm{f}}}
\def\rg{{\mathrm{g}}}
\def\rh{{\mathrm{h}}}
\def\ri{{\mathrm{i}}}
\def\rj{{\mathrm{j}}}
\def\rk{{\mathrm{k}}}
\def\rl{{\mathrm{l}}}
\def\rn{{\mathrm{n}}}
\def\ro{{\mathrm{o}}}
\def\rp{{\mathrm{p}}}
\def\rq{{\mathrm{q}}}
\def\rr{{\mathrm{r}}}
\def\rs{{\mathrm{s}}}
\def\rt{{\mathrm{t}}}
\def\ru{{\mathrm{u}}}
\def\rv{{\mathrm{v}}}
\def\rw{{\mathrm{w}}}
\def\rx{{\mathrm{x}}}
\def\ry{{\mathrm{y}}}
\def\rz{{\mathrm{z}}}


% Bold lowercase
\def\bydef{:=}
\def\ba{{\mathbf{a}}}
\def\bb{{\mathbf{b}}}
\def\bc{{\mathbf{c}}}
\def\bd{{\mathbf{d}}}
\def\bee{{\mathbf{e}}}
\def\bff{{\mathbf{f}}}
\def\bg{{\mathbf{g}}}
\def\bh{{\mathbf{h}}}
\def\bi{{\mathbf{i}}}
\def\bj{{\mathbf{j}}}
\def\bk{{\mathbf{k}}}
\def\bl{{\mathbf{l}}}
\def\bmm{{\mathbf{m}}}
\def\bn{{\mathbf{n}}}
\def\bo{{\mathbf{o}}}
\def\bp{{\mathbf{p}}}
\def\bq{{\mathbf{q}}}
\def\br{{\mathbf{r}}}
\def\bs{{\mathbf{s}}}
\def\bt{{\mathbf{t}}}
\def\bu{{\mathbf{u}}}
\def\bv{{\mathbf{v}}}
\def\bw{{\mathbf{w}}}
\def\bx{{\mathbf{x}}}
\def\by{{\mathbf{y}}}
\def\bz{{\mathbf{z}}}
\def\b0{{\mathbf{0}}}
\def\bONE{{\mathbf{1}}}
\def\bTheta{{\boldsymbol{\Theta}}}
\def\brho{{\boldsymbol{\rho}}}
\def\btheta{{\boldsymbol{\theta}}}
\def\bkappa{{\boldsymbol{\kappa}}}
\def\etav{{\boldsymbol{\eta}}}


\newcommand{\htp}{^{\sf H}}
\newcommand{\Zm}{{\bf Z}}
\newcommand{\Tm}{{\bf T}}
\newcommand{\barvH}{\bar{\bH}}
\def\bbC{{\mathbb{C}}}
\def\rr{{\mathrm{r}}}
\newcommand{\Nc}{{\cal N}}
\def\bpsi{{\bm{\psi}}}
\def\bxi{{\bm{\xi}}}
\def\bPsi{{\boldsymbol{\Psi}}}
\def\bDelta{{\boldsymbol{\Delta}}}
\newcommand{\Xim}{\pmb{\Xi}}

\newcommand{\CC}{\mathbb{C}}
\newcommand{\BB}{\mathbb{B}}
\newcommand{\EE}{\mathbb{E}}

\newcommand{\one}{\mat{\mathrm{1}}}

\newcommand{\CN}[1][]{\ifthenelse{\isempty{#1}}{\mathcal{N}_{\mathbb{C}}}{\mathcal{N}_{\mathbb{C}}\left(#1\right)}}
\def\rf{{\mathrm{f}}}

\renewcommand{\P}[1][]{\ifthenelse{\isempty{#1}}{\mathbb{P}}{\mathbb{P}\left(#1\right)}}
\newcommand{\E}[1][]{\ifthenelse{\isempty{#1}}{\mathbb{E}}{\mathbb{E}\left(#1\right)}}
\renewcommand{\det}[1][]{\ifthenelse{\isempty{#1}}{\text{det}}{\text{det}\left(#1\right)}}
%\newcommand{\trace}[1][]{\ifthenelse{\isempty{#1}}{\text{tr}}{\text{tr}\left(#1\right)}}
%\newcommand{\rank}[1][]{\ifthenelse{\isempty{#1}}{\text{rank}}{\text{rank}\left(#1\right)}}
\newcommand{\diag}[1][]{\ifthenelse{\isempty{#1}}{\text{diag}}{\text{diag}\left(#1\right)}}
\def\nn{\nonumber}


\DeclarePairedDelimiter\abs{\lvert}{\rvert}
\DeclarePairedDelimiter\norm{\lVert}{\rVert}
\DeclarePairedDelimiter\normf{\lVert}{\rVert_{\text{F}}}
\IEEEoverridecommandlockouts

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Theorem, Definition, ...
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\defeq}{\triangleq}
\newcommand{\eqdef}{\triangleq}

\newtheorem{proposition}{Proposition}%[section]
\newtheorem{remark}{Remark}%ti[section]
\newtheorem{definition}{Definition}%[section]
\newtheorem{theorem}{Theorem}%[section]
\newtheorem{example}{Example}%[section]
\newtheorem{corollary}{Corollary}%[section]
\newtheorem{conjecture}{Conjecture}%[section]
\newtheorem{fact}{Fact}%[section]
\newtheorem{lemma}{Lemma}%[section]
\newtheorem{assumption}{Assumption}%[section]
\newcommand{\barvR}{\bar{\bR}}
\newcommand{\hatvH}{\hat{\bH}} 
\newcommand{\hatvh}{\hat{\bh}} 
\newcommand{\barvh}{\bar{\bh}}
\newcommand{\hatvg}{\hat{\bg}} 
\newcommand{\hatvG}{\hat{\bG}} 
\def\bPhi{{\boldsymbol{\Phi}}}
\def\bPsi{{\boldsymbol{\Psi}}}

\newcommand{\brevevh}{\breve{\bh}}  
%\newcommand{\tr}{\mathop{\mathrm{tr}}\nolimits}
\newtheorem{Theorem}{Theorem}

\newcommand{\al}{\alpha}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Answer & Solution
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcounter{enumi_saved}
\setcounter{enumi_saved}{0}

\newenvironment{question}
{
\begin{enumerate}[Q1.]
    \setcounter{enumi}{\value{enumi_saved}}
}
{
\setcounter{enumi_saved}{\value{enumi}}
\end{enumerate}
}


\usepackage{answers}
\Newassociation{solution}{Solution}{solutionfile}
\renewcommand{\solutionextension}{sln}
\renewcommand{\Solutionparams}{{ Q\Currentlabel.}}
\renewcommand{\solutionstyle}[1]{#1}
\AtBeginDocument{\Opensolutionfile{solutionfile}[\jobname]}
\AtEndDocument{\Closesolutionfile{solutionfile}\clearpage
%\section*{Solutions}%
%\pagestyle{empty}\input{\jobname.sln}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% Really Optional
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

