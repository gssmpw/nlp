% Configuration
% Set page geometry to ArXiv accepted format
\AtBeginDocument{
	\newgeometry{
		textheight=9in,
		textwidth=6.5in,
		top=1in,
		headheight=16.49675pt,
		headsep=25pt,
		footskip=30pt
	}
}
\widowpenalty=10000
\clubpenalty=10000
\flushbottom

% Redefine abstract environment
\newsavebox{\abstractbox}
\renewenvironment{abstract}
{\begin{lrbox}{0}\begin{minipage}{\textwidth}
			\begin{center}\normalfont\sectfont\abstractname\end{center}\quotation}
		{\endquotation\end{minipage}\end{lrbox}%
	\global\setbox\abstractbox=\box0 }

\makeatletter
\expandafter\patchcmd\csname\string\maketitle\endcsname
{\vskip\z@\@plus3fill}
{\vskip\z@\@plus2fill\box\abstractbox\vskip\z@\@plus1fill}
{}{}
\makeatother

\allowdisplaybreaks

% Captions always on top
% \floatsetup[figure]{capposition=top}
% \floatsetup[table]{capposition=top}
% koma fonts for captions
\addtokomafont{captionlabel}{\footnotesize\bfseries} % style for caption labels
\addtokomafont{caption}{\footnotesize\bfseries} % and the caption
\setkomafont{section}{\bfseries\Large}  
\setkomafont{subsection}{\itshape\large} 
% Footnote
\newcommand\fnote[1]{\captionsetup{font=small}\caption*{#1}}
\captionsetup[subfigure]{labelfont=normalfont, font=footnotesize}
% Natbib setup for author-year style
\bibpunct[, ]{(}{)}{,}{a}{}{,}%
\def\bibfont{\footnotesize}%
\def\bibsep{\smallskipamount}%
% \def\bibhang{24pt}%
\def\newblock{\ }%
\def\BIBand{and}%

% Theorem style
% Define a new theorem style
\newtheoremstyle{upright} % name
  {3pt}                    % Space above
  {3pt}                    % Space below
  {\upshape}               % Body font
  {}                       % Indent amount
  {\bfseries}              % Theorem head font
  {.}                      % Punctuation after theorem head
  {.5em}                   % Space after theorem head
  {}                       % Theorem head spec

% Theorems
\theoremstyle{upright}
\newtheorem{remark}{Remark}
\newtheorem{result}{Result}
\newtheorem{assumption}{Assumption}
\newtheorem{definition}{Definition}
\newtheorem{theorem}{Theorem}
\newtheorem{lemma}{Lemma}
\newtheorem{proposition}{Proposition}
\def\Halmos{\mbox{\quad$\square$}}% \square <--> 
\let\proof\relax 
\let\endproof\relax
\let\theoremstyle\relax 
\let\endthoeremstyle\relax

% argmax/argmin
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}

% set affiliation sep
\setlength{\affilsep}{1em}

% set equation counter style
\renewcommand{\theequation}{\thesection.\arabic{equation}}
\counterwithin*{equation}{section}

%set own font type
\newenvironment{myfont}{\fontfamily{ccr}\selectfont}{\par}
\DeclareTextFontCommand{\textmyfont}{\myfont}

% Small fonts
\renewcommand{\UrlFont}{\footnotesize}
\Urlmuskip=0mu plus 4mu

% Set equation spacings
\AtBeginDocument{%
	\abovedisplayskip=7.5pt plus 0pt minus 0pt
	\abovedisplayshortskip=7.5pt plus 0pt minus 0pt
	\belowdisplayskip=7.5pt plus 0pt minus 0pt
	\belowdisplayshortskip=7.5pt plus 0pt minus 0pt
}
% Paragraph environment
\newenvironment{paragraphs}
{\begin{list}
		{}
		{
			\setlength{\topsep}{0pt}
			\setlength{\parskip}{0pt minus 5pt}
			%\setlength{\labelwidth}{3em}
			%\setlength{\labelsep}{0em}
			%\setlength{\itemsep}{2pt}
			%\setlength{\leftmargin}{1.5cm}
			%\setlength{\rightmargin}{2cm}
			%\setlength{\itemindent}{0em} 
		}
	}
	{\end{list}}
% \parskip=0pt plus 1pt
% \parindent=15pt
% some nice table cell styles and commands
\newcolumntype{L}[1]{>{\raggedright\let\newline\\\arraybackslash\hspace{0pt}}p{#1}}
\newcolumntype{C}[1]{>{\centering\let\newline\\\arraybackslash\hspace{0pt}}p{#1}}
\newcolumntype{R}[1]{>{\raggedleft\let\newline\\\arraybackslash\hspace{0pt}}p{#1}}
%
\def\VRHDW#1#2#3{\vrule height #1 depth #2 width #3}
\newcommand{\up}{\VRHDW{1.5em}{0em}{0em}} % stretch above (for tables (8/10 makes 1em = 8pt)
\newcommand{\down}{\VRHDW{0em}{0.625em}{0em}} % stretch below
\def\updown{\up\down}

% Checkmarks
\def\checkmark{\tikz\fill[scale=0.4](0,.35) -- (.25,0) -- (1,.7) -- (.25,.15) -- cycle;}

% Text types/markers
\newcommand{\alert}[1]{{\color{red} #1}}
\newcommand{\needsrewrite}[1]{{\color{green!50!black} #1}}
\newcommand{\newsection}[1]{{\color{blue} #1}}
\newcommand{\draft}[1]{{\color{blue} #1}}

% Emph should be italic
\renewcommand{\emph}[1]{\textit{#1}}

\setlength{\floatsep}{10pt plus 1.0pt minus 2.0pt}
\setlength{\textfloatsep}{10pt plus 1.0pt minus 2.0pt}
\setlength{\intextsep}{10pt plus 1.0pt minus 2.0pt}
\definecolor{legendfill}{rgb}{0.9,0.9,0.9}  % Example gray color

 \tikzset{
    block/.style={draw, rectangle, minimum height=1cm, minimum width=2cm, align=center},
    arrow/.style={-Latex},
    line/.style={draw, -Latex},
    fontscale/.style = {font=\relsize{#1}}
}