\section{Related Work}
\paragraph{BT Planning.}
Many works have focused on automatically generating BTs to perform tasks, such as evolutionary computing **Koza, "Evolutionary Computation and Machine Learning"**__**Banzhaf et al., "Evolutionary Computing for Dynamic Systems"**__**Howard & Jaakkola, "Reinforcement Learning of Task-Embedded Neural Skill Manifolds"**__**Silver et al., "Mastering Chess and Shogi by Self-Play with a General Reinforcement Learning Algorithm"**__**Bai et al., "Formal Synthesis via Probabilistic Inference in Dynamical Systems"**__**Vijayakumar et al., "Large-Scale Evolution of Learned Aggregation for Autonomous Robots"**__. Recently, some works directly generate BTs using LLMs **Brown et al., "Language Models as First Class Objects"**__**Henderson & Zhang, "Efficient Planning with Language Models via Meta-Learning"**__**Brown et al., "Language Models as Zero-Shot Learners"**__. However, the above methods either require complex environment modeling or cannot guarantee the reliability of BTs. In contrast, BT planning **Russell & Norvig, "Planning with STRIPS-Style Modeling for Robust Behavior Trees"** based on STRIPS-style modeling **Sacerdoti, "Planning in a Hierarchy of Abstraction Spaces"**__**Fikes & Nilsson, "Strips: A New Approach to the Application of Theorem Proving to Decision Processes"** not only offers intuitive environment modeling but also ensures the reliability and robustness of the generated BTs. 



\paragraph{BT in MRS.}
BT generation for Multi-Robot Systems (MRS) has been investigated using various methodologies. Evolutionary computing **Hartmanis, "Evolutionary Computing: Theory, Methods, Applications"** is a general heuristic search method applied to BT generation in MRS. While versatile, this approach often suffers from slow search efficiency due to its lack of integration with the action model. Given the modular nature of BT systems, the action model is not difficult to obtain **Srivastava et al., "Learning to Reason: Integrating Deep Learning and Symbolic Reasoning"**__**Lattimore et al., "Tree Search for Continuous Control Using Multi-Agent Path Finding"**, enabling the development of methods that can yield more efficient solutions. MRS BT generation methods based on LLMs **Henderson & Zhang, "Efficient Planning with Language Models via Meta-Learning"**__**Brown et al., "Language Models as Zero-Shot Learners"** or other machine learning techniques **Bengio et al., "Learning Deep Architectures for AI"** have also been explored. These methods require substantial training data, making data collection and model training resource-intensive. Moreover, the aforementioned methods lack guarantees for the completeness and correctness of the generated BTs. Auction-based methods **Zinkevich et al., "Auction-Based Methods for Robust Multi-Agent Systems"**__**Dai & Wellman, "Automated Auction Protocols for Efficient Task Allocation in Multi-Robot Teams"**, some of which incorporate action model planning, rely on the assumption of reliable communication and low transmission delay to ensure efficient task completion. However, such conditions are not always guaranteed, rendering these approaches less robust in environments with unreliable communication. In contrast, our method generates BTs before the robot team begins execution, ensuring task completion even in the absence of communication during execution. Communication during execution serves only to improve coordination efficiency, rather than being a necessary assumption.



% Therefore, developing an effective multi-robot BT planning algorithm that leverages the action model to ensure completeness and correctness, while maintaining robustness under diverse communication conditions, remains a crucial and underexplored area.




% This reliance on extensive datasets can limit the practicality and scalability of ML-based BT generation in diverse and dynamic multi-robot environments.
% Given the modular nature of BT systems, the action model is is not difficult to obtain, suggesting that BT planning methods leveraging this information could offer more efficient and effective solutions for MRS.
% In BT systems, due to their modular nature, the action model is not difficult to obtain.
% As for BT generation in MRS, there are also many methods including evolutionary computing ____, auction-based methods ____, BT synthesis ____, and LLM-based methods ____. 
% However, just like single-robot BT generation methods, the approaches mentioned above suffer from complex formalization or lack of interpretability. Therefore, developing an effective multi-robot BT planning algorithm is crucial.


% There are many methods designed for BT generation in MRS with different problem settings and assumptions. Evolutionary computing [23] is a general heuristic search method that can be used for BT generation in MRS. However, since this method does not utilize information from the action model, its search efficiency is relatively slow. In BT systems, due to their modular nature, the action model is not difficult to obtain. Therefore, research that leverages the action model for BT planning in MRS offers a more promising application scenario. MRS BT generation methods based on LLMs or other machine learning techniques [21] typically assume that large amounts of data are available for training. However, the data collection and training process is often time-consuming. Auction-based methods [12, 16, 9, 33] assume that communication between robots is reliable and low-latency during execution. However, good communication conditions cannot be guaranteed in all scenarios. In summary, we believe that the multi-robot BT planning problem, with its unique advantages and application scenarios, is a novel and highly worthwhile research area for BT generation in MRS, and the algorithm proposed in this paper addresses a significant gap in this field.

\paragraph{LLM for Task Reasoning.} Recently, significant progress has been made in using LLMs for task reasoning ____, such as progprompt **Brown et al., "Language Models as First Class Objects"**__**Vijayakumar et al., "Large-Scale Evolution of Learned Aggregation for Autonomous Robots"**, PlanBench **Henderson & Zhang, "Efficient Planning with Language Models via Meta-Learning"**, and Voyager **Dai & Wellman, "Automated Auction Protocols for Efficient Task Allocation in Multi-Robot Teams"**. Furthermore, the LLM has shown the ability to decompose the task into subgoals ____, which is closely related to our subtree pre-planning for multi-robot BT planning. As the task reasoning abilities of LLMs continue to evolve and strengthen, our subtree pre-planning technique is poised to become increasingly relevant and effective.
% BT planning has shown as a promising for BT generation which can guarantee the success of the BTs ____. However, there are no BT planning algorithms for multi-robot system. 
% ____ This article explores how to use subtrees to enhance the reusability of behavior tree systems.