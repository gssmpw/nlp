%% Commands for TeXCount
%TC:macro \cite [option:text,text]
%TC:macro \citep [option:text,text]
%TC:macro \citet [option:text,text]
%TC:envir table 0 1
%TC:envir table* 0 1
%TC:envir tabular [ignore] word
%TC:envir displaymath 0 word
%TC:envir math 0 word
%TC:envir comment 0 0
%
% don't forget to set review=true before submitting
% NOTE: could use "{lib/acmart}" to use the local ACM style in this template, but be warned it seems to cause some problems (like reference style). Best is to stick with version already in Overleaf "{acmart}"
% \documentclass[format=manuscript, review=true, anonymous=true, screen, dvipsnames]{acmart}
% use format=sigconf to preview two columns
% use format=manuscript, review=true, anonymous=true to prepare submission with red line numbering
% use format=acmsmall, review=false to get a nicer one-column reading experience
% \documentclass[format=manuscript, review=false, anonymous=false]{acmart}
\documentclass[sigconf, nonacm]{acmart}
% use format=acmsmall, review=false anc call the exii \addmarkupspace macro below to prepare a nice PDF for handwritten comments 
% use authorversion=false to show the final copyright text
% use authorversion=true to show the author version copyright text below (for pre-prints or for versions published on our personal websites)
% use screen to make hyperlinks a different colour from the main text

% Apparently, when we publish our own copy of our ACM papers (for example, when we make them available at our lab's website or university repository), we should replace the standard ACM copyright message and ISBN lines with the following:
% "Â© {Owner/Author | ACM} {Year}. This is the author's version of the work. It is posted here for your personal use. Not for redistribution. The definitive Version of Record was published in {Source Publication}, http://dx.doi.org/10.1145/{number}."
% Reference: https://www.acm.org/publications/policies/copyright-policy#permanent%20rights

%% Rights management information.  This information is sent to you
%% when you complete the rights form.  These commands have SAMPLE
%% values in them; it is your responsibility as an author to replace
%% the commands and values with those provided to you when you
%% complete the rights form.
% \setcopyright{acmlicensed}
% \copyrightyear{2018}
% \acmYear{2018}
% \acmDOI{XXXXXXX.XXXXXXX}

%% These commands are for a PROCEEDINGS abstract or paper.
% \acmConference[Conference acronym 'XX]{Make sure to enter the correct
  % conference title from your rights confirmation emai}{June 03--05,
  % 2018}{Woodstock, NY}
%%
%%  Uncomment \acmBooktitle if the title of the proceedings is different
%%  from ``Proceedings of ...''!
%%
%%\acmBooktitle{Woodstock '18: ACM Symposium on Neural Gaze Detection,
%%  June 03--05, 2018, Woodstock, NY}
% \acmISBN{978-1-4503-XXXX-X/18/06}

% Use these to make cleaner submission without weird fake names
% \acmConference[]{}{}{}
% \acmYear{}
% \copyrightyear{}
% \acmPrice{}
% \acmDOI{}
% \acmISBN{}
% \setcopyright{none}

%%
%% Submission ID.
%% Use this when submitting an article to a sponsored event. You'll
%% receive a unique submission ID from the organizers
%% of the event, and this ID should be used as the parameter to this command.
% \acmSubmissionID{123-A56-BU3}

%%
%% For managing citations, it is recommended to use bibliography
%% files in BibTeX format.
%%
%% You can then either use BibTeX with the ACM-Reference-Format style,
%% or BibLaTeX with the acmnumeric or acmauthoryear sytles, that includ
%% support for advanced citation of software artefact from the
%% biblatex-software package, also separately available on CTAN.
%%
%% Look at the sample-*-biblatex.tex files for templates showcasing
%% the biblatex styles.
%%

%%
%% The majority of ACM publications use numbered citations and
%% references.  The command \citestyle{authoryear} switches to the
%% "author year" style.
%%
%% If you are preparing content for an event
%% sponsored by ACM SIGGRAPH, you must use the "author year" style of
%% citations and references.
%% Uncommenting
%% the next command will enable that style.
%%\citestyle{acmauthoryear}




% Tweaks to submission format
% --------------------------------

% for submissions:
% printfolios=true to print page numbers (reviewers need page numbers)
% printacmref=false to not show the useless ACM reference on first page (looks nicer, saves space)
% printccs=false to not print CCS block (not important for submissions, saves space)
\settopmatter{printacmref=false, printccs=false, printfolios=false}

% Macros and Formatting Specific to this Document
% --------------------------------
\usepackage{svg}
\usepackage{booktabs} % For formal tables


% --------------------------------
% DOCUMENT SETUP
% edit this file to add exii macros, make formatting tweaks, 
% setup author inline commenting, control annotation visibility, 
% insert document specific macros, etc.
\input{_setup.tex} 
% --------------------------------


% Begin Document
% --------------------------------

\begin{document}

% this seems to help remove words going beyond the margin
\tolerance=400 

%%
%% The "title" command has an optional parameter,
%% allowing the author to define a "short title" to be used in page headers.
%
% The title should be short but descriptive, like a mini abstract. 
% If possible, come up with a catchy name for your project and use it as part of the title.
% can include a short version of the title for the running header (in square brackets)
\title[Code Shaping]{Code Shaping: Iterative Code Editing with Free-form AI-Interpreted Sketching}
\newcommand{\sys}[0]{\f{Code Shaping}}
\newcommand{\baseline}[0]{\textit{Baseline}}

% \titlenote{Produces the permission block, and
%   copyright information}
% \subtitle{Extended Abstract}
% \subtitlenote{The full version of the author's guide is available as
%   \texttt{acmart.pdf} document}


%% The "author" command and its associated commands are used to define
%% the authors and their affiliations.

\author{Ryan Yen}
\orcid{0001-8212-4100}

\affiliation{%
  \institution{School of Computer Science, University of Waterloo}
  \country{}
}
% \email{r4yen@uwaterloo.ca}
\affiliation{%
  \institution{CSAIL, MIT}
  \streetaddress{77 Massachusetts Ave}
  % \city{Cambridge}
  % \state{Massachusetts}
  \country{}
}
\email{ryanyen2@mit.edu}


\author{Jian Zhao}
\orcid{0002-7761-6351}

\affiliation{%
  \institution{School of Computer Science, University of Waterloo}
  \country{}
}
% \authornote{Corresponding Author}
\email{jianzhao@uwaterloo.ca}

\author{Daniel Vogel}
\orcid{0000-0001-7620-0541}
\affiliation{%
  \institution{School of Computer Science, University of Waterloo}
  \country{}
}
\email{dvogel@uwaterloo.ca}


% If default list of authors is too long for headers.
\renewcommand{\shortauthors}{Yen et al.}

%%
%% The abstract is a short summary of the work to be presented in the
%% article.
\begin{abstract}
\input{_abstract}
\end{abstract}

%
% The code below should be generated by the tool at
% http://dl.acm.org/ccs.cfm
% Please copy and paste the code instead of the example below.
%
\begin{CCSXML}
<ccs2012>
   <concept>
       <concept_id>10003120.10003121.10003129.10011756</concept_id>
       <concept_desc>Human-centered computing~User interface programming</concept_desc>
       <concept_significance>500</concept_significance>
       </concept>
   <concept>
       <concept_id>10003120.10003121.10003128</concept_id>
       <concept_desc>Human-centered computing~Interaction techniques</concept_desc>
       <concept_significance>500</concept_significance>
       </concept>
 </ccs2012>
\end{CCSXML}

\ccsdesc[500]{Human-centered computing~User interface programming}
\ccsdesc[500]{Human-centered computing~Interaction techniques}


% keep keywords to one line in rendered paper, try to use big topics that aren't
% already in your title
% \keywords{Ink-based Sketching, Dynamic Abstraction, Programming Interface}

% % optional full width teaser figure
\begin{teaserfigure}
\centering
  \includegraphics[width=\linewidth]{figures/teaser_final.pdf}
  \caption{Code shaping usage example: (a) a programmer draws an arrow from a few lines of code defining data attributes to a sketch of a bar chart in whitespace near the code, then they add another arrow back to a different code location and annotate the arrow with `def'; (b) an AI model uses the code and the overlaid sketches to insert a new function to plot that data; (c) the programmer reviews the edits interpreted by the model, then they run the program; (d) the code outputs a rendered plot, the programmer sketches on top of it to indicate it should use min-max scaling; (e) the model examines the new sketches and modifies the code to implement scaling.}  
  \Description[Code shaping process with AI assistance.]{The figure illustrates an interactive code shaping process that integrates programmer input and AI assistance. It begins with (a) a Python code editor displaying a data preprocessing script and a user adding handwritten annotations and arrows linking the code to a sketched bar chart. A label 'def' is drawn to indicate the function definition process. Then, in step (b), the AI interprets these annotations, inserting a plot_features function into the code editor. In step (c), the programmer reviews and runs the updated code, and in (d), the output is displayed as a bar chart with handwritten annotations indicating "Min-max scaling." Finally, step (e) shows the AI modifying the code further to include scaling functionality. The process demonstrates an iterative collaboration between the programmer and AI, highlighted by handwritten notes and diagrams across stages.}
  \label{fig:teaser}
\end{teaserfigure}



% \begin{figure}[htbp]
%   \centering
%   \includesvg{image.svg}
%   \caption{svg image}
% \end{figure}

%%
%% This command processes the author and affiliation and title
%% information and builds the first part of the formatted document.
\maketitle

% --------------------------------
% BODY
% edit this file to insert your sections
\input{_body.tex}
% --------------------------------

%% Acknowledgements 
%% The acknowledgments section is defined using the "acks" environment
%% (and NOT an unnumbered section). This ensures the proper
%% identification of the section in the article metadata, and the
%% consistent spelling of the heading.
%% ASK DAN WHICH ONES TO USE:
\begin{acks}
This work was made possible by 
NSERC Discovery Grant RGPIN-2024-03827, NSERC Discovery Grant \#2020-03966, and Canada foundation for innovation - John R. Evans Leaders Fund (JELF) \#42371.
\end{acks}


%% reference section
\bibliographystyle{ACM-Reference-Format}
\bibliography{_references.bib, shape.bib}
% If you are submitting your paper to arXiv, change this to be "main_acm.bib" (the same name as your main.tex file) and use the Submit feature in OL to compile the main_acm.bbl file. To avoid processing errors on arXiv with your references, your bibliography needs to have the same name as your main.tex file before you compile it.


%% appendices
%% If your work has an appendix, this is the place to put it. The TC: comments tell the word count scripts to ignore appendix.  

% %TC:ignore  
\appendix
\input{appendix}

%% Reset the figure count and add an A prefix to distinguish it from your other figures
% \renewcommand\thefigure{\thesection.\arabic{figure}}
% \setcounter{figure}{0}
% %TC:endignore 

\end{document}
\endinput
%%
%% End of file
