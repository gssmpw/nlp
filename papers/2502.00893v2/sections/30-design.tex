\section{System Design}
\label{sec:design}

\input{captions/f2-performance}
\input{captions/f3_design}

When designing humanoids, numerous factors must be considered, including payload, endurance, repeatability, degrees of freedom, cost, locomotion, and manipulation capabilities. Given this vast design space, \systems key design principles prioritize reproducibility, capability, and ML-compatibility. Unlike most prior works, we treat reproducibility as a hard constraint to narrow the design space, as our humanoid platform holds no value if it cannot be reproduced by others. With this assumption, we optimize the hardware for capability and enhance ML-compatibility through the careful design of the digital twin and teleoperation device.


\subsection{Reproducibility - A Hard Constraint} 
We define reproducibility as the ability of a single person to replicate the robot system at home without specialized equipment. Limited access to manpower and facilities presents several challenges, including fabrication, space, and cost.

\textbf{Fabrication.} 3D printing has become a popular method for reproducing open-source hardware systems due to its accessibility and fast turnaround time~\citep{kau2022stanford, shaw2023leap, wu2023gello}. Despite these merits, a key challenge is to ensure that printed parts are strong enough for a humanoid robot. We find that PLA suits most parts, while high-strength components can be reinforced with a stronger printing profile and carbon fiber-blended filaments. To ensure ease of assembly and maintenance, we detail our design considerations in Section~\ref{sec:ease_to_build} of the supplementary material. For non-3D-printable components, such as motors, we limit ourselves to readily available off-the-shelf items.

\textbf{Space.} In a home environment without equipment to ensure safety, it is essential to minimize the robot’s size. However, the robot's size is constrained by the onboard computer required for policy execution. We use the NVIDIA Jetson Orin NX for AI model execution, and to fit both the computer and battery within the torso while maintaining human-like proportions, the robot’s height is capped at approximately $0.6~\mathrm{m}$.

\textbf{Cost.} With 3D printing, the total BOM cost of \system is $6000~\mathrm{USD}$, with 90\% spent on the computers and motors.

\subsection{Capability - Design Objective}

% \textbf{Capability Metrics.} 
To quantitatively assess a humanoid robot’s capability, we propose two key metrics: power factor and the number of active DoFs.
The power factor is defined as:
\begin{equation}
    \tilde{\mathit{p}} = \frac{\sum_{i=0}^{\mathit{N}} |{\tau}^{\max}_{i}|}{{h} \cdot {mg}},
    \label{eq:performance}
\end{equation}
where $\mathit{N}$ denotes the number of active DoFs, $|{\tau}_i^{\max}|$ represents the peak torque of the $i$-th joint motor, $h$ denotes the humanoid's height, and $mg$ represents the weight. 
% Unlike the power metric function, this metric accounts for size 
% —comparing a full-scale and a miniature humanoid jumping to the same height is inherently unfair; the height should be evaluated proportionally to the humanoid's height. 
We define $\tilde{\mathit{p}}$ as the power factor, representing the total torque (and thus mechanical power) a robot can generate relative to its weight and height scale. A detailed discussion of this metric is provided in Section~\ref{sec:power_metric} of the supplementary material.
% \ken{Perhaps we can explain this in more detail in appendix, the jump between p metric to jumping a certain height might still be too big. Could raise some concern by reviewers} 
% \kaizhe{Describe the merits of having a small humanoid according to eq.1, easier to operate, more agile and robust, etc}

Intuitively, having a higher $\tilde{\mathit{p}}$ means that a humanoid can perform energetic, dynamic motions more easily. We argue that $\tilde{\mathit{p}}$ should at least exceed the human threshold $\tilde{\mathit{p}}_{\text{human}}$ to achieve human-like motion, given the inherent gap between robot and human policies, assuming humans operate as an oracle policy that is energy efficient.
However, raising $\tilde{\mathit{p}}$ far beyond $\tilde{\mathit{p}}_{\text{human}}$ can have adverse effects: it may lead to unnatural motion, excessive reliance on motor power, fewer DoFs to accommodate larger motors, reduced battery life, and increased safety concerns. Thus, pushing $\tilde{\mathit{p}}$ past diminishing returns involves a practical trade-off. As shown in Figure~\ref{fig:performance}, \system has a $\tilde{\mathit{p}}$ score closest to humans.

\textbf{Mechatronic Design.} As shown in Figure~\ref{fig:design}, \system replicates the structure of an adult human body to maximize the number of active DoFs, enabling human-like motion and versatile loco-manipulation tasks. Each arm features seven DoFs with spur gears for axis-aligned transmission, ensuring high functionality and reachability. Each leg has six DoFs: three at the hip for a wide range of motion and optimized walking strides, a parallel linkage at the knee to reduce inertia, and two at the ankle for stable locomotion. The neck, with two DoFs, incorporates parallel linkages at the pitch joint for a compact design, allowing expressive motion and full head mobility. The waist, also with two DoFs, uses coupled bevel gears to balance the space budget and effectively transmit power from two motors for yaw and roll actuation, which enables whole-body control. Additionally, \system offers two end-effector designs: a parallel jaw gripper for grasping and a compliant palm for tasks requiring a palm-like posture. The end-effector designs can be switched quickly within two minutes by removing a few screws. 

For each active DoF, we maximize the range of motion by optimizing geometries to prevent self-collisions as shown in Section~\ref{sec:range_of_motion} of the supplementary material. To address additional concerns such as space constraints, axis alignment, and inertia reduction, we integrate three primary transmission mechanisms in the mechanical design: spur gears, coupled bevel gears, and parallel linkages, as discussed in Section~\ref{sec:transmission} of the supplementary material. 

\textbf{Motor Selection.} We choose Dynamixel motors because of their robustness, reliability, and accessibility. Different types of Dynamixel motors were selected for various joints based on space constraints, torque requirements, and cost considerations. In terms of communication speed, Dynamixel motors communicate via a $5\mathrm{V}$ TTL protocol running at 2M baudrate, providing full-state feedback for all 30 motors at $50~\mathrm{Hz}$ using an off-the-shelf communication board. More detailed considerations are discussed in Section~\ref{sec:motor_selection} of the supplementary material. 
% To maximize performance with a fixed set of motors, we carefully design the 3D-printed components in CAD software to meet strength requirements while minimizing size and weight.

\textbf{Sensors, Compute, and Power.} To enhance \systems capabilities, we integrate a comprehensive set of sensors and computational components. Two fisheye cameras are included to expand the field of view, improving situational awareness. An Inertial Measurement Unit (IMU) is placed in the chest to provide state feedback for precise control. A speaker and microphones facilitate seamless communication with humans and other \system instances. We provide a conversation example between two \system instances in the supplementary video.
The onboard computation is powered by a Jetson Orin NX 16GB, enabling real-time inference of machine learning models. 
Power management is handled by a custom-designed power distribution board with dual $12\mathrm{V}$ converters. This system efficiently regulates the $12\mathrm{V}$ rail and distributes power to various components, meeting the high energy demands while fitting within the limited space of the torso. The power budget is discussed in Section~\ref{sec:power_budget} of the supplementary material.


% \karen{
% I completely understand why you wrote 3A this way and I really like how you consolidated information into one place. I am just worried that people will expect a much more rigorous discussion than we can offer if we lay out a math formulation upfront. I think what Kayvon suggested can be achieved without any equations. We should indeed start with our goals and constraints, then derive design principles from them, and finally translate principles into concrete features. In our case, we should motivate and propose three design principles in the introduction section (i.e. capability, reproducibility, and ML-compatibility). Define them precisely and defend them persuasively. In the method section, we need to translate these three principles to features. We can start with a list of common features people usually care to ground our discussion. Payload, speed, precision, repeatability, number of dofs, manipulation+locomotion-ness, self-reliance, cost...(add more if you will). From this list, we argue principle by principle what are important to keep and what are not currently addressed (e.g. features related to ML-compatibility). We also justify those features we intentionally underplay (e.g. payload and precision).}

\input{captions/f4-calibration}

\subsection{ML-Compatibility - Design Objective}

\textbf{Digital Twin.} A high-fidelity digital twin is essential for high-quality simulation data collection and thus zero-shot sim-to-real transfer.
% a cornerstone of modern locomotion policies~\citep{rudin2022learning, tan2018simtoreal, lee2020learning}. 
% We choose MuJoCo XLA~\citep{todorov2012mujoco} as the simulator. 
We divide the digital twin development into two key components: zero-point calibration for correct kinematics and motor system identification for accurate dynamics.

% \textbf{Zero-point calibration.} 
Since Dynamixel motors lack an inherent zero point, a reliable method is needed to recalibrate after assembly, which is frequent during repairs or design iterations. As shown in Figure~\ref{fig:calibration}, we design calibration devices in CAD that quickly align the robot to its zero point, defined as standing with both arms besides the body. The process takes less than a minute.

% \textbf{System identification.} 
% The kinematic gap between simulation and the real world is typically negligible, provided precise manufacturing (such as 3D printing in our case) and accurate assembly. 
With kinematics correctly calibrated, the next challenge is accurately identifying dynamics parameters.
Firstly, while it may seem trivial, it is essential to carefully weigh all components to ensure an accurate weight distribution for the robot. Inspired by~\citet{haarnoja2024learning}, we collect sysID data by commanding the motors to track a chirp signal and use the resulting position tracking data to fit an actuation model as described in \citet{grandia2024design}. The actuation model is detailed in Section~\ref{sec:actuation_model} of the supplementary material. 
We assume that motors of the same model have nearly identical dynamics parameters due to manufacturing consistency. This assumption is empirically validated by performing sysID only five times—once for each Dynamixel motor model—and successfully transferring policies to a second \system instance without additional sysID.


\textbf{Teleoperation Device.} Previous works~\citep{aldacoaloha, wu2023gello} demonstrate that teleoperation is one of the most effective ways to gather real-world data. Inspired by them, we develop a second upper body of \system as the leader arms. Two force-sensitive resistors (FSRs) are embedded in the gripping area of the end effectors to detect compression force from the operator, allowing gripper movement based on force input.

We use a handheld gaming computer (either Steam Deck or ROG Ally X) to control the other body parts. The joysticks send velocity commands to walk, turn, and squat. Buttons trigger either programmed or trained policies, where holding a button executes the policy continuously, and releasing it stops the action. Buttons also provide direct control over neck and waist movements. The detailed mapping is described in Section~\ref{sec:joystick} of the supplementary material.