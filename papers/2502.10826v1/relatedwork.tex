\section{Related Work}
\label{sec:related}

Since the work of \citet{swaminathan15batch}, there have been numerous studies on off-policy contextual bandits and reinforcement learning.
An exhaustive literature review with a detailed comparison would warrant a separate survey paper.
Here, we focus on categorizing representative works from a theoretical perspective based on the level of guarantees they provide.

%
%
%

\paragraph{No Finite-Time Correctness Guarantee.}
Methods in this category do not provide a provable guarantee of correctness for the proposed confidence bound on the performance of a given policy under evaluation. Notable examples include the empirical likelihood approach~\citep{karampatziakis20empirical} and the self-normalized estimator~\citep{swaminathan15batch}. These lack explicit finite-time correctness guarantees, let alone sample efficiency guarantees. Moreover, coverage violation of \citet{karampatziakis20empirical} was empirically observed in \citet[Fig.~3]{kuzborskij21confident}.

\paragraph{Finite-Time Correctness Without Sample Efficiency Guarantee.}
Several approaches only come with a finite-sample correctness guarantee of the proposed confidence bound, but without a convergence rate guarantee, and consequently with no offline regret guarantee.
This includes the seminal work of \citet{london19bayesian} leveraging PAC-Bayesian bounds, exponential weighting~\citep{aouali23exponential}, empirical Bernstein style bound~\citep{sakhi23pac}, Efron-Stein semi-empirical bound for the self-normalized importance weight~\citep{kuzborskij19efron,kuzborskij21confident}, and betting-based bounds~\citep{karampatziakis21off,Waudby-Smith--Wu--Ramdas--Karampatziakis--Mineiro2022}.

\paragraph{Sample Efficiency Guarantee Under Bounded Probability Ratios.}
Including many works mentioned above, several works have assumed a finite upper bound on the weights $w_{1:n}^\pi$.
%
Many works mentioned above make this assumption.
%
Of those that provide sample efficiency guarantees, the following works either assume bounded weight or their guarantees become vacuous when the weight is unbounded: \citet[Corollary 4.3]{jin22policy}, \citet{wang24oracle}, and \citet{zenati23sequential}. 

%


\paragraph{Sample Efficiency Guarantee Without Bounded Probability Ratios.}
Only recently have methods with sample efficiency guarantees that remain valid without the bounded probability ratio assumption been proposed. These methods allow the behavior policy to assign arbitrarily small probabilities to certain actions.
While such bounds can still be vacuous in the worst case, they may remain meaningful even when $\piref(a\mid x)$ approaches zero, depending on the distribution of the context $x$ and the reward function.
Early studies in this direction established sample efficiency guarantees that depend on empirical quantities, such as those in \citet[Theorem 4.1]{jin22policy}. However, these guarantees are challenging to interpret and compare with other bounds, as they depend on the specific randomness in the boundâ€™s construction.
In a seminal work, \citet{gabbianelli24importance} provided the first deterministic sample efficiency bound, which was later improved by \citet{sakhi24logarithmic}.
Our work falls into this category, achieving the strongest sample efficiency guarantees for selection and evaluation while matching the bound of \citet{sakhi24logarithmic} for learning.