\begin{wrapfigure}{r}{0.5\textwidth} 
\vspace{-0.3in}
\begin{minipage}{0.5\textwidth}
    \centering
    \begin{algorithm}[H]
    \caption{Bradley-Terry MLE}
    \label{alg:bradley_terry}
    \begin{algorithmic}[1]
    \Function{bradley\_terry\_ll}{$\theta, \text{pref\_data}$}
        \State $S \gets exp(\theta)$
        \State $\ell(\theta; \text{pref\_data}) = 0$
        \For{each $d$ in $\text{pref\_data}$}
            \State $(w, l) \gets d$
            \State $P(w \text{ wins}) \gets \dfrac{S[w]}{S[w] + S[l]}$
            \State $\ell(\theta; \text{pref\_data}) \gets \ell(\theta; \text{pref\_data})$ 
\State \hspace{2.2em} $+ \log P(w \text{ wins})$
        \EndFor
        \State \textbf{Output:} $-\ell(\theta; \text{pref\_data}) + \frac{\lambda}{2} \sum_{i=1}^{n} \theta_i^2$
    \EndFunction
    \State
    \State \textbf{Input:} $\text{pref\_data}$
    \State $\theta = [0, 0, ..., 0]$
    \State $\text{minimize}(\text{bradley\_terry\_ll}$, $\theta$, $\text{pref\_data}$, $\text{BFGS})$
    \State $S \gets exp(\theta)$
    \State \textbf{Output:} $S$
    \end{algorithmic}
    \end{algorithm}
\end{minipage}\hfill
\vspace{-0.26in}
\end{wrapfigure}