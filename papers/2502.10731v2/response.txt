\section{Related Work\label{sec:Related-Work}
}
%\subsection{Research of SFCs in terrestrial or physical network}
As for the deployment and scheduling of SFC in terrestrial networks, there exist sufficient researches. For example, the authors in **Zhang, "SFC VNF Scheduling with Quantum Annealer"** proposed a heuristic algorithm with a quantum annealer to solve the VNF scheduling problem in virtual machines. In **Wang et al., "Two-Phased Algorithm for VNF Deployment and Flow Scheduling"**, the authors designed a two-phased algorithm to solve the VNF deployment and flow scheduling problems in distributed data centers. The authors in **Li, "Deep Dyna-Q Approach for SFC Dynamic Reconfiguration"** presented a deep Dyna-Q approach to handle the SFC dynamic reconfiguration problem in the Internet of Things (IoT) network. In **Kumar et al., "Game Theory-Based Approach for SFC Service Latency Problem"**, a game theory-based approach to solve SFC service latency problem at the edge was studied. The authors in **Wu, "Dynamic SFC Embedding Scheme with Matching Algorithm and DRL"** proposed a dynamic SFC embedding scheme with matching algorithm and DRL in the industrial IoT network. The authors in **Zhou et al., "VNF Placement and Flow Scheduling Optimization in Mobile Core Networks"** optimized the VNF placement and flow scheduling in mobile core networks. However, these models and mechanisms cannot be directly applied to the multi-layer dynamic SAGIN with high heterogeneity.

%\subsection{Research of SFCs in SAGIN}
There exist some studies of SFC deployment in single layer networks in the air such as the flying ad hoc network (FANET), or satellite network in the space. The authors in **Chen, "Mathematical Framework for VNF Placement in FANET"** presented a mathematical framework to solve the VNF placement problem in a FANET. In **Huang et al., "Multiple Service Delivery Problem using SFC in LEO Satellite-Terrestrial Integrated Network"**, the authors studied a multiple service delivery problem using SFC in the low earth orbit (LEO) satellite-terrestrial integrated network, and designed an improved response algorithm and an adaptive algorithm to achieve the Nash equilibrium. The authors in **Lee et al., "IoT Platform Design for Miniaturized CubeSats"** designed an IoT platform running within software defined network (SDN)/NFV-ready infrastructures, which applied to miniaturized CubeSats. In **Peng et al., "Edge-Cloud Architecture based on Machine Learning for UAV Resource Utilization"**, the authors proposed a new edge-cloud architecture based on machine learning, which studied the UAV resource utilization of SFC embedding. **Zhang and Chen leveraged UAV-aided mobile-edge computing and NFV to enhance smart agriculture applications, and it introduced  the decentralized federated learning to optimize NFV function orchestration.** The authors in **Wang et al., "Asynchronous Advantage Actor-Critic Approach for VNF Deployment with Low Latency"** proposed an approach based on Asynchronous Advantage Actor-Critic to deploy VNFs with low latency during heterogeneous bandwidth demands. **Liu investigated the orchestration of NFV chains in satellite networks, followed by the design of a brand-and-price algorithm combining three methods, and proposed an approximate algorithm based on the beam search.** However, these works have not considered the connectivity among multi-layers of SAGIN.

There exist a couple of works related with the SFC or VNF deployment in SAGIN. In **Kang et al., "Cyber-Physical System for Ground-Air-Space Communication"**, a novel cyber-physical system spanning ground, air, and space was introduced, which was supported by SDN and NFV techniques. The authors in **Li et al., "Federation Learning Algorithm for SFC Embedding Problem in SAGIN"** used the federation learning algorithm to figure out the SFC embedding problem in SAGIN, and reconfigured SFC to reduce the service blocking rate. In **Wang et al., "Reconfigurable Service Provisioning Framework for SAGIN"**, the authors studied a reconfigurable service provisioning framework and proposed a heuristic greedy algorithm to solve the SFC planning problem in SAGIN. In **Zhang et al., "Iterative Alternating Optimization Algorithm for SFC Deployment and Scheduling"**, an iterative alternating optimization algorithm by the convex approximation is used to deal with the SFC deployment and scheduling in SAGIN from the perspective of network operators, so as to maximize the network profit. The authors in **Chen et al., "Online Dynamic VNF Mapping and Scheduling in SAGIN"** investigated online dynamic VNF mapping and scheduling in SAGIN, and proposed two Tabu search-based algorithms to obtain suboptimal solutions. In **Wang et al., "Service Model for Network Slicing and SFC Mapping Method based on Delay Prediction"**, the authors constructed a service model by dividing the network slices and proposed an SFC mapping method based on delay prediction. However, the dynamic topology of SAGIN across time have not been well considered in these works, which is a significant issue and cannot be neglected.

As analyzed above, the SFC deployment and scheduling issues are well studied in the terrestrial network, single aerial UAV network, or single satellite network. However, as far as the authors' knowledge, the researches on SFC scheduling problem in SAGIN is not comprehensive, and most designed algorithms are heuristic. These algorithms can not be well adapted to large-scale networks and complete large-scale tasks. Hence, in this paper, we take into account the connectivity and dynamic of the multi-layer SAGIN, propose the corresponding deployment and scheduling model, and design the DRL-based algorithms to cope with network structures of different scales and diverse numbers of task requirements.