% \pgfplotstableread[col sep=comma]{results/car_arrival_soc.csv}{\arrivals}

% \pgfplotstableread[col sep=comma]{results/car_departure_soc.csv}{\departures}


% \begin{figure}[t]
% \centering
% \begin{tikzpicture}
% \begin{axis}[
%     xlabel={State of Charge (\%)},
%     ylabel={Counts},
%     xmin=0, xmax=100, % Adjust the x-axis range to fit the number of days in the month
%     ymin=0, % Adjust the y-axis range as needed
%     grid=both,
%     grid style={line width=.1pt, draw=gray!10},
%     major grid style={line width=.2pt,draw=gray!50},
%     % minor tick num=4,
%     enlarge x limits=false,
%     enlarge y limits={upper,value=0.1},
%     legend pos=north east,
%     width=0.9\linewidth,
%     height=4cm,
%     % Adjust steps
%     xtick distance=20,
%     legend style={nodes={scale=0.8, transform shape}, 
%                   legend columns=1,
%                   at={(1, 0.85)},
%                   anchor=east,
%                  },
% ]

% % Plot the line
% \addplot+[no marks, thick] table[x=Value, y=Count, col sep=comma]{\arrivals};
% \legend{Arrival SoC}


% \addplot+[mark=*, thick] table[x=Value, y=Count, col sep=comma]{\departures};
% \addlegendentry{Required SoC}


% \end{axis}
% \end{tikzpicture}
% \caption{Arrival and Departure SoC distribution.}
% \end{figure}


\pgfplotstableread[col sep=comma]{results/training_data_arrival_distribution.csv}{\data}
\pgfplotstableread[col sep=comma]{results/training_data_departure_distribution.csv}{\depdata}

\begin{figure}
   \begin{tikzpicture}
    \begin{axis}[
     xlabel=Hour,
     ylabel=SoC (\%),
    xmin=0, xmax=24, % Adjust the x-axis range to fit the number of days in the month
    ymin=0, ymax=100, % Adjust the y-axis range as needed
     % Grids
    minor x tick num=2,
    minor y tick num=2,
    width=0.95\linewidth,
    height=4cm,
    grid=both,
    ymajorgrids=true,
    yminorgrids=true,
    legend pos=north west,
    legend style={nodes={scale=0.8, transform shape}, 
                  legend columns=2,
                  at={(1, 0.88)},
                  anchor=east,
                 },
    % xmajorgrids=false,
    xminorgrids=false,
    major grid style={line width=.2pt,draw=gray!30},
    ]
    
   \addplot[only marks,mark=*, red!40] table[x=dhour,y=required_soc_at_depart] {\depdata};
   %  \legend{Arrivals}

   % \addplot[only marks,mark=square*,blue!40] table[x=ahour,y=soc] {\data};
\addlegendentry{Departures}
   
   \end{axis}
   \end{tikzpicture}
   \caption{Distribution of EV departure hours against required SoC at departure across 8 months.}
\end{figure}