
\begin{filecontents}{demand_charge_2.csv}
Policy,MAY_mean,JUN_mean,JULY_mean,AUG_mean,SEP_mean,OCT_mean,NOV_mean,DEC_mean,JAN_mean,MAY_std,JUN_std,JULY_std,AUG_std,SEP_std,OCT_std,NOV_std,DEC_std,JAN_std,TOTAL,TOTAL_std
MILP,52.4,147.0,19.1,194.6,24.8,94.5,120.5,103.9,77.9,46,59,32,58,31,67,52,49,59,834.8,154
RL,31.7,3.8,-1.7,140.3,13.1,39.8,92.6,-59.2,-61.2,28,61,46,97,14,72,67,152,77,222.0,234
CF-LLF,8.3,17.4,-6.3,67.9,-28.0,-6.5,71.1,-77.2,-72.4,34,43,21,41,28,38,37,92,83,-25.7,155
CF-EDF,6.5,11.2,-8.5,67.5,-33.4,-12.0,70.7,-91.9,-65.9,33,50,24,41,34,40,38,81,68,-55.7,146
T-LLF,-56.7,-59.2,-42.1,-33.9,-70.9,-64.6,-50.1,-160.2,-96.6,62,73,40,40,42,41,38,126,76,-634.4,197
T-EDF,-72.6,-59.3,-64.9,-39.4,-108.5,-84.2,-62.8,-172.1,-99.5,54,53,30,41,38,52,37,82,58,-763.4,154
Trickle,-79.8,-94.9,-115.5,-67.1,-146.1,-108.6,-96.1,-208.8,-133.2,39,46,36,34,38,48,36,53,49,-1050.0,128
FC,-57.1,-113.7,-151.3,-40.8,-155.1,-76.0,-70.8,-473.5,-140.3,46,70,85,42,73,59,72,138,76,-1278.6,235 
\end{filecontents}

\pgfplotstableread[col sep=comma]{demand_charge_2.csv}{\totalbilltable} 
\begin{table*}[tbh]
\centering
\caption{Peak shaving on test set, best values in bold. MILP shows the optimal solution given an oracle input. Higher is better.}
\pgfplotstabletypeset[
    precision=1,        % Set number of decimals
    create on use/MAY2/.style={
        create col/assign/.code={%
            \edef\entry{\thisrow{MAY_mean}$\pm$\thisrow{MAY_std}}
            \pgfkeyslet{/pgfplots/table/create col/next content}{\entry}
        }
    },
    create on use/JUN2/.style={
        create col/assign/.code={%
            \edef\entry{\thisrow{JUN_mean}$\pm$\thisrow{JUN_std}}
            \pgfkeyslet{/pgfplots/table/create col/next content}{\entry}
        }
    },
    create on use/JULY2/.style={
        create col/assign/.code={%
            \edef\entry{\thisrow{JULY_mean}$\pm$\thisrow{JULY_std}}
            \pgfkeyslet{/pgfplots/table/create col/next content}{\entry}
        }
    },
     create on use/AUG2/.style={
        create col/assign/.code={%
            \edef\entry{\thisrow{AUG_mean}$\pm$\thisrow{AUG_std}}
            \pgfkeyslet{/pgfplots/table/create col/next content}{\entry}
        }
    },
    create on use/SEP2/.style={
        create col/assign/.code={%
            \edef\entry{\thisrow{SEP_mean}$\pm$\thisrow{SEP_std}}
            \pgfkeyslet{/pgfplots/table/create col/next content}{\entry}
        }
    },
    create on use/OCT2/.style={
        create col/assign/.code={%
            \edef\entry{\thisrow{OCT_mean}$\pm$\thisrow{OCT_std}}
            \pgfkeyslet{/pgfplots/table/create col/next content}{\entry}
        }
    },
     create on use/NOV2/.style={
        create col/assign/.code={%
            \edef\entry{\thisrow{NOV_mean}$\pm$\thisrow{NOV_std}}
            \pgfkeyslet{/pgfplots/table/create col/next content}{\entry}
        }
    },
     create on use/DEC2/.style={
        create col/assign/.code={%
            \edef\entry{\thisrow{DEC_mean}$\pm$\thisrow{DEC_std}}
            \pgfkeyslet{/pgfplots/table/create col/next content}{\entry}
        }
    },
    create on use/JAN2/.style={
        create col/assign/.code={%
            \edef\entry{\thisrow{JAN_mean}$\pm$\thisrow{JAN_std}}
            \pgfkeyslet{/pgfplots/table/create col/next content}{\entry}
        }
    },
     create on use/TOTAL2/.style={
        create col/assign/.code={%
            \edef\entry{\thisrow{TOTAL}$\pm$\thisrow{TOTAL_std}}
            \pgfkeyslet{/pgfplots/table/create col/next content}{\entry}
        }
    },
    % create on use/MAY/.style={
    %     create col/assign/.code={%
    %         \edef\entry{\thisrow{AUG}$\pm$\thisrow{JUN}}
    %         \pgfkeyslet{/pgfplots/table/create col/next content}{\entry}
    %     }
    % },
    % columns ={Policy, MAY,JUN,JULY,AUG,SEP,OCT,NOV,DEC,JAN, TOTAL},
    column type=c,
    % columns/TRY/.style={string type,column type=c},
    columns/MAY2/.style={column name={MAY}, string type,column type=c}, 
    columns/JUN2/.style={column name={JUN}, string type,column type=c}, 
    columns/JULY2/.style={column name={JULY},string type,column type=c}, 
    columns/AUG2/.style={column name={AUG}, string type,column type=c}, 
    columns/SEP2/.style={column name={SEP}, string type,column type=c}, 
    columns/OCT2/.style={column name={OCT}, string type,column type=c}, 
    columns/NOV2/.style={column name={NOV},string type,column type=c}, 
    columns/DEC2/.style={column name={DEC}, string type,column type=c}, 
    columns/JAN2/.style={column name={JAN}, string type,column type=c},
    columns/TOTAL2/.style={column name={TOTAL}, string type,column type=c},
    % dec sep align=S,    % Use the siunitx `S` column type for aligning at decimal point
    fixed,fixed zerofill,     % Fill numbers with zeros
    columns/Policy/.style={
        string type,
        % postproc cell content/.code={%
        %     \pgfplotsutilstrreplace{_}{\_}{#1}%
        %     \pgfkeyslet{/pgfplots/table/@cell content}\pgfplotsretval
        % },
      },
    columns ={Policy, MAY2, JUN2, JULY2, AUG2, SEP2, OCT2, NOV2, DEC2, JAN2},
     % columns/Month/.style={
     %    string type,
     %    % postproc cell content/.code={%
     %    %     \pgfplotsutilstrreplace{_}{\_}{##1}%
     %    %     \pgfkeyslet{/pgfplots/table/@cell content}\pgfplotsretval
     %    % },
     %    postproc cell content/.append code={$\pm$ 0.00}, 
     %  },
    % columns/MAY/.style={postproc cell content/.append code={$\pm$ 0.00}}, 
    % columns/Month/.style={postproc cell content/.append code={$\pm$ 0.00}}, 
    % columns/JUN/.style={postproc cell content/.append code={$\pm$ 0.00}},
    % columns/JULY/.style={postproc cell content/.append code={$\pm$ 0.00}},
    % columns/AUG/.style={postproc cell content/.append code={$\pm$ 0.00}},
    % columns/SEP/.style={postproc cell content/.append code={$\pm$ 0.00}},
    % columns/OCT/.style={postproc cell content/.append code={$\pm$ 0.00}},
    % columns/NOV/.style={postproc cell content/.append code={$\pm$ 0.00}},
    % columns/DEC/.style={postproc cell content/.append code={$\pm$ 0.00}},
    % columns/JAN/.style={postproc cell content/.append code={$\pm$ 0.00}},
    % columns/Total/.style={postproc cell content/.append code={$\pm$ 0.00}},
    every head row/.style={before row=\toprule, after row=\midrule},
    every last row/.style={after row=\bottomrule},
    every first row/.style={before row={\rowcolor[gray]{.8}}},
    every row 1 column 1/.style={postproc cell content/.style={@cell content={\textbf{##1}}}}, %bolding
    every row 2 column 2/.style={postproc cell content/.style={@cell content={\textbf{##1}}}}, %bolding
    every row 1 column 3/.style={postproc cell content/.style={@cell content={\textbf{##1}}}}, %bolding
    every row 1 column 4/.style={postproc cell content/.style={@cell content={\textbf{##1}}}}, %bolding
    every row 1 column 5/.style={postproc cell content/.style={@cell content={\textbf{##1}}}}, %bolding
    every row 1 column 6/.style={postproc cell content/.style={@cell content={\textbf{##1}}}}, %bolding
    every row 1 column 7/.style={postproc cell content/.style={@cell content={\textbf{##1}}}}, %bolding
    every row 1 column 8/.style={postproc cell content/.style={@cell content={\textbf{##1}}}}, %bolding
    every row 1 column 9/.style={postproc cell content/.style={@cell content={\textbf{##1}}}}, %bolding
    every row 1 column 10/.style={postproc cell content/.append style={@cell content={\textbf{##1}}}, zerofill, precision=2,}, 
    ] {\totalbilltable}
\label{table:peak_shaving_demand}
\end{table*}