
\pgfplotstableread[col sep=comma]{results/car_arrival_per_dow.csv}{\cararrivalsdow}
\pgfplotstableread[col sep=comma]{results/building_dow_box.csv}{\buildingmaxdow}


\begin{figure}[H]
\centering
\begin{tikzpicture}
\begin{groupplot}[
    width=0.9\linewidth,
    height=3.5cm,
    group style={
      group size=1 by 2,
      vertical sep=0cm,
    },
    %    xticklabels = {
    %    Mon,
    %    Tue,
    %    Wed,
    %    Thur,
    %    Fri
    %    },
    % legend pos=outer north east,
    % ylabel={Arrival\\Counts},
    % ylabel style={font=\large, align=center},
    % xtick=data,
    % % xticklabels from table={\loadedtable}{Condition}, % Read xticklabels from the CSV file
    % xticklabel style={
    %     rotate=0,
    % },
    %     grid=both,
    %     ymajorgrids=true,
    %     yminorgrids=true,
    %     minor x tick num=2,
    %     minor y tick num=2,
]
%neutral

  \nextgroupplot[
    ybar,
       xticklabels = {},
    legend pos=outer north east,
    ylabel={Arrival\\Counts},
    ylabel style={font=\large, align=center},
    xtick=data,
    % xticklabels from table={\loadedtable}{Condition}, % Read xticklabels from the CSV file
    xticklabel style={
        rotate=0,
    },
        grid=both,
        ymajorgrids=true,
        yminorgrids=true,
        minor x tick num=2,
        minor y tick num=2,
  ]
\addplot[blue,fill=blue!30!white,error bars/.cd,y dir=both,y explicit,] table[
  x=index, % Use index for x values
  y=mean, % y values from "Mean" column
  col sep=comma,
  y error=std % Error values from "Error" column
] {\cararrivalsdow};


  \nextgroupplot[
    ybar,
       xticklabels = {
       Mon,
       Tue,
       Wed,
       Thur,
       Fri
       },
    legend pos=outer north east,
    ylabel={Peak\\Draw},
    ylabel style={font=\large, align=center},
    xtick=data,
    % xticklabels from table={\loadedtable}{Condition}, % Read xticklabels from the CSV file
    xticklabel style={
        rotate=0,
    },
        grid=both,
        ymajorgrids=true,
        yminorgrids=true,
        minor x tick num=2,
        minor y tick num=2,
  ]
\addplot[black,fill=red!30!white,error bars/.cd,y dir=both,y explicit,] table[
  x=index, % Use index for x values
  y=mean, % y values from "Mean" column
  col sep=comma,
  y error=std % Error values from "Error" column
] {\buildingmaxdow};


\end{groupplot}
\end{tikzpicture}

\caption{(Top) Arrival counts per day of the week across 8 months. Most of the cars arrive during Wednesday and Friday. (Bottom) Peak building draw per day of the week across 8 months. Mondays and Fridays typically exhibit the highest and lowest power draws.}
\label{fig:arrival_counts}
\Description[<short description>]{<long description>}
\end{figure}
