
\begin{tikzpicture}[line cap=round]
    % Set overall scale for fitting in one column
    \begin{scope}[scale=0.5]  % Adjust the scale as needed for perfect fit
        
        % Background gradient (reduced area to fit column width)
        \fill[gray!5!white] (-9,-6) rectangle (8,4); % Lighter background for a clean look
        
        % Soft sine waves with smooth curves
        \foreach \x in {30, 10, -10, -30} {
            \fill[orange!20!white, opacity=0.6] plot[variable=\t,domain=0:360,smooth,samples=50] ({\x+8*sin(\t)}:{2.5*pow(sin(\t/2),3)}) -- cycle;
            \draw[orange!80, line width=0.06cm, smooth] plot[variable=\t,domain=0:360,samples=50] ({\x+8*sin(\t)}:{2.5*pow(sin(\t/2),3)});
        }

        % Cyan rectangle with rounded corners for UPA
        \fill[cyan!20!white, rounded corners] (-0.5,-2) rectangle (0,2);
        \draw[cyan!60, rounded corners, line width=0.06cm] (-0.5,-2) rectangle (0,2);
        \node[above] at (-0.25,2) {UPA}; % Bolder font for emphasis
    
        % Environment box with rounded corners
        \draw[ultra thick, fill=gray!20!white, rounded corners] (3,-2) rectangle (7,2);
        \node[above] at (5,2) {Environment}; % Bolder font for emphasis
        % \node at (5.5,-1) {Targets}; % Smaller font for sublabel

        % Red circles with drop shadow (adjusted positions and sizes)
        \foreach \x/\y in {5/1, 4/-1, 6/0, 4/1} {
            \fill[red, opacity=0.9] (\x,\y) circle (0.2cm); % More opacity for a stronger presence
        }

        % Disturbance 
        \draw[line width=0.05cm, -{Latex[length=2mm, width=2mm]}, draw=green!80!black, decorate, decoration={zigzag,amplitude=.4mm,segment length=2mm,post length=2mm}] (6.7,1) -- (5.5,1); 
        \draw[line width=0.05cm, -{Latex[length=2mm, width=2mm]}, draw=green!80!black, decorate, decoration={zigzag,amplitude=.4mm,segment length=2mm,post length=2mm}] (4.7,0) -- (3.5,0); 

        \draw[line width=0.05cm, -{Latex[length=2mm, width=2mm]}, draw=green!80!black, decorate, decoration={zigzag,amplitude=.4mm,segment length=2mm,post length=2mm}] (-7,3.4) -- (-8.2,3.4) node[right] at (-7.1,3.4) {Clutter}; 
        \fill[red, opacity=0.9] (-7.4,2.5) circle (0.2cm) node[black,right] at (-7,2.5) {Target}; 
        
        \begin{scope}[shift={(-8.2,1.7)}] % Shifts the entire plot to (-7, 3)
            \fill[orange!20!white, opacity=0.6] plot[variable=\t, domain=0:360, smooth, samples=50] ({11*sin(\t)}:{1.3*pow(sin(\t/2),3)}) --cycle;
            \draw[orange!80, line width=0.06cm, smooth] plot[variable=\t, domain=0:360, samples=50] ({11*sin(\t)}:{1.3*pow(sin(\t/2),3)}) node[black,right] at (1.2,0) {Beam};;
        \end{scope}


        
        % MIMO Radar System box with rounded corners
        \node[rectangle, draw=yellow!70, fill=yellow!30!white, minimum height=1cm, minimum width=2cm, line width=0.06cm, rounded corners] (r) at (-6,0) {Radar (Agent)};

        % Arrows and labels
        \draw[line width=0.07cm, -{Latex[length=3mm, width=2mm]}, draw=blue!60!black] (r) -- (-0.5,0) node[midway, above] {$a_k$};
        \draw[line width=0.07cm, draw=blue!60!black] (5.5,-2) -- (5.5,-5);
        \draw[line width=0.07cm, draw=blue!60!black] (5.5,-5) -- (-7,-5) node[midway, above] {$s_{k+1}$};
        \draw[line width=0.07cm, -{Latex[length=3mm, width=2mm]}, draw=blue!60!black] (-6,-4) -- (r.south);
        \draw[line width=0.07cm, draw=blue!60!black] (4.5,-2) -- (4.5,-4);
        \draw[line width=0.07cm, draw=blue!60!black] (4.5,-4) -- (-6,-4) node[midway, above] {$r_{k+1}$};
        \draw[line width=0.07cm, -{Latex[length=3mm, width=2mm]}, draw=blue!60!black] (-7,-5) -- (-7,-1);

    \end{scope} % End scaling
\end{tikzpicture}
