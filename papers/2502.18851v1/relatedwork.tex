\section{Related Work}
Research on code watermarking remains limited due to the unique 
challenges posed by structural constraints in code, particularly 
in maintaining functional correctness, detectability, and naturalness.
Unlike natural language, code must adhere to strict syntactic and 
semantic rules, making the development of effective watermarking 
techniques more complex.

\citet{lee-etal-2024-wrote} proposed SWEET,
a method that selectively embeds watermarks in high-entropy tokens.
While SWEET demonstrated improvements in detection capability 
and code quality, our preliminary analysis revealed that approximately 
12.6\% of these high-entropy tokens correspond to syntax elements 
such as reserved keywords. 
Modifying these critical tokens can disrupt program logic, 
resulting in degraded functional correctness.

\citet{guan2024codeip} introduced CodeIP, a grammar-guided 
watermarking approach by utilizing type prediction to maintain 
syntactic validity. 
This method ensured that the generated code remained grammatically correct. 
However, the reliance on type prediction requires significant 
computational resources, limiting its practicality for 
large-scale code generation tasks.

We address the limitations observed in SWEET and CodeIP by 
explicitly skipping watermark insertion for syntax-critical tokens. 
Our approach ensures that essential structural elements, 
like keywords and operators, remain unchanged, 
thereby preserving functional correctness without additional 
computational overhead.

ACW~\citep{li2024resilient} and SrcMarker~\citep{yang2024srcmarker} 
adopted watermarking techniques based on code transformations, 
applying semantic-preserving modifications and variable name substitutions. 
Although these methods maintained program functionality, the introduced 
changes often result in unnatural code patterns, 
making the watermark more susceptible 
to removal by adversaries.

% Our work builds on these insights by prioritizing 
% syntax-aware watermarking. By ensuring that watermark patterns 
% remain subtle while maintaining functional integrity, 
% we enhance the reliability and practicality of code watermarking 
% for LLM-generated code.