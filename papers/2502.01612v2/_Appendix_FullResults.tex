
\newpage
\section{Full Results}\label{sec:full_results}







\subsection{Results on Multiplication}\label{sec:mult_full_results}

Each figure represents the average over 5 different models.


\begin{figure}[ht!]
    \centering
    \resizebox{0.8\linewidth}{!}{
    \begin{minipage}{\linewidth}
    \centering
    \includegraphics[width=0.24\linewidth]{fig/mult/vanilla/multiplication_vanilla_1_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/vanilla/multiplication_vanilla_2_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/vanilla/multiplication_vanilla_3_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/vanilla/multiplication_vanilla_4_acc.pdf}
    \vspace{1mm}
    \includegraphics[width=0.24\linewidth]{fig/mult/vanilla/multiplication_vanilla_5_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/vanilla/multiplication_vanilla_6_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/vanilla/multiplication_vanilla_7_acc.pdf}  
    \end{minipage}
    }
    \caption{Results for multiplication without filtering. Each cell represents the accuracy on $n$-digit by $m$-digit multiplication. Red boxes indicate labeled in-distribution examples, while magenta boxes indicate evaluations after training on self-improved data. The model is initially trained on up to $5$-by-$5$ multiplication. Generalizing to larger multiplications is challenging without data filtering.}
    \label{fig:multiplication_vanilla_full}
\end{figure}


\begin{figure}[ht!]
    \centering
    \resizebox{0.8\linewidth}{!}{
    \begin{minipage}{\linewidth}
    \includegraphics[width=0.24\linewidth]{fig/mult/len_filter/multiplication_len_filtered_1_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/len_filter/multiplication_len_filtered_2_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/len_filter/multiplication_len_filtered_3_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/len_filter/multiplication_len_filtered_4_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/len_filter/multiplication_len_filtered_5_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/len_filter/multiplication_len_filtered_6_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/len_filter/multiplication_len_filtered_7_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/len_filter/multiplication_len_filtered_8_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/len_filter/multiplication_len_filtered_9_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/len_filter/multiplication_len_filtered_10_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/len_filter/multiplication_len_filtered_12_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/len_filter/multiplication_len_filtered_14_acc.pdf}
    \end{minipage}
    }
    \caption{ Results for multiplication with length filtering with length threshold of 10.}
    \label{fig:multiplication_len_filter}
\end{figure}



\begin{figure}
    \centering
    \resizebox{0.8\linewidth}{!}{
    \begin{minipage}{\linewidth}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority/multiplication_mv_mult_1_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority/multiplication_mv_mult_2_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority/multiplication_mv_mult_3_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority/multiplication_mv_mult_4_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority/multiplication_mv_mult_5_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority/multiplication_mv_mult_6_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority/multiplication_mv_mult_7_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority/multiplication_mv_mult_8_acc.pdf}
    \vspace{1mm}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority/multiplication_mv_mult_9_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority/multiplication_mv_mult_10_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority/multiplication_mv_mult_12_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority/multiplication_mv_mult_14_acc.pdf}
    \end{minipage}}
    \caption{Multiplication with majority voting where filtering is based on agreement of at least 4 out of 5 models. Applying majority voting enables effective generalization from $n$-by-$n$ to $(n+1)$-by-$(n+1)$ multiplication tasks.}
    \label{fig:multiplication_mv_full}
\end{figure}



\begin{figure}
    \centering
    \resizebox{0.8\linewidth}{!}{
    \begin{minipage}{\linewidth}
    \centering
    \includegraphics[width=0.24\linewidth]{fig/mult/majority_fixed_SI/multiplication_mv_1_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority_fixed_SI/multiplication_mv_2_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority_fixed_SI/multiplication_mv_3_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority_fixed_SI/multiplication_mv_4_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority_fixed_SI/multiplication_mv_5_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority_fixed_SI/multiplication_mv_6_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority_fixed_SI/multiplication_mv_7_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority_fixed_SI/multiplication_mv_8_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority_fixed_SI/multiplication_mv_9_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority_fixed_SI/multiplication_mv_10_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority_fixed_SI/multiplication_mv_11_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority_fixed_SI/multiplication_mv_12_acc.pdf}
    \end{minipage}}
    \caption{Multiplication task with majority voting with shared self-improve data (See Section~\ref{sec:mv_ablations}).}
    \label{fig:multiplication_mv_fixed_SI}
\end{figure}


\begin{figure}
    \centering
    \includegraphics[width=0.24\linewidth]{fig/mult/majority_len_n10/multiplication_majority_mult_len_filtered_n_10_1_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority_len_n10/multiplication_majority_mult_len_filtered_n_10_3_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority_len_n10/multiplication_majority_mult_len_filtered_n_10_5_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority_len_n10/multiplication_majority_mult_len_filtered_n_10_7_acc.pdf}
    \vspace{1mm}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority_len_n10/multiplication_majority_mult_len_filtered_n_10_9_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority_len_n10/multiplication_majority_mult_len_filtered_n_10_11_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority_len_n10/multiplication_majority_mult_len_filtered_n_10_13_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority_len_n10/multiplication_majority_mult_len_filtered_n_10_15_acc.pdf}
    \vspace{1mm}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority_len_n10/multiplication_majority_mult_len_filtered_n_10_17_acc.pdf}    
    \includegraphics[width=0.24\linewidth]{fig/mult/majority_len_n10/multiplication_majority_mult_len_filtered_n_10_19_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority_len_n10/multiplication_majority_mult_len_filtered_n_10_21_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority_len_n10/multiplication_majority_mult_len_filtered_n_10_23_acc.pdf}
    \vspace{1mm}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority_len_n10/multiplication_majority_mult_len_filtered_n_10_25_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority_len_n10/multiplication_majority_mult_len_filtered_n_10_27_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority_len_n10/multiplication_majority_mult_len_filtered_n_10_29_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/majority_len_n10/multiplication_majority_mult_len_filtered_n_10_31_acc.pdf}
    \caption{Combining majority voting with length filtering. This approach achieves near-perfect length generalization up to $9 \times 9$, and potentially achieving further generalization. }
    \label{fig:multiplication_mv_len_n10_full}
\end{figure}



\begin{figure}
    \centering
    \includegraphics[width=0.24\linewidth]{fig/mult/accelerated/multiplication_acc_mv_len_n_10_1_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/accelerated/multiplication_acc_mv_len_n_10_2_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/accelerated/multiplication_acc_mv_len_n_10_3_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/accelerated/multiplication_acc_mv_len_n_10_4_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/accelerated/multiplication_acc_mv_len_n_10_5_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/accelerated/multiplication_acc_mv_len_n_10_6_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/accelerated/multiplication_acc_mv_len_n_10_7_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/accelerated/multiplication_acc_mv_len_n_10_8_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/accelerated/multiplication_acc_mv_len_n_10_9_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/accelerated/multiplication_acc_mv_len_n_10_10_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/accelerated/multiplication_acc_mv_len_n_10_11_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/accelerated/multiplication_acc_mv_len_n_10_12_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/accelerated/multiplication_acc_mv_len_n_10_13_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/accelerated/multiplication_acc_mv_len_n_10_14_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/accelerated/multiplication_acc_mv_len_n_10_15_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/accelerated/multiplication_acc_mv_len_n_10_16_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/accelerated/multiplication_acc_mv_len_n_10_17_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/accelerated/multiplication_acc_mv_len_n_10_18_acc.pdf}
    \includegraphics[width=0.24\linewidth]{fig/mult/accelerated/multiplication_acc_mv_len_n_10_19_acc.pdf}

    \caption{Accelerated multiplication. We can significantly reduce the self-improvement rounds by carefully sampling a wider range of difficulties at every round. Perfect length generalization is achieved up to 10-by-10 multiplication with 19 self-improvement rounds. }
    \label{fig:multiplication_accelerated_len_n10_full}
\end{figure}




\subsection{Results on Mazes}\label{sec:maze_full_results}
We provide additional evaluation on mazes, based on the validity of moves and correctness of end nodes. 

\begin{figure}[ht!]
    \centering
    \includegraphics[width=0.19\linewidth]{fig/maze/maze_hops/vanilla_mean_acc.pdf}
    \includegraphics[width=0.19\linewidth]{fig/maze/maze_hops/mv_mean_acc.pdf}
    \includegraphics[width=0.19\linewidth]{fig/maze/maze_hops/verifier-move-ends_mean_acc.pdf}
    \includegraphics[width=0.19\linewidth]{fig/maze/maze_hops/verifier_mean_acc.pdf}
    \includegraphics[width=0.19\linewidth]{fig/maze/maze_hops/verifier-ends_mean_acc.pdf}    
    \\
    \includegraphics[width=0.19\linewidth]{fig/maze/maze_hops/vanilla_mean_move.pdf}
    \includegraphics[width=0.19\linewidth]{fig/maze/maze_hops/mv_mean_move.pdf}
    \includegraphics[width=0.19\linewidth]{fig/maze/maze_hops/verifier-move-ends_mean_move.pdf}
    \includegraphics[width=0.19\linewidth]{fig/maze/maze_hops/verifier_mean_move.pdf}
    \includegraphics[width=0.19\linewidth]{fig/maze/maze_hops/verifier-ends_mean_move.pdf}    
    \\
    \includegraphics[width=0.19\linewidth]{fig/maze/maze_hops/vanilla_mean_end.pdf}
    \includegraphics[width=0.19\linewidth]{fig/maze/maze_hops/mv_mean_acc.pdf}
    \includegraphics[width=0.19\linewidth]{fig/maze/maze_hops/verifier-move-ends_mean_end.pdf}
    \includegraphics[width=0.19\linewidth]{fig/maze/maze_hops/verifier_mean_end.pdf}
    \includegraphics[width=0.19\linewidth]{fig/maze/maze_hops/verifier-ends_mean_end.pdf}    
    \caption{ Maze solving task with increasing hops. (Top to bottom) Exact match accuracy, move validation accuracy, and end validation accuracy.  (Left to right) No data filtering, majority voting based filtering, verifier on both moves and ends, verifier on moves only, verifier on ends only.}
    \label{fig:maze_verifier_hops_full}
\end{figure}



\begin{figure}[ht!]
    \centering
    \includegraphics[width=0.19\linewidth]{fig/maze/maze_nodes/vanilla_mean_acc.pdf}
    \includegraphics[width=0.19\linewidth]{fig/maze/maze_nodes/mv_mean_acc.pdf}
    \includegraphics[width=0.19\linewidth]{fig/maze/maze_nodes/verifier-move-ends_mean_acc.pdf}
    \includegraphics[width=0.19\linewidth]{fig/maze/maze_nodes/verifier_mean_acc.pdf}
    \includegraphics[width=0.19\linewidth]{fig/maze/maze_nodes/verifier-ends_mean_acc.pdf}    
    \\
    \includegraphics[width=0.19\linewidth]{fig/maze/maze_nodes/vanilla_mean_move.pdf}
    \includegraphics[width=0.19\linewidth]{fig/maze/maze_nodes/mv_mean_move.pdf}
    \includegraphics[width=0.19\linewidth]{fig/maze/maze_nodes/verifier-move-ends_mean_move.pdf}
    \includegraphics[width=0.19\linewidth]{fig/maze/maze_nodes/verifier_mean_move.pdf}
    \includegraphics[width=0.19\linewidth]{fig/maze/maze_nodes/verifier-ends_mean_move.pdf}    
    \\
    \includegraphics[width=0.19\linewidth]{fig/maze/maze_nodes/vanilla_mean_end.pdf}
    \includegraphics[width=0.19\linewidth]{fig/maze/maze_nodes/mv_mean_acc.pdf}
    \includegraphics[width=0.19\linewidth]{fig/maze/maze_nodes/verifier-move-ends_mean_end.pdf}
    \includegraphics[width=0.19\linewidth]{fig/maze/maze_nodes/verifier_mean_end.pdf}
    \includegraphics[width=0.19\linewidth]{fig/maze/maze_nodes/verifier-ends_mean_end.pdf}    
    \caption{ Maze solving task with increasing nodes. (Top to bottom) Exact match accuracy, move validation accuracy, and end validation accuracy.  (Left to right) No data filtering, majority voting based filtering, verifier on both moves and ends, verifier on moves only, verifier on ends only.}
    \label{fig:maze_verifier_nodes_full}
\end{figure}
