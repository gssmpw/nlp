\lstset{%
        framexleftmargin=10pt,
        framexrightmargin=5pt,
        framextopmargin=6pt,
        framexbottommargin=6pt,  
        frame=tb, framerule=0pt,
}

\begin{figure}[t]
    \centering

    \begin{lstlisting}[
        language=Python, 
        linewidth=\columnwidth, 
        numbers=none]
# Symbolic problem statement $P$
problem = "Find an $n \times n$ matrix of 
rank $\leq$ 3 with zeros on the main diagonal 
and positive reals off the diagonal."

# Concrete parameters $\theta$
parameters = {"n": 10}

# Verification function $V_\theta$
def verify(construction):
    if dim(construction) != (n, n):
        return 0, "Wrong dimensions"
    if any(construction[i][i] != 0):
        return 0, "Non-zero diagonal"
    if any(construction[i][j] <= 0):
        return 0, "Off-diagonal <= 0"
    if matrix_rank(construction) > 3:
        return 0, "Rank > 3"
    return 1, "Correct"

# Variation generator
def generate_variation():
    return {"n": random.randint(6, 15)}

# Formatting instructions
format = "Present your construction as a 
matrix in LaTeX enclosed in \boxed{}"



\end{lstlisting}

\caption{A problem encoding consisting of a symbolic problem statement $P$, concrete parameters $\theta$, and a verification function $V_\theta$. 
We also implement a variation generator, and provide formatting instructions for the construction.}
\label{fig:problem_encoding}
\end{figure}
