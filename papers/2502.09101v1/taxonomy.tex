\tikzstyle{my-box}=[
    rectangle,
    draw=hidden-draw,
    rounded corners,
    text opacity=1,
    minimum height=1.5em,
    minimum width=5em,
    inner sep=2pt,
    align=center,
    fill opacity=.5,
]


\tikzstyle{understanding_leaf}=[my-box, minimum height=1.5em,
    fill=bluelight2!100, text=black, align=left,font=\scriptsize,
    inner xsep=2pt,
    inner ysep=4pt,
]
\tikzstyle{reasoing_leaf}=[my-box, minimum height=1.5em,
    fill=greenlight, text=black, align=left,font=\scriptsize,
    inner xsep=2pt,
    inner ysep=4pt,
]
\tikzstyle{reliable_leaf}=[my-box, minimum height=1.5em,
    fill=lightgoldenrodyellow, text=black, align=left,font=\scriptsize,
    inner xsep=2pt,
    inner ysep=4pt,
]


% \tikzstyle{leaf}=[my-box, minimum height=1.5em,
%     fill=hidden-orange!60, text=black, align=center,font=\scriptsize,
%     inner xsep=2pt,
%     inner ysep=4pt,
% ]

\begin{figure*}[!t]
    \centering
    % \setlength{\abovecaptionskip}{-0.1cm}
	\setlength{\belowcaptionskip}{-0.4cm}
    \resizebox{\textwidth}{!}{
        \begin{forest}
            forked edges,
            for tree={
                grow=east,
                reversed=true,
                % anchor=base west,
                % parent anchor=east,
                % child anchor=west,
                base=left,
                font=\scriptsize,
                rectangle,
                draw=hidden-draw,
                rounded corners,
                align=left,
                minimum width=4em,
                edge+={darkgray, line width=1pt},
                % s sep=3pt,
                inner xsep=2pt,
                inner ysep=3pt,
                ver/.style={rotate=90, child anchor=north, anchor=center}
            },
            % where level=1{font=\scriptsize,}{},
            % where level=2{font=\scriptsize,}{},
            % where level=3{font=\scriptsize,}{},
            % where level=4{font=\scriptsize,}{},
            [
                Gap Between LLMs and Human Intention, ver, color=hidden-draw, fill=mygray!30,
                text=black
                [
                    Instruction \\ Understanding (\S \ref{sec:challenge1}), color=myblue!100, fill=myblue!80, text width=6em, text=black
                    [
                        Long-text \\ Comprehension (\S \ref{sec:long}), color=bluelight1!60, fill=bluelight1!60, text width=7em, text=black
                        [
                            Information \\ Focusing, color=bluelight1!40, fill=bluelight1!40,  text width=4em, text=black [
                                1) Attention Sparsification \cite{beltagy2020longformer} \\
                                2) Attention Optimization\cite{chen2024core} \\
                                3) Position independent Training \cite{he2024never}
                                , understanding_leaf, text width=26.5em
                            ]
                        ]
                        [
                            Multipath \\ Optimization, color=bluelight1!40, fill=bluelight1!40,  text width=4em, text=black
                            [
                                1) SFT and RL 
                                \cite{zhang2024longreward} \\
                                2) Retrieval-Augmented 
                                \cite{li2024retrieval} \\
                                3) Recurrent Sequence Optimization \cite{gu2023mamba}
                                , understanding_leaf, text width=26.5em
                            ]
                        ]
                    ]
                    [
                        Multi-turn  Conversation \\ Handling  (\S \ref{sec:multi}), color=bluelight1!60, fill=bluelight1!60, text width=7em, text=black
                        [
                            1) SFT 
                            \cite{teng2024fine,sun2024parrot}{,}
                            2) RL
                            \cite{DBLP:conf/icml/ZhouZPLK24} 
                            , understanding_leaf, text width=32em
                        ]
                    ]
                ]
                [
                    Intention \\ Reasoning  (\S \ref{sec:challenge2}), color=mygreen!80, fill=mygreen!80, text width=6em, text=black
                    [
                        Inconsistent Instruction \\ Resolution  (\S \ref{sec:inconsistent}), color=mygreen!60, fill=mygreen!60, text width=7em, text=black
                        [   
                            Knowledge \\ Updating, color=mygreen!40, fill=mygreen!40, text width=4em, text=black
                            [
                                SituatedQA \cite{DBLP:conf/emnlp/ZhangC21}{,}
                                CDConv \cite{zheng2022cdconv}
                                , reasoing_leaf, text width=26.5em
                            ]
                        ]
                        [
                            Confidence \\  Calibration, color=mygreen!40, fill=mygreen!40, text width=4em, text=black
                            [
                                CD2 \cite{jin2024tug}{,}
                                MacNoise \cite{hong2023so}
                                , reasoing_leaf, text width=26.5em
                            ]
                        ]
                    ]
                    [
                        Misinformation \\ Reasoning  (\S \ref{sec:misinformation}), color=mygreen!60, fill=mygreen!60, text width=7em, text=black
                        [
                            CKL~\cite{DBLP:conf/iclr/JangYYSHKCS22}{,}
                            StreamingQA~\cite{DBLP:conf/icml/LiskaKGTSAdSZYG22}{,}
                            BIPIA~\cite{yi2023benchmarking}{,} \\
                            CAR~\cite{DBLP:conf/eacl/WellerKWLD24}
                            , reasoing_leaf, text width=32em
                        ]
                     ]
                     [
                        Fuzzy Language \\ Interpretation (\S \ref{sec:fuzzy}), color=mygreen!60, fill=mygreen!60, text width=7em, text=black
                        [
                            Folkscope~\cite{DBLP:conf/acl/YuWLBSLG0Y23}{,}
                            Miko~\cite{lu2024miko}{,}
                            ATC~\cite{DBLP:conf/emnlp/DengLC0LC23}
                            , reasoing_leaf, text width=32em
                        ]
                    ]
                    [
                        Intention \\ Clarification \\ Failure (\S \ref{sec:intention})  , color=mygreen!60, fill=mygreen!60, text width=7em, text=black
                        [
                            DeepSeek-R1~\cite{guo2025deepseek}{,}
                            S1~\cite{muennighoff2025s1}{,}\\
                            SoulChat~\cite{chen2023soulchat}{,}
                            MoChat~\cite{DBLP:journals/corr/abs-2410-11404}
                            , reasoing_leaf, text width=32em
                        ]
                    ]
                ]
                [
                    Reliable  \\ Generation  (\S \ref{sec:challenge3}), color=lightkhaki!80, fill=lightkhaki!80, text width=6em, text=black 
                    [
                        Response Stability (\S \ref{sec:response}), color=lightkhaki!60, fill=lightkhaki!60, text width=7em, text=black 
                        [   
                            Fine-tuning \\ LLMs, color=lightkhaki!40, fill=lightkhaki!40, text width=4em, text=black 
                            [
                                EDL~\cite{sensoy2018evidential}{,}
                                DER~\cite{amini2020deep}{,}\\
                                ConformalFactuality~\cite{mohri2024language}{,}
                                LUQ \cite{zhang2024luq}
                                , reliable_leaf, text width=26.5em
                            ]
                        ]
                        [
                            External Tools, color=lightkhaki!40, fill=lightkhaki!40, text width=4em, text=black 
                            [
                                SUE~\cite{liu2024uncertainty}{,}
                                CalibrateMath~\cite{lin2022teaching}
                                , reliable_leaf, text width=26.5em
                            ]
                        ]
                    ]
                    [
                        Alignment  (\S \ref{sec:ailgn}), color=lightkhaki!60, fill=lightkhaki!60, text width=7em, text=black 
                        [   
                            Data Cleaning \\ and Curation, color=lightkhaki!40, fill=lightkhaki!40, text width=4em, text=black 
                            [
                                % JoSEC \cite{DBLP:conf/coling/ChengK022}
                                % {,} 
                                Stochastic Parrots~\cite{10.1145/3442188.3445922} {,}
                                DeepSoftDebias \cite{rakshit-etal-2025-prejudice}
                                , reliable_leaf, text width=26.5em
                            ]
                        ]
                        [
                            RL-based \\ Alignment , color=lightkhaki!40, fill=lightkhaki!40, text width=4em, text=black 
                            [
                                PPO~\cite{ouyang2022training}{,}
                                DPO \cite{DBLP:conf/icml/ZengLMYZW24}{,} GRPO \cite{DBLP:journals/corr/abs-2402-03300}{,} \\
                                RLAIF \cite{DBLP:conf/icml/0001PMMFLBHCRP24}
                                , reliable_leaf, text width=26.5em
                            ]
                        ]
                        [
                            In-context \\ Alignment, color=lightkhaki!40, fill=lightkhaki!40, text width=4em, text=black 
                            [
                                URIAL~\cite{DBLP:conf/iclr/LinRLDSCB024}{,}
                                ICA \cite{huang-etal-2024-far}
                                , reliable_leaf, text width=26.5em
                            ]
                        ]
                    ]
                ]
            ]
        \end{forest}
    } % Ensure all braces are properly closed
    \caption{Challenges and existing solutions between LLMs and Human Intentions.}
    \label{fig:texonomy}
\end{figure*}