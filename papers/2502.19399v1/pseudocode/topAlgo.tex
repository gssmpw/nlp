\begin{algorithm}[tb]
    {
    \small
    \caption{Simulation of an A2A array of ROs}
    \label{alg:sim}
    \begin{algorithmic}[1]
    \State \textbf{Input}: Timing file, circuit netlist, coupling matrix, maximum simulation time, and tolerance.  
    \State \textbf{Output}: A spin assignment for ROs.
    \State \textit{// Step 1: Initialize.}
    \State initial\_events $\xleftarrow{}$ Initialize with events on enable pins 
    \State Net2Event, PendingTrigger $\xleftarrow{}$ map()
    \For {event $\in$ initial\_events} 
        \State Q.add(event)
        \State Net2Event[event.netname]    = event
    \EndFor
    \State timeout $\xleftarrow{}$ False
    \State synchronized $\xleftarrow{}$ False
    \While {!timeout \textbf{and} !synchronized} 
        \State \textit{// Step 2: Pop an event for processing.}
        \State E $\xleftarrow{}$ Q.pop()
        \State \Call{process\_event}{E, Q, Net2Event, PendingTrigger}
        \State \textit{// Step 3: Check timeout and synchronization criteria.}
        \If {Q[0].arrival\_time $>$ \textit{maximum simulation time}}
            \State timeout $\xleftarrow{}$ True
        \EndIf
        \If {synchronization criteria met}
            \State \textit{// Synchronization condition defined in Section~II-C.}
            \State synchronized $\xleftarrow{}$ True
        \EndIf
    \EndWhile
    \State \textit{// Step 4: Assign spin values} 
    \State spin\_vals $\xleftarrow{}$ Assign spins based on the phase difference of each RO with the reference RO
    \State \Return spin\_vals, Net2Event
    \end{algorithmic}
    }
\end{algorithm}