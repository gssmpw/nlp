\resizebox{\linewidth}{!}
{
    \begin{tikzpicture}[thick]

        % Modify the separation between columns
        \setlength{\tabcolsep}{0.15cm}

        % Dataset
        \node (dataset) [dataset] {Dataset};

        % Algorithm
        \node (algorithm) [algorithm, right = 2cm of dataset] {\(\mathcal{A}\)};
        \path (dataset) edge node [annotation, above] {Used by} (algorithm);
        \node [annotation, below = 0.1cm of algorithm] {Partial label\\ranking algorithm};

        % Partial label ranker
        \node (model) [function, right = 2cm of algorithm] {\(\mathcal{M}\)};
        \path (algorithm) edge node [annotation, above] {Train} (model);
        \node [annotation, below = 0.1cm of model] {Partial label\\ranker};

        % Instance
        \node (instance) [instance, above = 2cm of model] {Instance};
        \path (instance) edge node [annotation, above, sloped] {Use} (model);

        % Pair order matrix
        \node (matrix) [preference, right = 2cm of model] {Pair order\\matrix};
        \path (model) edge node [annotation, above] {Fill} (matrix);

        % Rank aggregation algorithm
        \node (aggregation) [algorithm, right = 2cm of matrix] {\(\mathcal{A}\)};
        \path (matrix) edge node [annotation, above] {Input} (aggregation);
        \node [annotation, below = 0.1cm of aggregation] {Rank aggregation\\algorithm};

        % Consensus bucket order
        \node (prediction) [prediction, right = 2cm of aggregation] {\(\B\)};
        \path (aggregation) edge node [annotation, above] {Aggregate} (prediction);
        \node [annotation, below = 0.1cm of prediction] {Consensus bucket\\order};

    \end{tikzpicture}
}
