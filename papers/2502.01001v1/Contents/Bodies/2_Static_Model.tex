\section{Models}
\label{sec:model}


% Consider a community, represented by a network $N=(V,E)$, in which $V=[n]=\{1,2,\dots,n\}$ is the player set, and $E$ is the edge set.
Consider a community with $n$ players playing a public good game.
Each player $i$ needs to decide her effort $x_i \in [\underline{x}_i, \bar{x}_i] \coloneqq X_i$ to invest the public goods, where $\{\underline{x}_i, \bar{x}_i\}_\iinn$ are predetermined and publicly known. 
Let $\bmx = (x_1,...,x_n)$ be the effort profile of all players, and $\bmx_{-i}$ be the effort profile of all players without player $i$. 
Therefore, $(y_i,\bmx_{-i})$ is the effort profile that player $i$ chooses $y_i$ and other players keep their choices the same as $\bmx_{-i}$.
Similarly, define $X = \times_\iinn X_i$ and $X_{-i} = \times_\jnei X_j$.
Let us denote $W=\{w_{ij}\}_{i,j\in [n]}$
as the matrix, in which $w_{ij}$ represents the marginal gain of player $i$
from player $j$'s effort. We normalize $W$
such that $w_{ii}=1$ for any $i\in [n]$
without loss of generality. Our model is more general as it imposes no additional constraints on the network, \eg, $w_{ij}\in [0,1]$ or $w_{ij} = w_{ji}$. 
Any $w_{ij}\in \bbR$ are permitted, provided that $w_{ij}=0$ if there is no edge between $i$ and $j$.
Let $k_i\in K_i$ be the total gain of player $i$ and $\bmk = (k_1,...,k_n) \in K$ be the gain profile of all players. Then we have $k_i = \sum_\jinn w_{ij} x_j$, \ie, the gain of player $i$ linearly depends on her own and other players' efforts, weighted by $\bmw_{i}=(w_{ij})_{j\in [n]}$. Therefore, $\bmk = W \bmx$. 
In addition, we assume $K_i = [\klow_i, \khigh_i]$, where $\klow_i$ and $\khigh_i$ are the minimum and maximum possible gain for player $i$ for ease of representation, respectively\footnote{Since $X_i$ is bounded for all $i$, $\klow_i$ and $\khigh_i$ are well-defined. In fact, we have the explicit expression that $\klow_i = \sum_\jinn \one\{w_{ij} > 0 \} w_{ij}\xlow_j + \one\{w_{ij} < 0 \} w_{ij} \xhigh_j$ and $\khigh_i = \sum_\jinn \one\{w_{ij} > 0 \} w_{ij} \xhigh_j + \one\{w_{ij} < 0 \} w_{ij} \xlow_j$}.
Similarly, we use $K = \times_\iinn K_i$ and define $K_{-i} = \times_\jnei K_j$.


Given an effort profile ${\bmx}=(x_1,x_2,\cdots,x_n)$, each player $i$ has utility function $u_i(\bmx) = f_i(k_i) - c_i(x_i)$, where $f_i$ is a concave and strictly increasing function on $K_i$, and $c_i$ is a convex and strictly increasing function on $X_i$. That is, $f''_i(x)\le 0, f'_i(x)>0$, $c'_i(x) >0, c''_i(x) \ge 0$, meaning that $f_i$ and $c_i$ are twice differentiable. 
%Here we denote $K_i = [\klow_i, \khigh_i]$, where $\klow_i$ and $\khigh_i$ are the minimum and maximum possible gain for player $i$ for ease of representation, respectively\footnote{Since $X_i$ is bounded for all $i$, $\klow_i$ and $\khigh_i$ are well-defined. In fact, we have the explicit expression that $\klow_i = \sum_\jinn \one\{w_{ij} > 0 \} w_{ij}\xlow_j + \one\{w_{ij} < 0 \} w_{ij} \xhigh_j$ and $\khigh_i = \sum_\jinn \one\{w_{ij} > 0 \} w_{ij} \xhigh_j + \one\{w_{ij} < 0 \} w_{ij} \xlow_j$}.
%Similarly we use $K = \times_\iinn K_i$ and define $K_{-i} = \times_\jnei K_j$.
Thus, a networked public goods game $G$ is represented by a four-tuple, $G = \langle \{f_i\}_\iinn, \{c_i\}_\iinn, \{X_i\}_\iinn, W \rangle$, where $K_i$ is omitted since it can be uniquely determined from $G$.
% We also assume the problem normality, which states that 
% $\lim_{x_i \to \infty} f'_i(x_i) = 0$,
% % there is $\bar{x}_i$, $\underline{x}8_i$ for each player $i$ such that $c'_i(\bar{x}_i) \ge f'_i(\bar{x}_i)$ and $c'_i(\underline{x}_i) \le f'_i(\underline{x}_i)$, 
% prohibiting the possibility that utility diverges as $\bmx \to \infty$ (will be proved later).


The utility function  $u_i(\bmx) = f_i(k_i) - c_i(x_i)$ indicates that each player's utility is composed of two parts, the value part $f_i(k_i)$ and the cost part $c_i(x_i)$. Clearly, the value part depends on her gains $k_i$, which are positively or negatively affected by other players' efforts and the cost part only depends on her effort. Notice that one's effort will increase or decrease others' gains, and so will their utilities. Therefore players' efforts can be regarded as public goods (bads).

For the sake of convenience, we use $\bbR_+$ and  $\bbR_{++}$ to denote the set of non-negative real numbers and the set of (strict) positive real numbers, respectively.

To begin with, we introduce some definitions, which are useful for the following analysis.

\input{Contents/Definitions/Lipschitz}

\input{Contents/Definitions/concave}

Intuitively, we may understand the definition to be that $g(\cdot)$ has a directional curvature
less than or equal to $-c$ at any point $x$ inside the convex set $X$ to any direction $y - x$. 


\input{Contents/Definitions/scaled_BRD}

Here the vector $(\frac{\pp u_i}{\pp x_i}(\bmx))_\iinn$ is called the pseudo-gradient of the game $(u_i(\bmx))_\iinn$ at the point $\bmx$. 
In this dynamic, each player updates her strategy, taking the direction as the gradient of her utility, scaled by vector $\bmaa$.

% Here the dynamic scales down the best improvement directional vector of the utility by vector $\bmaa$, $\alpha_i$ in direction $i$.
 
We finally present a property of $c$-concavity function for use in the subsequent theorems.

\input{Contents/Theorems/lem_concave}

For completeness, we only present self-contained proofs for all results in this paper. The remaining proofs are deferred to the Appendix, due to the space limits.

\subsection{Welfare Solutions}
\label{subsec:welfare}
% \myx{Weighted}
We first consider the social optimal solution. This concept is characterized by the social welfare $\SW(\bmx)$, which is defined as the sum of all players' utilities: $\SW(\bmx) = \sum_\iinn (f_i(k_i) - c_i(x_i))$. The social optimal solution is the effort profile $\bmx^*$ that maximizes $\SW(\bmx)$.

Because of the concavity of the social welfare function and the convex, bounded and closed domain $X$, the existence of the social optimal solution is guaranteed.
% the maximum solution does not generally exists since the unbounded variable domain $\bmx\in \bbR^n$. However, by problem normality, constraint the domain of $x_i$ to $[a,b]$ is enough for some $a, b \in \bbR$. We begin with following lemma:
% \begin{lemma}
% \label{lem:bounded}
%     There is universal $b\ge 0$ such that, for any player $i$, given the effort profile of other players, $\bmx_{-i} \in [0,b]^{n-1}$, the optimal effort $x_i^*$ of player $i$ that maximizes social welfare is in $[0,b]$.
% \end{lemma}
% \begin{proof}
% \label{prf:lem:bounded}
%     Denote $D_i = \sum_\jinn |w_{ij}|$ be the maximum total effect of all players effort to player $i$. Let $D = \max_\iinn D_i$. By problem normality, we can find $B>0$ such that 
%     \begin{align*}
%         c'_i(B) >& D\cdot f'_i(B) \quad \forall i\in [n]
%         \\
%         f'_i(-B) >& D\cdot c'_i(-B) \quad \forall i\in [n]
%     \end{align*}
%     Let $a = -B$ and $b = B$, now we verify the condition in the lemma. Fix $\bmx_{-i}$, consider the $\frac{\partial \SW}{\partial x_i}(\bmx)$:
%     \begin{align*}
%         \frac{\partial \SW}{\partial x_i}(\bmx) = \sum_\jinn f'_j(k_j)w_{ji} - c'_i(x_i)
%     \end{align*}
% \end{proof}
However, the social optimal solution may not always have an explicit expression. This limitation motivates us to explore the gradient flow as a dynamic process to achieve the social optimal solution: 
\begin{equation}
\label{eq:SW:BRD}
    \frac{\dd x_i}{\dd t}(t) = \frac{\partial \SW}{\partial x_i}(\bmx(t)),\quad \iinn.
\end{equation}
% We will show in the below theorem that the best-response dynamic converges to the social optimal solution with exponential decay rate.
It is well-established that the gradient flow converges to a stable point, and in the case of a concave function, any stable point corresponds to a global maximum. Specifically, we have the following theorem:
\input{Contents/Theorems/thm_SW_BRD}

Theorem \ref{thm:SW:BRD} establishes that the pseudo-gradient ascent dynamic with homogeneous utility function ($\SW(\bmx)$ in this case), regarded as a continuous-time algorithm, converges to the social optimal point. 
While this result may not be surprising, the technical insight in this proof is helpful for later proofs of the uniqueness of NE.
