\section{Evaluation of IFCA and FeSEM algorithms with different number of clusters} \label{app:tuning}

This section shows the tuning of the number of clusters for the \texttt{IFCA} and \texttt{FeSEM} algorithms, which cannot automatically detect this value. The results of this tuning are shown in Table \ref{tab:tuning_baselines}.

\begin{table}[t]

    \caption{\small{Performance of for baseline algorithms for clustering in FL \texttt{FeSEM}, and \texttt{IFCA}, w.r.t. the number of clusters}}
    \label{tab:tuning_baselines}
    \centering
    \small
    \begin{adjustbox}{width=.35\linewidth}
        \centering
        
        \begin{tabular}{llccc}
            
            \toprule

             & & \makecell{ \textbf{Clustering} \\ \textbf{method}} & \textbf{C} & \textbf{Acc} \\
            
           
            
            \cmidrule{2-5}

            & \multirow{8}{*}{\rotatebox[origin=c]{90}{Cifar100}} & \multirow{4}{*}{\texttt{IFCA}} & 2 & 46.7 \scriptsize{$\pm$ 0.0} \\
            & & & 3 &44.0 \scriptsize{$\pm$ 1.6} \\
            & & & 4 & 45.1 \scriptsize{$\pm$ 2.6} \\
            & & & 5 & 47.5 \scriptsize{$\pm$ 3.5} \\
            
            \cmidrule{3-5}
            
            & & \multirow{4}{*}{\texttt{FeSem}} & 2 & 43.3 \scriptsize{$\pm$ 1.3} \\
            & & & 3 & 48.0 \scriptsize{$\pm$ 1.9} \\
            & & & 4 &50.9 \scriptsize{$\pm$ 1.8} \\
            & & & 5 & 53.4 \scriptsize{$\pm$ 1.8} \\
            
            \cmidrule{2-5}

            & \multirow{8}{*}{\rotatebox[origin=c]{90}{Femnist}} & \multirow{4}{*}{\texttt{IFCA}} & 2 & 76.1 \scriptsize{$\pm$ 0.1} \\
            & & & 3 & 75.9 \scriptsize{$\pm$ 1.9} \\
            & & & 4 & 76.6 \scriptsize{$\pm$ 0.1} \\
            & & & 5 & 76.7 \scriptsize{$\pm$ 0.6} \\
            
            \cmidrule{3-5}
            
            & & \multirow{4}{*}{\texttt{FeSem}} & 2 & 75.6\scriptsize{$\pm$ 0.2} \\
            & & & 3 &75.5\scriptsize{$\pm$ 0.5} \\
            & & & 4 & 75.0\scriptsize{$\pm$ 0.1} \\
            & & & 5 &74.9\scriptsize{$\pm$ 0.1} \\
            
            \bottomrule
        
        \end{tabular}
    \end{adjustbox}
\end{table}
