
\section{Space Lower Bound}
\label{sec:sec-LowerBound}

We derive a space lower bound for any deterministic algorithm that solves the AMM problem over a sliding window. Prior work in \cite{GhashamiLPW16} established a lower bound for matrix sketching, and \cite{LuoCXY21} extended this result to AMM, as stated in the following lemma.

\begin{lemma}[Lower Bound for AMM \cite{LuoCXY21}]\label{lem:lower-bound-amm}
Consider any AMM algorithm with input matrices \( \boldsymbol{X} \in \mathbb{R}^{d_x \times n} \) and \( \boldsymbol{Y} \in \mathbb{R}^{d_y \times n} \), and outputs \( \boldsymbol{A} \in \mathbb{R}^{d_x \times m} \) and \( \boldsymbol{B} \in \mathbb{R}^{d_y \times m} \) that satisfy
\( \|\boldsymbol{X}\boldsymbol{Y}^T - \boldsymbol{A}\boldsymbol{B}^T\|_2 \le \frac{1}{m}(\|\boldsymbol{X}\|_F \|\boldsymbol{Y}\|_F) \).
Assuming a constant number of bits per word, any such algorithm requires at least \( \Omega((d_x+d_y)m) \) bits of space.
\end{lemma}

We also need the following lemma.

\begin{lemma}[\cite{LuoCXY21}]\label{lem:cardinality}
For any \( \delta > 0,  d_x \le d_y \), there exists a set of matrix pairs 
\( \hat{\mathcal{Z}}_l = \{ (\hat{\boldsymbol{X}}_1,\hat{\boldsymbol{Y}}_1), \dots, (\hat{\boldsymbol{X}}_M,\hat{\boldsymbol{Y}}_M) \} \),
where \( M = 2^{\Omega(l(d_y-l)\log(1/\delta))} \) and each \( \hat{\boldsymbol{X}}_i \in \mathbb{R}^{d_x \times l} \) and \( \hat{\boldsymbol{Y}}_i \in \mathbb{R}^{d_y \times l} \) satisfies 
\( \hat{\boldsymbol{X}}_i^T\hat{\boldsymbol{X}}_i = I_l \) and \( \hat{\boldsymbol{Y}}_i^T\hat{\boldsymbol{Y}}_i = I_l \). Besides, for any \( i \neq j \), 
\( \|\hat{\boldsymbol{X}}_i\hat{\boldsymbol{Y}}_i^T - \hat{\boldsymbol{X}}_j\hat{\boldsymbol{Y}}_j^T\| > \sqrt{2\delta} \).
\end{lemma}

Combining Lemmas~\ref{lem:lower-bound-amm} and \ref{lem:cardinality}, we obtain the following lower bound for the AMM problem over a sliding window.

\begin{theorem}[Lower Bound for AMM over Sliding Window]\label{thm:lower-bound-amm-sw}
    Given $\boldsymbol{X}_W\in\mathbb{R}^{(d_x+1)\times N}, \boldsymbol{Y}_W\in\mathbb{R}^{(d_y+1)\times N}$ and $1\leq \left\|\boldsymbol{x}\right\|_2^2, \left\|\boldsymbol{y}\right\|_2^2\leq R+1$ for all $x\in\boldsymbol{X}_W$ and $y\in\boldsymbol{Y}_W$,
    a deterministic algorithm that returns $(\boldsymbol{A}_W, \boldsymbol{B}_W)$ such that
    \(
    \left\| \boldsymbol{X}_W\boldsymbol{Y}_W^T - \boldsymbol{A}_W\boldsymbol{B}_W^T\right\|_2 \leq \frac{\epsilon}{3}\left\|\boldsymbol{X}_W\right\|_F\left\|\boldsymbol{Y}_W\right\|_F
    \)
where $\epsilon = 1/l$ and $N \geq \frac{1}{2\epsilon}\log{\frac{R}{\epsilon}}$, must use $\Omega(\frac{d_x+d_y}{\epsilon}\log{R})$ space.
\end{theorem}








