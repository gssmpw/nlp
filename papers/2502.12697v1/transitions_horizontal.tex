\begin{tikzpicture}[
    beeping/.style = {draw, double, circle, thick},
    listening/.style = {draw, circle},
    edge_false/.style = {dashed,->},
    edge_true/.style = {->},
    invisible/.style={minimum width=0mm,inner sep=0mm,outer sep=0mm}
    ]

    \tikzset{invisible/.style={minimum width=0mm,inner sep=0mm,outer sep=0mm}}
    
    \fill[rounded corners=15pt, fill=gray!20] (-1.5,8) rectangle ++(7,-4.5);
    \node at (4,4) {LEADER};
    \fill[rounded corners=15pt, fill=gray!20] (6,8) rectangle ++(7,-4.5);
    \node at (11.3,4) {NON-LEADER};
        
	\node[listening] (1) at (0,6.25) {$W^\lead$};
	\node[beeping] (2) at (4,6.25) {$B^\lead$};
	\node[listening] (3) at (2,4.25) {$F^\lead$};
	\node[listening] (4) at (7,6.25) {$W^\nlead$};
	\node[beeping] (5) at (11,6.25) {$B^\nlead$};
	\node[listening] (6) at (9,4.25) {$F^\nlead$};

	\draw[edge_false,loop above] (1) to node[midway,above,align=center] {\footnotesize w.p.~$1-p$} (1) ;
	\draw[edge_false] (1) to node[midway,above,align=center] {\footnotesize w.p.~$p$} (2) ;
	\draw[edge_true] (2) to (3) ;
	\draw[edge_false] (3) to (1) ;
    \draw[edge_true,bend left] (3) to (1) ;
    \draw[edge_true,bend left] (1) to (5) ;
	\draw[edge_false,loop above] (4) to (4) ;
	\draw[edge_true] (4) to (5) ;
	\draw[edge_true] (5) to (6) ;
	\draw[edge_false] (6) to (4) ;
    \draw[edge_true,bend left] (6) to (4) ;
\end{tikzpicture}