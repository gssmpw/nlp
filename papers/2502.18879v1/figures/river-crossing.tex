\newcommand{\rcyb}{y_\textsf{b}}
\newcommand{\rcybmin}{\underaccent{\bar}{y}_\textsf{b}}
\newcommand{\rcybmax}{{\bar y}_\textsf{b}}
\newcommand{\rcvx}{v_\textsf{x}}
\newcommand{\rcvy}{v_\textsf{y}}


\begin{figure}
  \begin{center}
  \begin{sllisting}
    \slconstant V, W, T, \sigma \\
    \slunknown \rcyb \\
    \slassume
      V > 0 \commasep
      W > 0 \commasep
      T > 0 \commasep
      \sigma > 0 \\
    \slbound
      \rcybmin : \rcybmin \le \rcyb \commasep
      \rcybmax : \rcybmax \ge \rcyb \\
    \slcontroller \\
      \slind \rcvx \slassign * \seq \rcvy \slassign * \seq \, ?(|\rcvx| \le V \land |\rcvy| \le V) \seq \\
      \slind ?(x \cdot (x + \rcvx T) > 0 \ \lor \  \rcvx = 0 \ \lor \  (\rcvx \ne 0 \land \rcybmax - W \,\le\, y + \rcvy \cdot (-x / \rcvx) \,\le\, \rcybmin + W)) \\
    \slplant
      t \slassign 0 \seq \dlode{x' = \rcvx, y' = \rcvy, t'=1 \dldom t \le T} \\
    \slsafe
      x = 0 \limply |y - \rcyb| \le W \\
    \slinvariant
      x = 0 \limply (\rcybmax - W \le y \le \rcybmin + W) \\
    \slnoise
      \eta \sim \slnormal(0, \sigma^2) \\
    \slobserve
      \omega = \rcyb - |x| \cdot \eta \\
    \slinfer
      \rcybmin, \rcybmax \slassign \slaggregate i: \omega_i \sland |x_i| \cdot \eta_i
  \end{sllisting}
  \end{center}
  \caption{A robot attempting to cross a river at night.}\label{fig:river-crossing}
  \Description[]{}
\end{figure}
