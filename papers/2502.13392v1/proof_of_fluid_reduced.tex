\begin{proof}{Proof of Theorem \ref{thm:fluid-obj-val}}
    By theorem 9.1.8 in page 451 of \cite{PutermanMDP}, we know that there exists an optimal policy that is deterministic. Therefore, we only need to show that for any arbitrary deterministic stationary policy $\pi$, its long-run average daily reward $R(\pi \vert s)$ is upper bounded by the fluid-based LP optimal objective $\bar{R}$. Denote $(\jointtripfulfillaction{}{}(s^t), \jointreroutingaction{}{}(s^t), \jointchargingaction{}{}(s^t), \jointidlingaction{}{}(s^t), \jointpassaction{}{}(s^t))$ as a  deterministic flow of vehicles generated by policy $\pi$ given state $s^t$ at time step $t$. Since the state space of the MDP is finite, we know that given any initial state $s \in \mathcal{S}$ and any deterministic stationary policy $\pi$, the system has a stationary state distribution, denoted as $\rho$. Here, the dependence of $\rho$ on the policy $\pi$ and the initial state $s$ is dropped for notation simplicity. By proposition 8.1.1 in page 333 of \cite{PutermanMDP}, the long-run average daily reward defined in \eqref{eq:long-run-avg-reward} can be written as follows: 
    \begin{align*}
        &R(\pi|s) = \mathbb{E}_{\rho}  \left[\sum_{\time \in [\Horizon]}^{} \sum_{\cartype{} \in \Cartype} \sum_{(\origin, \destination) \in \Region \times \Region} \right. \\
        &\qquad\  \left(\tripfulfillreward{,\origin\destination}{\time}  \sum_{\tripactivetime \in [\Lc]}^{} \jointtripfulfillaction{\cartype{}, (\origin, \destination, \xi)}{}(s^{\time}) + \reroutingreward{,\origin\destination}{\time} \jointreroutingaction{\cartype{}, \destination}{}(s^t) \right)\\ 
        &\quad+ \left. \sum_{\cartype{} \in \Cartype}\sum_{\type \in \Type} \chargingreward{,\type}{\time} \jointchargingaction{\cartype{},\type}{}(s^t) \right].
    \end{align*}
    Given $(\jointtripfulfillaction{}{}(s^t), \jointreroutingaction{}{}(s^t), \jointchargingaction{}{}(s^t), \jointidlingaction{}{}(s^t), \jointpassaction{}{}(s^t))$ for each state $s^t$ at each time step $t \in [\Horizon]$, we define the fleet dispatch fraction vector $(\lptripfulfill{}{t}, \lpreroute{}{t}, \lpcharge{}{t}, \lppass{}{t})$ for each $t \in [T]$:
    \begin{enumerate}
        \item[(i)] $\lptripfulfill{\cartype{}, \triptype{}}{t} := \frac{1}{\Size} \mathbb{E}_{\rho}[ \jointtripfulfillaction{\cartype{}, \triptype{}}{}(s^t)]$, $\forall \cartype{} \in \Cartype$, $\triptype{} \in \Triptype$, and $\time \in [\Horizon]$,
        \item[(ii)] $\lpreroute{\cartype{}, \region}{t} := \frac{1}{\Size} \mathbb{E}_{\rho}[\jointreroutingaction{(\origin, 0, \battery), \region}{}(s^t)]$, $\forall \cartype{} := (\origin, 0, \battery) \in \Cartype$, $\region \in \Region$, $\region \neq \origin$, and $\time \in [\Horizon]$,
        \item[(iii)] $\lpreroute{(\region, 0, \battery), \region}{t} := \frac{1}{\Size} \mathbb{E}_{\rho}[\jointidlingaction{(\region, 0, \battery)}{}(s^t)]$, $\forall \cartype{} := (\region, 0, \battery) \in \Cartype$, $\region \in \Region$, and $\time \in [\Horizon]$,
        \item[(iv)] $\lpcharge{\cartype{}, \type}{t} := \frac{1}{\Size} \mathbb{E}_{\rho}[\jointchargingaction{\cartype{}, \type}{}(s^t)]$, $\forall \cartype{} \in \Cartype$, $\type \in \Type$, and $\time \in [\Horizon]$,
        \item[(v)] $\lppass{\cartype{}}{t} := \frac{1}{\Size} \mathbb{E}_{\rho}[\jointpassaction{\cartype{}}{}(s^t)]$, $\forall \cartype{} \in \Cartype$ and $\time \in [\Horizon]$,
    \end{enumerate}
    where the expectations are taken over the states $s^t$. First, given that $(\jointtripfulfillaction{}{}(s^t), \jointreroutingaction{}{}(s^t), \jointchargingaction{}{}(s^t), \jointidlingaction{}{}(s^t), \jointpassaction{}{}(s^t))$ is a feasible fleet flow that satisfies all constraints in Sec. \ref{sec:model}, we want to show that $(\lptripfulfill{}{}, \lpreroute{}{}, \lpcharge{}{}, \lppass{}{})$ is a feasible solution to the fluid-based LP.

    First, we show that the constraint \eqref{eq:fluid-ev-conservation-red} holds. The left-hand side aggregates all vehicles from $t-1$ that transitions to status $\cartype{}$, while the right-hand side aggregates vehicles of status $\cartype{}$ assigned to take all actions at time $t$. Both sides equal to the fraction of vehicles with status $c$ at time $t$, and thus \eqref{eq:fluid-ev-conservation-red} holds.

    Next, we show that the constraint \eqref{eq:fluid-passenger-flow-cap-red} holds. By \eqref{eq:setup-trip-state-transition}, we obtain that for any $\origin, \destination \in \Region$ and any $t \in [\Horizon]$, %\textcolor{red}{why does the flow of time $t-1$, $f^{t-1}$, depend on $s^t$ not on $s^{t-1}$?}
    \begin{align*}
        0 \stackrel{(a)}{\leq}& \state{(\origin, \destination, \Lc)}{\time} - \sum_{\cartype{} \in \Cartype} \jointtripfulfillaction{\cartype{}, (\origin, \destination, \Lc)}{}(s^t)\\
        \stackrel{(b)}{=}& \state{(\origin, \destination, \Lc - 1)}{\time - 1} - \sum_{\cartype{} \in \Cartype} \left(\jointtripfulfillaction{\cartype{}, (\origin, \destination, \Lc)}{}(s^t) + \jointtripfulfillaction{\cartype{}, (\origin, \destination, \Lc - 1)}{}(s^{t-1}) \right)\\
        =& \dots\\
        \stackrel{(c)}{=}& \state{(\origin, \destination, 0)}{\time - \Lc} - \sum_{\cartype{} \in \Cartype} \sum_{\tripactivetime \in [\Lc]} \jointtripfulfillaction{\cartype{}, (\origin, \destination, \Lc - \tripactivetime)}{}(s^{\time - \tripactivetime})\\
        \stackrel{(d)}{\leq}& \arrnum{\origin\destination}{\time - \Lc} - \sum_{\cartype{} \in \Cartype} \sum_{\tripactivetime \in [\Lc]} \jointtripfulfillaction{\cartype{}, (\origin, \destination, \Lc - \tripactivetime)}{}(s^{\time - \tripactivetime}),
    \end{align*}
    where (a) is due to the constraint \eqref{eq:setup-trip-fulfill-cap}; (b) and (c) are obtained by \eqref{eq:setup-trip-state-transition} under the condition that $1 \leq \tripactivetime \leq \Lc$; and (d) is because the trip state $\state{(\origin, \destination, 0)}{\time - \Lc}$ is upper bounded by $\arrnum{\origin\destination}{\time - \Lc}$ as in \eqref{eq:setup-trip-state-transition} for $\tripactivetime = 0$.
    Thus, we obtain 
    \begin{align*}
        \arrnum{\origin\destination}{\time - \Lc} \geq& \sum_{\cartype{} \in \Cartype} \sum_{\tripactivetime \in [\Lc]} \jointtripfulfillaction{\cartype{}, (\origin, \destination, \Lc - \tripactivetime)}{}(s^{\time - \tripactivetime}) \\
        =& \sum_{\battery \in [\range]} \sum_{\timetoarrival \in [\Lp]} \sum_{\tripactivetime \in [\Lc]} \jointtripfulfillaction{(\origin, \timetoarrival, \battery), (\origin, \destination, \Lc - \tripactivetime)}{}(s^{\time - \tripactivetime}).
    \end{align*}
We shift $t$ to be $t+L_c$, then the above inequality can be re-written as follows: \begin{align*}
        &\frac{1}{\Size} \arrnum{\origin\destination}{\time} \\\geq& \frac{1}{\Size} \sum_{\battery \in [\range]} \sum_{\timetoarrival \in [\Lp]} \sum_{\tripactivetime \in [\Lc]} \jointtripfulfillaction{(\origin, \timetoarrival, \battery), (\origin, \destination, L_c- \tripactivetime)}{}(s^{\time + L_c - \tripactivetime})\\
        =&\frac{1}{\Size} \sum_{\battery \in [\range]} \sum_{\timetoarrival \in [\Lp]} \sum_{\tripactivetime \in [\Lc]} \jointtripfulfillaction{(\origin, \timetoarrival, \battery), (\origin, \destination, \tripactivetime)}{}(s^{\time + \tripactivetime}), 
    \end{align*}
    where the second equation is due to swapping $L_c - \xi$ as $\xi$. Taking expectation on both sides, we obtain
    \begin{align*}
        \frac{1}{\Size} \arrrate{\origin \destination}{\time} =& \mathbb{E}_{\rho}\left[\frac{1}{\Size} \arrnum{\origin\destination}{\time}(s^t) \right]\\
        \geq& \frac{1}{\Size} \mathbb{E}_{\rho}\left[\sum_{\battery \in [\range]} \sum_{\timetoarrival \in [\Lp]} \sum_{\tripactivetime \in [\Lc]} \jointtripfulfillaction{(\origin, \timetoarrival, \battery), (\origin, \destination, \tripactivetime)}{}(s^{\time + \tripactivetime}) \right]\\
        =& \sum_{\battery \in [\range]} \sum_{\timetoarrival \in [\Lp]} \sum_{\tripactivetime \in [\Lc]} \mathbb{E}_{\rho}\left[\frac{1}{\Size} \jointtripfulfillaction{(\origin, \timetoarrival, \battery), (\origin, \destination, \tripactivetime)}{}(s^{\time + \tripactivetime})\right]\\
        =& \sum_{\cartype{} = (\origin, \timetoarrival, \battery) \in \Cartype} \sum_{\triptype{} = (\origin, \destination, \tripactivetime) \in \Triptype} \lptripfulfill{\cartype{}, \triptype{}}{\time + \tripactivetime}.
    \end{align*}

    The constraint \eqref{eq:fluid-charging-cap-red} holds because:
    \begin{align*}
        &\sum_{\plugremaintime \in [\chargetime]} \sum_{\cartype{} = (\region, 0, \battery) \in \Cartype} \lpcharge{\cartype{}, \type}{t-\plugremaintime} \\
        =& \frac{1}{\Size} \mathbb{E}_{\rho} \left[\sum_{\plugremaintime \in [\chargetime]} \sum_{\cartype{} = (\region, 0, \battery) \in \Cartype} \jointchargingaction{\cartype{}, \type}{}(s^{t-\plugremaintime})\right] \\
        \stackrel{(a)}{=}& \frac{1}{\Size} \sum_{\plugremaintime = 0}^{\chargetime - 1} s_{(\origin, \type, \chargetime - 1)}^{t - \plugremaintime}\\
        \stackrel{(b)}{=}& \frac{1}{\Size} s_{(\origin, \type, 1)}^{t-1} + \frac{1}{\Size} \sum_{\plugremaintime = 1}^{\chargetime - 1} s_{(\origin, \type, \plugremaintime)}^{t}\\
        \stackrel{(c)}{\leq}& \frac{1}{\Size} s_{(\origin, \type, 0)}^{t} + \frac{1}{\Size} \sum_{\plugremaintime = 1}^{\chargetime - 1} s_{(\origin, \type, \plugremaintime)}^{t}\\
        \stackrel{(d)}{=}& \frac{1}{\Size} \n{\region}{\type},
    \end{align*}
    where (a) is obtained by the case of $\plugremaintime = \chargetime - 1$ in \eqref{eq:setup-plug-state-transition}; (b) is obtained by the case of $0 < \plugremaintime < \chargetime - 1$ in \eqref{eq:setup-plug-state-transition}; (c) is obtained by the case of $\plugremaintime = 0$ in \eqref{eq:setup-plug-state-transition} and the constraint in \eqref{eq:setup-charging-cap}; and (d) is obtained by \eqref{eq:setup-charger-total-num}.

    Constraints \eqref{eq:fluid-passenger-flow-battery-sufficiency-red} and \eqref{eq:fluid-rerouting-flow-battery-sufficiency-red} can be obtained by the constraints \eqref{eq:setup-passenger-carrying-flow} and \eqref{eq:setup-rerouting-flow} in Sec. \ref{sec:model}. The constraint \eqref{eq:fluid-total-flow-red} holds due to \eqref{eq:setup-car-total-flow}. Finally, the constraint \eqref{eq:fluid-nonneg-red} holds because all fleet actions must be non-negative as defined in Sec. \ref{sec:model}. Hence, we obtain that $(\lptripfulfill{}{}(s^t), \lpreroute{}{}(s^t), \lpcharge{}{}(s^t), \lppass{}{}(s^t))$ is a feasible solution to the fluid-based LP.
    
    Therefore, we have
    \begin{align*}
        &R(\pi \vert s) = \mathbb{E}_{\rho}  \left[\sum_{\time \in [\Horizon]}^{} \sum_{\cartype{} \in \Cartype} \sum_{(\origin, \destination) \in \Region \times \Region} \right. \\
        &\qquad\  \left(\tripfulfillreward{,\origin\destination}{\time}  \sum_{\tripactivetime \in [\Lc]}^{} \jointtripfulfillaction{\cartype{}, (\origin, \destination, \xi)}{}(s^{\time}) + \reroutingreward{,\origin\destination}{\time} \jointreroutingaction{\cartype{}, \destination}{}(s^t) \right)\\ 
        &\quad+ \left. \sum_{\cartype{} \in \Cartype}\sum_{\type \in \Type} \chargingreward{,\type}{\time} \jointchargingaction{\cartype{},\type}{}(s^t) \right]\\
        \stackrel{(a)}{=}& \sum_{\time \in [\Horizon]}^{} \sum_{\cartype{} \in \Cartype} \sum_{(\origin, \destination) \in \Region \times \Region} \\
        &\qquad\ \left( \tripfulfillreward{,\origin\destination}{\time} \sum_{\tripactivetime \in [\Lc]}^{} \mathbb{E}_{\rho}  \left[\jointtripfulfillaction{\cartype{}, (\origin, \destination, \xi)}{}(s^{\time}) \right] \right. \\ 
        &\quad+ \left. \reroutingreward{,\origin\destination}{\time} \mathbb{E}_{\rho}  \left[\jointreroutingaction{\cartype{}, \destination}{}(s^t) \right]\right) \\ 
        &\quad+ \sum_{\cartype{} \in \Cartype}\sum_{\type \in \Type} \chargingreward{,\type}{\time} \mathbb{E}_{\rho}  \left[\jointchargingaction{\cartype{},\type}{}(s^t) \right]\\
        \stackrel{(b)}{=}& \Size \cdot \left[\sum_{\time \in [\Horizon]}^{} \sum_{\cartype{} \in \Cartype} \sum_{(\origin, \destination) \in \Region \times \Region} \right. \\
        &\qquad\  \left(\tripfulfillreward{,\origin\destination}{\time}  \sum_{\tripactivetime \in [\Lc]}^{} \lptripfulfill{\cartype{}, (\origin, \destination, \xi)}{\time} + \reroutingreward{,\origin\destination}{\time} \lpreroute{\cartype{}, \destination}{\time} \right)\\ 
        &\quad+ \left. \sum_{\cartype{} \in \Cartype}\sum_{\type \in \Type} \chargingreward{,\type}{\time} \lpcharge{\cartype{},\type}{\time} \right]\\
        \stackrel{(c)}{\leq}& \bar{R}, 
    \end{align*}
    where (a) is obtained by the linearity of expectation, (b) is by plugging in (i)-(v) above, (c) is because $(\lptripfulfill{}{}, \lpreroute{}{}, \lpslack{}{}, \lpcharge{}{}, \lppass{}{})$ is a feasible solution to the fluid-based LP. As a result, the associated reward function value is upper bounded by the optimal value $\bar{R}$.
    \hfill $\square$
\end{proof}