% Outdated Version
\iffalse
\definecolor{darkgreen}{RGB}{0,150,0}
\begin{table*}[t!]
    \centering
\begin{adjustbox}{max width=\textwidth}
    \begin{tabular}{c | c c | c c | c c }
        \toprule
         \multirow{3}{*}{\textbf{Type}} & \multicolumn{6}{c}{\textbf{Syn CoT Models}} \\ \cline{2-7}
         & \multicolumn{2}{c}{DSC (6.7B)} & \multicolumn{2}{c}{Qwen (7B)} & \multicolumn{2}{c}{CodeS (7B)} \\ \cline{2-7}
         & SFT & DPO & SFT & DPO & SFT & DPO \\ \midrule
        \multicolumn{7}{c}{\textbf{NLQ Perturbations}} \\ \midrule

        \multirow{3}{*}{keyword-synonym} & 57.9	& 59.9	& 54.2	&55.6	&52.0	&53.3 \\     
        &54.5	&57.1	&52.7	&54.0	&49.2	&52.4 \\
        &59.0	&60.6	&57.7	&58.3	&54.4	&58.1 \\ \midrule

        \multirow{3}{*}{keyword-carrier} & 57.9	& 59.9	& 54.2	&55.6	&52.0	&53.3 \\     
        &54.5	&57.1	&52.7	&54.0	&49.2	&52.4 \\
        &59.0	&60.6	&57.7	&58.3	&54.4	&58.1 \\ \midrule

        \multirow{3}{*}{column-synonym} & 57.9	& 59.9	& 54.2	&55.6	&52.0	&53.3 \\     
        &54.5	&57.1	&52.7	&54.0	&49.2	&52.4 \\
        &59.0	&60.6	&57.7	&58.3	&54.4	&58.1 \\ \midrule

        \multirow{3}{*}{column-carrier} & 57.9	& 59.9	& 54.2	&55.6	&52.0	&53.3 \\     
        &54.5	&57.1	&52.7	&54.0	&49.2	&52.4 \\
        &59.0	&60.6	&57.7	&58.3	&54.4	&58.1 \\ \midrule

        \multirow{3}{*}{column-attribute} & 57.9	& 59.9	& 54.2	&55.6	&52.0	&53.3 \\     
        &54.5	&57.1	&52.7	&54.0	&49.2	&52.4 \\
        &59.0	&60.6	&57.7	&58.3	&54.4	&58.1 \\ \midrule 

        \multirow{3}{*}{column-value} & 57.9	& 59.9	& 54.2	&55.6	&52.0	&53.3 \\     
        &54.5	&57.1	&52.7	&54.0	&49.2	&52.4 \\
        &59.0	&60.6	&57.7	&58.3	&54.4	&58.1 \\ \midrule

        \multirow{3}{*}{value-synonym} & 57.9	& 59.9	& 54.2	&55.6	&52.0	&53.3 \\     
        &54.5	&57.1	&52.7	&54.0	&49.2	&52.4 \\
        &59.0	&60.6	&57.7	&58.3	&54.4	&58.1 \\ \midrule

        \multirow{3}{*}{multitype} & 57.9	& 59.9	& 54.2	&55.6	&52.0	&53.3 \\     
        &54.5	&57.1	&52.7	&54.0	&49.2	&52.4 \\
        &59.0	&60.6	&57.7	&58.3	&54.4	&58.1 \\ \midrule
        
        \multirow{3}{*}{others} & 57.9	& 59.9	& 54.2	&55.6	&52.0	&53.3 \\     
        &54.5	&57.1	&52.7	&54.0	&49.2	&52.4 \\
        &59.0	&60.6	&57.7	&58.3	&54.4	&58.1 \\ \midrule

        \multirow{3}{*}{\textbf{Average}} & & & & & & \\
        & & & & & & \\ 
        & & & & & & \\ 
        
        \bottomrule
    \end{tabular}
\end{adjustbox}
    \caption{Syn CoT model performance on NLQ perturbations of Dr.Spider dataset. Names of base models are abbreviated. \textbf{DSC (6.7B)}: Deepseek-coder-6.7b-instruct; \textbf{Qwen (7B)}: Qwen2.5-7B-Instruct; \textbf{CodeS (7B)}: CodeS-7b. The model's performance for a specific perturbation type is listed from top to bottom under the three metrics: greedy, pass@1, and maj@K. \textbf{In this setting, we directly assess best checkpoint on Spider Dev.}} 
\end{table*} 
\fi

% Syn CoT Table
\definecolor{darkgreen}{RGB}{0,150,0}
\begin{table*}[t!]
    \centering
\begin{adjustbox}{max width=\textwidth}
    \begin{tabular}{c | l | c c | c c | c c }
        \toprule
         \multirow{3}{*}{\textbf{Type}} & \multirow{3}{*}{\textbf{Metrics}} & \multicolumn{6}{c}{\textbf{Syn CoT Models}} \\ \cline{3-8}
         & & \multicolumn{2}{c}{DSC (6.7B)} & \multicolumn{2}{c}{Qwen (7B)} & \multicolumn{2}{c}{CodeS (7B)} \\ \cline{3-8}
         & & SFT & DPO & SFT & DPO & SFT & DPO \\ \midrule
        \multicolumn{8}{c}{\textbf{NLQ Perturbations}} \\ \midrule

        \multirow{3}{*}{keyword-synonym} & Greedy & 67.4 & 71.2 (\textcolor{red}{+3.8}) & 66.7 & 68.9 (\textcolor{red}{+2.2}) & 62.5 & 71.9 (\textcolor{red}{+9.4}) \\
        & Pass@1 & 66.9 & 70.4 (\textcolor{red}{+3.5}) & 65.6 & 68.5 (\textcolor{red}{+2.9}) & 60.6 & 68.8 (\textcolor{red}{+8.2}) \\
        & Maj@K & 69.9 & 73.5 (\textcolor{red}{+3.6}) & 69.7 & 71.5 (\textcolor{red}{+1.8}) & 66.7 & 72.8 (\textcolor{red}{+6.1}) \\ \midrule

        \multirow{3}{*}{keyword-carrier} & Greedy & 76.4 & 80.7 (\textcolor{red}{+4.3}) & 77.2 & 78.9 (\textcolor{red}{+1.7}) & 77.4 & 84.5 (\textcolor{red}{+7.1}) \\
        & Pass@1 & 78.8 & 81.6 (\textcolor{red}{+2.8}) & 74.9 & 76.3 (\textcolor{red}{+1.4}) & 77.1 & 83.2 (\textcolor{red}{+6.1}) \\
        & Maj@K & 79.9 & 83.7 (\textcolor{red}{+3.8}) & 76.7 & 78.9 (\textcolor{red}{+2.2}) & 78.9 & 85.7 (\textcolor{red}{+6.8}) \\ \midrule

        \multirow{3}{*}{column-synonym} & Greedy & 57.9	& 59.9	(\textcolor{red}{+2.0})& 54.2	&55.6 (\textcolor{red}{+1.4})&52.0	&53.3 (\textcolor{red}{+1.3})\\     
        & Pass@1 & 54.5	&57.1 (\textcolor{red}{+2.6})	&52.7	&54.0 (\textcolor{red}{+1.3})	&49.2	&52.4 (\textcolor{red}{+3.2}) \\
        & Maj@K& 59.0	&60.6 (\textcolor{red}{+1.6})	&57.7	&58.3 (\textcolor{red}{+0.6})	&54.4	&58.1 (\textcolor{red}{+3.7}) \\ \midrule

        \multirow{3}{*}{column-carrier} & Greedy & 67.5 & 71.8 (\textcolor{red}{+4.3}) & 70.6 & 71.2 (\textcolor{red}{+0.6}) & 68.6 & 73.7 (\textcolor{red}{+5.1}) \\
        & Pass@1 & 67.2 & 72.5 (\textcolor{red}{+5.3}) & 68.2 & 70.2 (\textcolor{red}{+2.0}) & 65.9 & 72.8 (\textcolor{red}{+6.9}) \\
        & Maj@K & 74.3 & 75.8 (\textcolor{red}{+1.5}) & 72.7 & 74.4 (\textcolor{red}{+1.7}) & 73.9 & 77.7 (\textcolor{red}{+3.8}) \\ \midrule

        \multirow{3}{*}{column-attribute} & Greedy & 67.2 & 68.1 (\textcolor{red}{+0.9}) & 57.1 & 58.0 (\textcolor{red}{+0.9}) & 52.1 & 56.3 (\textcolor{red}{+4.2}) \\
        & Pass@1 & 60.7 & 64.0 (\textcolor{red}{+3.3}) & 55.7 & 57.8 (\textcolor{red}{+2.1}) & 49.1 & 53.4 (\textcolor{red}{+4.3}) \\
        & Maj@K & 70.6 & 71.4 (\textcolor{red}{+0.8}) & 61.3 & 63.0 (\textcolor{red}{+1.7}) & 58.0 & 59.7 (\textcolor{red}{+1.7}) \\
         \midrule 

        \multirow{3}{*}{column-value} & Greedy & 76.0 & 76.0 \phantom{(+0.3)} & 75.7 & 76.6 (\textcolor{red}{+0.9}) & 74.3 & 77.6 (\textcolor{red}{+3.3}) \\
        & Pass@1 & 73.5 & 75.1 (\textcolor{red}{+1.6}) & 72.8 & 73.7 (\textcolor{red}{+0.9}) & 70.9 & 74.1 (\textcolor{red}{+3.2}) \\
        & Maj@K & 77.3 & 78.0 (\textcolor{red}{+0.7}) & 77.3 & 78.0 (\textcolor{red}{+0.7}) & 75.3 & 78.9 (\textcolor{red}{+3.6}) \\
        \midrule

        \multirow{3}{*}{value-synonym} & Greedy & 67.2 & 68.0 (\textcolor{red}{+0.8}) & 63.6 & 64.4 (\textcolor{red}{+0.8}) & 64.2 & 65.2 (\textcolor{red}{+1.0}) \\
        & Pass@1 & 64.6 & 66.0 (\textcolor{red}{+1.4}) & 61.6 & 63.3 (\textcolor{red}{+1.7}) & 60.8 & 63.5 (\textcolor{red}{+2.7}) \\
        & Maj@K & 68.6 & 69.4 (\textcolor{red}{+0.8}) & 65.0 & 67.0 (\textcolor{red}{+2.0}) & 66.6 & 67.2 (\textcolor{red}{+0.6}) \\ \midrule

        \multirow{3}{*}{multitype} & Greedy & 63.6 & 66.5 (\textcolor{red}{+2.9}) & 61.0 & 63.5 (\textcolor{red}{+2.5}) & 60.8 & 63.9 (\textcolor{red}{+3.1}) \\
        & Pass@1 & 61.6 & 65.1 (\textcolor{red}{+3.5}) & 60.5 & 62.4 (\textcolor{red}{+1.9}) & 57.8 & 62.0 (\textcolor{red}{+4.2}) \\
        & Maj@K & 66.5 & 68.5 (\textcolor{red}{+2.0}) & 64.9 & 66.8 (\textcolor{red}{+1.9}) & 64.4 & 67.1 (\textcolor{red}{+2.7}) \\ \midrule
        
        \multirow{3}{*}{others} & Greedy & 73.2 & 75.5 (\textcolor{red}{+2.3}) & 73.5 & 75.3 (\textcolor{red}{+1.8}) & 70.6 & 74.9 (\textcolor{red}{+4.3}) \\
        & Pass@1 & 72.8 & 75.1 (\textcolor{red}{+2.3}) & 71.7 & 73.3 (\textcolor{red}{+1.6}) & 68.9 & 73.3 (\textcolor{red}{+4.4}) \\
        & Maj@K & 76.2 & 77.7 (\textcolor{red}{+1.5}) & 76.1 & 77.0 (\textcolor{red}{+0.9}) & 73.4 & 76.6 (\textcolor{red}{+3.2}) \\ \midrule

        \multirow{3}{*}{\textbf{Average}} & Greedy & 67.6 & 69.9 (\textcolor{red}{+2.3}) & 62.0 & 63.1 (\textcolor{red}{+1.1}) & 61.0 & 65.4 (\textcolor{red}{+4.4}) \\
& Pass@1 & 65.4 & 67.7 (\textcolor{red}{+2.3}) & 59.3 & 61.3 (\textcolor{red}{+2.0}) & 59.4 & 63.6 (\textcolor{red}{+4.2}) \\
& Maj@K & 69.4 & 71.5 (\textcolor{red}{+2.1}) & 66.3 & 67.3 (\textcolor{red}{+1.0}) & 66.3 & 68.6 (\textcolor{red}{+2.3}) \\

        
        \bottomrule
    \end{tabular}
\end{adjustbox}
    \caption{Syn CoT model performance on NLQ perturbations of Dr.Spider dataset. Names of base models are abbreviated. \textbf{DSC (6.7B)}: Deepseek-coder-6.7b-instruct; \textbf{Qwen (7B)}: Qwen2.5-7B-Instruct; \textbf{CodeS (7B)}: CodeS-7b. \textbf{In this setting, we directly assess best checkpoint on Spider Dev.}} 
    \label{tab:drSpiderNLQCoT}
\end{table*}

% Vanilla Table
\definecolor{darkgreen}{RGB}{0,150,0}
\begin{table*}[t!]
    \centering
\begin{adjustbox}{max width=\textwidth}
    \begin{tabular}{c | l | c c | c c | c c }
        \toprule
         \multirow{3}{*}{\textbf{Type}} & \multirow{3}{*}{\textbf{Metrics}} & \multicolumn{6}{c}{\textbf{Vanilla Models}} \\ \cline{3-8}
         & & \multicolumn{2}{c}{DSC (6.7B)} & \multicolumn{2}{c}{Qwen (7B)} & \multicolumn{2}{c}{CodeS (7B)} \\ \cline{3-8}
         & & SFT & DPO & SFT & DPO & SFT & DPO \\ \midrule
        \multicolumn{8}{c}{\textbf{NLQ Perturbations}} \\ \midrule

        \multirow{3}{*}{keyword-synonym} & Greedy & 69.6 & 69.8 (\textcolor{red}{+0.2}) & 68.2 & 68.3 (\textcolor{red}{+0.1}) & 66.8 & 67.7 (\textcolor{red}{+0.9}) \\
        & Pass@1 & 68.7 & 68.8 (\textcolor{red}{+0.1}) & 67.1 & 67.0 (\textcolor{darkgreen}{-0.1}) & 65.3 & 66.0 (\textcolor{red}{+0.7}) \\
        & Maj@K & 70.9 & 70.4 (\textcolor{darkgreen}{-0.5}) & 69.4 & 69.5 (\textcolor{red}{+0.1}) & 68.9 & 68.5 (\textcolor{darkgreen}{-0.4}) \\
        \midrule

        \multirow{3}{*}{keyword-carrier} & Greedy & 80.7 & 81.5 (\textcolor{red}{+0.8}) & 80.2 & 80.5 (\textcolor{red}{+0.3}) & 81.7 & 81.2 (\textcolor{darkgreen}{-0.5}) \\
& Pass@1 & 80.2 & 80.3 (\textcolor{red}{+0.1}) & 79.0 & 79.2 (\textcolor{red}{+0.2}) & 79.8 & 79.9 (\textcolor{red}{+0.1}) \\
& Maj@K & 81.0 & 81.0 \phantom{(+0.3)} & 80.7 & 79.9 (\textcolor{darkgreen}{-0.8}) & 83.0 & 84.0 (\textcolor{red}{+1.0}) \\ \midrule

        \multirow{3}{*}{column-synonym} & Greedy & 59.9 & 60.0 (\textcolor{red}{+0.1}) & 57.2 & 57.4 (\textcolor{red}{+0.2}) & 54.9 & 55.1 (\textcolor{red}{+0.2}) \\
& Pass@1 & 59.6 & 59.4 (\textcolor{darkgreen}{-0.2}) & 55.7 & 56.0 (\textcolor{red}{+0.3}) & 54.2 & 54.3 (\textcolor{red}{+0.1}) \\
& Maj@K & 62.0 & 61.6 (\textcolor{darkgreen}{-0.4}) & 59.0 & 59.3 (\textcolor{red}{+0.3}) & 56.8 & 57.0 (\textcolor{red}{+0.2}) \\ \midrule

        \multirow{3}{*}{column-carrier} & Greedy & 68.4 & 68.2 (\textcolor{darkgreen}{-0.2}) & 74.6 & 74.3 (\textcolor{darkgreen}{-0.3}) & 77.2 & 77.4 (\textcolor{red}{+0.2}) \\
& Pass@1 & 68.5 & 68.6 (\textcolor{red}{+0.1}) & 72.2 & 72.5 (\textcolor{red}{+0.3}) & 75.0 & 74.9 (\textcolor{darkgreen}{-0.1}) \\
& Maj@K & 70.1 & 69.8 (\textcolor{darkgreen}{-0.3}) & 76.7 & 76.2 (\textcolor{darkgreen}{-0.5}) & 78.4 & 77.9 (\textcolor{darkgreen}{-0.5}) \\
 \midrule

        \multirow{3}{*}{column-attribute} & Greedy & 59.7 & 59.7 \phantom{(+0.3)} & 49.6 & 50.4 (\textcolor{red}{+0.8}) & 47.9 & 47.9 \phantom{(+0.3)} \\
& Pass@1 & 58.6 & 58.7 (\textcolor{red}{+0.1}) & 49.4 & 49.3 (\textcolor{darkgreen}{-0.1}) & 46.7 & 47.4 (\textcolor{red}{+0.7}) \\
& Maj@K & 64.7 & 65.5 (\textcolor{red}{+0.8}) & 53.8 & 53.8 \phantom{(+0.3)} & 51.3 & 54.6 (\textcolor{red}{+3.3}) \\
 \midrule 

        \multirow{3}{*}{column-value} & Greedy & 74.7 & 74.7 \phantom{(+0.3)} & 76.6 & 76.6 \phantom{(+0.3)} & 71.4 & 71.7 (\textcolor{red}{+0.3}) \\
& Pass@1 & 74.2 & 74.1 (\textcolor{darkgreen}{-0.1}) & 73.3 & 73.5 (\textcolor{red}{+0.2}) & 70.1 & 70.8 (\textcolor{red}{+0.7}) \\
& Maj@K & 75.7 & 75.7 \phantom{(+0.3)} & 76.6 & 76.0 (\textcolor{darkgreen}{-0.6}) & 75.3 & 74.3 (\textcolor{darkgreen}{-1.0}) \\
 \midrule

        \multirow{3}{*}{value-synonym} & Greedy & 67.0 & 66.8 (\textcolor{darkgreen}{-0.2}) & 65.2 & 65.6 (\textcolor{red}{+0.4}) & 64.2 & 64.0 (\textcolor{darkgreen}{-0.2}) \\
& Pass@1 & 66.1 & 66.4 (\textcolor{red}{+0.3}) & 63.4 & 63.9 (\textcolor{red}{+0.5}) & 62.9 & 63.3 (\textcolor{red}{+0.4}) \\
& Maj@K & 70.0 & 69.2 (\textcolor{darkgreen}{-0.8}) & 66.2 & 66.4 (\textcolor{red}{+0.2}) & 66.0 & 65.4 (\textcolor{darkgreen}{-0.6}) \\
 \midrule

        \multirow{3}{*}{multitype} & Greedy & 63.7 & 63.7 \phantom{(+0.3)} & 62.0 & 62.2 (\textcolor{red}{+0.2}) & 63.1 & 63.3 (\textcolor{red}{+0.2}) \\
& Pass@1 & 62.9 & 63.2 (\textcolor{red}{+0.3}) & 60.7 & 61.0 (\textcolor{red}{+0.3}) & 61.2 & 61.5 (\textcolor{red}{+0.3}) \\
& Maj@K & 65.1 & 65.1 \phantom{(+0.3)} & 64.0 & 64.2 (\textcolor{red}{+0.2}) & 64.1 & 64.7 (\textcolor{red}{+0.6}) \\
 \midrule
        
        \multirow{3}{*}{others} & Greedy & 75.6 & 75.5 (\textcolor{darkgreen}{-0.1}) & 75.4 & 75.4 \phantom{(+0.3)} & 73.6 & 73.7 (\textcolor{red}{+0.1}) \\
& Pass@1 & 74.9 & 75.0 (\textcolor{red}{+0.1}) & 73.9 & 74.1 (\textcolor{red}{+0.2}) & 72.7 & 72.8 (\textcolor{red}{+0.1}) \\
& Maj@K & 76.7 & 76.8 (\textcolor{red}{+0.1}) & 76.4 & 76.3 (\textcolor{darkgreen}{-0.1}) & 75.0 & 74.6 (\textcolor{darkgreen}{-0.4}) \\
 \midrule

        \multirow{3}{*}{\textbf{Average}} & Greedy & 68.8 & 68.9 (\textcolor{red}{+0.1}) & 67.7 & 67.9 (\textcolor{red}{+0.2}) & 66.8 & 66.9 (\textcolor{red}{+0.1}) \\
& Pass@1 & 68.2 & 68.3 (\textcolor{red}{+0.1}) & 66.1 & 66.3 (\textcolor{red}{+0.2}) & 65.3 & 65.7 (\textcolor{red}{+0.4}) \\
& Maj@K & 70.7 & 70.6 (\textcolor{darkgreen}{-0.1}) & 69.2 & 69.1 (\textcolor{darkgreen}{-0.1}) & 68.8 & 69.0 (\textcolor{red}{+0.2}) \\

        
        \bottomrule
    \end{tabular}
\end{adjustbox}
    \caption{Vanilla model performance on NLQ perturbations of Dr.Spider dataset. Names of base models are abbreviated. \textbf{DSC (6.7B)}: Deepseek-coder-6.7b-instruct; \textbf{Qwen (7B)}: Qwen2.5-7B-Instruct; \textbf{CodeS (7B)}: CodeS-7b. \textbf{In this setting, we directly assess best checkpoint on Spider Dev.}} 
    \label{tab:drSpiderNLQVanilla}
\end{table*}