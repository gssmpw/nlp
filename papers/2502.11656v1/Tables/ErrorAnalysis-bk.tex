\definecolor{darkgreen}{RGB}{0,150,0}
\begin{table*}[t]
\centering
%\setlength{\tabcolsep}{5pt} % Adjust column padding
%\renewcommand{\arraystretch}{1.3} % Adjust row spacing
%\begin{tabularx}{\textwidth}{lXlccc}
\begin{adjustbox}{max width=\textwidth}
\begin{tabular}{c p{3.5cm} l | c | c | c | c | c | c}
\toprule
\textbf{Category} & \textbf{Description} & \textbf{Type} & \multicolumn{2}{c}{\makecell{\textbf{Vanilla DPO} \\ \textbf{Fix (\%)}}} \vline & \multicolumn{2}{c}{\makecell{\textbf{Syn CoT DPO} \\ \textbf{Fix (\%)}}} \vline & \multicolumn{2}{c}{\textbf{\textbf{$\Delta$(\%)}}} \\
\midrule
\multirow{1}{*}{External Knowledge} 
    & Neglect of hints
    & \textbf{[A1] EK} 
    & 0.0 (0/3)
    & 0.0 (0/3) 
    & 37.5 (3/8)
    & \textbf{37.5 (3/8)} 
    & -
    & - \\
\midrule
\multirow{6}{*}{Schema Linking} 
    & \multirow{6}{=}{Fails to match the question with its concerning table and columns}
    & [B1] Table 
    & \multirow{6}{*}{\makecell{15.0 \\ (58/387)}}
    & 13.0 (12/92) 
    & \multirow{6}{*}{\makecell{24.5 \\ (95/388)}}
    & 15.9 (11/69) 
    & \textbf{\textcolor{red}{+2.9}}
    & \multirow{6}{*}{\textbf{\textcolor{red}{+9.5}}}
    \\
    & & \textbf{[B2] JOIN} &
    & 15.6 (12/77) &
    & \textbf{32.1 (18/56)}
    & \textbf{\textcolor{red}{+16.5}} & \\
    & & [B3] Column &
    & 10.3 (7/68) &
    & 16.1 (10/62)
    & \textbf{\textcolor{red}{+5.8}} & \\
    & & \textbf{[B4] Hallucination} &
    & 23.7 (14/59) &
    & \textbf{27.2 (28/102)}
    & \textbf{\textcolor{red}{+3.5}} & \\
    & & [B5] Condition &
    & 16.7 (10/60) &
    & 23.2 (16/69) 
    & \textbf{\textcolor{red}{+6.5}} & \\
    & & \textbf{[B6] NULL/DISTINCT} &
    & 9.7 (3/31) &
    & \textbf{40.0 (12/30)}
    & \textbf{\textcolor{red}{+30.3}} & \\
\midrule
\multirow{2}{*}{Value Retrieval}
    & \multirow{2}{=}{Mismatch of condition with its storage format}
    & [C1] String/Number 
    & \multirow{2}{*}{\makecell{14.6 \\ (7/48)}}
    & 4.5 (1/22) 
    & \multirow{2}{*}{\makecell{26.2 \\ (11/42)}}
    & 21.1 (4/19) 
    & \textbf{\textcolor{red}{+16.6}}
    & \multirow{2}{*}{\textbf{\textcolor{red}{+11.6}}}
    \\
    & & \textbf{[C2] Date} &
    & 23.1 (6/26) &
    & \textbf{30.4 (7/23)}
    & \textbf{\textcolor{red}{+7.3}} & \\
\midrule
\multirow{3}{*}{Operation}
    & \multirow{3}{=}{Misunderstands required operation in the question.}
    & [D1] Mathematical Formula 
    & \multirow{3}{*}{\makecell{8.7 \\ (12/138)}}
    & 13.3 (6/45)
    & \multirow{3}{*}{\makecell{17.2 \\ (23/134)}}
    & 18.2 (8/44) 
    & \textbf{\textcolor{red}{+4.9}}
    & \multirow{3}{*}{\textbf{\textcolor{red}{+8.5}}}
    \\
    & & [D2] Aggregation &
    & 6.7 (5/75) &
    & 18.2 (12/66) 
    & \textbf{\textcolor{red}{+11.5}} & \\
    & & [D3] Complex Operation &
    & 5.6 (1/18) &
    & 12.5 (3/24) 
    & \textbf{\textcolor{red}{+6.9}} & \\
\midrule
\multirow{4}{*}{Information}
    & \multirow{4}{=}{Fails to organize information in the right way}
    & [E1] Redundant/Incomplete 
    & \multirow{4}{*}{\makecell{13.2 \\ (7/53)}}
    & 11.8 (4/34) 
    & \multirow{4}{*}{\makecell{23.4 \\ (11/47)}}
    & 19.2 (5/26) 
    & \textbf{\textcolor{red}{+7.4}}
    & \multirow{4}{*}{\textbf{\textcolor{red}{+10.2}}}
    \\
    & & \textbf{[E2] Column Sequence} &
    & 0 (0/5) &
    & \textbf{42.9 (3/7)}
    & - & \\
    & & [E3] ORDER BY/LIMIT &
    & 9.1 (1/11) &
    & 12.5 (1/8) 
    & \textbf{\textcolor{red}{+3.4}} & \\
    & & \textbf{[E4] Format} &
    & 66.7 (2/3) &
    & \textbf{33.3 (2/6)}
    & - & \\
\midrule
Syntax Error 
    & Inexecutatble SQL 
    & [F1] Syntax 
    & 14.3 (2/14) 
    & 14.3 (2/14) 
    & 13.3 (2/15)
    & 13.3 (2/15)
    & \textbf{\textcolor{darkgreen}{-1.0}}
    & \textbf{\textcolor{darkgreen}{-1.0}} \\
\bottomrule
\end{tabular}
\end{adjustbox}
\caption{Comparison of Vanilla and Syn CoT DPO correction capability across error types on Bird development set (greedy). The base model is Qwen2.5-7B-Instruct. Fix rate difference is reported if $n>5$ for both models. Error types of which Syn CoT fixes more than $25\%$ in the DPO phase are bolded.}
\label{table:ErrorAnalysis}
\end{table*}