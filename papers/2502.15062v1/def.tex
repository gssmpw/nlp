\makeatletter
\DeclareFontFamily{OMX}{MnSymbolE}{}
\DeclareSymbolFont{MnLargeSymbols}{OMX}{MnSymbolE}{m}{n}
\SetSymbolFont{MnLargeSymbols}{bold}{OMX}{MnSymbolE}{b}{n}
\DeclareFontShape{OMX}{MnSymbolE}{m}{n}{
    <-6>  MnSymbolE5
   <6-7>  MnSymbolE6
   <7-8>  MnSymbolE7
   <8-9>  MnSymbolE8
   <9-10> MnSymbolE9
  <10-12> MnSymbolE10
  <12->   MnSymbolE12
}{}
\DeclareFontShape{OMX}{MnSymbolE}{b}{n}{
    <-6>  MnSymbolE-Bold5
   <6-7>  MnSymbolE-Bold6
   <7-8>  MnSymbolE-Bold7
   <8-9>  MnSymbolE-Bold8
   <9-10> MnSymbolE-Bold9
  <10-12> MnSymbolE-Bold10
  <12->   MnSymbolE-Bold12
}{}

\let\llangle\@undefined
\let\rrangle\@undefined
\DeclareMathDelimiter{\llangle}{\mathopen}%
                     {MnLargeSymbols}{'164}{MnLargeSymbols}{'164}
\DeclareMathDelimiter{\rrangle}{\mathclose}%
                     {MnLargeSymbols}{'171}{MnLargeSymbols}{'171}
\makeatother

\usepackage{booktabs}
\usepackage[mathscr]{euscript}
\usepackage{color,amsmath,amssymb,mathrsfs}
\usepackage{graphicx}
\usepackage{tikz,pgfplots}
\usepackage{upgreek}
\usepackage{showkeys,cite}
\usepackage{yfonts}
\usepackage{mathtools}
\usepackage[normalem]{ulem}
\usepackage{latexsym}
\DeclareMathAlphabet{\mathpzc}{OT1}{pzc}{m}{it}
\usepackage{url} 
\usepackage[nameinlink]{cleveref} 
\usepackage{dsfont} 
\usepackage{tikz} 
\DeclareMathAlphabet      {\mathup}{OT1}{\familydefault}{m}{n}

\crefalias{prop}{theorem}
\Crefname{prop}{Proposition}{Propositions}
\crefalias{cor}{theorem}
\Crefname{cor}{Corollary}{Corollaries}
\crefalias{lemma}{theorem}
\Crefname{lemma}{Lemma}{Lemmas}
\Crefname{subsection}{Section}{Sections}



\definecolor{grassgreen}{RGB}{92,135,39}

\newcommand{\hilb}{\mathscr{V}}
\newcommand{\hilbn}{\mathscr{V}_n}
\newcommand{\eqdef}{\vcentcolon=}
\newcommand{\defeq}{=\vcentcolon}
\renewcommand{\vec}[1]{{\mathchoice
                     {\mbox{\boldmath$\displaystyle{#1}$}}
                     {\mbox{\boldmath$\textstyle{#1}$}}
                     {\mbox{\boldmath$\scriptstyle{#1}$}}
                     {\mbox{\boldmath$\scriptscriptstyle{#1}$}}}}
\newcommand{\mat}[1]{\mathbf{{#1}}}
\renewcommand{\ker}{\mathsf{ker}}
\newcommand{\ran}{\mathsf{range}}
\newcommand{\dom}{\mathsf{dom}}
\newcommand{\eps}{\varepsilon}
\newcommand{\norm}[1]{\left\| {#1} \right\|}
\newcommand{\ip}[2]{{\left\langle {#1}, {#2} \right\rangle}}
\newcommand{\ipg}[3]{{\left\langle {#1}, {#2} \right\rangle}_{#3}}

\newcommand{\ipA}[2]{{\left\langle {#1}, {#2} \right\rangle}_1}
\newcommand{\ipB}[2]{{\left\langle {#1}, {#2} \right\rangle}_2}
\newcommand{\ipH}[2]{{\left\llangle {#1}, {#2} \right\rrangle}}

\newcommand{\qip}[2]{\left\langle{#1}, {#2}\right\rangle_{\!\scriptscriptstyle{\mathbb{Q}}}}
\newcommand{\mip}[2]{\left\langle{#1}, {#2}\right\rangle_{\!\scriptscriptstyle{\mathbb{M}}}}
\newcommand\restr[2]{{
  \left.\kern-\nulldelimiterspace %
  {#1}\vphantom{\big|} \right|_{#2}}}

\newcommand{\R}{\mathbb{R}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\N}{\mathbb{N}}

\newcommand{\QoI}{\Theta}
\newcommand{\ctrl}{\vec{z}}
\newcommand{\ctrln}{\vec{z}^\star}
\newcommand{\Nc}{{n_\text{c}}}
\newcommand{\ctrlObjFunc}{\Phi}
\newcommand{\ctrlObj}{\Phi_{\mathup{ctrl}}}
\newcommand{\ctrlObjs}{\Phi^\ast_{\mathup{ctrl}}}


\newcommand{\A}{\mathcal{A}}
\newcommand{\B}{\mathcal{B}}
\newcommand{\D}{\mathcal{D}}

\newcommand{\E}{\EuScript{E}}
\newcommand{\F}{\EuScript{F}}
\newcommand{\G}{\EuScript{G}}

\newcommand{\T}{\mathcal{T}}
\renewcommand{\S}{\mathcal{S}}
\newcommand{\RR}{\mathcal{R}}

\newcommand{\Sm}{\mathcal{S}_1}
\newcommand{\Sb}{\mathcal{S}_2}
\newcommand{\J}{\mathcal{J}}

\newcommand{\FF}{\mat{F}}
\renewcommand{\AA}{\mat{A}}
\newcommand{\BB}{\mat{B}}

\newcommand{\prob}{\mathsf{Prob}}
\newcommand{\borel}{\mathfrak{B}}
\newcommand{\var}{\mathsf{Var}}
\newcommand{\ave}{\mathsf{E}}
\newcommand{\GM}[2]{\mathcal{N}\!\left( {#1}, {#2}\right)}


\newcommand{\Cprior}{\mathcal{C}_{\text{pr}}}
\newcommand{\Cpost}{\mathcal{C}_{\text{post}}}
\newcommand{\ncov}{\mat{\Gamma}_{\mathup{noise}}}
\newcommand{\noisem}{\mu_{\mathup{noise}}}
\newcommand{\like}{\pi_{\mathup{like}}}
\newcommand{\obs}{\vec{y}}
\newcommand{\ipar}{m}
\newcommand{\iparpost}{\ipar_{\mathup{post}}}
\newcommand{\iparpr}{\ipar_{\mathup{pr}}}
\newcommand{\iparmap}{m_{\scriptscriptstyle\mathup{MAP}}}
\newcommand{\dpar}{\vec{m}}
\newcommand{\dparpr}{\dpar_{\mathup{pr}}}
\newcommand{\dparmap}{\dpar_{\scriptscriptstyle\mathup{MAP}}}
\newcommand{\dpartrue}{\dpar_{\mathup{true}}}

\newcommand{\prcov}{\mat{\Gamma}_{\mathup{pr}} }
\newcommand{\postcov}{\mat{\Gamma}_{\mathup{post}} }
\newcommand{\postcovh}{\widetilde{\mat{\Gamma}}_{\mathrm{post, h}}}
\newcommand{\postcovf}{\widetilde{\mat{\Gamma}}_{\mathrm{post, f}}}
\newcommand{\noisecov}{\mat{\Gamma}_{\mathup{noise}} }
\newcommand{\priorm}{\mu_{\mathup{pr}}}
\newcommand{\postm}{\mu_{\mathup{post}}^\obs}
\newcommand{\M}{\mat{M}}                       %
\newcommand{\ff}{\vec{f}}                      %


\newcommand{\mb}[1]{\mathbf{#1}}
\newcommand{\mc}[1]{\mathcal{#1}}
\newcommand{\bs}[1]{\boldsymbol{#1}}
\newcommand{\GN}{\Gamma_{\!\text{N}}}
\newcommand{\GR}{\Gamma_{\!\text{R}}}

\DeclareMathOperator{\tr}{tr}
\DeclareMathOperator{\spann}{span}
\DeclareMathOperator{\Var}{Var}
\DeclareMathOperator*{\argmin}{arg\,min}
\newcommand{\Exp}{\mathbb{E}}
\renewcommand{\P}{\mathbb{P}}

\newcommand{\nc}{{n_{c}}}
\newcommand{\ncg}{{n_{\mathrm{cg}}}}
\newcommand{\ny}{{n_{y}}}
\newcommand{\ns}{{n_{s}}}


\newcommand{\nm}{N}
\newcommand{\nz}{K}
\newcommand{\nt}{\nz} %
\newcommand{\nuu}{L}

\newcommand{\kr}{{k_{r}}}
\newcommand{\kh}{{k_{h}}}
\newcommand{\kf}{{k_{f}}}

\newcommand{\mtrue}{m_{\scriptscriptstyle\mathup{true}}}
\newcommand{\ubar}{\overline{\vec{u}}}




\newcommand{\UT}{\vec{u}_{\scriptscriptstyle T}}
\newcommand{\UTs}{\vec{u}^\star_{\scriptscriptstyle T}}

\newcommand{\hessinv}{\mat{H}_\mathup{inv}}
\newcommand{\hessctrl}{\mat{H}_\mathup{ctrl}}
\newcommand{\hessmis}{\mat{\tilde H}_{\mathup{misfit}}}
\newcommand{\inv}[1]{#1^{-1}}
\newcommand{\alg}[1]{\textrm{\textsc{#1}}}
\newcommand{\piprior}{\pi_{\mathup{prior}}}

\newcommand{\Mt}{{\M_z}}  
\newcommand{\Mz}{\M_z}    %
\newcommand{\Mu}{{\M_u}}  

\newcommand{\Rm}{{\R^{\nm}_\M}}
\newcommand{\Ru}{{\R^{\nuu}_\Mu}}
\newcommand{\Rz}{{\R^{\nz}_\Mt}}
\newcommand{\Rt}{{\Rz}}

\newcommand{\fnsp}[1]{\EuScript{#1}}

\newcommand{\weightMat}{\mat{W}}
\newcommand{\invDom}{\Omega}
\newcommand{\ctrlDom}{\Omega_c}
\newcommand{\invObj}{J}
\newcommand{\diffParam}{\kappa}
\newcommand{\invState}{\hat{u}}
\newcommand{\state}{u}
\newcommand{\invParamCtn}{m}
\newcommand{\BdrySides}{\Gamma_{N}}
\newcommand{\BdryTops}{\Gamma_{R}}

\newcommand{\spd}{\mat{N}}
\newtheorem{remark}[theorem]{Remark}

\newcommand{\m}{m}
\newcommand{\cc}{c}
\newcommand{\uu}{u}
\newcommand{\bb}{b}
\newcommand{\z}{z}
\newcommand{\q}{q}

\newcommand{\mcA}{\mc{A}}
\newcommand{\mcB}{\mc{B}}
\newcommand{\mcC}{\mc{C}}
\newcommand{\mcR}{\mc{R}}
\newcommand{\mcF}{\mc{F}}
\newcommand{\mcL}{\mc{L}}
\newcommand{\ubr}{\bar{u}}
\newcommand{\mcHctrl}{\mc{H}_\mathup{ctrl}}


\newcommand{\sL}{\mathscr{L}}

\newcommand{\vertiii}[1]{{\left\vert\kern-0.25ex\left\vert\kern-0.25ex\left\vert #1 
    \right\vert\kern-0.25ex\right\vert\kern-0.25ex\right\vert}}




\newcounter{procedure}
\newenvironment{procedure}[1]{%
  \refstepcounter{procedure}%
  \vbox\bgroup
  \vspace{1.5em}
  {\hrule height 0.8pt}
  \vspace{0.25em}
  \noindent\textbf{Procedure 1}\quad #1
  \vspace{0.3em}\noindent
  {\hrule height 0.5pt}
  \vspace{0.5em}
}{%
  \vspace{0.5em}
  {\hrule height 0.8pt}
  \vspace{1em}
  \egroup
}
\crefname{procedure}{procedure}{procedures}
\Crefname{procedure}{Procedure}{Procedures}

\usepackage{subcaption}
\usepackage{algpseudocode, algorithm}
\renewcommand{\algorithmicrequire}{\textbf{Input:}}
\renewcommand{\algorithmicensure}{\textbf{Output:}}
\DeclareMathOperator{\diag}{diag}

\newcommand{\boldheading}[1]{\textbf{#1}.}
