\section{Experiments}

We tested our autonomous resection workflow by conducting consecutive procedures on five distinct tissue models. First, five \gls{cao} tissue models were fabricated to mimic a range of clinical cases such that they are somewhat varied in shape and size. Each tissue model was created by first sculpting a piece of chicken tissue (Giant Food, Carlisle, PA) such that the base measures approximately 50\,mm by 75\,mm, and the attached tumor protrusion is approximately 20\,mm in diameter. The chicken tissues, which were stored in a freezer prior to the model fabrication, tended to release moisture over time, making them challenging to grasp securely with the standard gripper. To address this, fresh chicken tissues were used, and allowed to dry slightly before beginning the procedure. Ex-vivo porcine tracheas (Animal Technologies, Tyler, TX) were cut into `half-pipes' and then into lengths of approximately 75\,mm. A hole was cut in the center of each trachea. Each trachea was lowered down onto the chicken model, and secured into place with Loctite 415 (McMaster-Carr, Elmhurst, IL) and Insta-Set accelerator (Bob Smith Industries, Paso Robles, CA). The wide base made of chicken tissue provided ample contact area between each model and the electrosurgical grounding plate, enabling steady monopolar electrocautery. After all five models were fabricated, preliminary CT scans were taken of each model. The ground-truth segmentations of the tumors were then obtained from the CT (using 3D Slicer~\cite{Fedorov2012}), as shown in Fig.~\ref{fig:resection-results}. 

To begin each procedure, a tissue model was placed onto the electrosurgical grounding plate and secured in place with four stay sutures. Two pieces of black felt cloth were placed under the trachea to obfuscate the background from the camera view for ease of segmentation. The Zivid camera first captured a depth image, RGB image, camera intrinsics, and 3D point cloud of the surgical scene. Using this data, a custom Faster R-CNN model generated bounding boxes and SAM-based segmentation masks which were projected onto the depth data. A fifth-degree polynomial (poly55) was fitted to the segmented trachea to generate smooth cut trajectories. The robot then began the Reach-in stage, aligning with the tracheaâ€™s centroid, followed by the Resect stage, executing cuts at 2 mm/s with 24 W electrosurgical power. A Smoke Shark (Bovie, Clearwater, FL) evacuated cautery smoke. After each cut, the robot entered the Retract stage to return to a safe position. A manually positioned laparoscopic gripper then tensioned the tumor to expose the cut boundary. The cut was then shifted by L/6 mm for subsequent resections, where L is the tumor length along the trachea. Process images taken during the experiment are shown in Fig. 8. The procedure was stopped when the tumor was detached, and a postoperative CT scan evaluated resection effectiveness.

\vspace{1em}
\begin{figurehere}
    \centering
    \includegraphics[width=\columnwidth]{Figures/resectionProcess.png}
    \caption{Snapshots taken from an experimental video showing the full resection process for Model 2.}
    \label{fig:resection-process}
\end{figurehere}
\vspace{1em}




\subsection{Results}

All five \gls{cao} models and their corresponding post-procedural outcomes are illustrated in Fig.~\ref{fig:resection-results}. By qualitatively comparing the side views provided, it is evident that the tumor was successfully removed from the trachea in all five consecutive trials. Models 1 and 3 were over-resections (119.5\% and 114.9\% of tumor removed, respectively), while Models 2, 4, and 5 were under-resections (91.1\%, 92.2\%, and 92.0\% of tumor removed, respectively). In this context, it is not necessary to resect a margin around the tumor, since CAO removal is a palliative and not curative procedure. Mudambi et al. defines successful CAO removal as a reopening of the airway lumen to over 50\% of the nominal diameter \cite{Mudambi2017}. By this definition, all five of our procedures can be deemed successful, marking feasibility demonstrations of autonomous vision-based \gls{cao} resection in 5 out of 5 trials.


Additionally, we analyzed the surfaces of the models after each procedure. After each resection was complete, a snapshot was taken of the tissue model, and the regular point cloud segmentation method was conducted. A surface model was fit to the trachea point cloud and then raised in Z by 1\,mm to create the 'goal' surface (which, according to the programmed trajectories, should align closely with the charred top of the tumor). A point cloud of the charred area was also obtained. For each point in the charred area, the Z-value was compared to the corresponding Z-value of the 'goal' surface. In this way, RMSE could be calculated between the programmed cut surface and the real cut surface seen post-procedure. The tissue surfaces for the actual tissue (charred tissue post-cut) and fitted tissue (based on trachea surface) for all five models are shown in Fig. \ref{fig:surface-fit}. The RMSE for each model is also provided, which range from a minimum of 1.23\,mm to a maximum of 2.65\,mm. 


\vspace{1em}
\begin{figurehere}
    \centering
    \includegraphics[width=\columnwidth]{Figures/tissue_context_04.png}
    \caption{Plotted surfaces for the actual tissue (charred tissue post-cut) and fitted tissue (our goal from trachea surface fit) for all five models. RMSE is calculated for each model.}
    \label{fig:surface-fit}
\end{figurehere}


We also analyzed the effectiveness of our segmentation pipeline through the five procedures. We found that the ability to extract accurate point clouds relied more on the ability to predict bounding boxes than on the resulting segmentation of the objects (which leverages the predicted bounding boxes). Our custom Faster R-CNN model outperformed simple CNNs in terms of both intersection over union (IoU) scores and the downstream task of producing an accurate trachea point cloud, as shown in Fig.~\ref{fig:IoU}. The faster R-CNN had an IoU of $(0.762 \pm 0.283)$ for the trachea and $(0.592 \pm 0.36)$ for the tumor. The simple CNN had IOU scores of $(0.49 \pm 0.2567)$ for the trachea and $(0.150 \pm 0.181)$ for the tumor (higher is better for IoU). 

\begin{figurehere}
    \centering
    \includegraphics[width=\columnwidth]{Figures/violin_bb_pred_results.png}
    \caption{Violin plots showing the Intersection over Union scores for our custom Faster R-CNN model versus a simple CNN over the five procedures for the trachea (left) and tumor (right), with a representative example shown in the center. The orange bounding box is the Faster R-CNN, blue is the simple CNN, and green is the ground truth. }
    \label{fig:IoU}
\end{figurehere}

\vspace{1em}
\begin{figure*}[ht!]
    \centering
    \includegraphics[width = 0.7\textwidth]{Figures/resection-results.pdf}
    \caption{Results of resection experiments on 5 discrete tissue models. Pre-procedural top and side views are shown, as well as the pre-procedural ground-truth CT and segmentation volumes. Post-procedural top and side views are shown, as well as the post-procedural ground-truth CT.}
    \label{fig:resection-results}
\end{figure*}
