\clearpage
\setcounter{page}{1}
\maketitlesupplementary
% \begin{table*}[b]
% \caption{Results with FairDropout, FairDropout, and DFR.}
% \label{tab:dfrfairdropout}
% \centering
% \resizebox{\textwidth}{!}{%
% \begin{tabular}{c|l|ccccc}
% \hline
% Method Types & Algorithm & CelebA & MetaShift  & Waterbirds & MultiNLI & MIMIC-CXR \\
% \hline
% standard &ERM &  69.1 $\pm$4.7 & 82.1 $\pm$0.8 & 57.6 $\pm$0.8  & 66.4 $\pm$2.3 & 68.6 $\pm$0.2 \\
% \hline
% \multirow{1}{*}{Spurious correlation}
% &\textbf{FairDropout (ours)}   & \textbf{75.6} $\pm$ 2.1 & \textbf{85.9} $\pm$ 1.1 & 70.6 $\pm$ 0.2 & \textbf{70.3} $\pm$ 2.4 & \textbf{70.6} $\pm 0.6$ \\
% \multirow{4}{*}{classifier retraining}
% &$\bullet$DFR & 73.7 $\pm$0.8 & 81.4 $\pm$0.1 &  \textbf{89.0} $\pm$0.2 & 63.8 $\pm$0.0 & 67.1 $\pm$0.4 \\
% % &FairDropoutDFR (ours) & IF$\pm$ 0.0  & TIME $\pm$ 0.0 & ALL $\pm$ 0.0 & OWS $\pm$ 0.0 & \\
% &\textbf{FairDropout + DFR (ours)}   & \textbf{75.6} $\pm$ 2.1 & \textbf{85.9} $\pm$ 1.1 & 70.6 $\pm$ 0.2 & \textbf{70.3} $\pm$ 2.4 & \textbf{70.6} $\pm 0.6$ \\
% &CRT & 69.6 $\pm$0.7 & 83.1 $\pm$0.0 &  76.3 $\pm$0.8 & 65.4 $\pm$0.2 & 68.1 $\pm$0.1 \\
% &ReWeightCRT & 70.7 $\pm$0.6 & \underline{85.1} $\pm$0.4 & 76.3 $\pm$0.2 & 
%  65.2 $\pm$0.2 & 67.9 $\pm$0.1 \\
% \hline
% \end{tabular}%
% }
% \end{table*}
\section{Appendix}


\subsection{Hyperparameters}
Table~\ref{tab:hyper_param_range} describes the range of hyperparameters that we used to tune the hyperparameters.
\begin{table}[h]
\caption{Hyperparameter ranges. Here dp$i$ stands for the position before the residual layer block $i$, dplogits stands for the position before the linear classifier head, dpfc stands for a position before the classifier head but after a newly introduced linear projection layer.}
\label{tab:hyper_param_range}
\centering
%
\resizebox{0.5\textwidth}{!}{%
\begin{tabular}{c|c}
Hyperparameters & sets\\
\hline
learning rate & $\{1e-3, 1e-4, 1e-5\}$\\
Weight decay & $\{1e-3, 1e-4, 1e-5, 1e-6\}$\\
$p_\text{gen}$ & $\{.2, .3, .4, .5, 6\}$ \\
$p_\text{mem}$ & $\{.001, .1, .2, .4\}$ \\
FairDropout positions on ResNet-50 & \{dp2, dp3, dp4, dp5 \} \\
FairDropout positions on BERT & \{dplogits , dpfc\}
\end{tabular}%
}
\end{table}

\newpage
\subsection{Hyperparameter Sensitivity}
Table~\ref{tab:sensitivity} shows the sensitivity of $p_\text{gen}$ under low $p_\text{mem}$ on two datasets. One can observe that under low $p_\text{mem}$ does not need to be high.

\begin{table}[h]
\caption{Sensitivity of $p_\text{gen}$ under low $p_\text{mem}$.}
\label{tab:sensitivity}
\centering
\begin{tabular}{c|cc|c}
\toprule
Datasets & $p_\text{gen}$ & $p_\text{mem}$ & Worst-group accuracy \\
\midrule
\multirow{3}{*}{CelebA} & 0.5 & 0.1 & 56.14 \\
& 0.4 & 0.1  &  59.54\\
& 0.2 & 0.1 & 71.66\\
\midrule
\multirow{3}{*}{MIMIC-CXR} & 0.5 & 0.1 & 63.15\\
 & 0.4 & 0.1 & 65.43 \\
 & 0.2 & 0.1 & 66.20\\
\bottomrule
\end{tabular}%
\end{table}

%\subsection{Futher Results with Dropout+DFR}

%\subsection{More Details on the Datasets}

% To split the supplementary pages from the main paper, you can use \href{https://support.apple.com/en-ca/guide/preview/prvw11793/mac#:~:text=Delete%20a%20page%20from%20a,or%20choose%20Edit%20%3E%20Delete).}{Preview (on macOS)}, \href{https://www.adobe.com/acrobat/how-to/delete-pages-from-pdf.html#:~:text=Choose%20%E2%80%9CTools%E2%80%9D%20%3E%20%E2%80%9COrganize,or%20pages%20from%20the%20file.}{Adobe Acrobat} (on all OSs), as well as \href{https://superuser.com/questions/517986/is-it-possible-to-delete-some-pages-of-a-pdf-document}{command line tools}.
