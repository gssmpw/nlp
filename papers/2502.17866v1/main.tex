%%
%% This is file `sample-acmsmall.tex',
%% generated with the docstrip utility.
%%
%% The original source files were:
%%
%% samples.dtx  (with options: `acmsmall')
%% 
%% IMPORTANT NOTICE:
%% 
%% For the copyright see the source file.
%% 
%% Any modified versions of this file must be renamed
%% with new filenames distinct from sample-acmsmall.tex.
%% 
%% For distribution of the original source see the terms
%% for copying and modification in the file samples.dtx.
%% 
%% This generated file may be distributed as long as the
%% original source files, as listed above, are part of the
%% same distribution. (The sources need not necessarily be
%% in the same archive or directory.)
%%
%% Commands for TeXCount
%TC:macro \cite [option:text,text]
%TC:macro \citep [option:text,text]
%TC:macro \citet [option:text,text]
%TC:envir table 0 1
%TC:envir table* 0 1
%TC:envir tabular [ignore] word
%TC:envir displaymath 0 word
%TC:envir math 0 word
%TC:envir comment 0 0
%%
%%
%% The first command in your LaTeX source must be the \documentclass command.
%% \documentclass[acmtog,anonymous,review]{acmart}
\documentclass[acmtog]{acmart}

\usepackage{comment}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{amsmath}

%% \documentclass[acmsmall]{acmart}
%% NOTE that a single column version is required for 
%% submission and peer review. This can be done by changing
%% the \doucmentclass[...]{acmart} in this template to 
%% \documentclass[manuscript,screen]{acmart}
%% 
%% To ensure 100% compatibility, please check the white list of
%% approved LaTeX packages to be used with the Master Article Template at
%% https://www.acm.org/publications/taps/whitelist-of-latex-packages 
%% before creating your document. The white list page provides 
%% information on how to submit additional LaTeX packages for 
%% review and adoption.
%% Fonts used in the template cannot be substituted; margin 
%% adjustments are not allowed.
%%
%% \BibTeX command to typeset BibTeX logo in the docs
%\AtBeginDocument{%
%  \providecommand\BibTeX{{%
%    \normalfont B\kern-0.5em{\scshape i\kern-0.25em b}\kern-0.8em\TeX}}}

%% Rights management information.  This information is sent to you
%% when you complete the rights form.  These commands have SAMPLE
%% values in them; it is your responsibility as an author to replace
%% the commands and values with those provided to you when you
%% complete the rights form.
%\setcopyright{acmcopyright}
%\copyrightyear{2018}
%\acmYear{2018}
%\acmDOI{XXXXXXX.XXXXXXX}


%%
%% These commands are for a JOURNAL article.
\acmJournal{TOG}
%\acmVolume{37}
%\acmNumber{4}
%\acmArticle{111}
%\acmMonth{8}

%%
%% Submission ID.
%% Use this when submitting an article to a sponsored event. You'll
%% receive a unique submission ID from the organizers
%% of the event, and this ID should be used as the parameter to this command.
\acmSubmissionID{673}

%%
%% For managing citations, it is recommended to use bibliography
%% files in BibTeX format.
%%
%% You can then either use BibTeX with the ACM-Reference-Format style,
%% or BibLaTeX with the acmnumeric or acmauthoryear sytles, that include
%% support for advanced citation of software artefact from the
%% biblatex-software package, also separately available on CTAN.
%%
%% Look at the sample-*-biblatex.tex files for templates showcasing
%% the biblatex styles.
%%

%%
%% The majority of ACM publications use numbered citations and
%% references.  The command \citestyle{authoryear} switches to the
%% "author year" style.
%%
%% If you are preparing content for an event
%% sponsored by ACM SIGGRAPH, you must use the "author year" style of
%% citations and references.
%% Uncommenting
%% the next command will enable that style.
\citestyle{acmauthoryear}

%%
%% end of the preamble, start of the body of the document source.
\begin{document}

%%
%% The "title" command has an optional parameter,
%% allowing the author to define a "short title" to be used in page headers.
\title{Animating Childlike Drawings with 2.5D Character Rigs}

%%
%% The "author" command and its associated commands are used to define
%% the authors and their affiliations.
%% Of note is the shared affiliation of the first two authors, and the
%% "authornote" and "authornotemark" commands
%% used to denote shared contribution to the research.
\author{Harrison Jesse Smith}
\authornote{Corresponding author.}
\affiliation{%
  \institution{Meta}
  \city{Sausalito}
  \state{CA}
  \country{USA}
}
\email{hjessmith@gmail.com}

\author{Nicky He}
\affiliation{%
  \institution{Meta}
  \city{Sausalito}
  \state{CA}
  \country{USA}
}
\email{nicky.hsj@gmail.com}

\author{Yuting Ye}
\affiliation{%
  \institution{Meta}
  \city{Redmond}
  \state{WA}
  \country{USA}
}
\email{yuting.ye@gmail.com}



%%
%% By default, the full list of authors will be used in the page
%% headers. Often, this list is too long, and will overlap
%% other information printed in the page headers. This command allows
%% the author to define a more concise list
%% of authors' names for this purpose.
\renewcommand{\shortauthors}{Smith et al.}

\newcommand{\yuting}[1]{{\color{magenta} [Yuting: {#1}]}}
\newcommand{\jesse}[1]{{\color{blue} [Jesse: {#1}]}}
\newcommand{\nicky}[1]{{\color{green} [Nicky: {#1}]}}
\newcommand{\strike}[1]{{\color{red} [{#1}]}}

%%
%% The abstract is a short summary of the work to be presented in the
%% article.
\begin{abstract}

Drawing is a fun and intuitive way to create a character, accessible even to small children. However, animating 2D figure drawings is a much more challenging task, requiring specialized tools and skills. Bringing 2D figures to 3D so they can be animated and consumed in immersive media poses an even greater challenge. Moreover, it is desirable to preserve the unique style and identity of the figure when it is being animated and viewed from different perspectives. In this work, we present an approachable and easy-to-create 2.5D character model and retargeting technique that can apply complex 3D skeletal motion, including rotation within the transverse plane, onto a single childlike figure drawing in a style-preserving manner in realtime. Because our solution is view-dependent, the resulting character is well-suited for animation in both 2D and 3D contexts. We also present a novel annotation study motivating our system design decisions and a pair of user studies validating the usefulness and appeal of our solution. We in addition showcase the generality of our system in a range of 2D and 3D applications.

%\nicky{Bringing these characters to 3D applications, like 3D games and mixed reality, introduces new challenges to represent and animated them in 3D space as they can be viewed from all perspectives. } 
\end{abstract}

%%
%% This command processes the author and affiliation and title
%% information and builds the first part of the formatted document.

\begin{teaserfigure}
  \centering
  \includegraphics[width=0.95\textwidth]{figures/banner.png}
  \caption{We present an animation system that turns a single childlike figure drawing into a 2.5D character model. It can be animated using any 3D skeletal motion and viewed from different perspectives. Our real-time and view-dependent motion retargeting algorithm makes it suitable for mixed-reality applications.}
  \Description{Banner Caption}
  \label{fig:teaser}
\end{teaserfigure}

\maketitle

% \input{default_template_copy}

\input{Introduction}


\input{RelatedWork}

\begin{comment}
- Sketch / Cartoon Animation

- MagicToon: A 2D-to-3D creative cartoon modeling system with mobile AR
    Creates a 3D model from a 2D drawing. Ours keeps it 2D but applies 3D motion onto it.
- Towards automatic drawing animation using physics-based evolution
    - purely 2D output, no ability to specify motion
- Smith et al.
    - output not well suited for 3D, not view dependent.
- monster mash
- hornung
- photo wakeup

    
- View-Dependent Works
A System for View-Dependent Animation
- Focus on traditionally trained animators, attempts to go from 2D pose inputs to 3D characters. We focus on the opposite and on amateurs not trained animators. In addition, we provide an integrated retargeting technique for accessible animation of the characters specifically suited for childlike drawings.
- 
    - Similar but it requires less input from users since we use insights from childlike drawings to make reasonable initial guesses. In addition, our model was build to specifically support manipulation based not just upon view angle but also input motion with minimal user input.
- Rademacher
- Rivers
- Rod Springs

- Interactive Viewpoint Exploration for Constructing
View-Dependent Models
    - method for finding viewpoints focusing on creating keyview-transform pairs for a 3D model.


\end{comment}

\input{Defining_childlike_style}

\input{Method}


\begin{comment}
\subsection{Character Model}

\subsection{Retargeting Method}


- 2D billboard (necessary for style)
- View dependent pose retargeting
    -Switching of the limbs based upon viewing angle
- Internal feature manipulation
- Feet flipping driven by knee angle
- External feature manipulation (important given results of annotation task, from annotation task, can have:
    - breakdown of internal vs. external features
    
- Twisted Perspective
    - When mentioning why this is important, see if I can formulate in a mathy way the reason why things get so bad.
    In essense, we've got a 3D point the is multiplied by some matrix to get a 2D projection of the point on a plane. And the 2D projections are used to obtain the orientation. At some point, changes in the 3D joint position have either no effect upon the orientation, or an outsized effect on the orientation. Figure out how this is reflected in the Jacobian matrix (ill-conditioned?) (null space?)
    - Mention how discontinuities are okay (this is how 2D animation works, after all), but the discontinuities shouldn't be frequently. This is why we have the previous projection vector as part of the optimization.

\subsection{Base Representation}
- Discuss how we create a left and right version of each character, and use left one when view angle is between 0 -> pi/2 -> pi and right one otherwise. Show unit circle.

- Discuss how we create a front and back texture and use front when view angle is pi/2 -> pi -> 3pi/2 and back otherwise. Explain how we create it from annotations. Show unit circle.

\subsection{Parts}
-Discuss how we generate the parts from the annotations and how we initialize the keyview-transform dictionary. Figure showing unit circle along with examples at keyview left and right. Show on character that has no obvious left-right difference in base representation.

\subsection{LimbMapping}
Discuss how, if we keep character normal pointed towards the viewer, eventually motion source limbs will drive the opposite character limbs, results in a strange pose and unrecognizable pose/silhouette. So we swap between 3pi/2 -> 0 -> pi/2. Show unit circle

\subseciont{Render Order}
Original skeleton 3D joint locations used to determine rendering order. 
Order is determined by projecting to BVH joint depth driver onto the projection plane normal vector and determining whether, when viewed from that particular angle, it is in front of or behind the torso depth joint.

\subsection{User customization}
 - mention how the number of attachment points can be parameterized to make the snappiness of the character higher or lower.  
 
\end{comment}
 

\input{Evaluation}

\input{Conclusion}
%\subsection{Limitations}

\begin{comment}
- method is fast enough to run in real time and can support rapid iteration on the annotations
\end{comment}

% Certain kinds of drawings it doesn't work on. (Works best for characters in T pose, which is frequently seen. Works with others as well, but the ARAP solve can produce artifacts)
%Certain kinds of motions it's doesn't work on.
%What currently takes the most time to do manually.
%contacts not necessarily preserved

%The motion doesn't really match what is expected for realistic character (see video)

%ARAP
%    - When the character isn't drawn in a t pose the arap solve can lead to some funky %artifacts (e.g. soccer guy)
%    - The ARAP solve always gives bendy results. This is probably undesireable for more rigid characters, like a robot.

%- Skeletal motion allows lots of inputs. E.g. text-to-motion can be used. (also show in paper). It's limiting in some senses, but also extremely empowering given the right circumstances.

%- There is still popping that can occur. Sudden change when limb mapping changes. Not ideal, but as long as it happens infrequently maybe that's okay.

%- Mention that the characters could be extended with further 'Halfs' and textures beyond left and right and front and back. However, here we show what is possible to achieve with minimal user input.

%Future work:
%- automate the annotation process with SAM and the like
%- handle input character with overlapping regions using better inpainting
% allow arms to extrude from the middle of the body?
%facial animation





\bibliographystyle{ACM-Reference-Format}
\bibliography{Ref}

\input{FigurePage}

\end{document}
\endinput
%%
%% End of file `sample-acmsmall.tex'.
