\begin{table}[ht!]
\caption{\textbf{Reward components and weights in Stage II.} Penalty rewards prevent undesired behaviors for sim-to-real transfer, regularization refines motion, and task rewards ensure successful whole-body tracking in real time.}
\label{tab:reward_stage2}
\centering
\renewcommand{\arraystretch}{1.3} % Adjust row spacing
\resizebox{\linewidth}{!}{
\begin{tabular}{l c c}
\toprule[0.95pt]
{\scshape Term} & {\scshape Expression} & {\scshape Weight} \\
\midrule[0.6pt]
\multicolumn{3}{l}{\textit{\textbf{Penalty:}}} \\
\midrule[0.6pt]
Torque limits & $ \mathds{1}({\torque \notin [\bs{\tau}_{\min}, \bs{\tau}_{\max} ]}) $ & -5 \\
Ankle torque limits & $ \mathds{1}({\torque^{\text{ankle}} \notin [\bs{\tau}^{\text{ankle}}_{\min}, \bs{\tau}^{\text{ankle}}_{\max} ]}) $ & -0.01 \\
Upper torque limits & $ \mathds{1}({\torque^{\text{upper}} \notin [\bs{\tau}^{\text{upper}}_{\min}, \bs{\tau}^{\text{upper}}_{\max} ]}) $ & -0.01 \\
DoF position limits & $ \mathds{1}({\dofpos \notin [\bs{q}_{\min}, \bs{q}_{\max} ]}) $ & -5 \\
Ankle DoF position limits & $ \mathds{1}({\dofpos^{\text{ankle}} \notin [\bs{q}^{\text{ankle}}_{\min}, \bs{q}^{\text{ankle}}_{\max} ]}) $ & -5 \\
Upper DoF position limits & $ \mathds{1}({\dofpos^{\text{upper}} \notin [\bs{q}^{\text{upper}}_{\min}, \bs{q}^{\text{upper}}_{\max} ]}) $ & -5 \\
Energy & $ \lVert\ \boldsymbol{\tau} \odot \dot{\mathbf{q}} \rVert $ & -1e-4 \\
Termination & $\mathds{1}_\text{termination}$ & -50 \\
\midrule[0.6pt]
\multicolumn{3}{l}{\textit{\textbf{Regularization:}}} \\
\midrule[0.6pt]
DoF acceleration & $\lVert \dofacc \rVert_2$ & -1e-7 \\
DoF velocity & $\lVert \dofvel \rVert_2^2$ & -1e-3 \\
Action rate & $ \lVert \bs{a}_t \rVert_2^2 $ & -0.1 \\
Torque & $\lVert\torque\rVert$ & -0.003 \\
Ankle torque & $\lVert\torque^{\text{ankle}}\rVert$ & -6e-7 \\
Upper torque & $\lVert\torque^{\text{upper}}\rVert$ & -6e-7 \\
Angular velocity & $\lVert\omega^2\rVert$ & -0.1 \\
Base velocity & $\lVert \bs{v}^2\rVert$ & -0.1 \\
\midrule[0.6pt]
\multicolumn{3}{l}{\textit{\textbf{Tracking Rewards:}}} \\
\midrule[0.6pt]
Tracking DoF position & $ \exp \left( - \frac{(\dofpos - \dofpos^{\text{target}})^2}{4} \right) $ & 8 \\
Feet distance reward & \makecell{
$\frac{1}{2} \Big( \exp(-100 \left| \max(\bs{d}_{\text{feet}} - \bs{d}_{\min}, -0.5) \right|)$ \\ 
$+ \exp(-100 \left| \max(\bs{d}_{feet} - \bs{d}_{\max}, 0) \right|) \Big)$
} & 2 \\
Foot orientation & $ \sqrt{\lVert \mathbf{g}_{xy}^{\text{feet}} \rVert} $ & -0.5 \\
\bottomrule[0.95pt]
\end{tabular}
}
\end{table}
