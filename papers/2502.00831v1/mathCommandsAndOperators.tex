%%%%%%%%%%%%%%
% Operations %
%%%%%%%%%%%%%%
\renewcommand{\vec}[1]{\mathbf{#1}}

%%%%%%%%%%%%%%%%%%%%%
% System Parameters %
%%%%%%%%%%%%%%%%%%%%%
\newcommand{\radius}[0]{r_{\mathrm{T}}} % tube radius
\newcommand{\con}[0]{C_{\mathrm{GFPD}}} % concentration of GFPD
\newcommand{\volTube}[0]{V_{\mathrm{T}}} % tube volume
\newcommand{\restime}[0]{V_{\mathrm{R}}} % Residence time

\newcommand{\integrationTime}[0]{T_{\mathrm{RX,Int}}}

%%%%%%%%%%%%%
% Variables %
%%%%%%%%%%%%%
\newcommand{\cir}[1]{h(#1)}
\newcommand{\systemResponse}[1]{g(#1)}
\newcommand{\systemSpecificResponse}[1]{f(#1)}
\newcommand{\Nobs}[0]{\bar{N}_{\mathrm{obs}}(d, t)} % avg molecule number after instantaneous release
\newcommand{\pswitch}[0]{p_{\mathrm{S}}^{\mathrm{TX}}} % switching probability at the TX
\newcommand{\Tg}[0]{T_{\mathrm{G}}} % guard interval duration
\newcommand{\volRX}[0]{V_{\mathrm{RX}}} % volume of RX
\newcommand{\veff}[0]{v_{\mathrm{eff}}} % effective velocity
\newcommand{\D}[0]{D} % diffusion coefficient
\newcommand{\rect}[2]{\mathrm{rect}_{#1}(#2)} % rect signal
\newcommand{\Tleff}{L_{\mathrm{T, eff}}}% effective tube length
\newcommand{\Tres}{\bar{T}_{\mathrm{res}}}% average reservoir time
\newcommand{\scalingFactor}{\bar{\rho}_{\mathrm{res}}}% scaling factor of what portion of switched molecules re-enters the system before having switched back to the equilibrium state
\newcommand{\bitest}[1]{\hat{b}[#1]} % estimated bit at time #1
\newcommand{\symest}[1]{\hat{s}_{m[#1]}} % estimated bit at time #1
\newcommand{\sym}[1]{s_{m[#1]}} % symbol at time #1
\newcommand{\bit}[1]{b[#1]} % bit at time #1
\newcommand{\recDiff}[1]{d'[#1]} % received signal at time #1
\newcommand{\coh}[0]{n_{\mathrm{c}}} % coherence time
\newcommand{\nTX}[0]{N_{1}} % num of switched molecules
\newcommand{\nRX}[0]{N_{0}} % typical number of molecules at the RX
\newcommand{\volTX}[0]{V_{\mathrm{TX}}} % volume of TX
\newcommand{\disTX}[0]{d_{\mathrm{TX,RX}}}
\newcommand{\wei}[0]{m_{\mathrm{GFPD}}} % weight of GFPD

\newcommand{\Nobstx}[0]{\bar{N}^{\mathrm{TX}}_{\mathrm{obs}}(d, t)} % avg number of switched off molecules at RX
\newcommand{\switching}[0]{a_{\mathrm{D}}} % switching function
\newcommand{\switchingc}[0]{\kappa} % switching constant

\newcommand{\minED}[0]{d_{\mathrm{min}}}
\newcommand{\minSED}[0]{d^2_{\mathrm{min}}}


% Detection scheme
\newcommand{\threshR}[0]{\xi_{\mathrm{R}}} % regular threshold
\newcommand{\threshD}[0]{\xi_{\mathrm{D}}} % differential based threshold
\newcommand{\threshA}[0]{\xi_{\mathrm{A}}} % adaptive threshold
\newcommand{\nSymb}[0]{N_{\mathrm{Sym}}} % number of symbols
\newcommand{\nBits}[0]{N_{\mathrm{Bit}}} % number of bits
\newcommand{\idxPilots}[0]{\mathcal{K}^{\mathrm{P}}} % set of indices belonging to pilot symbols
\newcommand{\idxSym}[1]{\mathcal{K}^{\mathrm{P}}_{#1}} % set of bit #1s in pilot sequence

%%%%%%%%%
% Units %
%%%%%%%%%
\newcommand{\s}[0]{\text{s}} % seconds

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%
% Operators %
%%%%%%%%%%%%%
\newcommand{\transpose}[1]{#1^{\mathrm{T}}}
\DeclareMathOperator*{\argmax}{\mathrm{arg\,max}}
\DeclareMathOperator*{\argmin}{\mathrm{arg\,min}}

%%%%%%%%%%%%%
% Indices %
%%%%%%%%%%%%%

%General
\newcommand{\n}[0]{n} % time index
\newcommand{\tn}[0]{t_n} % time index
\newcommand{\altTimeIdx}{\kappa} % alternative time index
\newcommand{\symIdx}[0]{k} % symbol index

%Transmission start detection
\newcommand{\trainIdx}[0]{\tau}

%Detection
\newcommand{\detecThreshIdx}[0]{j}
\newcommand{\detecThreshSetIdx}[0]{l}


%%%%%%%%%%%%%%%%%%%
% Variables %
%%%%%%%%%%%%%%%%%%%

%General
\newcommand{\symVar}[0]{i}
\newcommand{\Ts}[0]{T_{\mathrm{S}}} % symbol duration
\newcommand{\Ti}[0]{T_{\mathrm{I}}} % impulse duration
\newcommand{\modOrder}[0]{M} % order of modulation
\newcommand{\SIR}[0]{s}
\newcommand{\SR}[0]{s_{\mathrm{r}}}
\newcommand{\avgSR}[0]{\bar{s}_{\mathrm{r}}}
\newcommand{\recSig}[0]{r}
\newcommand{\sampleInt}[0]{\Delta t}


%Modulation
\newcommand{\ratioInten}[0]{\rho}
\newcommand{\txInten}[0]{I^{\mathrm{TX}}} % TX intensity
\newcommand{\maxTxInten}[0]{I^{\mathrm{TX}}_{\mathrm{max}}} % max TX intensity

%Transmission start detection
\newcommand{\trainLength}[0]{N_\mathrm{T}}
\newcommand{\trainSet}[0]{\mathcal{K}}
\newcommand{\trainMean}[0] {\hat{\mu}}
\newcommand{\trainVariance}[0]{\hat{\sigma}^2}
\newcommand{\trainThresh}[0]{\xi_\mathrm{T}}
\newcommand{\pFA}[0]{p_\mathrm{FA}} % False probability
\newcommand{\tts}[0]{t_\mathrm{TS}} % Time of detected transmission start

%Synchronization
\newcommand{\ts}[0]{t_\mathrm{s}}
\newcommand{\tsEst}[0]{\hat{t}_\mathrm{s}}
\newcommand{\tsInit}[0]{\Tilde{t}_\mathrm{s}}
\newcommand{\avgSIR}[0]{\bar{\SIR}}
\newcommand{\searchInt}[0]{\mathcal{T}^{\mathrm{search}}}
\newcommand{\searchRadius}[0]{r}
\newcommand{\hypothesisSet}[0]{\mathcal{H}}
\newcommand{\syncMetric}[0]{\Lambda}
\newcommand{\filterLength}[0]{\mathrm{N}}

\newcommand{\corrMarker}[0]{\mathrm{C}}
\newcommand{\diffMarker}[0]{\mathrm{D}}
\newcommand{\blindMarker}[0]{\mathrm{B}}
\newcommand{\corr}[0]{\mathrm{corr}}
\newcommand{\dcorr}[0]{\mathrm{dcorr}}

\newcommand{\modRecSig}[0]{\recSig'}
\newcommand{\filter}[0]{g}
\newcommand{\corrFilter}[0]{\filter_\corrMarker}
\newcommand{\vecModRecSig}[0]{\vec{\recSig}'}
\newcommand{\vecCorrFilter}[0]{\vec{\filter}_\corrMarker}
\newcommand{\corrMetric}[0]{\syncMetric^\corr}
\newcommand{\corrFunc}[0]{\varphi}
\newcommand{\tsCorr}[0]{\tsEst^\corr}

\newcommand{\diffRecSig}[0]{\recSig_{\diffMarker}}
\newcommand{\vecDiffRecSig}[0]{\vec{\recSig}_{\diffMarker}}
\newcommand{\diffCorrFilter}[0]{\filter_\diffMarker}
\newcommand{\vecDiffCorrFilter}[0]{\vec{\filter}_\diffMarker}
\newcommand{\dcorrMetric}[0]{\syncMetric^\dcorr}
\newcommand{\dcorrFunc}[0]{\varphi_\diffMarker}
\newcommand{\tsDcorr}[0]{\tsEst^\dcorr}

%Blind filters
\newcommand{\blindCorrFilter}[0]{g_\corrMarker^{\blindMarker}}
\newcommand{\blindDiffCorrFilter}[0]{\filter_\diffMarker^\blindMarker}
\newcommand{\vecBlindCorrFilter}[0]{\vecCorrFilter^\blindMarker}
\newcommand{\vecBlindDiffCorrFilter}[0]{\vecDiffCorrFilter^\blindMarker}

%Detection
\newcommand{\detecSample}[0]{d}
\newcommand{\estSym}[0]{\hat{{\symVar}}}
\newcommand{\detecThresh}[0]{\xi}
\newcommand{\detecThreshSet}[0]{\Xi}
\newcommand{\nPilots}[0]{P} % number of pilot symbols
\newcommand{\nCoherence}[0]{F} % number of symbols the threshold stays fixed
\newcommand{\nWindow}[0]{W} % number of symbols used for reevaluation of thresholds
\newcommand{\nSkip}[0]{\chi} % number of symbols used for reevaluation of thresholds


\newcommand{\symbolSampleSet}[0]{\mathcal{S}}
\newcommand{\avgSymbolSampleSet}[0]{\bar{S}}
\newcommand{\threshDiff}[0]{\delta}
\newcommand{\avgThreshDiff}[0]{\Delta}

\newcommand{\AMED}[0]{\mathrm{AMED}}
