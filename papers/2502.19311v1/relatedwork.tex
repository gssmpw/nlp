\section{Related work and implications for \logikey}
\label{sec:logikey}

Much related work on the connections between deep and shallow embeddings can actually be found in the literature, see e.g.~\cite{SvenningssonA12,KaposiKK19,PrinzKL22,WangCT24} and the references therein. However, there seems to be no work reported yet which achieved the automation of faithfulness proofs between deep and (different degrees of) shallow embeddings as demonstrated in this paper. 



\paragraph{Deep embeddings.}
Exemplary developments and applications of non-trivial deep logic embeddings include self-verifications of the HOL light logic \cite{Harrison06,AbrahamssonMKS22}, a formalization of the Core Why3 logic \cite{10.1145/3632902}, and a provably sound implementation of a differential dynamic logic \cite{deep2017}, to name a few. For examples of deep embeddings of logics and their calculi in the Coq proof assistant \cite{Coq}, see e.g.~\cite{SozeauABCFKMTW20} and the references therein, and Isabelle/HOL examples are presented in \cite{BlanchettePT17,FOL_Seq_Calc3-AFP,Implicational_Logic-AFP,LIPIcs.ITP.2022.13}. Further related work on the self-verification or bootstrapping of theorem provers 
can be found in \cite{Carneiro20}, and more recently in \cite{carneiro2024lean4leanverifiedtypecheckerlean} in the context of Lean \cite{Lean}.
% on deep embeddings in the proof assistant Lean \cite{Lean}.

\paragraph{Shallow embeddings.}
Exemplary work in this category, which Nipkow called the extensional approach \cite{Nipkow2002}, includes a mechanization of HOL reasoning in first-order set theory \cite{GuilloudGGK24}, the techniques presented in~\cite{KaposiKK19} to overcome some problems of shallow embedding for reasoning over the syntax of embedded languages, a shallow embedding for a pure type systems in first-order logic~\cite{LIPIcs.TYPES.2016.9}, and various other works such as~\cite{RabeLP14,LammichM12}; see also the references given in \cite{WangCT24}.
Moreover, note also that the automation support for various quantified non-classical logics as realized in the HOL theorem prover Leo3 \cite{J51,J72} is based on shallow embeddings. 


\paragraph{Implications for \logikey.}
The logic-pluralistic knowledge and reasoning methodology \logikey \cite{J48}, see Fig.~\ref{fig:LogiKEy}, leverages higher-order logic (HOL) as a unifying metalogic to enable the modeling of diverse object logics, so far,  primarily via using shallow semantic embeddings. 

\logikey\ has been used in a number of application domains and contexts where different object logics, such as free logic or modal higher-order logic, for example, have been used as a starting point; see e.g.~\cite{J40,J75,J68} 

This paper illustrates how the \logikey approach may benefit in the future from systematically provided, mutually faithful deep and shallow embeddings of all its supported object logics, so that they be used interchangeably. 
The technique presented in this paper has also the potential to replace or complement many pen and paper proofs to establish faithfulness results in prior works, such as e.g.~given in \cite{J23,J31,J58}, by verified proofs within the proof assistant. This in turn will be relevant for enabling applications in areas that require highest levels of trust. For this note that a particular application direction of \logikey\ is normative and legal reasoning in the context of AI regulation, see also \cite{R93}.

Moreover, with respect to the \logikey\ context, this paper also illustrates the conceptual changes that were applied in the transition in previous work from lightweight shallow embeddings of non-classical logics, as used for example for encoding higher-order modal logic \cite{J23} or conditional logic \cite{J31} (which take into account minimal dependencies on possible worlds only), to more heavyweight shallow embeddings, such as public announcement logic \cite{J58}, in which additional dependencies (on evaluation domains) had to be maintained. In prior work the explicit modeling of atoms, signatures and valuations was also often avoided.

Most importantly, the presented technique for linking deep and shallow embeddings will be very fruitful for furthering the use of \logikey\ in university-level logic courses, including in particular the author's courses on universal logical reasoning that have been taught at the Free University of Berlin and now at the University of Bamberg for the last decade.


\tikzset{block/.style={draw, thick, text width=2cm, minimum height=1.3cm, align=center}, 
         line/.style={-latex} }
\tikzset{ font={\fontsize{12pt}{12}\selectfont}}

\tikzset{testpic1/.pic={ 
\node[block, fill=green!20, text width=10cm, minimum width=14cm, minimum height=2cm] (m1) 
      { \textbf{\huge L3 --- Applications} };
\node[block, below=.5cm of m1, fill=orange!30, text width=14cm, minimum height=2cm] (m2) 
      { \textbf{\huge L2 --- Domain-Specific Language(s)} };
\node[block, below=.5cm of m2, fill=yellow!20, text width=10cm, minimum width=14cm, minimum height=2cm] (m3) 
      { \textbf{\huge L1 --- Object Logic(s)} };
\node[block, below=.5cm of m3, fill=blue!20, text width=11cm, minimum width=14cm, minimum height=2cm] (m4) 
      { \textbf{\huge L0 --- Meta-Logic (HOL)} };
\node[block, above right=-.5cm and 1.5cm of m1, fill=gray!40, text width=8cm, minimum width=9cm, minimum height=2cm, rotate=-90] (r1) 
      { \textbf{\huge \logikey\ Methodology} };

  \begin{scope}[on background layer] 
    \node[draw, fill=blue!20, inner xsep=5mm, inner ysep=5mm, fill opacity=0.6, fit=(m1)(m2)(m3)(m4)](m1tom4){};
  \end{scope}

  \begin{scope}[on background layer] 
    \node[draw, fill=gray!40, inner xsep=20mm, inner ysep=5mm, fill opacity=0.5, fit=(m1)(m2)(m3)(m4)(m1tom4)](all){};
  \end{scope}
}}


\tikzset{testpic2/.pic={ 
\node[block, fill=green!20, text width=10cm, minimum width=14cm, minimum height=2cm] (m1) 
      { \mbox{\textbf{\huge Gödel's Ontological Argument}} };
\node[block, below=.5cm of m1, fill=orange!30, text width=14cm, minimum height=2cm] (m2) 
      { \textbf{\huge Theory of Positive Properties} };
\node[block, below=.5cm of m2, fill=yellow!20, text width=10cm, minimum width=14cm, minimum height=2cm] (m3) 
      { \textbf{\huge Higher-Order Modal Logic} };
\node[block, below=.5cm of m3, fill=blue!20, text width=11cm, minimum width=14cm, minimum height=2cm] (m4) 
      { \textbf{\huge Meta-Logic (HOL)} };

  \begin{scope}[on background layer] 
    \node[draw, fill=blue!20, inner xsep=5mm, inner ysep=5mm, fill opacity=0.6, fit=(m1)(m2)(m3)(m4)](m1tom4){};
  \end{scope}
}}

\tikzset{testpic3/.pic={ 
\node[block, fill=green!20, text width=10cm, minimum width=14cm, minimum height=2cm] (m1) 
      { \mbox{\textbf{\huge Wise Men Puzzle}} };
\node[block, below=.5cm of m1, fill=orange!30, text width=14cm, minimum height=2cm] (m2) 
      { \textbf{\huge Theory of Agent(s) Knowledge} };
\node[block, below=.5cm of m2, fill=yellow!20, text width=10cm, minimum width=14cm, minimum height=2cm] (m3) 
      { \textbf{\huge Public Announcement Logic} };
\node[block, below=.5cm of m3, fill=blue!20, text width=11cm, minimum width=14cm, minimum height=2cm] (m4) 
      { \textbf{\huge Meta-Logic (HOL)} };

  \begin{scope}[on background layer] 
    \node[draw, fill=blue!20, inner xsep=5mm, inner ysep=5mm, fill opacity=0.6, fit=(m1)(m2)(m3)(m4)](m1tom4){};
  \end{scope}
}}

\begin{figure}[tp!]
\centering 
\begin{minipage}{.70\textwidth}
\resizebox{\textwidth}{!}{
    \begin{tikzpicture}
      \pic{testpic1};
    \end{tikzpicture}
    }
\end{minipage}
\hfill
\begin{minipage}{.28\textwidth}
\resizebox{\textwidth}{!}{
    \begin{tikzpicture}
      \pic{testpic2};
    \end{tikzpicture}
    }
\vskip.3em
\resizebox{\textwidth}{!}{    
    \begin{tikzpicture}
      \pic{testpic3};
    \end{tikzpicture} 
    }
\end{minipage}
\caption{The logic-pluralistic knowledge representation and reasoning methodology \logikey (left) and two concrete applications of it (right): Studies on Gödel's ontological argument \cite{J75} (top) and an automation of the wise men puzzle \cite{J58} (bottom). \label{fig:LogiKEy}}
\end{figure}