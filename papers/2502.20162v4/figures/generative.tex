\begin{tikzpicture}%[x=1.7cm,y=1.8cm]

  \node[obs]                                (X) {$\mathbf{x}$} ;
  \node[det, above=of X, yshift=-0.5cm]                                (f) {$f$} ;
  \node[latent, left=of f]                             (e) {$\mathbf{e}$} ;
  \node[latent, above=of f, xshift=-1.2cm, yshift=-0.5cm]  (Zy) {$\mathbf{z}_y$} ;
  \node[latent, above=of f, xshift=1.2cm, yshift=-0.5cm]  (Zd) {$\mathbf{z}_d$} ;
  \node[latent, above=of Zy, yshift=-0.5cm]  (Y) {$y$} ;
  \node[latent, above=of Zd, yshift=-0.5cm]  (D) {$d$} ;

  \edge{Y}{Zy}
  \edge{D}{Zd}
  \edge{Zy,Zd,e}{f}
  \edge{f}{X}

\end{tikzpicture}
