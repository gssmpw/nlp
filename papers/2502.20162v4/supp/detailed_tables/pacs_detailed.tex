\begin{table*}
\centering
\small
\renewcommand{\arraystretch}{1.1}
\caption{\small{Out-of-domain accuracies (\%) on {PACS}.}}
\begin{tabular}{lllll|c}
\toprule
\textbf{Algorithm} & \textbf{A} & \textbf{C} & \textbf{P} & \textbf{S} & \textbf{Avg} \\
\midrule

IRM$^\dagger$ \cite{arjovsky2019irm}            & 84.8\scriptsize{$\pm1.3$}      \normalsize{({\color{red}$-3.6$})}& 
76.4\scriptsize{$\pm1.1$}      \normalsize{({\color{green}$+0.7$})} & 
96.7\scriptsize{$\pm0.6$}      \normalsize{({\color{red}$-0.3$})}& 
76.1\scriptsize{$\pm1.0$}      \normalsize{({\color{red}$-2.8$})} & 
%		33.9\scriptsize{$\pm2.8$}          & 
83.5 \normalsize{({\color{red}$-1.5$})}          \\

ERM$^\ddagger$ \cite{vapnik1998statistical} & 
85.7 \scriptsize$\pm0.6$ & 
77.1 \scriptsize$\pm0.8$ & 
97.4 \scriptsize$\pm0.4$ & 
76.6 \scriptsize$\pm0.7$ & 
84.2 \\


GroupDRO$^\ddagger$ \cite{Sagawa2020GroupDRO}    & 83.5\scriptsize{$\pm0.9$}    \normalsize{({\color{green}$+3.6$})}   & 
79.1\scriptsize{$\pm0.6$}    \normalsize{({\color{green}$+2.0$})}   & 
96.7\scriptsize{$\pm0.7$}    \normalsize{({\color{green}$+0.5$})}   & 
78.3\scriptsize{$\pm2.0$}    \normalsize{({\color{red}$-0.5$})}   & 
%		33.3\scriptsize{$\pm0.2$}          & 
84.4 \normalsize{({\color{green}$+1.4$})}           \\


MTL$^\ddagger$\cite{blanchard2021mtl_marginal_transfer_learning}   & 87.5\scriptsize{$\pm0.8$}     \normalsize{({\color{green}$+1.3$})} & 
77.1\scriptsize{$\pm0.5$}     \normalsize{({\color{green}$+2.5$})} & 
96.4\scriptsize{$\pm0.8$}     \normalsize{({\color{red}$-0.8$})} & 
77.3\scriptsize{$\pm1.8$}     \normalsize{({\color{green}$+0.7$})} &  
%		40.6\scriptsize{$\pm0.1$}          & 
84.6 \normalsize{({\color{green}$+0.9$})}          \\

Mixup$^\dagger$ \cite{xu2020interdomain_mixup_aaai}             & 86.1\scriptsize{$\pm0.5$}   \normalsize{({\color{green}$+1.2$})} & 
78.9\scriptsize{$\pm0.8$}   \normalsize{({\color{red}$-0.1$})} & 
97.6\scriptsize{$\pm0.1$}   \normalsize{({\color{red}$-0.4$})} & 
75.8\scriptsize{$\pm1.8$}   \normalsize{({\color{green}$+4.1$})} & 
%		39.2\scriptsize{$\pm0.1$}            & 
84.6   \normalsize{({\color{green}$+1.2$})}        \\


MMD$^\ddagger$ \cite{li2018mmd}                  & 86.1\scriptsize{$\pm1.4$}     \normalsize{({\color{green}$+0.8$})} & 
79.4\scriptsize{$\pm0.9$}     \normalsize{({\color{green}$+0.5$})} & 
96.6\scriptsize{$\pm0.2$}     \normalsize{({\color{red}$-0.6$})} & 76.5\scriptsize{$\pm0.5$}     \normalsize{({\color{green}$+3.7$})} & 
%		23.4\scriptsize{$\pm9.5$}          & 
84.7 \normalsize{({\color{green}$+0.8$})}         \\


VREx$^\ddagger$ \cite{krueger2020vrex} & 
86.0\scriptsize{$\pm1.6$}     \normalsize{({\color{green}$+0.2$})} & 79.1\scriptsize{$\pm0.6$}     \normalsize{({\color{red}$-0.9$})} & 96.9\scriptsize{$\pm0.5$}     \normalsize{({\color{red}$-0.1$})} & 77.7\scriptsize{$\pm1.7$}     \normalsize{({\color{green}$+2.3$})} & 
%		33.6\scriptsize{$\pm2.9$}          & 
84.9 \normalsize{({\color{green}$+0.5$})}         \\

MLDG$^\dagger$ \cite{li2018learning}                & 85.5\scriptsize{$\pm1.4$}   \normalsize{({\color{green}$+1.1$})} &
80.1\scriptsize{$\pm1.7$}   \normalsize{({\color{green}$+0.9$})} & 97.4\scriptsize{$\pm0.3$}   \normalsize{({\color{green}$-0.9$})} &
76.6\scriptsize{$\pm1.1$}   \normalsize{({\color{green}$+1.6$})} & 
%		41.2\scriptsize{$\pm0.1$}            & 
84.9 \normalsize{({\color{green}$+0.7$})}      \\

ARM$^\ddagger$ \cite{zhang2020arm}               & 86.8\scriptsize{$\pm0.6$}     \normalsize{({\color{red}$-1.9$})} & 
76.8\scriptsize{$\pm0.5$}     \normalsize{({\color{green}$+4.7$})} & 
97.4\scriptsize{$\pm0.3$}     \normalsize{({\color{red}$-1.1$})} & 
79.3\scriptsize{$\pm1.2$}     \normalsize{({\color{green}$+0.4$})} & 
%		35.5\scriptsize{$\pm0.2$}          & 
85.1 \normalsize{({\color{green}$+0.5$})}           \\


Mixstyle$^\ddagger$ \cite{zhou2021mixstyle}   & 
86.8\scriptsize{$\pm0.5$} \normalsize{({\color{green}$+1.1$})}            & 79.0\scriptsize{$\pm1.4$} \normalsize{({\color{red}$-0.3$})}          & 96.6\scriptsize{$\pm0.1$} \normalsize{({\color{red}$-1.1$})}          & 78.5\scriptsize{$\pm2.3$} \normalsize{({\color{green}$+1.4$})}          & 
%		34.0\scriptsize{$\pm0.1$}          & 
85.2 \normalsize{({\color{green}$+0.3$})}           \\



%AND-mask \cite{shahtalebi2021sand} & 
%84.4\scriptsize{$\pm0.9$}  
%\normalsize{({\color{green}$+0.1$})}& 
%78.1\scriptsize{$\pm0.9$}  
%\normalsize{({\color{green}$+0.3$})}& 
%65.6\scriptsize{$\pm0.4$}  
%\normalsize{({\color{green}$+0.4$})} & 
%44.6\scriptsize{$\pm0.3$} 
%\normalsize{({\color{green}$+0.5$})}
%%        & 37.2\scriptsize{$\pm0.6$}  
%& 68.2 \normalsize{({\color{green}$+0.3$})}\\

CORAL$^\dagger$ \cite{sun2016coral}             & 88.3\scriptsize{$\pm0.2$}      \normalsize{({\color{red}$-0.6$})}& 
80.0\scriptsize{$\pm0.5$}      \normalsize{({\color{green}$+1.3$})} & 
97.5\scriptsize{$\pm0.3$}      \normalsize{({\color{green}$+0.6$})} & 
78.8\scriptsize{$\pm1.3$}      \normalsize{({\color{green}$+1.5$})}& 
%		41.5\scriptsize{$\pm0.1$}          & 
86.2    \normalsize{({\color{green}$+0.7$})}       \\

SagNet$^\dagger$ \cite{nam2019sagnet}           &             87.4\scriptsize{$\pm0.2$}    \normalsize{({\color{red}$-2.3$})} & 
80.7\scriptsize{$\pm0.5$}    \normalsize{({\color{green}$+1.0$})} & 97.1\scriptsize{$\pm0.1$}    \normalsize{({\color{red}$-0.9$})}& 
80.0\scriptsize{$\pm1.0$}    \normalsize{({\color{red}$-1.8$})}& 
%		40.3\scriptsize{$\pm0.1$}          & 
86.3 \normalsize{({\color{red}$-1.0$})}         \\

\midrule

RSC$^\dagger$ \cite{huang2020rsc}               & 85.4\scriptsize{$\pm0.9$}      \normalsize{({\color{red}$-1.8$})}& 
79.7\scriptsize{$\pm0.5$}      \normalsize{({\color{green}$+2.9$})}& 
97.6\scriptsize{$\pm0.9$}      \normalsize{({\color{red}$-1.0$})}& 
78.2\scriptsize{$\pm1.0$}      \normalsize{({\color{green}$+0.3$})}& 
%		38.9\scriptsize{$\pm0.5$}          & 
85.2 \normalsize{({\color{green}$+0.1$})}   \\

%Fish $^\ddagger$ \cite{shi2021gradient}                     & 85.5\scriptsize{$\pm0.3$}     \normalsize{({\color{green}$+0.1$})} & 77.8\scriptsize{$\pm0.3$}     \normalsize{({\color{green}$+0.9$})} & 
%68.6\scriptsize{$\pm0.4$}     \normalsize{({\color{red}$-0.6$})} & 
%45.1\scriptsize{$\pm1.3$}     \normalsize{({\color{green}$+0.8$})} & 
%%		42.7\scriptsize{$\pm0.2$}            & 
%69.3 \normalsize{({\color{green}$+0.3$})}             \\ 

SAM $^\ddagger$\cite{foret2020sharpness}  & 
85.6\scriptsize$\pm2.1$       \normalsize{({\color{green}$+1.1$})} & 
80.9\scriptsize$\pm1.2$       \normalsize{({\color{red}$-0.8$})} & 
97.0\scriptsize$\pm0.4$       \normalsize{({\color{red}$-0.2$})} & 
79.6\scriptsize$\pm1.6$       \normalsize{({\color{green}$+1.2$})} & 
%		44.3\scriptsize$\pm0.0$              & 
85.8 \normalsize{({\color{green}$+0.6$})}   \\

GSAM $^\ddagger$ \cite{zhuang2022surrogate}       &
86.9\scriptsize$\pm0.1$      \normalsize{({\color{red}$-0.4$})} & 
80.4\scriptsize$\pm0.2$      \normalsize{({\color{green}$+0.7$})} & 
97.5\scriptsize$\pm0.0$      \normalsize{({\color{red}$-1.1$})}& 
78.7\scriptsize$\pm0.8$      \normalsize{({\color{green}$+2.5$})}& 
%		44.6\scriptsize$\pm0.2$             & 
85.9  \normalsize{({\color{green}$+0.4$})}  \\

SAGM $^\ddagger$ \cite{wang2023sharpness}       & 
87.4\scriptsize{$\pm0.2$}    \normalsize{({\color{green}$+1.2$})}& 
80.2\scriptsize{$\pm0.3$}    \normalsize{({\color{green}$+1.1$})}& 
98.0\scriptsize{$\pm0.2$}    \normalsize{({\color{red}$-1.0$})}& 
80.8\scriptsize{$\pm0.6$}    \normalsize{({\color{red}$-0.4$})}& 
%		45.0\scriptsize{$\pm0.2$}           & 
86.6 \normalsize{({\color{green}$+0.2$})}   \\

%		\midrule
\midrule
\textbf{GGA} (ours)                 & 
88.8\scriptsize{$\pm0.2$}           & 
80.1\scriptsize{$\pm0.3$}           & 
97.3\scriptsize{$\pm0.2$}           &  
81.2\scriptsize{$\pm0.5$}    &  
87.3  \\
%		\midrule

\bottomrule
\end{tabular}
\end{table*}