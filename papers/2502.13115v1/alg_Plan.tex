\begin{algorithm}
\begin{algorithmic}
\REQUIRE Confidence interval descriptions $(\hft[0], \CIt[0]),\cdots,(\hft[j-1],\CIt[j-1])$ up to the $j$th epoch.
\FOR{context $x\in\cX$}
\STATE Set $\cAxt[0]=\cA$.
\FOR{$\tau=1,\cdots,j-1$}
\STATE Set
\begin{align}\label{eq:eliminate}
    \cAxt=\sset{ a\in\cAxt[\tau-1]: \hft(x,a)+\CIt(x,a)\geq \max_{a'\in\cA}\hft(x,a')-\CIt(x,a') }.
\end{align}
\ENDFOR
\STATE Compute a spanner $\cAsp[j]$ of $\cAxt[j-1]$ (\cref{def:spanner}).
\STATE Set $\pit[j](x)=\Unif(\cAsp[j])$.
\ENDFOR
\ENSURE Policy $\pit[j]$.
\end{algorithmic}
\caption{Subroutine $\AlgPlan$ %
}\label{alg:plan}
\end{algorithm}
