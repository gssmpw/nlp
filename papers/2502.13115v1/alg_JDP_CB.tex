
\begin{algorithm}
\begin{algorithmic}
\REQUIRE Round $T\geq 1$, parameter $\delta\in(0,1)$, epoch schedule $1=T\epj[0]<T\epj[1]<\cdots<T\epj[J]=T$.
\STATE Initialize $\hft[0]\equiv 0, \CIt[0]\equiv 1$.
\FOR{$j=0,1,\cdots,J-1$}
\STATE Set $\pit[j]\leftarrow\AlgPlan(\set{ (\hft,\CIt)  }_{\tau<j})$ and initialize the dataset $\dataset\epj=\sset{}$.
\FOR{$t=T\epj,\cdots,T\epj[j+1]-1$}
\STATE Observe context $x_t\sim P$, select action $a_t\sim \pit[j](x_t)$, and receive reward $r_t$. 
\STATE Update the dataset $\dataset\epj \leftarrow \dataset\epj \cup \sset{ (\phxa[x_t,a_t], r_t) }$.
\ENDFOR
\STATE Set $(U\epj, \lambda\epj), \hth\epj,\lamall\epj \leftarrow \AlgJDPRegression(\cD\epj,\delta)$.
\STATE Update the estimated reward function and confidence bound as
\begin{align*}
    \hft[j](x,a)=\nu(\lr \phxa, \hth\epj \rr), \qquad
    \CIt[j](x,a)=\lamall \epj \cdot \nrmn{U\epj \phxa}, \qquad \forall (x,a)\in\cX\times\cA.
\end{align*}
\ENDFOR
\end{algorithmic}
\caption{Action Elimination Algorithm with JDP}\label{alg:batch-cb-JDP}
\end{algorithm}
