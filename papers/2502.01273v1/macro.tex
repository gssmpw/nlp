\usepackage{listings}
\usepackage{color}
\usepackage{makecell}
\usepackage{float}
\usepackage{longtable}
\usepackage{array}
\usepackage{booktabs}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{tcolorbox}
\usepackage{lipsum} % For placeholder text, can be removed
\usepackage{graphicx}
\usepackage{caption}

\usepackage{threeparttable}  
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{bm}

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{frame=tb,
  language=Java,
  aboveskip=3mm,
  belowskip=3mm,
  showstringspaces=false,
  columns=flexible,
  basicstyle={\small\ttfamily},
  numbers=left,
  numberstyle=\color{gray},
  keywordstyle=\color{blue},
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  breaklines=true,
  breakatwhitespace=true,
  tabsize=3
}



% Define the custom chat bubble style
\tcbuselibrary{skins, breakable}
\newtcolorbox{chatbubble}[1][]{
    enhanced,
    breakable,
    colback=gray!5,  % Background color
    colframe=gray!60, % Border color
    fonttitle=\bfseries,
    boxrule=0.5mm,    % Border thickness
    width=\textwidth, % Full text width
    arc=3.5mm,          % Rounded corners
    boxsep=1mm,           % Minimal padding inside the box
    left=0.5mm,             % Minimal left padding
    right=0.5mm,            % Minimal right padding
    top=1mm,              % Minimal top padding
    bottom=1mm ,          % Minimal bottom padding
    title=#1,   
    overlay={ % Draw the triangle at the bottom right, outside the border
        \fill[gray!60]
          (frame.south east) ++(0.3mm,0.5mm) circle (1.2mm); % Adjust the position and size as needed
    }
}

% Define a new counter for chat listings
\newcounter{chatlisting}
\renewcommand{\thechatlisting}{Chat Listing \arabic{chatlisting}}



% Define the chat group environment
\newenvironment{chatgroup}[1]{%
    \vspace{2mm}
    \refstepcounter{chatlisting} % Increment chat listing counter
    \def\chatcaption{#1} % Store the caption text
    \begin{minipage}{0.95\columnwidth} % Ensure the content stays within the column width
}{%
    \end{minipage}
    \vspace{0mm}\captionsetup{type=figure}\caption*{\thechatlisting: \chatcaption} % Add the caption after the chatgroup
    \vspace{4mm}
}

%%
%% \BibTeX command to typeset BibTeX logo in the docs
\AtBeginDocument{%
  \providecommand\BibTeX{{%
    Bib\TeX}}}
