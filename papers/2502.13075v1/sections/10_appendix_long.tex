
\section*{Appendix}
\appendix
\section{\atbcr{2}{Read Disturbance Threshold Testing}}
\label{app:testing}

\atbcr{2}{We describe a methodology for estimating the read disturbance
threshold (RDT) testing time \ext{and energy consumption} for a double-sided
RowHammer access pattern (i.e., $t_{AggOn}$ = minimum $t_{RAS}$). We use the
methodology to demonstrate testing time \ext{and energy consumption} for a DRAM
row, a bank of rows, multiple banks, and a DRAM module, for a varying number of
test iterations.} \atbcr{2}{An iteration of an RDT test yields one RDT
measurement for one DRAM row and consists of 1)~initializing the victim row and
the two aggressor rows, 2)~performing double-sided RowHammer by repeatedly
activating the aggressor rows, and 3)~reading victim row's data to check for
bitflips. To estimate RDT testing times, we tightly schedule the DRAM commands
needed to perform each step. \ext{To estimate energy consumption, we use the
current values reported in~\cite{micron2021addendum}.} We report both 1)~the
number and order of the DRAM commands needed to perform the RDT test
(Tables~\ref{table:test-commands} and~\ref{table:test-commands-blp}), and 2)~the
time required to perform the RDT test using the timing parameters provided by
the DDR5 standard~\cite{jedecddr5c} (Table~\ref{table:timing-parameters})
assuming 8800 MT/s speed rate.}

\begin{table}[!ht]
  \centering
  \footnotesize
  \caption{\atbcr{2}{List of DRAM commands issued to measure RDT once for one
  victim DRAM row in one bank using the double-sided read disturbance access
  pattern~\cite{kim2014flipping,kim2020revisiting,
  orosa2021deeper,seaborn2015exploiting}
  (one hammer constitutes activation of the two aggressor rows)}}
  \begin{tabular}{|l||l|l|r|}
  \hline
  \textbf{Command}                & \textbf{Address}                      & \textbf{Timing}      & \textbf{\# of Commands}                 \\ \hline\hline
  ACT                    & \multirow{4}{*}{Victim}      & $t_{RCD}$        & 1                              \\ \cline{1-1} \cline{3-4} 
  \multirow{2}{*}{WRITE} &                              & $t_{CCD\_L\_WR}$ & 127                            \\ \cline{3-4} 
                         &                              & $t_{WR}$         & 1                              \\ \cline{1-1} \cline{3-4} 
  PRE                    &                              & $t_{RP}$         & 1                              \\ \hline
  ACT                    & \multirow{4}{*}{Aggressor 1} & $t_{RCD}$        & 1                              \\ \cline{1-1} \cline{3-4} 
  \multirow{2}{*}{WRITE} &                              & $t_{CCD\_L\_WR}$ & 127                            \\ \cline{3-4} 
                         &                              & $t_{WR}$         & 1                              \\ \cline{1-1} \cline{3-4} 
  PRE                    &                              & $t_{RP}$         & 1                              \\ \hline
  ACT                    & \multirow{4}{*}{Aggressor 2} & $t_{RCD}$        & 1                              \\ \cline{1-1} \cline{3-4} 
  \multirow{2}{*}{WRITE} &                              & $t_{CCD\_L\_WR}$ & 127                            \\ \cline{3-4} 
                         &                              & $t_{WR}$         & 1                              \\ \cline{1-1} \cline{3-4} 
  PRE                    &                              & $t_{RP}$         & 1                              \\ \hline
  ACT                    & \multirow{2}{*}{Aggressor 1}  & \exttwo{$t_{AggOn}$}        & \multirow{4}{*}{\# of hammers} \\ \cline{1-1} \cline{3-3}
  PRE                    &                              & $t_{RP}$         &                                \\ \cline{1-3}
  ACT                    & \multirow{2}{*}{Aggressor 2}  & \exttwo{$t_{AggOn}$}        &                                \\ \cline{1-1} \cline{3-3}
  PRE                    &                              & $t_{RP}$         &                                \\ \hline
  ACT                    & \multirow{3}{*}{Victim}      & $t_{RCD}$        & 1                              \\ \cline{1-1} \cline{3-4} 
  \multirow{2}{*}{READ}  &                              & $t_{CCD\_L}$     & 127                            \\ \cline{3-4} 
                         &                              & $t_{RTP}$        & 1                              \\ \hline
  \end{tabular}
  \label{table:test-commands}
  \end{table}

\begin{table}[!ht]
  \centering
  % \footnotesize
  \caption{\atbcr{2}{\ext{List of DRAM commands issued to simultaneously (as much as possible, obeying timing constraints) measure RDT
  once for one victim DRAM row address across 16 banks using the double-sided
  read disturbance access pattern~\cite{kim2014flipping,kim2020revisiting,
  orosa2021deeper,seaborn2015exploiting}
  (one hammer constitutes activation of two aggressor row addresses in 16 
  banks)}}}
  \resizebox{1\linewidth}{!}{
  \begin{tabular}{|l||l|l|r|}
  \hline
  \textbf{Command}                & \textbf{Address}                      & \textbf{Timing}      & \textbf{\# of Commands}                 \\ \hline\hline
  ACT                    & \multirow{4}{*}{Victim}      & $t_{RRD\_S}$        & 16                              \\ \cline{1-1} \cline{3-4} 
  \multirow{2}{*}{WRITE} &                              & $t_{CCD\_S}$ & 2032 \\ \cline{3-4} 
                          &                              & $t_{WR}$         & 1                              \\ \cline{1-1} \cline{3-4} 
  PRE                    &                              & $t_{RP}$         & 1                              \\ \hline
  ACT                    & \multirow{4}{*}{Aggressor 1} & $t_{RRD\_S}$        & 16                              \\ \cline{1-1} \cline{3-4} 
  \multirow{2}{*}{WRITE} &                              & $t_{CCD\_S}$ & 2032                            \\ \cline{3-4} 
                          &                              & $t_{WR}$         & 1                              \\ \cline{1-1} \cline{3-4} 
  PRE                    &                              & $t_{RP}$         & 1                              \\ \hline
  ACT                    & \multirow{4}{*}{Aggressor 2} & $t_{RRD\_S}$        & 16                              \\ \cline{1-1} \cline{3-4} 
  \multirow{2}{*}{WRITE} &                              & $t_{CCD\_S}$ & 2032 \\ \cline{3-4} 
                          &                              & $t_{WR}$         & 1                              \\ \cline{1-1} \cline{3-4} 
  PRE                    &                              & $t_{RP}$         & 1                              \\ \hline
  ACT                    & \multirow{2}{*}{Aggressor 1}  & Max(\exttwo{$t_{AggOn}$}, $t_{RRD\_S}*16$)        & \multirow{4}{*}{\# of hammers} \\ \cline{1-1} \cline{3-3}
  PRE                    &                              & $t_{RP}$         &                                \\ \cline{1-3}
  ACT                    & \multirow{2}{*}{Aggressor 2}  & Max(\exttwo{$t_{AggOn}$}, $t_{RRD\_S}*16$)        &                                \\ \cline{1-1} \cline{3-3}
  PRE                    &                              & $t_{RP}$         &                                \\ \hline
  ACT                    & \multirow{3}{*}{Victim}      & $t_{RCD}$        & 1                              \\ \cline{1-1} \cline{3-4} 
  \multirow{2}{*}{READ}  &                              & $t_{CCD\_L}$     & 127                            \\ \cline{3-4} 
                          &                              & $t_{RTP}$        & 1                              \\ \hline
  \end{tabular}
  }
  \label{table:test-commands-blp}
\end{table}

\begin{table}[!ht]
  \centering
  \caption{\atbcr{2}{\ext{DRAM timing parameters used in our analysis and their values (in
  nanoseconds) as depicted in the JEDEC DDR5 standard~\cite{jedecddr5c}}}}
  \begin{tabular}{|l||r|}
  \hline
  \textbf{Timing Parameter} & \multicolumn{1}{r|}{\textbf{Latency (nanoseconds)}} \\ \hline\hline
  tRRD\_S                   & 1.816                                               \\ \hline
  tCCD\_S                   & 1.816                                               \\ \hline
  tCCD\_L                   & 5.000                                               \\ \hline
  tCCD\_L\_WR               & 20.000                                              \\ \hline
  tRCD                      & 14.090                                              \\ \hline
  tRP                       & 14.090                                              \\ \hline
  tRAS                      & 32.000                                              \\ \hline
  tRTP                      & 7.500                                               \\ \hline
  tWR                       & 30.000                                              \\ \hline
  \end{tabular}
  \label{table:timing-parameters}
\end{table}


\noindent
\exttwo{\textbf{Analysis Summary.} Even if we test only for RowHammer
\extthree{using \emph{only} a single data pattern and a single temperature
level}, i.e., using $t_{AggOn} = t_{RAS}$ and a hammer count of 1K, testing a{n
entire} \extthree{DRAM} chip with 32 banks for 100K RDT measurements {for each
row} takes 61 days and consumes 13 megajoules (as shown in
\figref{fig:rdt_testing_time_rowsweep} and
\figref{fig:rdt_testing_energy_rowsweep}). If we test for longer, the testing
time and energy consumption would scale linearly. \extthree{Increasing the data
patterns and temperature levels would increase testing time linearly with each
factor.} Testing for RowPress (with $t_{AggOn} = 7.8\mu{}s$ and hammer count $=
1K$) would increase the time to 13 years and consume 95 megajoules (as shown in
\figref{fig:rdt_testing_time_rowsweep_press} and
\figref{fig:rdt_testing_energy_rowsweep_press}).}

{Even if we make \emph{only} 1K RDT measurements per row, testing an entire DRAM
chip with 32 banks \extthree{for RowHammer} (using $t_{AggOn} = t_{RAS}$ and a
hammer count of 1K) takes 15 hours and consumes 128 kilojoules (as shown in
\figref{fig:rdt_testing_time_rowsweep_1K} and
\figref{fig:rdt_testing_energy_rowsweep_1K}). Testing for RowPress \extthree{(with
$t_{AggOn} = 7.8\mu{}s$)} would increase the time to 48 days and consume 950
kilojoules (as shown in \figref{fig:rdt_testing_time_rowsweep_1K_press} and
\figref{fig:rdt_testing_energy_rowsweep_1K_press}).}

\exttwo{\secref{sec:rowhammer_testing_time_energy} and
\secref{sec:rowpress_testing_time_energy} provide detailed information on the
testing time and energy consumption using different test parameters (e.g.,
hammer count, number of rows in a DRAM bank, and number of simultaneously tested
DRAM banks) for RowHammer ($t_{AggOn} = t_{RAS}$) and RowPress ($t_{AggOn} =
7.8\mu{}s$), respectively.}

\subsection{\exttwo{RowHammer Testing Time\\and Energy Consumption}}
\label{sec:rowhammer_testing_time_energy}

\ext{\atbcr{2}{Figure~\ref{fig:rdt_testing_time_small}
and~\ref{fig:rdt_testing_energy_small} \extthree{respectively} show the time
(in milliseconds, y-axis) \extthree{and energy (in millijoules)} to perform one
RDT measurement for a victim row for a varying number of hammer counts
(different colored bars) and varying number of simultaneously tested DRAM banks
(x-axis) \exttwo{for $t_{AggOn} = t_{RAS}$.}}}


\begin{figure*}[p]
  \centering
  \begin{subfigure}[h]{0.48\linewidth}
  \includegraphics[width=0.95\linewidth]{figures/hammer_test_times_hammersweep_1.pdf}
  \caption{\ext{\atbcr{2}{Time to perform \extthree{a single} RDT measurement
  for a \ext{single} victim row for a varying number of hammer counts and
  varying number of simultaneously (as much as possible, obeying timing
  constraints) tested DRAM banks}}}
  \label{fig:rdt_testing_time_small}
  \end{subfigure}\hfill
  \begin{subfigure}[h]{0.48\linewidth}
  \includegraphics[width=0.95\linewidth]{figures/hammer_energy_hammersweep_1.pdf}
  \caption{\ext{Energy to perform \atbcr{3}{\emph{a single}} RDT measurement for
  a single victim row for a varying number of hammer counts and varying number
  of simultaneously (as much as possible, obeying timing constraints) tested DRAM banks}}
  \label{fig:rdt_testing_energy_small}
  \end{subfigure}
  \caption{RowHammer testing time and energy consumption for \emph{a single} RDT measurement}
\end{figure*}

% \begin{figure}[!ht]
%   \centering
%   \includegraphics[width=0.95\linewidth]{figures/hammer_test_times_hammersweep_1.pdf}
%   \caption{\ext{\atbcr{2}{Time to perform \extthree{a single} RDT measurement
%   for a \ext{single} victim row for a varying number of hammer counts and
%   varying number of simultaneously (as much as possible, obeying timing
%   constraints) tested DRAM banks}}}
%   \label{fig:rdt_testing_time_small}
% \end{figure}

% % \ext{\atbcr{2}{Figure~\ref{fig:rdt_testing_energy_small} shows the energy (in
% % millijoules, y-axis) to perform one RDT measurement for a victim row for a varying
% % number of hammer counts (different colored bars) and varying number of
% % simultaneously tested DRAM banks (x-axis) \exttwo{for $t_{AggOn} = t_{RAS}$.}}}

% \begin{figure}[!ht]
%   \centering
%   \includegraphics[width=0.95\linewidth]{figures/hammer_energy_hammersweep_1.pdf}
%   \caption{\ext{Energy to perform \atbcr{3}{\emph{a single}} RDT measurement for
%   a single victim row for a varying number of hammer counts and varying number
%   of simultaneously (as much as possible, obeying timing constraints) tested DRAM banks}}
%   \label{fig:rdt_testing_energy_small}
% \end{figure}

\atbcr{2}{Figure~\ref{fig:rdt_testing_time_mid} shows the time (in \atbcr{4}{seconds},
y-axis) to perform one RDT measurement for a victim row for a varying number of
hammer counts (different colored bars) and varying number of DRAM rows in a bank
(x-axis) \exttwo{for $t_{AggOn} = t_{RAS}$.}}\atbcrcomment{4}{We will have the full(er) picture in the extended
version. Testing all banks can be done in parallel. The runtime of the test for
32 banks is not 32X longer. It is approx. 2X longer. We have all that in the
extended appendix. This figure provides the basis for computing experiment times
reported in the final version.}

\begin{figure*}[p]
  \centering
  \includegraphics[width=0.48\linewidth]{figures/hammer_test_times_hammer_row_1.pdf}
  \vspace{-5pt}
  \caption{\atbcr{2}{Time to perform \atbcr{3}{\omcr{4}{\emph{a single}} RDT
  measurement for a given number of victim rows (x-axis) and a varying number of
  hammer counts (\# of hammers)} \ext{in a single DRAM bank}}}
  \vspace{-5pt}
  \label{fig:rdt_testing_time_mid}
\end{figure*}

\exttwo{\atbcr{2}{Figure~\ref{fig:rdt_testing_time_rowsweep_1K}
\extthree{and~\ref{fig:rdt_testing_energy_rowsweep_1K} respectively} show the
time (in hours, y-axis) \extthree{and energy (in kilojoules)} to perform 1K RDT
measurements for number of hammers = 1K, for a varying number of victim rows
(different colored bars) and simultaneously tested DRAM banks (x-axis)
\exttwo{for $t_{AggOn} = t_{RAS}$.}}}


\begin{figure*}[p]
  \centering
  \begin{subfigure}[h]{0.48\linewidth}
  \includegraphics[width=0.95\linewidth]{figures/hammer_test_times_numberofrowssweep_1K.pdf}
  \caption{\exttwo{\atbcr{2}{Time to perform 1K RDT measurements for a
  varying number of victim rows and simultaneously (as much as possible, obeying
  timing constraints) tested DRAM banks given number of hammers = 1K}}}
  \label{fig:rdt_testing_time_rowsweep_1K}
  \end{subfigure}\hfill
  \begin{subfigure}[h]{0.48\linewidth}
  \includegraphics[width=0.95\linewidth]{figures/hammer_energy_numberofrowssweep_1K.pdf}
  \caption{\exttwo{Energy to perform 1K RDT measurements for a varying number of
  victim rows and simultaneously (as much as possible, obeying timing
  constraints) tested DRAM banks given number of hammers = 1K}}
  \label{fig:rdt_testing_energy_rowsweep_1K}
  \end{subfigure}
  \caption{RowHammer testing time and energy consumption for 1K RDT measurements}
\end{figure*}

% \begin{figure}[!ht]
%   \centering
%   \includegraphics[width=0.95\linewidth]{figures/hammer_test_times_numberofrowssweep_1K.pdf}
%   \caption{\exttwo{\atbcr{2}{Time to perform 1K RDT measurements for a
%   varying number of victim rows and simultaneously (as much as possible, obeying
%   timing constraints) tested DRAM banks given number of hammers = 1K}}}
%   \label{fig:rdt_testing_time_rowsweep_1K}
% \end{figure}


% % \exttwo{\atbcr{2}{Figure~\ref{fig:rdt_testing_energy_rowsweep_1K} shows the energy (in
% % kilojoules, y-axis) to perform 1K RDT measurements for number of hammers = 1K,
% % for a varying number of victim rows (different colored bars) and simultaneously
% % tested DRAM banks (x-axis) \exttwo{for $t_{AggOn} = t_{RAS}$.}}}

% \begin{figure}[!ht]
%   \centering
%   \includegraphics[width=0.95\linewidth]{figures/hammer_energy_numberofrowssweep_1K.pdf}
%   \caption{\exttwo{Energy to perform 1K RDT measurements for a varying number of
%   victim rows and simultaneously (as much as possible, obeying timing
%   constraints) tested DRAM banks given number of hammers = 1K}}
% \label{fig:rdt_testing_energy_rowsweep_1K}
% \end{figure}

\ext{\atbcr{2}{Figure~\ref{fig:rdt_testing_time_rowsweep}
\extthree{and~\ref{fig:rdt_testing_energy_rowsweep} respectively} show the time
(in days, y-axis) \extthree{and energy (in kilojoules)} to perform 100K RDT
measurements for number of hammers = 1K, for a varying number of victim rows
(different colored bars) and simultaneously tested DRAM banks (x-axis)
\exttwo{for $t_{AggOn} = t_{RAS}$.}}}

\begin{figure*}[p]
  \centering
  \begin{subfigure}[h]{0.48\linewidth}
  \includegraphics[width=0.95\linewidth]{figures/hammer_test_times_numberofrowssweep_100K.pdf}
  \caption{\ext{\atbcr{2}{Time to perform 100K RDT measurements for a varying
  number of victim rows and simultaneously (as much as possible, obeying timing constraints) tested DRAM banks given number of
  hammers = 1K}}}
  \label{fig:rdt_testing_time_rowsweep}
  \end{subfigure}\hfill
  \begin{subfigure}[h]{0.48\linewidth}
  \includegraphics[width=0.95\linewidth]{figures/hammer_energy_numberofrowssweep_100K.pdf}
  \caption{\ext{Energy to perform 100K RDT measurements for a varying number of
  victim rows and simultaneously (as much as possible, obeying timing
  constraints) tested DRAM banks given number of hammers = 1K}}
  \label{fig:rdt_testing_energy_rowsweep}
  \end{subfigure}
  \caption{RowHammer testing time and energy consumption for 100K RDT measurements}
\end{figure*}


% \begin{figure}[!ht]
%   \centering
%   \includegraphics[width=0.95\linewidth]{figures/hammer_test_times_numberofrowssweep_100K.pdf}
%   \caption{\ext{\atbcr{2}{Time to perform 100K RDT measurements for a varying
%   number of victim rows and simultaneously (as much as possible, obeying timing constraints) tested DRAM banks given number of
%   hammers = 1K}}}
%   \label{fig:rdt_testing_time_rowsweep}
% \end{figure}

% % \ext{\atbcr{2}{Figure~\ref{fig:rdt_testing_energy_rowsweep} shows the energy (in
% % kilojoules, y-axis) to perform 100K RDT measurements for number of hammers = 1K,
% % for a varying number of victim rows (different colored bars) and simultaneously
% % tested DRAM banks (x-axis) \exttwo{for $t_{AggOn} = t_{RAS}$.}}}

% \begin{figure}[!ht]
%   \centering
%   \includegraphics[width=0.95\linewidth]{figures/hammer_energy_numberofrowssweep_100K.pdf}
%   \caption{\ext{Energy to perform 100K RDT measurements for a varying number of
%   victim rows and simultaneously (as much as possible, obeying timing
%   constraints) tested DRAM banks given number of hammers = 1K}}
% \label{fig:rdt_testing_energy_rowsweep}
% \end{figure}

\clearpage

\subsection{\exttwo{RowPress Testing Time\\and Energy Consumption}}
\label{sec:rowpress_testing_time_energy}

\exttwo{\atbcr{2}{Figure~\ref{fig:rdt_testing_time_small_press}
\extthree{and~\ref{fig:rdt_testing_energy_small_press} respectively} show the
time (in milliseconds, y-axis) \extthree{and energy (in millijoules)} to perform
one RDT measurement for a victim row for a varying number of hammer counts
(different colored bars) and varying number of simultaneously tested DRAM banks
(x-axis) \exttwo{for $t_{AggOn} = 7.8\mu{}s$.}}}


\begin{figure*}[p]
  \centering
  \begin{subfigure}[h]{0.42\linewidth}
  \includegraphics[width=0.95\linewidth]{figures/press_test_times_hammersweep_1.pdf}
  \caption{\exttwo{\atbcr{2}{Time to perform \extthree{a single} RDT measurement
  for a \ext{single} victim row for a varying number of hammer counts and
  varying number of simultaneously (as much as possible, obeying timing
  constraints) tested DRAM banks}}}
  \label{fig:rdt_testing_time_small_press}
  \end{subfigure}\hfill
  \begin{subfigure}[h]{0.42\linewidth}
  \includegraphics[width=0.95\linewidth]{figures/press_energy_hammersweep_1.pdf}
  \caption{\exttwo{Energy to perform \atbcr{3}{\emph{a single}} RDT measurement for
  a single victim row for a varying number of hammer counts and varying number
  of simultaneously (as much as possible, obeying timing constraints) tested DRAM banks}}
  \label{fig:rdt_testing_energy_small_press}
  \end{subfigure}
  \caption{RowPress testing time and energy consumption for \emph{a single} RDT measurement}
\end{figure*}

% \begin{figure}[!ht]
%   \centering
%   \includegraphics[width=0.95\linewidth]{figures/press_test_times_hammersweep_1.pdf}
%   \caption{\exttwo{\atbcr{2}{Time to perform \extthree{a single} RDT measurement
%   for a \ext{single} victim row for a varying number of hammer counts and
%   varying number of simultaneously (as much as possible, obeying timing
%   constraints) tested DRAM banks}}}
%   \label{fig:rdt_testing_time_small_press}
% \end{figure}

% % \exttwo{\atbcr{2}{Figure~\ref{fig:rdt_testing_energy_small_press} shows the energy (in
% % millijoules, y-axis) to perform one RDT measurement for a victim row for a varying
% % number of hammer counts (different colored bars) and varying number of
% % simultaneously tested DRAM banks (x-axis) \exttwo{for $t_{AggOn} = 7.8\mu{}s$.}}}

% \begin{figure}[!ht]
%   \centering
%   \includegraphics[width=0.95\linewidth]{figures/press_energy_hammersweep_1.pdf}
%   \caption{\exttwo{Energy to perform \atbcr{3}{\emph{a single}} RDT measurement for
%   a single victim row for a varying number of hammer counts and varying number
%   of simultaneously (as much as possible, obeying timing constraints) tested DRAM banks}}
%   \label{fig:rdt_testing_energy_small_press}
% \end{figure}

\exttwo{\atbcr{2}{Figure~\ref{fig:rdt_testing_time_mid_press} shows the time (in \atbcr{4}{seconds},
y-axis) to perform one RDT measurement for a victim row for a varying number of
hammer counts (different colored bars) and varying number of DRAM rows in a bank
(x-axis) \exttwo{for $t_{AggOn} = 7.8\mu{}s$.}}\atbcrcomment{4}{We will have the full(er) picture in the extended
version. Testing all banks can be done in parallel. The runtime of the test for
32 banks is not 32X longer. It is approx. 2X longer. We have all that in the
extended appendix. This figure provides the basis for computing experiment times
reported in the final version.}}

\begin{figure*}[p]
  \centering
  \includegraphics[width=0.42\linewidth]{figures/press_test_times_hammer_row_1.pdf}
  \vspace{-5pt}
  \caption{\exttwo{\atbcr{2}{Time to perform \atbcr{3}{\omcr{4}{\emph{a single}} RDT
  measurement for a given number of victim rows (x-axis) and a varying number of
  hammer counts (\# of hammers)} \ext{in a single DRAM bank}}}}
  \vspace{-5pt}
  \label{fig:rdt_testing_time_mid_press}
\end{figure*}

\exttwo{\atbcr{2}{Figure~\ref{fig:rdt_testing_time_rowsweep_1K_press}
\extthree{and~\ref{fig:rdt_testing_energy_rowsweep_1K_press} respectively} show
the time (in hours, y-axis) \extthree{and energy (in kilojoules)} to perform 1K RDT measurements for number of hammers
= 1K, for a varying number of victim rows (different colored bars) and
simultaneously tested DRAM banks (x-axis) \exttwo{for $t_{AggOn} =
7.8\mu{}s$.}}}

\begin{figure*}[p]
  \centering
  \begin{subfigure}[h]{0.42\linewidth}
  \includegraphics[width=0.95\linewidth]{figures/press_test_times_numberofrowssweep_1K.pdf}
  \caption{\exttwo{\atbcr{2}{Time to perform 1K RDT measurements for a
  varying number of victim rows and simultaneously (as much as possible, obeying
  timing constraints) tested DRAM banks given number of hammers = 1K}}}
  \label{fig:rdt_testing_time_rowsweep_1K_press}
  \end{subfigure}\hfill
  \begin{subfigure}[h]{0.42\linewidth}
  \includegraphics[width=0.95\linewidth]{figures/press_energy_numberofrowssweep_1K.pdf}
  \caption{\exttwo{Energy to perform 1K RDT measurements for a varying number of
  victim rows and simultaneously (as much as possible, obeying timing
  constraints) tested DRAM banks given number of hammers = 1K}}
  \label{fig:rdt_testing_energy_rowsweep_1K_press}
  \end{subfigure}
  \caption{RowPress testing time and energy consumption for 1K RDT measurements}
\end{figure*}


% \begin{figure}[!ht]
%   \centering
%   \includegraphics[width=0.95\linewidth]{figures/press_test_times_numberofrowssweep_1K.pdf}
  % \caption{\exttwo{\atbcr{2}{Time to perform 1K RDT measurements for a
  % varying number of victim rows and simultaneously (as much as possible, obeying
  % timing constraints) tested DRAM banks given number of hammers = 1K}}}
%   \label{fig:rdt_testing_time_rowsweep_1K_press}
% \end{figure}


% % \exttwo{\atbcr{2}{Figure~\ref{fig:rdt_testing_energy_rowsweep_1K_press} shows the energy (in
% % kilojoules, y-axis) to perform 1K RDT measurements for number of hammers = 1K,
% % for a varying number of victim rows (different colored bars) and simultaneously
% % tested DRAM banks (x-axis) \exttwo{for $t_{AggOn} = 7.8\mu{}s$.}}}

% \begin{figure}[!ht]
%   \centering
%   \includegraphics[width=0.95\linewidth]{figures/press_energy_numberofrowssweep_1K.pdf}
%   \caption{\exttwo{Energy to perform 1K RDT measurements for a varying number of
%   victim rows and simultaneously (as much as possible, obeying timing
%   constraints) tested DRAM banks given number of hammers = 1K}}
% \label{fig:rdt_testing_energy_rowsweep_1K_press}
% \end{figure}

\exttwo{\atbcr{2}{Figure~\ref{fig:rdt_testing_time_rowsweep_press}
\extthree{and~\ref{fig:rdt_testing_energy_rowsweep_press} respectively} show
the time (in days, y-axis) \extthree{and energy (in kilojoules)} to perform 100K
RDT measurements for number of hammers = 1K, for a varying number of victim rows
(different colored bars) and simultaneously tested DRAM banks (x-axis)
\exttwo{for $t_{AggOn} = 7.8\mu{}s$.}}}


\begin{figure*}[p]
  \centering
  \begin{subfigure}[h]{0.42\linewidth}
  \includegraphics[width=0.95\linewidth]{figures/press_test_times_numberofrowssweep_100K.pdf}
  \caption{\exttwo{\atbcr{2}{Time to perform 100K RDT measurements for a varying
  number of victim rows and simultaneously (as much as possible, obeying timing
  constraints) tested DRAM banks given number of hammers = 1K}}}
  \label{fig:rdt_testing_time_rowsweep_press}
  \end{subfigure}\hfill
  \begin{subfigure}[h]{0.42\linewidth}
  \includegraphics[width=0.95\linewidth]{figures/press_energy_numberofrowssweep_100K.pdf}
  \caption{\exttwo{Energy to perform 100K RDT measurements for a varying number
  of victim rows and simultaneously (as much as possible, obeying timing
  constraints) tested DRAM banks given number of hammers = 1K}}
  \label{fig:rdt_testing_energy_rowsweep_press}
  \end{subfigure}
  \caption{RowPress testing time and energy consumption for 100K RDT measurements}
\end{figure*}


% \begin{figure}[!ht]
%   \centering
%   \includegraphics[width=0.95\linewidth]{figures/press_test_times_numberofrowssweep_100K.pdf}
%   \caption{\exttwo{\atbcr{2}{Time to perform 100K RDT measurements for a varying
%   number of victim rows and simultaneously (as much as possible, obeying timing
%   constraints) tested DRAM banks given number of hammers = 1K}}}
%   \label{fig:rdt_testing_time_rowsweep_press}
% \end{figure}

% % \exttwo{\atbcr{2}{Figure~\ref{fig:rdt_testing_energy_rowsweep_press} shows the energy (in
% % kilojoules, y-axis) to perform 100K RDT measurements for number of hammers = 1K,
% % for a varying number of victim rows (different colored bars) and simultaneously
% % tested DRAM banks (x-axis) \exttwo{for $t_{AggOn} = 7.8\mu{}s$.}}}

% \begin{figure}[!ht]
%   \centering
%   \includegraphics[width=0.95\linewidth]{figures/press_energy_numberofrowssweep_100K.pdf}
%   \caption{\exttwo{Energy to perform 100K RDT measurements for a varying number
%   of victim rows and simultaneously (as much as possible, obeying timing
%   constraints) tested DRAM banks given number of hammers = 1K}}
% \label{fig:rdt_testing_energy_rowsweep_press}
% \end{figure}

\clearpage
% turn into landscape format
\begin{landscape}

\section{\ext{Detailed Information on Tested DDR4 Modules and HBM2 Chips}}

\ext{Table~\ref{table:ddr4_table} shows the detailed information on the 21 tested
DDR4 modules and 4 HBM2 Chips. We provide the expected normalized value of the minimum RDT
across 1K measurements (defined in~\secref{sec:indepth}) for the median 
and the worst-case DRAM row in
each tested module for varying number of measurements (N = 1, 5, 50, and 500).}

\begin{table}[ht!]
  \centering
  \caption{\ext{21 DDR4 modules and 4 HBM2 chips \exttwo{that we characterize in this work.} For each module, we 1) provide the median and maximum expected normalized value of the minimum RDT across 1,000 RDT measurements (see~\secref{sec:indepth}) across all tested DRAM rows and combinations of test parameters, and 2) the minimum observed RDT across all measurements, tested DRAM rows, and combinations of test parameters for $t_{AggOn} = t_{RAS}$ and $t_{AggOn} = t_{REFI}$.}}
  \resizebox{1\linewidth}{!}{
    \begin{tabular}{rccccccccccccccccc}
        \toprule
        \mr{6}{\emph{Module}} & \mr{6}{\emph{Module Identifier}} & \mr{6}{\emph{Chip Identifier}} &
        \mr{6}{\emph{\makecell{\ext{Bandwidth}}}} & \multicolumn{4}{c}{} & \multicolumn{8}{c}{\emph{\makecell{Expected Normalized Value of the Minimum RDT\\\ext{Across 1,000 Measurements}}}} & \multicolumn{2}{c}{}\\
        \cmidrule(lr){9-16}
        \multicolumn{4}{c}{} & \multicolumn{4}{c}{\emph{Organization}} & \multicolumn{2}{c}{\emph{N = 1}} & \multicolumn{2}{c}{\emph{N = 5}} & \multicolumn{2}{c}{\emph{N = 50}} & \multicolumn{2}{c}{\emph{N = 500}} & \multicolumn{2}{c}{\exttwo{\emph{\makecell{Minimum Observed RDT}}}}\\
        \cmidrule(lr){5-8} 
        \cmidrule(lr){9-10} \cmidrule{11-12} \cmidrule{13-14} \cmidrule{15-16} \cmidrule{17-18}
        \multicolumn{4}{c}{} &
        \emph{\makecell{Size\\(GB)}} & \emph{Ranks} & \emph{Chips} & \emph{Pins} &
        \emph{Median} & \emph{Max} &\emph{Median} & \emph{Max} &\emph{Median} & \emph{Max} &\emph{Median} & \emph{Max} & \emph{$t_{AggOn} = t_{RAS}$} & {$t_{AggOn} = t_{REFI}$} \\
        \midrule

        \stripe
        $H0$  & \emph{Unknown}$^{a}$        &H5AN8G8NJJR-VKC    &2666 MT/s &16 &2 &8 &x8  &  1.04 & 1.59 &    1.03 & 1.47 &     1.01 &  1.28 &      1.00 &   1.10               & 23238 & 9436   \\
        $H1$  & HMAA4GU7CJR8N-XN       &H5ANAG8NCJR-XNC    &3200 MT/s &32 &2 &8 &x8  &  1.07 & 1.51 &    1.04 & 1.46 &     1.02 &  1.31 &      1.00 &   1.12                    & 7835 & 1941   \\ \stripe
        $H2$  & HMA81GU7AFR8N-UH       &H5AN8G8NAFR-UHC    &2400 MT/s & 8 &1 &8 &x8  &  1.05 & 1.35 &    1.03 & 1.33 &     1.02 &  1.27 &      1.00 &   1.10                    & 25606 & 12143   \\
        $H3$  & HMA81GU7DJR8N-WM       &H5AN8G8NDJR-WMC    &2933 MT/s & 8 &1 &8 &x8  &  1.05 & 1.54 &    1.04 & 1.51 &     1.02 &  1.37 &      1.00 &   1.09                    & 9804 & 4185   \\ \stripe
        $H4$  & HMA81GU7DJR8N-WM       &H5AN8G8NDJR-WMC    &2933 MT/s & 8 &1 &8 &x8  &  1.05 & 1.63 &    1.04 & 1.54 &     1.02 &  1.41 &      1.00 &   1.12                    & 10750 & 2941   \\
        $H5$  & KSM26ES8/8HD           &H5AN8G8NDJR-XNC    &3200 MT/s & 8 &1 &8 &x8  &  1.05 & 1.56 &    1.03 & 1.52 &     1.02 &  1.35 &      1.00 &   1.13                    & 13572 & 3185   \\ \stripe
        $H6$  & KSM26ES8/8HD           &H5AN8G8NDJR-XNC    &3200 MT/s & 8 &1 &8 &x8  &  1.05 & 1.70 &    1.03 & 1.67 &     1.02 &  1.54 &      1.00 &   1.28                    & 9680 & 3770   \\
        $M0$  & MTA4ATF1G64HZ-3G2E1    &MT40A1G16KD-062E:E &3200 MT/s & 8 &1 &4 &x16 &   1.06 & 1.45 &    1.04 & 1.35 &     1.02 &  1.21 &      1.00 &   1.07                   & 4980 & 2025   \\ \stripe
        $M1$  & MTA18ASF4G72HZ-3G2F1Z1 &MT40A2G8SA-062E:F  &3200 MT/s &32 &2 &8 &x8  &  1.08 & 1.78 &    1.05 & 1.70 &     1.03 &  1.40 &      1.00 &   1.10                    & 4250 & 1796   \\
        $M2$  & MTA18ASF4G72HZ-3G2F1Z1 &MT40A2G8SA-062E:F  &3200 MT/s &32 &2 &8 &x8  &  1.08 & 1.47 &    1.06 & 1.41 &     1.03 &  1.28 &      1.00 &   1.08                    & 4741 & 1620   \\ \stripe
        $M3$  & KSM32ES8/8MR           &  \emph{Unknown}$^{a}$   &3200 MT/s & 8 &1 &8 &x8  &  1.08 & 1.46 &    1.05 & 1.40 &     1.03 &  1.24 &      1.01 &   1.06              & 4691 & 1788   \\
        $M4$  & KSM32ES8/8MR           &  \emph{Unknown}$^{a}$   &3200 MT/s & 8 &1 &8 &x8  &  1.08 & 1.84 &    1.05 & 1.74 &     1.03 &  1.42 &      1.01 &   1.18              & 3686 & 2320   \\ \stripe
        $M5$  & KSM32SED8/16MR         &MT40A1G8SA-062E:R  &3200 MT/s &16 &2 &8 &x8  &  1.08 & 1.83 &    1.05 & 1.51 &     1.03 &  1.35 &      1.01 &   1.13                    & 4675 & 2177   \\
        $M6$  & KSM32ES8/16MF          &MT40A2G8SA-062E:F  &3200 MT/s &16 &1 &8 &x8  &  1.09 & 1.63 &    1.06 & 1.51 &     1.03 &  1.37 &      1.01 &   1.17                    & 4340 & 1916   \\ \stripe
        $S0$  & M378A2K43CB1-CTD       &K4A8G085WC-BCTD    &2666 MT/s &16 &2 &8 &x8  &  1.04 & 3.21 &    1.03 & 2.63 &     1.01 &  2.33 &      1.00 &   1.27                    & 12152 & 1965   \\
        $S1$  & M393A1K43BB1-CTD       &K4A8G085WB-BCTD    &2666 MT/s & 8 &1 &8 &x8  &  1.04 & 1.85 &    1.01 & 1.83 &     1.00 &  1.79 &      1.00 &   1.41                    & 31248 & 3326   \\ \stripe
        $S2$  & M378A1K43DB2-CTD       &K4A8G085WD-BCTD    &2666 MT/s & 8 &1 &8 &x8  &  1.05 & 1.85 &    1.03 & 1.67 &     1.01 &  1.49 &      1.00 &   1.13                    & 6230 & 1664   \\
        $S3$  & M471A4G43AB1-CWE       &K4AAG085WA-BCWE    &3200 MT/s &32 &2 &8 &x8  &  1.05 & 1.60 &    1.03 & 1.48 &     1.01 &  1.37 &      1.00 &   1.14                    & 8390 & 4355   \\ \stripe
        $S4$  & M471A5244CB0-CRC       &  \emph{Unknown}$^{a}$   &2666 MT/s & 4 &1 &4 &x16 &   1.04 & 1.73 &    1.03 & 1.70 &     1.01 &  1.52 &      1.00 &   1.13             & 12418 & 1780   \\
        $S5$  & M391A2G43BB2-CWE       &  \emph{Unknown}$^{a}$   &3200 MT/s &16 &1 &8 &x8  &  1.05 & 1.50 &    1.03 & 1.39 &     1.02 &  1.25 &      1.00 &   1.07              & 6685 & 2150   \\ \stripe
        $S6$  & M391A2G43BB2-CWE       &  \emph{Unknown}$^{a}$   &3200 MT/s &16 &1 &8 &x8  &  1.05 & 1.90 &    1.03 & 1.72 &     1.02 &  1.24 &      1.00 &   1.06              & 7575 & 3400   \\
        $Chip0$  &  \emph{Unknown}$^{a}$      &  \emph{Unknown}$^{a}$  &460 GB/s &8 & N/A & 1 &x2048 &    1.05 & 1.73 &    1.02 & 1.70 &     1.00 &  1.59 &      1.00 &   1.19  & 45136 & 1244   \\ \stripe
        $Chip1$  &  \emph{Unknown}$^{a}$      &  \emph{Unknown}$^{a}$  &460 GB/s &8 & N/A & 1 &x2048 &    1.05 & 1.82 &    1.03 & 1.79 &     1.00 &  1.71 &      1.00 &   1.37  & 41664 & 2218   \\
        $Chip2$  &  \emph{Unknown}$^{a}$      &  \emph{Unknown}$^{a}$  &460 GB/s &8 & N/A & 1 &x2048 &    1.05 & 1.72 &    1.02 & 1.52 &     1.00 &  1.32 &      1.00 &   1.09  & 34720 & 1520   \\ \stripe
        $Chip3$  &  \emph{Unknown}$^{a}$      &  \emph{Unknown}$^{a}$  &460 GB/s &8 & N/A & 1 &x2048 &    1.05 & 1.89 &    1.02 & 1.83 &     1.00 &  1.73 &      1.00 &   1.23  & 55553 & 1664   \\
    \end{tabular}%
    } % resizebox
    \label{table:ddr4_table}%
\end{table}%
\footnotesize{\exttwo{$^{a}$\emph{Unknown} indicates that the module or chip identifier is not discernible by visual inspection of the DDR4 module or the HBM2 chip.}}\\


\clearpage

\begin{figure}[ht!]
  \centering
  \includegraphics[width=1\linewidth]{figures/probability_of_finding_minimum_rdt_and_its_expected_value_big.png}
  \caption{\ext{\exttwo{Large and expanded version of the bottom plot in
  \figref{fig:rdt_ratio_all}}: the expected normalized value of the minimum RDT
  over the probability of finding the minimum RDT}}
  \label{fig:big_prob_and_expected_value}
\end{figure}

\end{landscape}


%                        &H5AN8G8NJJR-VKC    &2666 &16 &2 &8 &x8
% HMAA4GU7CJR8N-XN       &H5ANAG8NCJR-XNC    &3200 &32 &2 &8 &x8
% HMA81GU7AFR8N-UH       &H5AN8G8NAFR-UHC    &2400 & 8 &1 &8 &x8
% HMA81GU7DJR8N-WM       &H5AN8G8NDJR-WMC    &2933 & 8 &1 &8 &x8
% HMA81GU7DJR8N-WM       &H5AN8G8NDJR-WMC    &2933 & 8 &1 &8 &x8
% KSM26ES8/8HD           &H5AN8G8NDJR-XNC    &3200 & 8 &1 &8 &x8
% KSM26ES8/8HD           &H5AN8G8NDJR-XNC    &3200 & 8 &1 &8 &x8
% MTA4ATF1G64HZ-3G2E1    &MT40A1G16KD-062E:E &3200 & 8 &1 &4 &x16
% MTA18ASF4G72HZ-3G2F1Z1 &MT40A2G8SA-062E:F  &3200 &32 &2 &8 &x8
% MTA18ASF4G72HZ-3G2F1Z1 &MT40A2G8SA-062E:F  &3200 &32 &2 &8 &x8
% KSM32ES8/8MR           &                   &3200 & 8 &1 &8 &x8
% KSM32ES8/8MR           &                   &3200 & 8 &1 &8 &x8
% KSM32SED8/16MR         &MT40A1G8SA-062E:R  &3200 &16 &2 &8 &x8
% KSM32ES8/16MF          &MT40A2G8SA-062E:F  &3200 &16 &1 &8 &x8
% M378A2K43CB1-CTD       &K4A8G085WC-BCTD    &2666 &16 &2 &8 &x8
% M393A1K43BB1-CTD       &K4A8G085WB-BCTD    &2666 & 8 &1 &8 &x8
% M378A1K43DB2-CTD       &K4A8G085WD-BCTD    &2666 & 8 &1 &8 &x8
% M471A4G43AB1-CWE       &K4AAG085WA-BCWE    &3200 &32 &2 &8 &x8
% M471A5244CB0-CRC       &                   &2666 & 4 &1 &4 &x16
% M391A2G43BB2-CWE       &                   &3200 &16 &1 &8 &x8
% M391A2G43BB2-CWE       &                   &3200 &16 &1 &8 &x8


% moduleshortname &1_median &1_max &5_median &5_max &50_median &50_max &500_median &500_max
% Chip0           &    1.05 & 1.73 &    1.02 & 1.70 &     1.00 &  1.59 &      1.00 &   1.19
% Chip1           &    1.05 & 1.82 &    1.03 & 1.79 &     1.00 &  1.71 &      1.00 &   1.37
% Chip2           &    1.05 & 1.72 &    1.02 & 1.52 &     1.00 &  1.32 &      1.00 &   1.09
% Chip3           &    1.05 & 1.89 &    1.02 & 1.83 &     1.00 &  1.73 &      1.00 &   1.23
% H0              &    1.04 & 1.59 &    1.03 & 1.47 &     1.01 &  1.28 &      1.00 &   1.10
% H1              &    1.07 & 1.51 &    1.04 & 1.46 &     1.02 &  1.31 &      1.00 &   1.12
% H2              &    1.05 & 1.35 &    1.03 & 1.33 &     1.02 &  1.27 &      1.00 &   1.10
% H3              &    1.05 & 1.54 &    1.04 & 1.51 &     1.02 &  1.37 &      1.00 &   1.09
% H4              &    1.05 & 1.63 &    1.04 & 1.54 &     1.02 &  1.41 &      1.00 &   1.12
% H5              &    1.05 & 1.56 &    1.03 & 1.52 &     1.02 &  1.35 &      1.00 &   1.13
% H6              &    1.05 & 1.70 &    1.03 & 1.67 &     1.02 &  1.54 &      1.00 &   1.28
% M0              &    1.06 & 1.45 &    1.04 & 1.35 &     1.02 &  1.21 &      1.00 &   1.07
% M1              &    1.08 & 1.78 &    1.05 & 1.70 &     1.03 &  1.40 &      1.00 &   1.10
% M2              &    1.08 & 1.47 &    1.06 & 1.41 &     1.03 &  1.28 &      1.00 &   1.08
% M3              &    1.08 & 1.46 &    1.05 & 1.40 &     1.03 &  1.24 &      1.01 &   1.06
% M4              &    1.08 & 1.84 &    1.05 & 1.74 &     1.03 &  1.42 &      1.01 &   1.18
% M5              &    1.08 & 1.83 &    1.05 & 1.51 &     1.03 &  1.35 &      1.01 &   1.13
% M6              &    1.09 & 1.63 &    1.06 & 1.51 &     1.03 &  1.37 &      1.01 &   1.17
% S0              &    1.04 & 3.21 &    1.03 & 2.63 &     1.01 &  2.33 &      1.00 &   1.27
% S1              &    1.04 & 1.85 &    1.01 & 1.83 &     1.00 &  1.79 &      1.00 &   1.41
% S2              &    1.05 & 1.85 &    1.03 & 1.67 &     1.01 &  1.49 &      1.00 &   1.13
% S3              &    1.05 & 1.60 &    1.03 & 1.48 &     1.01 &  1.37 &      1.00 &   1.14
% S4              &    1.04 & 1.73 &    1.03 & 1.70 &     1.01 &  1.52 &      1.00 &   1.13
% S5              &    1.05 & 1.50 &    1.03 & 1.39 &     1.02 &  1.25 &      1.00 &   1.07
% S6              &    1.05 & 1.90 &    1.03 & 1.72 &     1.02 &  1.24 &      1.00 &   1.06


% & K4T51043QC   & \citeS{ds_samsung2006k4t51043qc}   
% & MT47H256M4   & \citeS{ds_micron2007mt47h256m4}    
% & K4B4G0446A   & \citeS{ds_samsung2010k4b4g0446a}   
% & H5TQ4G43MFR  & \citeS{ds_hynix2011h5tq4g43mfr}    
% & NT5CB512M    & \citeS{ds_nanya2011nt5cb512m}      
% & K4B4G0446A   & \citeS{ds_samsung2013k4b4g0446a}   
% & MT40A2G      & \citeS{ds_micron2015mt40a2g}       
% & H5AN4G4NAFR  & \citeS{ds_hynix2016h5an4g4nafr}    
% & K4A8G165WC   & \citeS{ds_samsung2016k4a8g165wc}   
% & H5AN8G4NAFR  & \citeS{ds_hynix2017h5an8g4nafr}    
% & MT40A        & \citeS{ds_micron2018mt40a}         
% & H5AN8G4NCJR  & \citeS{ds_hynix2019h5an8g4ncjr}    
% & K4AAG045WA   & \citeS{ds_samsung2019k4aag045wa}   
% & K4AAG085WA   & \citeS{ds_samsung2020k4aag085wa}   
% & HMCG66MEB    & \citeS{ds_hynix2021hmcg66meb}      
% & MT60B1G16    & \citeS{ds_micron2021mt60b1g16}     


% moduleid & 35 & 3900
% H0 & 23238 & 9436
% H1 & 7835 & 1941
% H2 & 25606 & 12143
% H3 & 9804 & 4185
% H4 & 10750 & 2941
% H5 & 13572 & 3185
% H6 & 9680 & 3770
% M0 & 4980 & 2025
% M1 & 4250 & 1796
% M2 & 4741 & 1620
% M3 & 4691 & 1788
% M4 & 3686 & 2320
% M5 & 4675 & 2177
% M6 & 4340 & 1916
% S0 & 12152 & 1965
% S1 & 31248 & 3326
% S2 & 6230 & 1664
% S3 & 8390 & 4355
% S4 & 12418 & 1780
% S5 & 6685 & 2150
% % S6 & 7575 & 3400
% Chip0 & 45136 & 1244
% Chip1 & 41664 & 2218
% Chip2 & 34720 & 1520
% Chip3 & 55553 & 1664