\begin{figure}[t!]
    \centering
    \makeatletter
    % temporally disable hyperref
    \let\ref\@refstar
    \ref{outsidelegend}
    \makeatother
    \\
    % \vspace{-0.2in}
    \begin{tikzpicture}
        \begin{axis}[
            width=0.49\textwidth,height=0.305\textwidth,
            legend cell align={left},
            % legend pos=outer north east,
            legend pos=north west,
            enlargelimits=0.07,
            legend style={
                font=\small,
                draw=none,
                column sep=3pt,
                legend columns=3,
                % text width=0.6in,           %% adjust
                % minimum height=0.3in,     %% adjust
                cells={align=left},
            },
            legend to name=outsidelegend,
            yticklabel style={/pgf/number format/fixed,/pgf/number format/precision=1},
            ylabel={Loss},
            ylabel near ticks,
            xlabel={Training Step},
            xlabel near ticks,
            xmajorgrids=true,
            ymajorgrids=true,
            grid style=dashed,
            xtick={0,300,600,...,1800},
            xmin=0,xmax=1800,
            % ymin=35,ymax=70,
            every tick label/.append style={font=\small},
            label style={font=\small},
            ylabel style={yshift=0pt},
        ]
            \addplot [lyygreen,thick] coordinates {
                (18,0.9542386468081551) (37,0.5520389169295203) (56,0.4238962999639664) (74,0.31498534666663186) (93,0.20807345793208973) (112,0.127919691769197) (130,0.08092199927345317) (149,0.06297820392139455) (168,0.07112695826566155) (186,0.03355343456574302) (205,0.016616783040092592) (224,0.008384858860689052) (243,0.005146607358187915) (261,0.003478074775022619) (280,0.00248216546793035) (299,0.002202527248923154) (317,0.002041674552754285) (336,0.0019245354886998467) (355,0.0018405662500922055) (373,0.001759648960541914) (392,0.0016819466562832102) (411,0.0016135283332457517) (430,0.0015653531181621042) (448,0.0015081924231932125) (467,0.001445999598120623) (486,0.0013911574282110693) (504,0.0013167127409083321) (523,0.0012651115337157632) (542,0.001218417908418625) (560,0.0011538924539790435) (579,0.001106366435474253) (598,0.0010715656898875926) (617,0.0010303758523043465) (635,0.0010039036605447372) (654,0.0009634042965537086) (673,0.0009328204998995531) (691,0.0009004280847661636) (710,0.0008720354759756894) (729,0.0008419131372064193) (747,0.0008228059439735617) (766,0.0007982842903086208) (785,0.0007831387341341232) (804,0.0007632690317490522) (822,0.0007532368050539557) (841,0.0007376152085747949) (860,0.0007285565775345991) (878,0.0007188228521755035) (897,0.0007141477124576263) (916,0.0007039775504147943) (934,0.0006932028952766867) (953,0.0006887623492409201) (972,0.0006867324445336898) (991,0.000679134446031907) (1009,0.0006726439145797077) (1028,0.0006716209936906947) (1047,0.0006676370447332209) (1065,0.0006629037745496169) (1084,0.0006605592720648821) (1103,0.0006571137570442363) (1121,0.0006561235868357082) (1140,0.000653361015141329) (1159,0.0006519822194614512) (1178,0.0006511643688309001) (1196,0.0006484827972988394) (1215,0.0006503154807549747) (1234,0.0006430800107711139) (1252,0.0006442652905688566) (1271,0.0006448444835642442) (1290,0.0006445447072625798) (1308,0.0006462373437090991) (1327,0.0006434422603902969) (1346,0.0006415263854246089) (1365,0.0006409153182876301) (1383,0.0006416683448827203) (1402,0.0006419450921170852) (1421,0.000641917162400516) (1439,0.0006420994426477402) (1458,0.0006397050571314153) (1477,0.0006416312513504436) (1495,0.000642530620098114) (1514,0.0006420875296873204) (1533,0.0006416542405750662) (1552,0.0006424973116201512) (1570,0.0006398589693926234) (1589,0.0006407788969616202) (1608,0.0006401856395012555) (1626,0.0006431720473549583) (1645,0.000642706405988989) (1664,0.0006396194750612432) (1682,0.0006407230375284817) (1701,0.0006428205951012392) (1720,0.0006404073639986987) (1739,0.0006408571081365494) (1757,0.0006415600126439875) (1776,0.0006425462782701706) (1795,0.0006406192871976027) (1813,0.0006418759252298325) (1832,0.0006422056233819156) (1851,0.000639415679768445)
            };\addlegendentry{Adapter}
            \addplot [lyyred,thick] coordinates {
                (18,1.7554693375041779) (37,1.7554690111129678) (56,1.6671127890520554) (74,1.3909660788143383) (93,1.2040278796843666) (112,1.1514428286628926) (130,1.1214643672188336) (149,1.0819559352283172) (168,1.0317342013598763) (186,0.9658487901330631) (205,0.9089434618618399) (224,0.8725025360597009) (243,0.8443474591097092) (261,0.8206350561131768) (280,0.8000459722019134) (299,0.7830206723136698) (317,0.7678534359855448) (336,0.7537633722478693) (355,0.7415858794023646) (373,0.7313682841744652) (392,0.7229792141021891) (411,0.7152821749926889) (430,0.7096122700900318) (448,0.7051578460530163) (467,0.7000796884138953) (486,0.6951528131005599) (504,0.6910648447944518) (523,0.6869377095431568) (542,0.6828643472436915) (560,0.6794290797595672) (579,0.6760967479032629) (598,0.6728261447845296) (617,0.6700128565497577) (635,0.6668298894708807) (654,0.6640657639120989) (673,0.660881776860691) (691,0.6580245890081885) (710,0.6557259789125167) (729,0.6528709534017797) (747,0.6509262737743358) (766,0.6489781670391879) (785,0.6466813112962693) (804,0.6445841661749039) (822,0.6421717271447819) (841,0.6403087677165149) (860,0.6384705324223973) (878,0.6372795716963987) (897,0.6354558608111214) (916,0.6336539365391043) (934,0.6318355295109876) (953,0.6307882625151445) (972,0.6289875214112634) (991,0.6277765692236589) (1009,0.6264372228938628) (1028,0.6255888505415483) (1047,0.6242508913743943) (1065,0.6225483532257896) (1084,0.6220851633000501) (1103,0.6209558497138202) (1121,0.6195210747540316) (1140,0.6190990917185412) (1159,0.6177656204305231) (1178,0.6176741900928517) (1196,0.616593019210081) (1215,0.6160685493346841) (1234,0.6145311651382854) (1252,0.6142568333263703) (1271,0.6139439873516879) (1290,0.6132310265525777) (1308,0.6130044294551095) (1327,0.6118666704963235) (1346,0.6116243658218792) (1365,0.611180718569832) (1383,0.6098323964817639) (1402,0.610548294801763) (1421,0.6096148975392713) (1439,0.6094170228682737) (1458,0.6090495471648354) (1477,0.6085322170971549) (1495,0.608281018262241) (1514,0.6080791860978234) (1533,0.608300683332637) (1552,0.6071604356408756) (1570,0.6071092738187249) (1589,0.6073427659305022) (1608,0.6067430628812249) (1626,0.6072237147366937) (1645,0.6066001035312918) (1664,0.6063325851358832) (1682,0.6067287424668909) (1701,0.6061174525296624) (1720,0.6058341857583766) (1739,0.6068142569638828) (1757,0.6068840230849974) (1776,0.6060360179227942) (1795,0.6062926022126713) (1813,0.6064312368790734) (1832,0.6060196575633983) (1851,0.6058715983508105)
            };\addlegendentry{(IA)$^3$}
            \addplot [purple,thick] coordinates {
                (18,1.7460645379867146) (37,1.6749987270742814) (56,1.5018238740808822) (74,1.287221082391586) (93,1.1221475040211397) (112,1.0266087169953209) (130,0.945939579112007) (149,0.8864494772518382) (168,0.8463257978306734) (186,0.8140307747743984) (205,0.7884622665650067) (224,0.7681764816855364) (243,0.7527012952508774) (261,0.7380089581331467) (280,0.7252134435317096) (299,0.7137992981283422) (317,0.7028738419639873) (336,0.6929551394865474) (355,0.6843065884024064) (373,0.6767618515912224) (392,0.6690995323466745) (411,0.661957480690696) (430,0.6556243896484375) (448,0.6491489920386656) (467,0.6434260893633021) (486,0.6374624731706425) (504,0.6320127191390583) (523,0.6268128583775484) (542,0.6222668000083557) (560,0.6169184312463444) (579,0.6122868175812584) (598,0.6076586718227774) (617,0.6036604203004888) (635,0.600121115618211) (654,0.5958626895027365) (673,0.5917645214713193) (691,0.5886610306520513) (710,0.5850229518298797) (729,0.5812995625052223) (747,0.5782756703422669) (766,0.5748209417822526) (785,0.5722173191009359) (804,0.5691095035981367) (822,0.5661965028487425) (841,0.5636940206435912) (860,0.561016184760925) (878,0.5578182444852942) (897,0.5554530913817054) (916,0.5529910816865808) (934,0.5511980107761322) (953,0.5486578303862383) (972,0.5464666845964238) (991,0.5442242137888537) (1009,0.5425344048974349) (1028,0.54019544468844) (1047,0.538796123973826) (1065,0.5367465503713026) (1084,0.5351155734954671) (1103,0.5332509005133481) (1121,0.5319006608769218) (1140,0.5303059542242856) (1159,0.5286179404845213) (1178,0.5275454597677139) (1196,0.5262143140170663) (1215,0.5246511857139873) (1234,0.5233735273228609) (1252,0.5224568576098764) (1271,0.5213587959819936) (1290,0.5200261406720004) (1308,0.5189899709772936) (1327,0.5183626062729779) (1346,0.5171647913315717) (1365,0.5164212313565341) (1383,0.5156473985967789) (1402,0.5152953040791067) (1421,0.5143313892384901) (1439,0.5137826032179562) (1458,0.513216355267693) (1477,0.5127909043255974) (1495,0.5123478282581676) (1514,0.5116932506867271) (1533,0.5114353200331091) (1552,0.5112253280884442) (1570,0.5106553266392672) (1589,0.5103230195886949) (1608,0.5098596664673505) (1626,0.5098760268267464) (1645,0.5095043896353818) (1664,0.5093571871997201) (1682,0.5092372792289857) (1701,0.5089196597828585) (1720,0.5090758379767922) (1739,0.5087888177065926) (1757,0.5087547914229612) (1776,0.5086430840313754) (1795,0.508950258958786) (1813,0.5085186065837024) (1832,0.5089081544927098) (1851,0.508757851340554)
            };\addlegendentry{LoRA}
            \addplot [brown,thick] coordinates {
                (18,2.3725053919827874) (37,2.3004018202184993) (56,2.0452322730406083) (74,1.795553605186748) (93,1.7523658466849097) (112,1.7370799671519885) (130,1.7210244571461397) (149,1.7080856568035594) (168,1.695120092381768) (186,1.683810310567764) (205,1.6726178663937166) (224,1.6612790357620322) (243,1.6503354648855282) (261,1.6383009313899566) (280,1.6252735158338905) (299,1.6175734576056986) (317,1.608700349369151) (336,1.6000119785574032) (355,1.5917284960415274) (373,1.5839610380284928) (392,1.5793820957449032) (411,1.5761300969251337) (430,1.5709703414835394) (448,1.5677116516439673) (467,1.563000357724766) (486,1.5590588574740976) (504,1.5559795196043615) (523,1.552694065685578) (542,1.549816274387951) (560,1.5476021996156417) (579,1.5457102729674967) (598,1.544226172136113) (617,1.542416496072861) (635,1.5417726894113468) (654,1.5407579391397894) (673,1.5407672412892714) (691,1.5389446727732286) (710,1.538028003060244) (729,1.5376559170809658) (747,1.536358838412851) (766,1.5359874052159928) (785,1.5349369151069518) (804,1.534805379449365) (822,1.5347010974578041) (841,1.5344897591493984) (860,1.5336284127464905) (878,1.5337803478546959) (897,1.5331533503404913) (916,1.5335380023813503) (934,1.5332475142045454) (953,1.5321281555502173) (972,1.5318616571273396) (991,1.5317852815842246) (1009,1.5308110038226939) (1028,1.53128068077373) (1047,1.531209690685578) (1065,1.5310257692388034) (1084,1.5308366255326704) (1103,1.5304410393862802) (1121,1.530734301888369) (1140,1.5304116641773897) (1159,1.5305684951537433) (1178,1.530960164605615) (1196,1.5311132420830549) (1215,1.5310673841180649) (1234,1.5306465026529077) (1252,1.5311165059951537) (1271,1.5307906043720756) (1290,1.5305247587316178) (1308,1.531179173107453) (1327,1.5314189074511197) (1346,1.5305250851228276) (1365,1.530712270481701) (1383,1.5308677958932153) (1402,1.5313423687123997) (1421,1.5311209122764873) (1439,1.5308790563899566) (1458,1.530742788059826) (1477,1.530255159592246) (1495,1.5307713472906919) (1514,1.530859472917363) (1533,1.5309211608560327) (1552,1.5306755514705883) (1570,1.5309064732515876) (1589,1.530676204253008) (1608,1.5310190782190007) (1626,1.5310983912830047) (1645,1.5311111205401906) (1664,1.5309555951286764) (1682,1.5305921585164606) (1701,1.5308467436601771) (1720,1.5307091697652073) (1739,1.5309978627903575) (1757,1.5306912182486632) (1776,1.5306607006705382) (1795,1.5308155732996322) (1813,1.530880525150401) (1832,1.5308860738009693) (1851,1.5310660785532253)
            };\addlegendentry{LN-Tuning}
            \addplot [lyyblue,thick] coordinates {
                (10,1.9096006155014038) (20,1.7125850915908813) (30,1.614748239517212) (40,1.5039660930633545) (50,1.5283615589141846) (60,1.466806173324585) (70,1.439060926437378) (80,1.3981423377990723) (90,1.4263986349105835) (100,1.4246621131896973) (110,1.3155015707015991) (120,1.38673996925354) (130,1.4046558141708374) (140,1.3570278882980347) (150,1.2971023321151733) (160,1.3223206996917725) (170,1.3192830085754395) (180,1.303603172302246) (191,1.2668116092681885) (201,1.174188494682312) (211,1.2061415910720825) (221,1.1700122356414795) (231,1.1616195440292358) (241,1.1596542596817017) (251,1.1091374158859253) (261,1.0903400182724) (271,1.0842281579971313) (281,1.052575707435608) (291,1.0578773021697998) (301,1.0312350988388062) (311,1.022706389427185) (321,0.9624451398849487) (331,0.9611892700195312) (341,0.9452405571937561) (351,0.9436296224594116) (361,0.914760947227478) (371,0.9535216689109802) (382,0.9140812158584595) (392,0.8824102878570557) (402,0.8976102471351624) (412,0.9014500379562378) (422,0.9064497351646423) (432,0.8495674729347229) (442,0.8406484723091125) (452,0.8989713788032532) (462,0.8461062908172607) (472,0.8367741107940674) (482,0.8454121947288513) (492,0.8448436260223389) (502,0.7907944321632385) (512,0.8239151239395142) (522,0.8640180230140686) (532,0.8193634748458862) (542,0.8770815134048462) (552,0.8740203976631165) (563,0.8575403094291687) (573,0.8226989507675171) (583,0.8681228160858154) (593,0.8066485524177551) (603,0.7744750380516052) (613,0.8078705072402954) (623,0.8055357933044434) (633,0.8131847977638245) (643,0.8110240697860718) (653,0.8219190239906311) (663,0.8297211527824402) (673,0.7941579222679138) (683,0.7894881367683411) (693,0.7672296762466431) (703,0.8334339261054993) (713,0.8101662993431091) (723,0.7439648509025574) (733,0.7701679468154907) (743,0.8044629096984863) (754,0.796661376953125) (764,0.7508822083473206) (774,0.7835989594459534) (784,0.8221855163574219) (794,0.8256995677947998) (804,0.7757627367973328) (814,0.7768563628196716) (824,0.7712129950523376) (834,0.786733865737915) (844,0.757821798324585) (854,0.7601490616798401) (864,0.7479444742202759) (874,0.7515830993652344) (884,0.7867664098739624) (894,0.7614544630050659) (904,0.752370297908783) (914,0.7334328293800354) (924,0.7403179407119751) (934,0.7982839941978455) (945,0.74163419008255) (955,0.726938784122467) (965,0.7719147205352783) (975,0.7532569766044617) (985,0.7286401987075806) (995,0.7569704651832581) (1005,0.7599449753761292) (1015,0.7469912767410278) (1025,0.752652108669281) (1035,0.7397856116294861) (1045,0.7200146317481995) (1055,0.707065224647522) (1065,0.7467519640922546) (1075,0.7649410963058472) (1085,0.7600623965263367) (1095,0.7756914496421814) (1105,0.7668757438659668) (1115,0.7188001275062561) (1126,0.7643749713897705) (1136,0.7547743320465088) (1146,0.7253299951553345) (1156,0.7218968272209167) (1166,0.735359251499176) (1176,0.7339749336242676) (1186,0.7134099006652832) (1196,0.7409310340881348) (1206,0.7373772263526917) (1216,0.7134911417961121) (1226,0.7231583595275879) (1236,0.7214823961257935) (1246,0.7427322864532471) (1256,0.7217097282409668) (1266,0.7022026777267456) (1276,0.7406946420669556) (1286,0.6812798380851746) (1296,0.7050934433937073) (1306,0.7238278985023499) (1317,0.7071363925933838) (1327,0.727793276309967) (1337,0.7169796228408813) (1347,0.7078614830970764) (1357,0.7413643598556519) (1367,0.7039703130722046) (1377,0.6938318610191345) (1387,0.6979725360870361) (1397,0.7060480713844299) (1407,0.6890267729759216) (1417,0.711628258228302) (1427,0.7204755544662476) (1437,0.7359045147895813) (1447,0.6808397173881531) (1457,0.6987863779067993) (1467,0.7334898114204407) (1477,0.7083642482757568) (1487,0.7080873847007751) (1498,0.693020761013031) (1508,0.6989137530326843) (1518,0.6913502216339111) (1528,0.6560222506523132) (1538,0.6944241523742676) (1548,0.7126632928848267) (1558,0.6960278153419495) (1568,0.6849088072776794) (1578,0.6883605122566223) (1588,0.6884991526603699) (1598,0.7009050250053406) (1608,0.7208908796310425) (1618,0.6864383816719055) (1628,0.7148692607879639) (1638,0.6848537921905518) (1648,0.6672382354736328) (1658,0.6999152302742004) (1668,0.6823928356170654) (1678,0.6755030155181885) (1689,0.6863232254981995) (1699,0.6999881863594055) (1709,0.7179044485092163) (1719,0.6620104908943176) (1729,0.6855274438858032) (1739,0.6795668005943298) (1749,0.6901704668998718) (1759,0.6914386749267578) (1769,0.6787542700767517) (1779,0.7018836736679077) (1789,0.6358839273452759) (1799,0.6689658164978027) (1809,0.6930421590805054) (1819,0.6745243072509766) (1829,0.6645663380622864) (1839,0.6246889233589172) (1849,0.678966224193573) (1859,0.6651533246040344) (1869,0.6703926920890808)
            };\addlegendentry{\method{}}
        \end{axis}
    \end{tikzpicture}
    \caption{The training curves of PEFT methods when fine-tuning \texttt{Llama-3.1-8B-Instruct} on MBPP.}
    \label{fig:learning}
    % \vspace{-0.4cm}
\end{figure}