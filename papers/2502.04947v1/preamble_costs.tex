\usepackage{booktabs}

% costs pour tous les q : N et DoFs
\newcommand{\coststableallq}[1]{
    \pgfplotstabletypeset[
        col sep=comma,
        every head row/.style={
        before row={\toprule[1.pt]
        & & \multicolumn{2}{c}{\textbf{$N$}} &
		\multicolumn{2}{c}{\textbf{$N_\text{dofs}$}} \\
		\cmidrule(lr){3-4} \cmidrule(lr){5-6}
        },
        after row=\cmidrule(lr){1-1} \cmidrule(lr){2-2} \cmidrule(lr){3-4} \cmidrule(lr){5-6}},
        every last row/.style={after row=\bottomrule[1.pt]},
        every nth row={2}{before row=\cmidrule(lr){1-1} \cmidrule(lr){2-2} \cmidrule(lr){3-4} \cmidrule(lr){5-6}},
		columns/q/.style={column name=\textbf{q}},
        columns/e/.style={column name=\textbf{e},sci},
		columns/FEM_N/.style={column name=\textbf{FEM},fixed},
        columns/Add_N/.style={column name=\textbf{Add},fixed},
        columns/FEM_dofs/.style={column name=\textbf{FEM},fixed},
		columns/Add_dofs/.style={column name=\textbf{Add},fixed},
        columns={q,e,FEM_N,Add_N,FEM_dofs,Add_dofs},
        precision=2
    ]{#1}
}

% costs pour tous les q : Weights + Dofs (1 and 100 parameters)
\newcommand{\coststableallqhundred}[1]{
    \pgfplotstabletypeset[
        col sep=comma,
        every head row/.style={
        before row={\toprule[1.pt]
        & & \multicolumn{2}{c}{\textbf{$n_p=1$}} &
		\multicolumn{2}{c}{\textbf{$n_p=100$}} \\
		\cmidrule(lr){3-4} \cmidrule(lr){5-6}
        },
        after row=\cmidrule(lr){1-1} \cmidrule(lr){2-2} \cmidrule(lr){3-4} \cmidrule(lr){5-6}},
        every last row/.style={after row=\bottomrule[1.pt]},
        every nth row={2}{before row=\cmidrule(lr){1-1} \cmidrule(lr){2-2} \cmidrule(lr){3-4} \cmidrule(lr){5-6}},
		columns/q/.style={column name=\textbf{q}},
        columns/e/.style={column name=\textbf{e},sci},
		columns/FEM1/.style={column name=\textbf{FEM},fixed},
        columns/Corr1/.style={column name=\textbf{Add},fixed},
        columns/FEM100/.style={column name=\textbf{FEM},fixed},
		columns/Corr100/.style={column name=\textbf{Add},fixed},
        columns={q,e,FEM1,Corr1,FEM100,Corr100},
        precision=2
    ]{#1}
}