\setlength{\textfloatsep}{1em}% Remove \textfloatsep

\begin{algorithm}[t!]
\caption{\small Decoding Process with Hierarchy Drafting}\label{alg:HD_process}
\small
\begin{algorithmic}[1]
\Require Target LLM $\mathcal{M}_p$, databases $(\mathcal{D}_c, \mathcal{D}_m, \mathcal{D}_s)$, input text sequence $\bm{x}_{\le t}$, target sequence length $T$, the size of prefix tokens $l$, the size of draft token sequence $m$, the size of draft set $N$;
\State $n \leftarrow t$\;
\While{$n < T$ and \texttt{[EOS]} $ \notin \bm{x}_{1:n}$}
    \State \textcolor{blue}{// \textit{Drafting Step: Hierarchical access to three databases until the size of the draft set $\bm{\tilde{X}}$ is $N$.}}
    \State $\bm{\tilde{X}} \leftarrow \texttt{Ret}(\bm{x}_{n-l:n};\mathcal{D}_c)$
    \If{$|\bm{\tilde{X}}| < N$}
        \State $\bm{\tilde{X}} \leftarrow \bm{\tilde{X}} \cup \texttt{Ret}(\bm{x}_{n-l:n};\mathcal{D}_m)$
    \EndIf 
    \If{$|\bm{\tilde{X}}| < N$}
        \State $\bm{\tilde{X}} \leftarrow \bm{\tilde{X}} \cup \texttt{Ret}(\bm{x}_{n-l:n};\mathcal{D}_s)$
    \EndIf 
    \State \textcolor{blue}{// \textit{Verification Step: Verify the draft token sequence in $\bm{\tilde{X}}$ and generate additional tokens for updating $\mathcal{D}_c$.}}
    \State $\bm{x}_{n:n+i}, \bm{\hat{x}} \sim_i \mathcal{M}_p(\bm{x}_{\le n}, \bm{\tilde{X}})$
    \State $\mathcal{D}_c \leftarrow \text{Update}(\mathcal{D}_c, \bm{\hat{x}})$
    % \If{\texttt{[EOS]} in $\bm{x}_{t:t+i}$}
    %     \State BREAK
    % \EndIf
    \State $n \gets n+i$
\EndWhile
\end{algorithmic}
\end{algorithm}
% \vspace{0-}