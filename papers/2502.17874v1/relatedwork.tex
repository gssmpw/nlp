\section{Related Work}
\textbf{Retrieval Augmented Generation in AI for Science}.
Retrieval augmented generation~(RAG) is a technique that integrates relevant information retrieved from external databases into a model's training and inference processes. While originally developed to aid Large Language Model (LLM)-based AI agents, their applicability has readily extended to scientific tasks, spanning LLMs for material discovery~\citep{buehler2024generative}, drug design~\citep{LLMDrug}, and organic synthesis~\citep{ChemLLM}. Utilizing RAG in various forms  has also shown ground-breaking advances in scientific discovery beyond LLM agents; one of the most prominent examples is AlphaFold model~\citep{jumper2021alphafold}, whose sequence alignment module is effectively a RAG module. 
RAG is also found helpful in molecular machine learning tasks such as molecular generation~\citep{lee2024molecule}, drug design~\citep{zhang2024rag2mol}, and protein function prediction~\citep{shaw2024protex}. Despite success in certain molecular learning tasks, there remains the opportunity for a principled RAG design strategy tailored to small molecules % the small molecule scope 
that can perform robust and informative structural matching. 


\textbf{Neural Graph Matching}.
Graph matching is a combinatorial optimization problem that matches the nodes of multiple graphs by maximizing the edge-wise and node-wise affinities. Neural graph matching was developed to tackle the computational challenges of the NP-hard quadratic assignment problem~\citep{LawlerMS63} and the vulnerability of predefined affinity metrics~\citep{RolinekECCV20,NowakDSW18,guo2023deep}.
Among all design choices, a family of linear-matching  methodologies~\citep{WangPAMI20,YuICLR20,sarlin2020superglue} incorporates graph neural networks~\citep{scarselli2008graph} to embed edge affinities into node embeddings that are then used in a differentiable node-matching layer using, e.g., \citet{SinkhornAMS64} or a simpler Softmax for assignment. 
This paper explores and validates the applicability of neural graph matching in the context of retrieval-augmented mass spectra generation in molecular machine learning.