%%%%%%%% ICML 2025 LATEX SUBMISSION FILE %%%%%%%%%%%%%%%%%

\documentclass{article}

% Recommended, but optional, packages for figures and better typesetting:
\usepackage{microtype}
\usepackage{graphicx}
\usepackage{subfigure}
\usepackage{booktabs} % for professional tables
\usepackage{multirow, makecell}
\usepackage{xcolor}
\usepackage{enumitem}
\usepackage{algorithm}
% \usepackage{algcompatible}
\usepackage{algpseudocode}
\usepackage{listings}
\usepackage{soul}


% hyperref makes hyperlinks in the resulting PDF.
% If your build breaks (sometimes temporarily if a hyperlink spans a page)
% please comment out the following usepackage line and replace
% \usepackage{icml2025} with \usepackage[nohyperref]{icml2025} above.
\usepackage{hyperref}


% Attempt to make hyperref and algorithmic work together better:
\newcommand{\theHalgorithm}{\arabic{algorithm}}
\makeatletter
\newenvironment{breakablealgorithm}
{
    \begin{center}
        \refstepcounter{algorithm}
        \renewcommand{\caption}[1]
        {
            \addcontentsline{loa}{algorithm}{\protect\numberline{\thealgorithm}##1}
            \parbox{\textwidth}
            % Makes a unbreakable block and can also be done by `minipage`.
            {
                \hrule height.8pt depth0pt \kern2pt
                {\raggedright\textbf{\fname@algorithm~\thealgorithm} ##1\par}
                \kern2pt\hrule\kern2pt
            }
        }
}
{
        \kern2pt\hrule\relax
    \end{center}
}
\makeatother

% Define an improved style with comment coloring
\lstdefinestyle{llmstyle}{
    backgroundcolor=\color{gray!10},   % Light gray background
    frame=single,                      % Boxed frame
    rulecolor=\color{gray!50},         % Lighter frame color
    basicstyle=\ttfamily\footnotesize, % Monospace, smaller font
    breaklines=true,                   % Wrap long lines
    breakatwhitespace=true,            % Ensure proper breaking
    linewidth=\textwidth,              % Fit within page width
    tabsize=2,                         % Set tab size
    captionpos=b,                      % Caption at bottom
    numbers=left,                      % Line numbers on the left
    numberstyle=\tiny\color{gray},     % Small gray line numbers
    keywordstyle=\bfseries\color{blue}, % Bold blue for keywords
    commentstyle=\itshape\color{green!60!black}, % Italic green for comments
    stringstyle=\color{teal},          % Teal for strings
    morecomment=[l]{//},               % Define // as a comment delimiter
    morecomment=[s]{/*}{*/}            % Define /* ... */ as a comment block
    % escapeinside={(*@}{@*)}            % Allows LaTeX commands inside lstlisting
}
\lstset{style=llmstyle}
\sethlcolor{yellow} % Set highlight color

% Use the following line for the initial blind version submitted for review:
% \usepackage{icml2025}

% If accepted, instead use the following line for the camera-ready submission:
\usepackage[accepted]{icml2025}

% For theorems and such
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{amsthm}

% if you use cleveref..
\usepackage[capitalize,noabbrev]{cleveref}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% THEOREMS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{assumption}[theorem]{Assumption}
\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark}
% \renewcommand{\algorithmicrequire}{\textbf{Input:}}
% \renewcommand{\algorithmicensure}{\textbf{Output:}}

% Todonotes is useful during development; simply uncomment the next line
%    and comment out the line below the next line to turn off comments
%\usepackage[disable,textsize=tiny]{todonotes}
\usepackage[textsize=tiny]{todonotes}


% The \icmltitle you define below is probably too long as a header.
% Therefore, a short form for the running title is supplied here:
\icmltitlerunning{NARCE: A Neural Algorithmic Reasoner Framework for Online Complex Event Detection}

% Custom command for NARCE
\newcommand{\narce}{\texttt{NARCE}}

\begin{document}

\twocolumn[
\icmltitle{\narce{}: A Mamba-Based Neural Algorithmic Reasoner Framework\\for Online Complex Event Detection}

% It is OKAY to include author information, even for blind
% submissions: the style file will automatically remove it for you
% unless you've provided the [accepted] option to the icml2025
% package.

% List of affiliations: The first argument should be a (short)
% identifier you will use later to specify author affiliations
% Academic affiliations should list Department, University, City, Region, Country
% Industry affiliations should list Company, City, Region, Country

% You can specify symbols, otherwise they are numbered in order.
% Ideally, you should not use this facility. Affiliations will be numbered
% in order of appearance and this is the preferred way.
\icmlsetsymbol{equal}{*}
\icmlsetsymbol{note1}{\dag}
\icmlsetsymbol{note2}{\ddag}
% \newcommand{\icmlEqualContribution}{\textsuperscript{*}Equal contribution }

\begin{icmlauthorlist}
% \icmlauthor{Firstname1 Lastname1}{equal,yyy}
% \icmlauthor{Firstname2 Lastname2}{equal,yyy,comp}
% \icmlauthor{Firstname3 Lastname3}{comp}
% \icmlauthor{Firstname4 Lastname4}{sch}
% \icmlauthor{Firstname5 Lastname5}{yyy}
% \icmlauthor{Firstname6 Lastname6}{sch,yyy,comp}
% \icmlauthor{Firstname7 Lastname7}{comp}
% \icmlauthor{}{sch}
% \icmlauthor{Firstname8 Lastname8}{sch}
% \icmlauthor{Firstname8 Lastname8}{yyy,comp}
% %\icmlauthor{}{sch}
% %\icmlauthor{}{sch}
\icmlauthor{Liying Han}{ucla}
\icmlauthor{Gaofeng Dong}{ucla}
\icmlauthor{Xiaomin Ouyang}{note1,ucla,hkust}
\icmlauthor{Lance Kaplan}{arl}
\icmlauthor{Federico Cerutti}{ub}
\icmlauthor{Mani Srivastava}{note2,ucla,amazon}
\end{icmlauthorlist}

% \icmlaffiliation{yyy}{Department of XXX, University of YYY, Location, Country}
% \icmlaffiliation{comp}{Company Name, Location, Country}
% \icmlaffiliation{sch}{School of ZZZ, Institute of WWW, Location, Country}
\icmlaffiliation{ucla}{Department of Electrical and Computer Engineering, University of California, Los Angeles, US}
\icmlaffiliation{ub}{Department of Information Engineering, University of Brescia, Italy}
\icmlaffiliation{hkust}{Department of Computer Science and Engineering, Hong Kong University of Science and Technology, China}
\icmlaffiliation{arl}{US Army DEVCOM Army Research Laboratory}
\icmlaffiliation{amazon}{Amazon. 

\textsuperscript{\dag}This work was done while the author was at UCLA \textsuperscript{\ddag}The author holds concurrent appointments as an Amazon Scholar and a Professor at UCLA, but the work in this paper is unrelated to Amazon}
% \icmlaffiliation{note1}{\textsuperscript{\dag}This work was done while Xiaomin Ouyang was at UCLA}
% \icmlaffiliation{note2}{\textsuperscript{\ddag}Mani Srivastava holds concurrent appointments as an Amazon Scholar and a Professor at UCLA, but the work in this paper is unrelated to Amazon}

% \icmlcorrespondingauthor{Firstname1 Lastname1}{first1.last1@xxx.edu}
% \icmlcorrespondingauthor{Firstname2 Lastname2}{first2.last2@www.uk}

\icmlcorrespondingauthor{Liying Han}{liying98@ucla.edu}
\icmlcorrespondingauthor{Mani Srivastava}{mbs@ucla.edu}


% You may provide any keywords that you
% find helpful for describing your paper; these are used to populate
% the "keywords" metadata in the PDF but will not be shown in the document
% \icmlkeywords{Machine Learning, ICML}

\vskip 0.3in]

% this must go after the closing bracket ] following \twocolumn[ ...

% This command actually creates the footnote in the first column
% listing the affiliations and the copyright notice.
% The command takes one argument, which is text to display at the start of the footnote.
% The \icmlEqualContribution command is standard text for equal contribution.
% Remove it (just {}) if you do not need this facility.

\printAffiliationsAndNotice{}

 % leave blank if no need to mention equal contribution
% \printAffiliationsAndNotice{\icmlEqualContribution} % otherwise use the standard text.


\input{sections/0_abstract}
\input{sections/1_introduction}
\input{sections/2_relatedwork}
\input{sections/3_complexevent}
\input{sections/4_system}
\input{sections/4_dataset}
\input{sections/4_prelimresults}
\input{sections/5_narce}
\input{sections/6_experiments}
\input{sections/7_conclusion}

% In the unusual situation where you want a paper to appear in the
% references without citing it in the main text, use \nocite
% \nocite{langley00}

\bibliography{sections/references}
\bibliographystyle{icml2025}

\input{sections/appendix}


\end{document}

