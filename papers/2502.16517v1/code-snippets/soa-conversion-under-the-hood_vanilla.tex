\begin{lstlisting}[language=C++,
                   label=algorithm:rewrite-demo:vanilla,
                   caption=Element-wise addition of two attributes over an AoS loop,
                   basicstyle=\footnotesize]
struct Data { 
  double a, b, _unused;
};

void kernel(Data *buf, int size) {
  [[clang::soa_conversion_target("buf")]]
  for (int i = 0; i < size; i++) {
    buf[i].a += buf[i].b;
  }
}
\end{lstlisting}
