\section{Minimising the Maximum Moving Distance for \texorpdfstring{$\Pi_{\texttt{edgeless}}$}{} on Unit Disk Graphs is Hard}\label{sec:disk_edgeless}

%%%%
    \newcommand{\bdisk}[1]{B\langle #1\rangle }
    \newcommand{\ldisk}[1]{L\langle #1\rangle }
    \newcommand{\hdisk}[1]{H\langle #1\rangle }
    \newcommand{\cstate}{\D_\Phi}
    \newcommand{\istate}{\D^{(i)}_\Phi}
    \newcommand{\mstate}{\D^{(m)}_\Phi}
    \newcommand{\mstatefinal}[1]{(#1)^{(\mathit{moved})}}
    %\newcommand{\init}[1]{(#1)^{(i)}}
    %\newcommand{\moved}[1]{(#1)^{(m)}}
    \newcommand{\ismoved}[1]{\X(#1)}
    \newcommand{\movedpos}[1]{\X_{\mathit{pos}}(#1)}
%%%%
%
%We reformulate {\gged} as a minimax problem.
%That is, we aim to minimise each object's maximum moving distance, rather than the total moving distance of the collection.
%
In this section, we deal with the minimax version of {\gged}, defined as follows:
%We reformulate {\gged} as a minimax problem, to minimise the maximum moving distance of each object, rather than the total moving distance of the collection.
%
\begin{itembox}[l]{{\ggedmm}}\label{pro:edg_disk}
    \begin{description}%[itemsep=0pt,align=left,leftmargin=50pt,labelindent=5pt,style=multiline]
        \item[Input:] An intersection graph $(G,\S)$, a graph property $\Pi$ and a real $K>0$.
        \item[Task:] Decide whether $\Pi$ can be satisfied by moving objects such that for all $S\in \S$, the moving distance of $S$ is at most $K$.
    \end{description}
\end{itembox}

We show that {\ggedmm} is strongly {\NP-hard} on unit disk graphs for satisfying $\Pi = \Pi_{\texttt{edgeless}}$ over the $L_1$ and $L_2$ distances by reducing from {\pthreesat}.
Specifically, we show a proof for \Cref{thm:edgeless_np_hard}.
%\begin{theorem}\label{thm:edgeless_np_hard}
%    \Copy{edgeless_np_hard}{{\ggedmm} is strongly {\NP-hard} on unit disk graphs for satisfying $\Pi_{\texttt{edgeless}}$ over the $L_1$ and $L_2$ distances.}
%\end{theorem}

\begin{restatable}{theorem}{edgelessNPHard}\label{thm:edgeless_np_hard}
    {\ggedmm} is strongly {\NP-hard} on unit disk graphs for satisfying $\Pi_{\texttt{edgeless}}$ over the $L_1$ and $L_2$ distances.
\end{restatable}

\ifConf
Due to space constraints, we only give an overview of the reduction. The complete reduction and proofs can be found in the full-version of the paper~[].
\fi
\subsection[Proof Overview of \texorpdfstring{\Cref{thm:edgeless_np_hard}}{}]{Proof Overview of \texorpdfstring{\Cref{thm:edgeless_np_hard}}{}: Reducing {\pthreesat} to {\ggedmm}}
%We start by defining the problem used in the reduction.
\ifConf
    We show a reduction from the following \NP-complete variation of {\pthreesat}~\cite{Lichtenstein1982,Knuth1992,Tovey1984}.
    Given CNF formula $\Phi$ equipped with a planar rectilinear embedding $G_\Phi$, a set $X$ of $n$ variables, a set $C$ of $m$ clauses over $X$ such that each $c \in C$ has length $|c| \le 3$, each variable $x \in X$ appears in at most three clauses, and $\Phi = \bigwedge_{c\in C} c$, {\pthreesat} asks whether $\Phi$ is satisfiable.
    %An instance of {\pthreesat} can always be described using a rectilinear embedding~\cite{Knuth1992}.
%    It is known that this problem is.
\fi
\ifFull
Given a boolean formula $\Phi$ and its planar incidence graph $G_{\Phi}$, {\pthreesat}~\cite{Lichtenstein1982} asks whether $\Phi$ is satisfiable. 
An instance of {\pthreesat} can always be described using a rectilinear embedding \cite{Knuth1992}.
Moreover, this problem is \NP-complete even if the appearance of variables in clauses is restricted to at most three \cite{Tovey1984}.
We use these restrictions in the reduction and define the problem as follows.
\begin{itembox}[l]{{\pthreesat}}
    \begin{description}%[itemsep=0pt,align=left,leftmargin=50pt,labelindent=5pt,style=multiline]
        \item[Input:] A CNF formula $\Phi$ equipped with a planar rectilinear embedding $G_\Phi$. Set $X$ of $n$ variables, set $C$ of $m$ clauses over $X$ such that each $c \in C$ has length $|c| \le 3$, each variable $x \in X$ appears in at most three clauses, and $\Phi = \bigwedge_{c\in C} c$.
        \item[Task:] Decide whether $\Phi$ is satisfiable.
    \end{description}
\end{itembox}
\fi
%%--------------------------------------------------------------
\ifFull
\paragraph*{Reduction Overview} 
\fi
We give a simplified overview of the reduction. The idea is to emulate each component (clauses, variables and connectors) of $G_{\Phi}$ using \emph{disk gadgets} and construct a collection of disks $\D_\Phi$ equivalent to $G_{\Phi}$. 
That is, our objective is to construct a $\D_\Phi$ such that $\Phi$ is satisfiable if and only if $\D_\Phi$ is a yes-instance of {\ggedmm} for $\Pi_{\texttt{edgeless}}$.
%
To do this, we emulate the truth assignment using a proper movement of disks. 
To force the disk movement, we deliberately insert intersecting disks in $\D_\Phi$. 
In particular, we insert intersecting disks in clause gadgets and restrict the movement of such disks to moving a sequence of disks such that a \emph{free slot} of a variable gadget is used.
To allow the removal of the intersection, the gadgets are connected following the structure of $G_\Phi$ using consecutive disks separated by distance $K$.
%
%We replicate the variable truth assignment with the strategic movement of disks. To compel disk movement, we deliberately place intersecting disks in $\D_\Phi$. Specifically, intersecting disks are placed within the clause gadget, and their movement is constrained by leveraging a variable gadget's \emph{free slot} linked to the clause gadget. To enable the resolution of these intersections, the gadgets are connected via connectors structured according to $G_\Phi$.
%
For example, consider the boolean formula $\Phi$ 
%= (x_1 \lor \overline{x_2} \lor x_4) \land (\overline{x_1} \lor x_2 \lor \overline{x_3}) \land (x_2 \lor \overline{x_3} \lor \overline{x_4})$ 
and its rectilinear embedding $G_\Phi$, illustrated in \Cref{fig:reduction_overview_a}. 
\begin{figure}[!bt]
    \centering
    \includegraphics[scale=1,page=32]{media/disk_edgeless.pdf}
    %\includesvg[width=0.5\textwidth]{media/definitions.svg}
    \caption{Reduction Overview: An arbitrary instance $\Phi$ of {\pthreesat} with its rectilinear embedding $G_\Phi$.}
    \label{fig:reduction_overview_a}
\end{figure}
A skeleton of the reduction is shown in \Cref{fig:reduction_overview_bc}(a), where representations of clause and variable gadgets are connected following $G_\Phi$. 
\begin{figure}[!tb]
    \centering
    \includegraphics[scale=1,page=33]{media/disk_edgeless.pdf}
    %\includesvg[width=0.5\textwidth]{media/definitions.svg}
    \caption{Reduction Overview: (a) The skeleton given by the instance $(\Phi, G_\Phi)$ of \Cref{fig:reduction_overview_a}; (b) The intersection of the gadget for $c = (x_1 \lor \overline{x_2} \lor x_4)$ is removed by moving disks in a way that a free slot of the gadget for $x_2$ is used. Since $c = \mathit{true}$ when $x_2 = \mathit{false}$, the free slots for the other two gadgets become blocked, being unable to remove their intersection using the variable gadget for $x_2$.}
    \label{fig:reduction_overview_bc}
\end{figure}
\ifFull
We remark that the gadgets in the figure are solely representations, and we shall show their detailed construction using disks later.
\fi
Let $c = (x_1 \lor \overline{x_2} \lor x_4)$ and suppose that $x_2$ is assigned to $\mathit{false}$.
This assignment implies a movement of disks that (i) removes the intersections in the clause gadget for $c$ and (ii) blocks the truth value of the variable gadget for $x_2$ (see \Cref{fig:reduction_overview_bc}(b)).
%
%Notice that we must block the truth value of the variable gadget to prevent another clause gadget $c'$ from using a free slot available in the variable gadget of $x_2$ when $x_2 = \mathit{true}$.
%
We must block the truth value of the variable gadget so that another clause gadget $c'$ does not use the free slot in the variable gadget for $x_2$ when $x_2 = \mathit{true}$.
%
%In \Cref{fig:reduction_overview}(c), it is shown that once the intersection of clause $c$ is removed using the gadget of $x_2$, the other two intersections cannot be removed using the same gadget.
Consequently, their intersections must be removed using other gadgets.
It can be shown that removing all intersections in this way is equivalent to a valid assignment of variables for which $\Phi = \mathit{true}$. 
\ifFull
\paragraph*{Reduction Overview: Moving disks} 
\fi
The disks are \emph{moved} by assigning a new location, and the distance is calculated using a function that we call \emph{moving distance function}, which is the $L_1$ or $L_2$ distance metric multiplied by a \emph{distance weight}.
We employ two types of disks classified by their distance weight, called \emph{transition disk} and \emph{heavy disk}. 
The transition disks are the disks that we aim to move, whereas heavy disks are used to restrict the movement of transition disks.
%
%The intuitive idea behind the definition of a heavy disk is that whenever a heavy disk is moved by a value large enough to alter the construction, the moving distance is greater than $K$ (hence its name).
%By this, we shall prove that any solution that removes all the intersections of $\D_\Phi$ with minimum maximum moving distance $K$ implies that the solution depends exclusively on how the transition disks were moved.
%
The moving distance function of a heavy disk is intuitively defined such that any significant movement that alters the construction exceeds a distance of $K$. We show that a solution that allows removing all intersections from $\D_\Phi$ with minimum maximum moving distance $K$ exclusively relies on the movement of transition disks.
%
We remark that, although heavy disks can move, their movement is negligible. 
Combining this condition and the above construction, it can be shown that $\Phi$ is satisfiable if and only if $\Pi_{\texttt{edgeless}}$ can be satisfied in $\cstate$ using minimum maximum moving distance $K$.%, which depends exclusively on the movement of the transition disks.
%%-----------------------------------------------------------------------

\ifConf
\begin{toappendix}
\section{Definitions and Proofs of \Cref{sec:disk_edgeless}}
\else
\begin{toappendix}
\fi
%\begin{toappendix}
In the subsequent sections, we formally define the disks and gadgets of the reduction.
The gadgets are based on the gadgets presented in~\cite{Breu1998} and their coordinates are given in \ref{apx:coordinates}.
All coordinates are rational numbers; thus, all centres of disks can be described using a finite number of bits.
We also consider instances for which $K=1$ exclusively.
Before presenting the details in the following subsections, we make some remarks to aid in understanding the reduction.
\begin{itemize}
    \item In the following figures, we omit heavy disks that are properly inserted into the blank spaces to highlight the shape of the gadgets.
    \item When a collection of disks representing a gadget is given, it is sometimes conveniently assumed that omitted heavy disks are contained in the collection.
    \item In the following figures, the distance between consecutive transition disks is highlighted using shaded concentric circles with radius $3$ for the $L_1$ and $L_2$ distances.
\end{itemize}


\subsubsection{General Definitions}

Given an arbitrary instance $\Phi$ of {\pthreesat} with $n$ variables and $m$ clauses, we denote the collection of $\n$ unit disks produced by the reduction as $\cstate$ where $\n = f(n,m)$ is a polynomial of $n$ and $m$.
%%%Preliminaries
%Given a radius $r>0$, a \emph{disk} $D$ centred at $p$ is the set $D = \set{x\in \mathbb{R}^2\mid \lVert x,p \rVert_\alpha \le r}$ for $m\in \set{1,2}$. 
%An \emph{open disk} $D$ is a disk without its boundary circle; that is, $D = \set{x\in \mathbb{R}^2\mid \lVert x,p \rVert_\alpha < r}$ for $m\in \set{1,2}$.
%A \emph{unit disk} is a disk with $r = 1/2$.
%The \emph{minimax centre} $p$ of a set of points $P \subseteq \mathbb{R}^2$ is the centre of the smallest circle that contains $P$, which is the point that minimises $\max_{p'\in P} \lVert p,p'\rVert_\alpha$ for $\alpha \in \set{1,2}$.
%The \emph{diameter} $\diam{P}$ of a set of points $P \subseteq \mathbb{R}^2$ is the distance of the farthest pair of points in $P$.
%Alternatively, the diameter $\diam{S}$ of a convex polygon $\S$ is the diameter of its edges~\cite{Preparata1985}.
%A set $C \subseteq \mathbb{R}^n$ is \emph{convex} if the line segment between two arbitrary points in $C$ is completely in $C$. Such a set is called a \emph{convex set}.
%Given a set of points $P$, the \emph{convex hull} of $P$, $\C(P)$, is the smallest convex set containing $P$.
%%%%
The \emph{moving distance function} of an arbitrary disk $D \in \D_\Phi$ is a function of the form $d_{D}:\mathbb{R}^2 \rightarrow \mathbb{R}$ such that $d_{D}(p) = w_D\lVert c(D),p \rVert_\alpha$ for $\alpha \in \set{1,2}$. The real $w_D >0$ is the \emph{moving weight} of $D$.
We differentiate disks according to the value of $w_D$.
The disk $D$ is called \emph{transition disk} when $w_D = K/3$.
The disk $D$ is a \emph{$k$-heavy disk} when $w_D = 2^kK$, for $k\ge 1$.
We sometimes identify the heavy disk centred at an arbitrary point $p$ as $\hdisk{p}$.
If such a heavy disk does not exist, $\hdisk{p} = \emptyset$.
Given disks $D,D' \in \cstate$, we say that \emph{$D$ is consecutive to $D'$} if $d_D(c(D')) \le K$.
Lastly, we also refer to a transition disk concentric with a heavy disk as \emph{intersection disk}.

The transition and heavy disks used in the reduction are shown in \Cref{fig:md_functions} with their corresponding moving distance functions.

%%%---fig:md_functions
\begin{figure}[!htb]
    \centering
    \includegraphics[scale=1,page=3]{media/disk_edgeless.pdf}
    %\includesvg[width=0.6\textwidth]{media/md_functions.svg}
    \caption{Disks used in the reduction: Transition disk $D$ and $k$-heavy disks, $k \in\set{1,2,6}$, with their corresponding moving distance function.}
    \label{fig:md_functions}
\end{figure}

We formally define the movement of the disks in $\cstate$. 
Let $\X : \cstate \to \set{0,1}$ be an indicator function that tells whether a disk in $\cstate$ was moved. If $D \in \cstate$ is has not been moved, then $\ismoved{D} = 0$, otherwise $\ismoved{D} = 1$. 
Let also $\X_{\mathit{pos}}: \cstate \to \mathbb{R}\times \mathbb{R}$ be a function that returns the position of a disk.
If $\ismoved{D} = 0$, then $\movedpos{D} = c(D)$ for any disk $D \in \cstate$.
Given a disk $D \in \cstate$ such that $\ismoved{D} = 0$ and a point $p \in \mathbb{R}$, we say that \emph{$D$ is moved to $p$} to refer to setting $\ismoved{D} = 1$ and $\movedpos{D} = p$.
We then define $\X_{\mathit{pos}}$ as follows:
\[
    \movedpos{D} = \begin{cases}
        c(D),&\quad \ismoved{D} = 0,\\
        p, &\quad \ismoved{D} = 1.
    \end{cases}
\]
We also define $\istate = \set{D \in \cstate\mid \ismoved{D} = 0}$ and $\mstate = \set{D \in \cstate\mid \ismoved{D} = 1}$ as the subcollections of disks that represent unmoved and moved disks, respectively.
By the definition of movement described above, we see that $\istate$ and $\mstate$ form a partition of $\cstate$. That is, $\cstate = \istate \cup \mstate$.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%We require additional definitions to show the correctness of the movements of transition disks.
%実現可能
Given an arbitrary disk $D \in \cstate$, the \emph{range of movement of $D$}, denoted by $\A_D \subseteq \mathbb{R}^2$, is the set of points where $D$ can be moved with minimum maximum moving distance $K$. That is, 
\[
\A_D = \begin{cases}
        \set{p \in \mathbb{R}^2\mid d_D(p) \le K}, & \quad \ismoved{D} = 0,\\
        \emptyset, & \quad \ismoved{D} = 1.
    \end{cases}
\]
%However, with a slight abuse of notation, we denote $\A_D$ for a disk $D \in \cstate$ to refer to $\A_{\init{D}}$.
A \emph{blocked zone by} $D \in \cstate$, denoted by $\B_D$, is the zone where an arbitrary disk $D'\in \istate$, $D'\neq D$, cannot be moved avoiding intersecting $D$ even after moving $D$ to a point $p\in \A_D$. In particular,
\[
    \B_D  = \begin{cases}
        \emptyset,&\: \text{$D$ is a transition disk and $\ismoved{D} = 0$} ,\\
        \{p \in \mathbb{R}^2\mid \lVert c(D),p\rVert_\alpha < \frac{2^{k}-1}{2^k}\},&\: \text{$D$ is a $k$-heavy disk and $\ismoved{D} = 0$},\\
        \{p \in \mathbb{R}^2\mid \lVert \movedpos{D},p\rVert_\alpha  < 1\},&\: \ismoved{D} = 1.\\
    \end{cases}
\]
%If the moving weight of $D$ is at most $1$, then $\B_D = \emptyset$.
Let $r(D)$ be the radius of $D$.
Equivalently, the blocked zone of a $k$-heavy disk $D \in \istate$ is an open disk centred at $c(D)$ with radius $r(D) =(2^{k}-1)/2^k$.
The blocked zone of a disk $D \in \mstate$ is an open disk centred at $\movedpos{D}$ with radius $r(D) = 1$.

Let $D \in \cstate$ be a disk.
A point $p$ is a \emph{feasible position of movement} or simply \emph{feasible position} of $D$ if $D$ can be moved to $p$ such that $p \in \A_D$ and intersections can be removed with minimum maximum moving distance $K$ after moving $D$.
That is,
%\[
    $p \in \A_D \setminus \cup_{D' \in \left(\cstate\setminus\set{D}\right)}\B_{D'}$.
%\]
A \emph{feasible area of movement} or simply \emph{feasible area} $\F_D$ of $D$ is the union of subsets of $\mathbb{R}^2$ such that for any $p \in \F_D$, $p$ is a feasible position of $D$ (see \Cref{fig:feasible_area}).
In particular, 
\[
        \F_D =  \A_D \setminus \cup_{D' \in \left(\cstate\setminus\set{D}\right)}\B_{D'}\:.
\]


%%%---fig:feasible_area
\begin{figure}[!htb]
    \centering
    \includegraphics[scale=1,page=9]{media/disk_edgeless.pdf}
    %\includesvg[width=0.5\textwidth]{media/definitions.svg}
    \caption{Range of movement and feasible area: (a) illustration of a collection of disks $\D = \set{D,D_1,D_2,D_3} \subseteq \istate$ and the range of movement $\A_D$; (b) the feasible area of $D$, $\F_D$. In particular, $\F_D = \A_D \setminus \{\B_{D_1} \cup \B_{D_2} \cup \B_{D_3}\}$ is the region marked with a bold dotted line. The disk $D$ can be moved to an arbitrary point $p$ contained in $\F_D$. On the other hand, $D$ cannot be moved to the point $q \in \A_D$ without exceeding the minimum moving distance $K$ even if $d_D(q) \le K$ holds.}
    \label{fig:feasible_area}
\end{figure}

%%%---sum_of_notation
\Cref{tab:summary_of_notation} summarises the main notation used throughout \Cref{sec:disk_edgeless}.
\input{tex/sum_of_notation}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

Given a subcollection $\D \subseteq \cstate$ such that for all $D \in \D, \ismoved{D} = 1$ (that is, all disks in $\D$ were moved), we denote by $\mstatefinal{\D}$ the collection of disks in which there exists a disk $D' \in \mstatefinal{\D}$ such that $c(D') = \movedpos{D}$ for a disk $D \in \D$.
If for all $D \in \cstate$, $\ismoved{D} = 1$, $d_D(\movedpos{D}) \le K$ and $\mstatefinal{\cstate}$ is contained in $\Pi$, then $(\cstate,\Pi)$ is a yes instance of {\ggedmm}.
In the reduction, we construct $\cstate$ using $\Phi$ and $G_\Phi$ and show that there exists a $\mstatefinal{\cstate}$ such that $\mstatefinal{\cstate}$ is in $\Pi_{\texttt{edgeless}}$ if and only if $\Phi$ is satisfiable.

\subsubsection{Cell Gadgets}

%%DEFINITIONS
A \emph{cell gadget} $\G_{(x,y)}\subseteq \cstate$ consists of a transition disk centred at $(x,y)$ surrounded by $6$-heavy disks centred at points $\{(x+i,y+j)\mid i,j\in \{-1,0,1\}\}\setminus\{(x,y)\}$ (see \Cref{fig:cell_gadget}). We denote the subcollection that contains these heavy disks of $\G_{(x,y)}$ by $\G_{(x,y)}^{(\mathit{heavy})}$.

%%%---fig:cell_gadget
\begin{figure}[!b]
    \centering
    \includegraphics[scale=1,page=26]{media/disk_edgeless.pdf}
    %\includesvg[width=0.5\textwidth]{media/definitions.svg}
    \caption{Cell gadget: An arbitrary cell gadget (left); two connected cell gadgets such that their transition disks are consecutive. The faded heavy disks are the omitted heavy disks to show the shape of gadgets.}
    \label{fig:cell_gadget}
\end{figure}

%%PROPERTIES 
Given a collection of disks $\D$, we denote the convex hull of the set $\set{c(D)\mid D\in \D}$ by $\C(\D)$.
Let $\D$ be a collection of $k$-heavy disks. If $\C(\D)$ (i) is a $|\D|$-gon and (ii) $\B_{D}\cap \B_{D'} \neq \emptyset$ for any pair of disks $D,D' \in \D$ such that $c(D)$ and $c(D')$ share an edge in $\C(\D)$, then the set $\cup_{D\in\D} \B_D $ is called \emph{blocked enclosure}.
For instance, the union of blocked zones of heavy disks in a cell gadget forms a blocked enclosure.
If the blocked zones of $\D$ form a blocked enclosure, the \emph{interior hole} of $\D$ is the region given by $\C(\D) \setminus \cup_{D\in\D} \B_D$.

Given a cell gadget $\G_{(x,y)}$ with transition disk $D$, we denote its interior hole $\C(\G_{(x,y)}^{(\mathit{heavy})})\setminus (\cup_{D' \in \G_{(x,y)}^{(\mathit{heavy})}} \B_{D'})$ by $\H_{(x,y)}$ or $\H_{c(D)}$ indistinctly. \Cref{fig:interior_holes} shows an example of interior holes for heavy disks of an arbitrary cell gadget.

\begin{mlemmarep}\label{lem:no_holes_hd_squares}
    If $\D = \set{H_1,\ldots,H_4} \subseteq \istate$ is a collection of $6$-heavy disks such that $c(H_1) = (x,y)$, $c(H_2) = (x-1,y)$, $c(H_3) = (x,y-1)$ and $c(H_4) = (x-1,y-1)$, then the interior hole of $\D$ is empty.
\end{mlemmarep}
\begin{proof}
    Notice that the minimax centre of $c(H_1),\ldots,c(H_4)$ is given by the centre of the smallest circle that contains them. 
    This point is $c = (x-1/2,y-1/2)$.
    Moreover, the point $c$ is the farthest point from any $c(H_i)$ for $i\in \set{1,\ldots,4}$.
    We have $\lVert c, c(H_i)\rVert_2 = \sqrt{2}/2 < (2^6 - 1 )/2^6 = 63/64$ for any $i \in \set{1,\ldots,4}$.
    Therefore, any other point enclosed by $c(H_1),\ldots,c(H_4)$ is contained in at least one blocked zone, implying that the interior hole is empty.
\end{proof}

\begin{mlemmarep}\label{lem:holes_in_cell_gadgets}
    The interior hole $\H_{(x,y)}$ of an arbitrary cell gadget $\G_{(x,y)}$ with transition disk $D$ is a non-empty set.
    Moreover, $c(D) \in \H_{(x,y)}$.
\end{mlemmarep}
\begin{proof}
    Let $H_1,\ldots,H_8 \in \G_{(x,y)}^{(\mathit{heavy})}$ be the eight heavy disks of $\G_{(x,y)}$ such that the centres $(c(H_1),\ldots,c(H_8))$ are equal to $ ((x-1,y+1),(x,y+1),(x+1,y+1),(x-1,y),(x+1,y),(x-1,y-1),(x,y-1),(x+1,y-1)$.
    By definition, $\lVert (x,y), c(H_i)\rVert_2 \ge 1 > (2^6-1)/ 2^6 = 63/64$ holds for $i \in \set{1,\ldots,8}$.
    Therefore $c(D) \in \H_{(x,y)}$ and $\H_{(x,y)} \neq \emptyset$.
\end{proof}

\begin{observation}\label{obs:convex_polygon_one_disk}
    Let $\S$ be a convex polygon such that $\diam{\S} < 1$. The region delimited by $\S$ admits exactly one disk centred within it.
\end{observation}
\begin{proof}
    Let $p_1,p_2$ be the farthest pair of points in $\S$.
    Without loss of generality, assume that an arbitrary disk $D$ is moved to $p_1$.
    It gives $r(\B_D) = 1$ and thus $p_2 \in \B_D$ since $\diam{\S} < 1$.
    Since $p_2$ is the farthest point from $p_1$, all other points in $\S$ are also blocked by $\B_D$.
    Therefore, $\S$ admits exactly one disk centred within it.
\end{proof}


\begin{mlemmarep}\label{lem:holes_one_disk}
    The interior hole $\H_{(x,y)}$ of an arbitrary cell gadget $\G_{(x,y)}$ admits exactly one disk centred within it.
\end{mlemmarep}
\begin{proof}
    Let $\S$ be the square formed by points $(p_1,\ldots,p_4) = ((x-1/64,y+1/64),(x+1/64,y+1/64),(x-1/64,y-1/64),(x+1/64,y-1/64))$.
    The square $\S$ is a rectangle such that $\lVert p_1,p_4\rVert_2,\lVert p_2,p_3\rVert_2<1$. Consequently, $\S$ admits exactly one disk centred within it by \Cref{obs:convex_polygon_one_disk}.
    Moreover, $\H_{(x,y)} \subseteq \S \setminus \cup_{D' \in \G_{(x,y)}^{(\mathit{heavy})}} \B_{D'}$.
    Therefore, the lemma statement is true.
\end{proof}

%%%---fig:interior_holes
\begin{figure}[!b]
    \centering
    \includegraphics[scale=1,page=10]{media/disk_edgeless.pdf}
    %\includesvg[width=1\textwidth]{media/interior_holes.svg}
    \caption{Interior holes: (a) A square of four disks with no interior hole (\Cref{lem:no_holes_hd_squares}); (b) union of blocked zones of heavy disks of a cell gadget (\Cref{lem:holes_in_cell_gadgets}), where the small region at the centre of the figure not covered by blocked zones is the interior hole.}
    \label{fig:interior_holes}
\end{figure}

%%PROPERTIES 2
We now show that the feasible area of a transition disk is restricted to the areas used by consecutive transition disks. %\warning{formalise the concept of holes}

\begin{mlemmarep}\label{lem:cg_two_subsets}
    Let $\G_{(x,y)}$ and $\G_{(x',y')}$ be two cell gadgets with transition disks $D$ and $D'$, respectively.
    If $D$ and $D'$ are consecutive, then the feasible area $\F_{D}$ is equal to $(A_D \cap \H_{(x,y)}) \cup (A_{D} \cap \H_{(x',y')})$.
    Moreover, $A_D \cap \H_{(x,y)}$ and $A_{D'} \cap \H_{(x',y')}$ are non-empty and disjoint.
\end{mlemmarep}
\begin{proof}
    First, $\H_{(x,y)}$ and $\H_{(x',y')}$ are disjoint, so their intersection with $\A_D$ is also disjoint.
    By \Cref{lem:holes_in_cell_gadgets}, $\H_{(x,y)} \neq \H_{(x',y')} \neq \emptyset$ holds.
    By definition of $\G_{(x,y)}$, $c(D) \in \H_{(x,y)}$ and $\B_D = \emptyset$ hold, so $\A_D \cap \H_{(x,y)} \neq \emptyset$ also holds.
    Since $D$ is consecutive to $D'$, $d_D(c(D')) \le K$ and $c(D') $ is contained in $ \A_D$.
    It follows that $\A_D \cap \H_{(x',y')} \neq \emptyset$.
    %Hence, $(\A_D \cap \H_{(x,y)}) \cup (\A_D \cap \H_{(x',y')}) \subseteq \F_D$ holds.

    We prove that $\F_{D}$ is equal to $(A_D \cap \H_{(x,y)}) \cup (A_{D} \cap \H_{(x',y')})$.
    Recall that $\H_{(x,y)} = \C(\G_{(x,y)}^{(\mathit{heavy})}) \setminus \cup_{O \in \G_{(x,y)}^{(\mathit{heavy})}} \B_{O}$ and $\H_{(x',y')} = \C(\G_{(x',y')}^{(\mathit{heavy})}) \setminus \cup_{O \in \G_{(x',y')}^{(\mathit{heavy})}} \B_{O}$. By \Cref{lem:holes_in_cell_gadgets} and the definition of $\cstate$, $\H_{(x,y)}$ and $\H_{(x',y')}$ do not intersect with any blocked zone. Hence we can define
    \begin{align*}
        \H_{(x,y)} & = \C(\G_{(x,y)}^{(\mathit{heavy})}) \setminus \cup_{O \in \cstate} \B_{O} = \C(\G_{(x,y)}^{(\mathit{heavy})}) \cap (\cup_{O \in \cstate} \B_{O})^c\\
        \H_{(x',y')} & = \C(\G_{(x',y')}^{(\mathit{heavy})}) \setminus \cup_{O \in \cstate} \B_{O} = \C(\G_{(x',y')}^{(\mathit{heavy})}) \cap (\cup_{O \in \cstate} \B_{O})^c \:.
    \end{align*}
    
    On the other hand, $\F_D = \A_D \setminus \cup_{D' \in \cstate} \B_{D'} = \A_D \cap (\cup_{O \in \cstate} \B_{O})^c$. We now have that
    \begin{align*}
        (A_D \cap \H_{(x,y)}) \cup (A_D \cap \H_{(x',y')}) & = \left(\A_D \cap \left(\C(\G_{(x,y)}^{(\mathit{heavy})}) \cap (\cup_{O \in \cstate} \B_{O})^c\right)\right)\\
        &\phantom{=}\cup \left(\A_D \cap \left(\C(\G_{(x',y')}^{(\mathit{heavy})}) \cap (\cup_{O \in \cstate} \B_{O})^c\right)\right) \\
        & = \left(\A_D \cap \C(\G_{(x,y)}^{(\mathit{heavy})}) \cap (\cup_{O \in \cstate} \B_{O})^c\right)\\
        &\phantom{=} \cup \left(\A_D \cap \C(\G_{(x',y')}^{(\mathit{heavy})}) \cap (\cup_{O \in \cstate} \B_{O})^c\right)\\
        & =(\F_D \cap \C(\G_{(x,y)}^{(\mathit{heavy})}))\cup (\F_D \cap \C(\G_{(x',y')}^{(\mathit{heavy})})).
    \end{align*}
    It holds that $\C(\G_{(x,y)}^{(\mathit{heavy})})) \subset \A_D$, thus
    \begin{align*}
        (A_D \cap \H_{(x,y)}) \cup (A_D \cap \H_{(x',y')}) & =\F_D \cup (\F_D \cap \C(\G_{(x',y')}^{(\mathit{heavy})}))\\
        & = \F_D.
    \end{align*}
    This concludes the proof.
\end{proof}

\subsubsection{Clause Gadgets}
%%DEFINITIONS

The \emph{clause gadget} $\G_c \subseteq \cstate$ for an arbitrary clause $c$ consists of an intersection disk $T_c$ centred at an arbitrary point $(x,y)$ surrounded by $6$-heavy disks centred at points $\{(x+i,y+j)\mid i,j\in \{-1,0,1\}\}\setminus\{(x,y)\}$.
It also contains three cell gadgets $\G_{(x-3,y)}$, $\G_{(x,y-3)}$ and $\G_{(x+3,y)}$ representing the three literals of $c$ (see \Cref{fig:clause_gadget}).
We interpret the movement of $T_c$ to one of the arms as the assignment of truth value to the clause by the literal corresponding to the arm. 

%%%---fig:clause_gadget
\begin{figure}[!b]
    \centering
    \includegraphics[scale=1,page=27]{media/disk_edgeless.pdf}
    %\includesvg[width=0.5\textwidth]{media/definitions.svg}
    \caption{Clause Gadget: Clause gadget for an arbitrary clause $c$.}
    \label{fig:clause_gadget}
\end{figure}


%OBS 

%%PROPERTIES
\Cref{lem:cg_two_subsets} implies that if a transition disk is moved from its position (that is, it is moved outside $\H_{(x,y)}$), then its new position must be in $\H_{(x',y')}$ for an arbitrary $(x',y')\neq (x,y)$.
We now prove a similar property of clause gadgets.

\begin{mlemmarep}\label{lem:tc_three_subsets}
    Let $\G_{c}$ be a clause gadget such that $c(T_c) = (x,y)$.
    The feasible area $\F_{T_c}$ is equal to $(\A_{T_c} \cap \H_{(x-3,y)}) \cup (\A_{T_c} \cap \H_{(x,y-3)}) \cup (\A_{T_c} \cap \H_{(x+3,y)})$.
    Moreover, $\A_{T_c} \cap \H_{(x-3,y)}$, $\A_{T_c} \cap \H_{(x,y-3)}$ and $\A_{T_c} \cap \H_{(x+3,y)}$ are non-empty and disjoint between each other.
%    The feasible area $\F_{T_c}$ can be partitioned into exactly three non-empty subsets.
\end{mlemmarep}
\begin{proof}
    First, $\H_{(x-3,y)}$, $\H_{(x,y-3)}$ and $\H_{(x+3,y)}$ are disjoint between each other, so their intersections with $\A_{T_c}$ must also be disjoint.
    By \Cref{lem:holes_in_cell_gadgets}, $\H_{(x-3,y)} \neq \H_{(x,y-3)} \neq \H_{(x+3,y)} \neq \emptyset$.
    Moreover, $d_{T_c}((x-3,y)),d_{T_c}((x,y-3)),d_{T_c}((x+3,y)) \le K$ holds, so $\A_{T_c} \cap \H_{(x-3,y)}$, $\A_{T_c} \cap \H_{(x,y-3)}$ and $\A_{T_c} \cap \H_{(x+3,y)}$ are non-empty.

    We prove that $\F_{T_c}$ is equal to $(\A_{T_c} \cap \H_{(x-3,y)}) \cup (\A_{T_c} \cap \H_{(x,y-3)}) \cup (\A_{T_c} \cap \H_{(x+3,y)})$.
    Recall that we can define $\H_{(x-3,y)}$, $\H_{(x,y-3)}$ and $\H_{(x+3,y)}$ as follows:
    \begin{align*}
        \H_{(x-3,y)} & = \C(\G_{(x-3,y)}^{(\mathit{heavy})}) \setminus \cup_{D' \in \cstate} \B_{D'} = \C(\G_{(x-3,y)}^{(\mathit{heavy})}) \cap (\cup_{D' \in \cstate} \B_{D'})^c\\
        \H_{(x,y-3)} & = \C(\G_{(x,y-3)}^{(\mathit{heavy})}) \setminus \cup_{D' \in \cstate} \B_{D'} = \C(\G_{(x,y-3)}^{(\mathit{heavy})}) \cap (\cup_{D' \in \cstate} \B_{D'})^c\\
        \H_{(x+3,y)} & = \C(\G_{(x+3,y)}^{(\mathit{heavy})}) \setminus \cup_{D' \in \cstate} \B_{D'} = \C(\G_{(x+3,y)}^{(\mathit{heavy})}) \cap (\cup_{D' \in \cstate} \B_{D'})^c.
    \end{align*}
    On the other hand, $\F_{T_c} = \A_{T_c} \setminus \cup_{D' \in \cstate} \B_{D'} = \A_{T_c} \cap (\cup_{D' \in \cstate} \B_{D'})^c$. Let $\H = (\H_{(x-3,y)} \cup \H_{(x,y-3)} \cup \H_{(x+3,y)})$. Then, 
    \begin{align*}
        (\A_{T_c} \cap \H_{(x-3,y)}) &\cup (\A_{T_c} \cap \H_{(x,y-3)}) \cup (\A_{T_c} \cap \H_{(x+3,y)}) = \\
        &= \A_{T_c} \cap (\H_{(x-3,y)} \cup \H_{(x,y-3)} \cup \H_{(x+3,y)})\\
        & = \A_{T_c} \cap \H\\
        & = \A_{T_c} \cap \H \cap (\cup_{D' \in \cstate} \B_{D'})^c\\
        & = \F_{T_c} \cap \H.
    \end{align*}
    For all $x \in \A_{T_c} \cap \H$, it holds that $x \in \F_{T_c}$ by the above equation. Hence, $\A_{T_c} \cap \H \subseteq F_{T_c}$.
    In contrast, for all $x \in \F_{T_c}$, we have $x \in \A_{T_c}$ since $\F_{T_c} \subseteq \A_{T_c}$.
    Moreover, it follows from \Cref{lem:no_holes_hd_squares} and the definition of clause gadgets that there exists no point $p\in \A_D$ such that $p \notin \cup_{D' \in \cstate} \B_{D'}$ and $p \notin \H$.
    Thus $\F_{T_c} \subseteq \H_{(x-3,y)}\cup \H_{(x,y-3)}\cup \H_{(x+3,y)}$ holds, which implies that $x \in \H$.
    Consequently, $\F_{T_c} \subseteq A_{T_c} \cap \H$ holds.
    Therefore $\F_{T_c} = \A_{T_c} \cap \H = (\A_{T_c} \cap \H_{(x-3,y)}) \cup (\A_{T_c} \cap \H_{(x,y-3)}) \cup (\A_{T_c} \cap \H_{(x+3,y)})$ holds.
\end{proof}

\subsubsection{Variable Gadgets}
%%DEFINITIONS

Lastly, the \emph{variable gadget} $\G_x \subseteq \cstate$ for an arbitrary variable $x$ is depicted in \Cref{fig:variable_gadget}. 
The variable gadget consists of two truth sides (called true and false sides) with three free slots and an intersection disk. 
There exists space for moving the truth setter disk in both truth sides.

%%%---fig:variable_gadget
\begin{figure}[!htb]
    \centering
    \includegraphics[scale=1,page=28]{media/disk_edgeless.pdf}
    \caption{Variable gadget: Variable gadget for variable $S_x$ with three arms connected to the left side. The dashed region is the central part of the variable gadget. Shaded concentric circles are circles of radius $K$ for the $L_1$ and $L_2$ distances highlighting the distance between consecutive transition disks.}
    \label{fig:variable_gadget}
\end{figure}

The collection of disks enclosed by the yellow dashed region is the \emph{central part} of the gadget. 
\Cref{fig:variable_names} shows the central part of the gadget for an arbitrary variable $x$.
The disk ${S}_x$ is called \emph{truth setter disk}. 

%%%---fig:variable_names
\begin{figure}[!htb]
    \centering
    \includegraphics[scale=1,page=2]{media/disk_edgeless.pdf}
    %\includesvg[width=0.8\textwidth]{media/variable_names.svg}
    \caption{Central part of the gadget for an arbitrary variable $x$.}
    \label{fig:variable_names}
\end{figure}

For convenience, we show the definitions assuming that $c(S_x) = (0,0)$.
The central part consists of consecutive $6$-heavy disks surrounding $S_x$ and two \emph{truth sides} called \emph{true side} and \emph{false side}.
As we show in \Cref{lem:block_disk_restricted}, $S_x$ can be moved to free spaces $\S_{t,1}^x$ or $\S_{t,2}^x$ called \emph{truth slots}, representing the false or true value given $x$, respectively.
The centres of $\S_{t,1}^x$ and $\S_{t,2}^x$ are denoted by $s^x_{t,1} = (-3,0)$ and $s^x_{t,2} = (3,0)$, respectively.
The \emph{blocking disk of a truth side} is a $1$-heavy disk that possibly blocks $\S_{t,i}^x$ and is denoted by $\bdisk{\S^x_{t,i}}$, where $i = 1$ for the true side and $i=2$ for the false side.
Each truth side can be connected to at most three clauses, denoted in the figure by $c_1,c_2,c_3$ for the true side and $c_4,c_5,c_6$ for the false side.
For $i \in \set{1,\ldots,6}$, clause $c_i$ contains a free space $\S_{c,i}^x$ to position the transition disk moved from clause gadget $c_i$, with centre $s_{c,i}^x$.
We denote the transition disk moved from $c_i$ by $D_{c_i}$.
\Cref{fig:move_of_disks} shows the transition disks $D_{c_1},D_{c_2},D_{c_3}$ for $c_1,c_2,c_3$, respectively.

%%%---fig:move_of_disks
\begin{figure}[!hbt]
    \centering
    \includegraphics[scale=1,page=5]{media/disk_edgeless.pdf}
    \caption{Left: The truth setter disk is blocking the right side, letting transition disks $D_{c_1},D_{c_2},D_{c_3}$ to be moved to free slots. Right: The truth setter disk is blocking free slots to move $D_{c_1},D_{c_2},D_{c_3}$ into the gadget.}
    \label{fig:move_of_disks}
\end{figure}

The \emph{blocking disk for $c_i$} is a $1$-heavy disk that possibly blocks $\S_{c,i}^x$ and is denoted by $\bdisk{\S^x_{c,i}}$.
The \emph{link disk for $c_i$} is a $2$-heavy disk moved close to $\bdisk{\S^x_{c,i}}$ depending on the position of the blocking disk of the truth side.
The link disk is denoted by $\ldisk{\S^x_{c,i}}$.

Each variable is connected to at most three clauses by the arms depicted in \Cref{fig:variable_gadget}connected to $c_1$, $c_2$ and $c_3$.
The central part of the gadget can be mirrored horizontally and arms can be mirrored vertically and horizontally.
%OBS 
We make some observations used in the subsequent lemmas.

\begin{observation}[Vertical condition of blocked zones]\label{obs:vertical_condition}
    Let $H_1$ and $H_2$ be two $k$-heavy disks centred at $(x,y)$ and $(x+1,y)$, respectively. A point $(x',y')$ such that the inequality $y - \sqrt{((2^k-1)/2^k)^2 - 1/4} \le y' \le y + \sqrt{((2^k-1)/2^k)^2 - 1/4}$ holds is in $\B_{H_1} \cup \B_{H_2}$ for any $x-1/2\le x' \le x+3/2 $.
\end{observation}
\begin{proof}
    We show that $\B_{H_1} $ and $ \B_{H_2}$ intersect at $(x+1/2,y + \sqrt{((2^k-1)/2^k)^2 - 1/4})$. 
    The proof is analogous for the lower bound.
    Let $p = (x'',y'')$ be the point where $\B_{H_1} $ and $ \B_{H_2}$ intersect.
    Straightforwardly, $x'' = x+1/2$.
    The triangle formed by points $p$, $(x,y)$ and $(x,y+1)$ is an isosceles triangle of base length $1$ and sides of length $2^k-1 /2^k$.
    Moreover, $y'' = y + h$ where $h$ is the height of the triangle.
    The height is equal to $h = \sqrt{((2^k-1)/2^k)^2 - 1/4}$.
    Hence $p = (x+1/2,y + \sqrt{((2^k-1)/2^k)^2 - 1/4})$.

    Furthermore, notice that $(x-1/2,y'') \in \B_{H_1}$ and $(x+3/2,y'') \in \B_{H_2}$.
    Therefore, for any $x-1/2\le x' \le x+3/2 $, $(x',y + \sqrt{((2^k-1)/2^k)^2 - 1/4}) \in \B_{H_1} \cup \B_{H_2}$.
\end{proof}

\begin{observation}[Horizontal condition of blocked zones]\label{obs:horizontal_condition}
    Let $H_1$ and $H_2$ be two $k$-heavy disks centred at $(x,y)$ and $(x,y+1)$, respectively. A point $(x',y')$ such that $x - \sqrt{((2^k-1)/2^k)^2 - 1/4} \le x' \le x + \sqrt{((2^k-1)/2^k)^2 - 1/4}$ is in $\B_{H_1} \cup \B_{H_2}$ for any $y-1/2\le y' \le y+3/2 $.
\end{observation}
    
\begin{figure}[tb]
    \centering
    \includegraphics[scale=1,page=14]{media/disk_edgeless.pdf}
    %\includesvg[width=0.8\textwidth]{media/vert_hor_condition.svg}
    \caption{Illustration of \Cref{obs:vertical_condition} (left) and \Cref{obs:horizontal_condition} (right).}
\end{figure}


%%PROPERTIES
\Cref{lem:tc_three_subsets} defines the removal of the intersection of $T_c$. In particular, $T_c$ must be moved to one of the three non-empty disjoint subsets given by $(\A_{T_c} \cap \H_{(x-3,y)})$, $(\A_{T_c} \cap \H_{(x,y-3)})$ and $(\A_{T_c} \cap \H_{(x+3,y)})$.
%In the following lemmas, it is assumed that $K = 1$.

\begin{mlemmarep}\label{lem:sx_two_subsets}
    Let $\G_{x}$ be a variable gadget such that $c(S_x) = (x,y)$ and $H_1^{(i)},\ldots,H_5^{(i)}$ the $6$-heavy disks surrounding $s^x_{t,i}$ for $i \in \set{1,2}$.
    The feasible area $\F_{S_x}$ is equal to $\F_{S_x}^{(1)} \cup \F_{S_x}^{(2)}$, where $\F_{S_x}^{(i)} = (\A_{S_x}\cap \S^x_{t,i})\setminus \cup_{j=1}^5 \B_{H_j^{(i)}}$ for $i \in \set{1,2}$.
    Moreover, $\F_{S_x}^{(t)}$ and $\F_{S_x}^{(f)}$ are non-empty and disjoint.
\end{mlemmarep}
\begin{proof}
    %Let $\A_t$ and $\A_f$ be two feasible areas of $S_x$ for the true and false side, respectively.
    It holds that $\A_{S_x}\cap \S^x_{t,i} \neq \emptyset$ since $d_{S_x}(s^x_{t,1}) \le K$.
    The region $\S^x_{t,i}$ is partially blocked by $H_1^{(1)},\ldots,H_5^{(1)}$.
    In particular, $s^x_{t,1} = (x-3,y)$ and the centres of $H_1^{(1)},\ldots,H_5^{(1)}$ are given by $c(H_1^{(1)}) = (x-3,y+1)$, $c(H_2^{(1)}) = (x-2,y+1)$, $c(H_3^{(1)}) = (x-2,y)$, $c(H_4^{(1)}) = (x-2,y-1)$ and $c(H_5^{(1)}) = (x-3,y-1)$.
    %By \Cref{obs:unreachable_disk}, we only need to consider the blocked zones by $H_1,\ldots,H_5$.
    For any $i \in \set{1,\ldots,5}$, $d_{H_i^{(1)}}(s_{t,1}^x) \ge 1$ holds, implying that $s_{t,1}^x \notin \cup_{i=1}^5 \B_{H_i^{(1)}}$.
    It follows that $\F_{S_x}^{(i)} = (\A_{S_x}\cap \S^x_{t,i})\setminus \cup_{j=1}^5 \B_{H_j^{(i)}}$ is non-empty for $i = 1$.
    Moreover, by the definition of $\G_x$, there exists no other heavy disk close to $\S^x_{t,i}$.
    Consequently, $\F_{S_x}^{(i)} = (\A_{S_x}\cap \S^x_{t,i})\setminus \cup_{j=1}^5 \B_{H_j^{(i)}} = \cup_{D'\in\cstate-\{S_x\}}B_{D'}$.
    The proof is analogous for $i = 2$.
    Moreover, $\S^x_{t,1}$ and $\S^x_{t,2}$ are disjoint by the definition of $\G_x$, so $\F_{S_x}^{(1)}$ and $\F_{S_x}^{(2)}$ must also be disjoint.

    We have shown that $\F_{S_x}^{(i)} \neq \emptyset$ for $i \in \set{1,2}$. 
    We only need to prove that $\F_{S_x} \setminus (\F_{S_x}^{(1)} \cup \F_{S_x}^{(2)}) = \emptyset$ holds.
    By the definition of the variable gadget, $S_x$ is surrounded by $6$-heavy disks $\cup_{i,j\in \set{-3,\ldots,3}} \hdisk{(i,j)}$ where $\hdisk{(-3,0)}= \hdisk{s_{t,1}^x} = \emptyset$ and $\hdisk{(3,0)}= \hdisk{s_{t,2}^x} = \emptyset$.
    %Notice that $\hdisk{(-3,0)}= \hdisk{s_{t,1}^x} = \emptyset$ and $\hdisk{(3,0)}= \hdisk{s_{t,2}^x} = \emptyset$.
    Suppose instead that there exist such disks at $s_{t,1}^x$ and $s_{t,2}^x$.
    Let $z = \sqrt{(63/64)^2-1/4}$.
    By \Cref{obs:vertical_condition,obs:horizontal_condition}, any point $(x',y')$ such that $x-3-z \le x' \le x+3+z$ and $y-3 - z \le y' \le y+3 + z$ is in $\cup_{i,j\in \set{-3,\ldots,3}} \B_{\hdisk{(i,j)}}$.
    This would imply $\F_{S_x} = \emptyset$ as $r(\A_{S_x}) = 3$.
    %If $\hdisk{s_{t,1}^x}$ and $\hdisk{s_{t,2}^x}$ are deleted, at most two connected subsets might appear in $\A_{S_x}$.
    We have already shown that if there exists no heavy disk centred at $s_{t,1}^x$ and $s_{t,2}^x$, then there exist two non-empty disjoint subsets in $\F_{S_x}$, namely $\F_{S_x}^{(1)}$ and $\F_{S_x}^{(2)}$.
    Therefore, $\F_{S_x} \setminus (\F_{S_x}^{(1)} \cup \F_{S_x}^{(2)}) = \emptyset$ holds.
\end{proof}
\Cref{lem:sx_two_subsets} implies that the movement of $S_x$ is restricted to the two subsets $\F_{S_x}^{(1)}$ and $\F_{S_x}^{(2)}$. 
We now show that depending on where $S_x$ is moved, the feasible areas of $1$- and $2$-heavy disks of the variable gadget become restricted.

\begin{mlemmarep}\label{lem:block_disk_restricted}
    Let $\G_{x}$ be a variable gadget such that $c(S_x) = (x,y)$ and $H_1^{(i)},\ldots,H_5^{(i)}$ the $6$-heavy disks surrounding $s^x_{t,i}$ for $i \in \set{1,2}$.
    If $S_x$ is moved to $\F_{S_x}^{(1)}$, then $\bdisk{S^x_{t,1}}$ must be moved to a point $p$ that makes $\bdisk{S^x_{t,1}}$ intersect with disks $\ldisk{S^x_{c,1}}$, $\ldisk{S^x_{c,2}}$ and $\ldisk{S^x_{c,3}}$.
\end{mlemmarep}
\begin{proof}
    We need to consider the feasible areas of disks to show the statement.
    For simplicity, we assume that feasible areas of the involved disks are properly defined rectangles.
    These rectangles completely contain the actual feasible areas of disks.
    We then show that the statement is true for the rectangles (and hence also true for the actual feasible areas). 
    In particular, we describe the movement of disks and show that whenever we move the disks to any point of the rectangles, the statement holds true.
    An illustration of the proof is shown in \Cref{fig:block_disk_restricted}.
    
    By \Cref{lem:sx_two_subsets}, $\F_{S_x}^{(1)} = (\A_{S_x}\cap \S^x_{t,1})\setminus \cup_{j=1}^5 \B_{H_j^{(1)}}$. %where
    Without loss of generality, assume that $(x,y) = 0$.
    Recall that disks $H_1^{(1)},\ldots,H_5^{(1)}$ are the five $6$-heavy disks surrounding $\S^x_{t,1}$ with centres $c(H_1^{(1)}) = (-3,1)$, $c(H_2^{(1)}) = (-2,1)$, $c(H_3^{(1)}) = (-2,0)$, $c(H_4^{(1)}) = (-2,-1)$ and $c(H_5^{(1)}) = (-3,-1)$.
    We prove the statement for a rectangle $\R$ such that $\F_{S_x}^{(1)} \subseteq \R$. %defined by points where $\A_{S_x}$ and $(\cup_{i=1}^5 \B_{H_i})^c$ intersect. 
    In particular, let $\R$ be the rectangle defined by points $(-3,1/50),(-3+1/50,1/50),(-3+1/50,-1/50), (-3,1/50)$.
    It can be checked that $\F_{S_x}^{(1)}$ is contained in $\R$ by calculating the distances to $c(H_1^{(1)})$, $c(H_3^{(1)})$ and $c(H_5^{(1)})$.
    Let $q = (q_x,q_y) \in \R$ be the point where $S_x$ is moved.
    We show the feasible area of $\bdisk{S_{t,1}^x}$ after moving $S_x$ to $q$.
    Let $p = (p_x, p_y)$ be an arbitrary point of $\F_{\bdisk{S_{t,1}^x}}$.
    Recall that if $S_x$ is moved, then $\ismoved{S_x} = 1$ and $r(\B_{S_x}) = 1$.
    Thus $p_x \le q_x - 1 = -4 + 1/50$ holds since $\bdisk{S_{t,1}^x}$ is initially placed at $(-3-1/2,0)$ and $q_x \le -3 +1/50$ by the definition of $\R$.
    Moreover, we have that $c(\ldisk{S^x_{c,1}}) = (-4,3/4)$, $c(\ldisk{S^x_{c,2}}) = (-4-3/4,0)$ and $c(\ldisk{S^x_{c,3}}) = (0,-3/4)$.
    Consequently $-4 \le p_x$ also holds since $r(\ldisk{S_{c,2}^x}) = 3/4$.
    
    By the above argument, the inequality $-4 \le p_x \le -4+1/50$ holds. 
    We use this range of values for $p_x$ and define a rectangle $\R'$ that contains $\F_{\bdisk{S_{t,1}^x}}$ and thus $p$.
    Notice that $\F_{\bdisk{S_{t,1}^x}} = \A_{\bdisk{S_{t,1}^x}} \setminus (\cup_{i=1}^3 \B_{\ldisk{S^x_{c,i}}} \cup \B_{S_x})$. %where $S_x \in \mstate$. 
    We describe $\R'$ by using the limits of $\F_{\bdisk{S_{t,1}^x}}$. 
    First, let $p' = (-4+1/50,y')$ be a point. 
    We set $y'$ such that $\lVert c(\ldisk{S^x_{c,1}}),(-4+1/50,y')\rVert_\alpha = 3/4$.
    The point $p'$ is on the boundary of $\B_{\ldisk{S^x_{c,1}}}$.
    It can be checked that $y' < 1/100$, thus we conveniently set $y' = 1/100$ as an upper bound for $\R'$.
    The same argument can be used for $\ldisk{S^x_{c,3}}$ and a $y' = -1/100$ as a lower bound for $\R'$.
    On the other side, note that $\cap_{i \in \set{1,2,3}} \B_{\ldisk{S^x_{c,i}}} = \set{(-4,0)}$. 
    In other words, $\B_{\bdisk{S^x_{t,1}}}$ cannot be moved to a point $(-4,y')$ for $y' \neq 0$.
    Hence, we can use a rectangle $\R'$ defined by points $(-4,1/100)$, $(-4+1/50,1/100)$, $(-4+1/50,-1/100)$ and $(-4,-1/100)$ for which $F_{\bdisk{S^x_{t,1}}}$ is a subset.
    It can be checked that for any point in $p \in \R'$, the distance $\lVert p,c(\ldisk{S^x_{c,i}})\rVert_\alpha < 1$ for $i \in \set{1,2,3}$.
    In other words, whenever $\bdisk{S_{t,1}^x}$ is moved to a point $p \in \R'$, it intersects with link disks $\ldisk{S^x_{c,1}}$, $\ldisk{S^x_{c,2}}$ and $\ldisk{S^x_{c,3}}$.
    Therefore, $\bdisk{S^x_{t,1}}$ must be moved to a point $p$ that makes $\bdisk{S^x_{t,1}}$ intersect with disks $\ldisk{S^x_{c,1}}$, $\ldisk{S^x_{c,2}}$ and $\ldisk{S^x_{c,3}}$.
\end{proof}

\begin{figure}[bt]
    \centering
    \includegraphics[scale=1,page=11]{media/disk_edgeless.pdf}
    %\includesvg[width=0.8\textwidth]{media/block_disk_restricted.svg}
    \caption{Illustration of \Cref{lem:block_disk_restricted}. The orange regions is the union of blocked zones of disks $\ldisk{S^x_{c,i}}$ for $i\in \set{1,2,3}$, whereas the grey region is the blocked zone of $S_x$. The feasible area $\F_{\bdisk{S^x_{t,1}}}$ is confined to the rectangle $\R'$.}
    \label{fig:block_disk_restricted}
\end{figure} 


\begin{mlemmarep}\label{lem:feasible_areas_blocked}
    If $S_x$ is moved to $\F_{S_x}^{(1)}$, then $\F_{D_{c_i}} = \emptyset$ for $i \in \set{1,2,3}$.
\end{mlemmarep}
\begin{proof}
    Let $\R'$ be the rectangle defined by points $(-4,1/100)$, $(-4+1/50,1/100)$, $(-4+1/50,-1/100)$ and $(-4,-1/100)$.
    As proven in \Cref{lem:block_disk_restricted}, the disk $\bdisk{S_{t,1}^x}$ intersects with link disks $\ldisk{S^x_{c,1}}$, $\ldisk{S^x_{c,2}}$ and $\ldisk{S^x_{c,3}}$ when moved to a point $p \in \R'$ (see \Cref{fig:feasible_areas_blocked_1}).
    Suppose that $\bdisk{S_{t,1}^x}$ is actually moved to a point $p \in \R'$.
    We show the statement in the same fashion as in \Cref{lem:block_disk_restricted} using rectangles $\R^1,\R^2,\R^3$ containing $\F_{\ldisk{S^x_{c,1}}}$, $\F_{\ldisk{S^x_{c,2}}}$ and $\F_{\ldisk{S^x_{c,3}}}$, respectively.
    
    We start by defining $\R^1$ (see \Cref{fig:feasible_areas_blocked_2}).
    Let $q$ be a point such that $q \in \F_{\ldisk{S^x_{c,1}}}$.
    We have $q_y \le 1$ since $r(\A_{\ldisk{S^x_{c,1}}}) = 1/4$ and $c(\ldisk{S^x_{c,1}}) = (-4,3/4)$.
    The farthest point in $\R'$ from $c(\ldisk{S^x_{c,1}})$ is the bottom right corner $(-4+1/50,-1/100)$.
    We show a lower bound for $q_y$ assuming that $p = (-4+1/50,-1/100)$.
    Let $q'$ be the point with the lowest $y$-axis coordinate value that is in $\F_{\ldisk{S^x_{c,1}}}$. 
    The values of $q'$ are given by the intersection of the boundaries of $\B_{\bdisk{S_{t,1}^x}}$ and $\B_{\hdisk{(-5,1)}}$ (or $\B_{\hdisk{(-3,1)}}$).
    %, where $\bdisk{S_{t,1}^x} \in \mstate$ and $\hdisk{(-5,1)} \in \istate$.
    It can be checked that $q'_y$ approximately equals $0.9893$. Thus, we reasonably set the lower bound of $q_y$ to $1-1/50$.
    % sqrt((x+5)^2 + (y-1)^2) = 63/64
    % sqrt((x-(-4+1/50))^2 + (y-(-1/100))^2) = 1
    Given that $1-1/50 \le q_y\le 1$, the range of $q_x$ is given by the intersection of boundaries of blocked zones $\B_{\hdisk{(-5,1)}}$ and $\B_{\hdisk{(-3,1)}}$ with the boundary of $\B_{\bdisk{S_{t,1}^x}}$.
    % sqrt((-5-(x))^2+(1-(1-1/50))^2)=63/64 for (-5,1)
    % sqrt((-3-(x))^2+(1-(1-1/50))^2)=63/64 for (-3,1)
    It can be checked that $q_x$ has a value $-4\pm 0.015\dots$, thus we reasonably set the bound for $q_x$ to $-4 - 1/50 \le q_x \le -4+1/50$.

    We have the points that define $\R^1$. 
    Now we use $\R^1$ and show that if $\ldisk{S^x_{c,1}}$ is moved to any point $q\in \R^1$, then $\bdisk{S^x_{c,1}}$ must be moved to a point $p^1 \in \F_{\bdisk{S^x_{c,1}}}$ that makes $\F_{D_{c_1}} = \emptyset$.
    When $\ldisk{S^x_{c,1}}$ is moved to $q$, $\ismoved{\ldisk{S^x_{c,1}}} = 1$ and $r(\B_{\ldisk{S^x_{c,1}}}) =1$. 
    So the point $p^1$ must satisfy $\lVert p^1,q\rVert_\alpha \ge 1$.
    Moreover, $\B_{\ldisk{S^x_{c,1}}}$ intersects $\A_{\bdisk{S^x_{c,1}}}$, thus the lowest possible values for $p^1_y$ are given by the intersection of $\B_{\ldisk{S^x_{c,1}}}$ and $\B_{\hdisk{(-5,2)}}$ when $q = (-4+1/50,1-1/50)$ and the intersection of $\B_{\ldisk{S^x_{c,1}}}$ and $\B_{\hdisk{(-3,2)}}$ when $q = (-4-1/50,1-1/50)$.
    % c(\bdisk{S^x_{c,1}}) = (-4,2+1/4)
    % for (-4+1/50,1-1/50) → x≈-4.01584 ∧ y≈1.97936
    %   sqrt((x-(-4+1/50))^2+(y-(1-1/50))^2) = 1
    %   sqrt((x-(-5))^2+(y-(2))^2) = 63/64
    % for (-4-1/50,1-1/50) → x≈-3.98416 ∧ y≈1.97936
    %   sqrt((x-(-4-1/50))^2+(y-(1-1/50))^2) = 1
    %   sqrt((x-(-3))^2+(y-(2))^2) = 63/64
    In particular, $p^1_y \ge 1.979\ldots > 2-3/100$.
    The $x$-axis values of the points on the boundary of $\B_{\hdisk{(-5,2)}}$ and $\B_{\hdisk{(-3,2)}}$ for which $y = 2-3/100$ are $-4- 0.0161\ldots$ and $-4+0.0161\ldots$, which are bounded by $-4- 1/50$ and $-4+ 1/50$, respectively.
    % for (-5,2) → x≈-4.0161
    %   sqrt((x-(-5))^2+(2-3/100-(2))^2) = 63/64
    % for (-3,2) → x≈-3.9839
    %   sqrt((x-(-3))^2+(2-3/100-(2))^2) = 63/64
    These two points are the farthest point from $s^x_{c,1}$ for which $\bdisk{S^x_{c,1}}$ can be relocated.
    \Cref{fig:feasible_areas_blocked_3} illustrates the range of values for $p^1$.
    Before moving $\bdisk{S^x_{c,1}}$, the closest points in $\F_{D_{c_1}}$ to $D_{c_1}$ are the intersection points of $\B_{\hdisk{(-5,3)}}$ and $\B_{\hdisk{(-3,3)}}$ with $\B_{\hdisk{(-4,4-1/4)}}$. 
    In particular, these points are $(-4.04\ldots,2.76\ldots)$ and $(-3.95\ldots,2.76\ldots)$.
    We reasonably round these points to $(-4.05,2.77)$ and $(-3.95,2.77)$, respectively.
    % (-5,3) and (-4,4-1/4) → x≈-4.0437 ∧ y≈2.7666
    %   sqrt((x-(-5))^2+(y-(3))^2) = 63/64
    %   sqrt((x-(-4))^2+(y-(4-1/4))^2) = 63/64
    % (-3,3) and (-4,4-1/4) → x≈-3.9563 ∧ y≈2.7666
    %   sqrt((x-(-3))^2+(y-(3))^2) = 63/64
    %   sqrt((x-(-4))^2+(y-(4-1/4))^2) = 63/64
    When $\bdisk{S^x_{c,1}}$ is moved to $(-4\pm 1/50, 2-3/100)$, 
    $\ismoved{\bdisk{S^x_{c,1}}} = 1$ and thus $r(\B_{\bdisk{S^x_{c,1}}}) = 1$. 
    It can be checked that both $(-4.05,2.77)$ and $(-3.95,2.77)$ are contained in $\B_{\bdisk{S^x_{c,1}}}$.
    % sqrt((-4-1/50-(-4.05))^2+(2-3/100-(2.77))^2) = 0.8005623023850175
    % sqrt((-4-1/50-(-3.95))^2+(2-3/100-(2.77))^2) = 0.8030566605
    % sqrt((-4+1/50-(-4.05))^2+(2-3/100-(2.77))^2) = 0.8030566605165542
    % sqrt((-4+1/50-(-3.95))^2+(2-3/100-(2.77))^2) = 0.8005623024
    See \Cref{fig:feasible_areas_blocked_3} for the case when $\bdisk{S^x_{c,1}}$ is moved to $(-4+ 1/50, 2-3/100)$ and \Cref{fig:feasible_areas_blocked_4} to see that the points defined are contained in $\B_{\bdisk{S^x_{c,1}}}$.
    Moreover, both points are the farthest points to $c(\bdisk{S^x_{c,1}})$ in $\F_{D_{c_1}}$ before moving $\bdisk{S^x_{c,1}}$. 
    Consequently, we conclude that $\F_{D_{c_1}} = \emptyset$.
    The proof is analogous for $\R^2$ and $\R^3$ by rotating the given coordinates by $\pi/2$ and $\pi$ degrees, respectively.
    We started by moving $\bdisk{S_{t,1}^x}$ to a point $p \in \R'$, which is given by moving $S_x$ to $\F_{S_x}^{(1)}$ by \Cref{lem:block_disk_restricted}.
    Therefore, if $S_x$ is moved to $\F_{S_x}^{(1)}$, then $\F_{D_{c_i}} = \emptyset$ for $i \in \set{1,2,3}$.
\end{proof}

\begin{figure}[!htb]
    \centering
    \includegraphics[scale=1,page=18]{media/disk_edgeless.pdf}
    %\includesvg[width=0.75\textwidth]{media/feasible_areas_blocked_1.svg}
    \caption{The disk $\bdisk{S_{t,1}^x}$ is moved to the point $p= (-4+1/50,-1/100) \in \R'$.}
    \label{fig:feasible_areas_blocked_1}
\end{figure}
\begin{figure}[!htb]
    \centering
    \includegraphics[scale=1,page=19]{media/disk_edgeless.pdf}
    %\includesvg[width=0.75\textwidth]{media/feasible_areas_blocked_2.svg}
    \caption{The disk $\ldisk{S_{c,1}^x}$ is moved to the point $(-4-1/50,1-1/50)$ contained in the rectangle $\R^1$ defined by points $(x,y)$ such that $-4-1/50 \le x \le -4+1/50$ and $1-1/50 \le y \le 1$.}
    \label{fig:feasible_areas_blocked_2}
\end{figure}
\begin{figure}[!htb]
    \centering
    \includegraphics[scale=1,page=20]{media/disk_edgeless.pdf}
    %\includesvg[width=0.75\textwidth]{media/feasible_areas_blocked_3.svg}
    \caption{Lowest value for $p_y^1$ and range of values for $p_x^1$ assuming that $\ldisk{S_{c,1}^x}$ was moved to the point $(-4-1/50,1-1/50)$. The disk $\bdisk{S^x_{c,1}}$ is moved to the point $(-4+1/50,2-3/100)$.}
    \label{fig:feasible_areas_blocked_3}
\end{figure}
\begin{figure}[!htb]
    \centering
    \includegraphics[scale=1,page=21]{media/disk_edgeless.pdf}
    %\includesvg[width=0.75\textwidth]{media/feasible_areas_blocked_4.svg}
    \caption{The closest points to $D_{c_1}$ in $\F_{D_{c_1}}$ before moving $\bdisk{S_{c,1}^x}$. When $\bdisk{S_{c,1}^x}$ is moved to the point $(-4\pm 1/50, 2-3/100)$, both points are contained in $\B_{\bdisk{S_{c,1}^x}}$ and $\F_{D_{c_1}}$ becomes $\emptyset$.}
    \label{fig:feasible_areas_blocked_4}
\end{figure}    



Lastly, we show that if $S_x$ is moved to $\F_{S_x}^{(2)}$ (resp. $\F_{S_x}^{(1)}$), then there exist three spaces for moving $D_{c_i}$ to the true side for $i\in \set{1,2,3}$ (resp. the false side for $i\in \set{4,5,6}$).
\begin{mlemmarep}\label{lem:feasible_areas_available}
    If $S_x$ is moved to $\F_{S_x}^{(2)}$, then $\F_{D_{c_i}} \neq \emptyset$ for $i \in \set{1,2,3}$.
    Moreover, $\F_{\bdisk{S}^x_{t,1}} \neq \emptyset$.
\end{mlemmarep}

\begin{proof}
    Let $\G_{x}$ be the variable gadget of an arbitrary variable $x$.
    We show that the disks in $\G_{x}$ can be moved such that $\F_{D_{c_i}} \neq \emptyset$ for $i \in \set{1,2,3}$.
    Recall that the disks $H_1^{(1)},\ldots,H_5^{(1)}$ are the five $6$-heavy disks surrounding $\S^x_{t,1}$.
    First, we have $\S^x_{t,1} \setminus \cup_{j=1}^5 \B_{H_j^{(1)}} \neq \emptyset$ since $S_x$ was moved to $\F_{S_x}^{(2)}$.
    Moreover, $d_{\bdisk{S^x_{t,1}}}(s^x_{t,1}) = K$ holds, thus we move $\bdisk{S^x_{t,1}}$ to $s^x_{t,1}$.
    This implies $\F_{\bdisk{S}^x_{t,1}} \neq \emptyset$.
    The intersection between $\bdisk{S^x_{t,1}}$ and disks $\ldisk{S^x_{c,1}},\ldisk{S^x_{c,3}}$ is removed, so these disks can remain unmoved as well as $\ldisk{S^x_{c,2}}$.
    Notice that $s^x_{c,i}\notin \B_{\bdisk{S^x_{c,i}}}$ holds for $i\in \set{1,2,3}$.
    Moreover, $s^x_{c,i}$ is not contained in the zones blocked by heavy disks surrounding $\S^x_{c,i}$ by \Cref{obs:vertical_condition,obs:horizontal_condition}.
    We also know that $s^x_{c,i} \in \F_{D_{c_i}}$ since $d_{D_{c_i}}(s^x_{c,i}) \le K$.
    Therefore $\F_{D_{c_i}} \neq \emptyset$ for $i \in \set{1,2,3}$.
\end{proof}

\subsubsection{Clause Components}
%%DEFINITIONS
\Cref{lem:cg_two_subsets,lem:tc_three_subsets,lem:block_disk_restricted,lem:feasible_areas_blocked} ensure that any undesired movement of the disks does not significantly alter the correctness of the reduction, whereas \Cref{lem:feasible_areas_available} provides a valid way to move the disks into the free slots of the variable gadget.
We are now ready to introduce the \emph{clause component} and show how the gadgets are connected to each other.

A \emph{clause component} $\G^c_{i,j,k} \subseteq \cstate$ is a collection of disks that represent the clause gadget $\G_c$ for a clause $c$ formed by variables $x_i,x_j,x_k$ connected to three variable gadgets $\G_{x_i},\G_{x_j},\G_{x_k}$ by consecutive cell gadgets.
As we mentioned earlier, the gadgets are connected by using arms, as depicted in \Cref{fig:variable_gadget}.
Arms are also formed by consecutive cell gadgets, but there exist cells that do not follow this definition.
We call these cells \emph{irregular cell gadgets} and their holes \emph{irregular interior holes}.
\Cref{fig:irreg_interior_holes} shows the three irregular cell gadgets present in the arms with their interior holes.


%%%---fig:irreg_interior_holes
\begin{figure}[!htb]
    \centering
    \includegraphics[scale=1,page=30]{media/disk_edgeless.pdf}
    \caption{Top: Irregular cell gadgets of arms; Bottom: Irregular interior holes of their respective cell gadget. The marked points are the farthest pair of points for each interior hole.}
    \label{fig:irreg_interior_holes}
\end{figure}

We show that \Cref{lem:cg_two_subsets} can be extended to irregular cell gadgets.
%OBS 

%%PROPERTIES
\begin{mlemmarep}\label{lem:irreg_holes_one_disk}
    The interior hole $\H_{(x,y)}$ of an arbitrary irregular cell gadget $\G_{(x,y)}$ of an arm admits exactly one disk centred within it.
\end{mlemmarep}
\begin{proof}
    We prove the statement for each irregular cell gadget.
    Let $\G_{(x,y)}$ be the irregular cell gadget in \Cref{fig:irreg_interior_holes}(a).
    The disks $H_1,\ldots,H_6$ surrounding $D$ are $6$-heavy disks such that $c(H_1) = (x-1/2,y+1)$, $c(H_2) = (x+1/2,y+1)$, $c(H_3) = (x+1,y)$, $c(H_4) = (x+1/2,y-1)$, $c(H_5) = (x-1/2,y-1)$ and $c(H_6) = (x-1,y)$.
    Let $\S$ be the convex polygon containing $\H_{(x,y)}$ defined by the intersection points of the boundaries of the blocked zones contained in $\H_{(x,y)}$.
    We check that $\S$ satisfies $\diam{S} < 1$.
    To aim for simplicity, we only give the farthest pair of points of $\S$.
    The coordinates of the cell gadget can be checked in \Cref{apx:coordinates}.
    Let $p,p' \in \H_{(x,y)}$ be the intersection points of boundaries of $(\B_{H_1},\B_{H_2})$ and $(\B_{H_4},\B_{H_5})$, respectively.
    It can be checked that the farthest pair of points of $\S$ is $p$ and $p'$, for which $\lVert p,p'\rVert_2$ equals $0.304\ldots < 0.31$.
    % for H1 - H2 x = 0 ∧ y≈0.152065
    %   sqrt( ( (x) - (-1/2) )^2 + ( (y) - (1) )^2) = 63/64
    %   sqrt( ( (x) - (1/2) )^2 + ( (y) - (1) )^2) = 63/64
    %for H4 - H5 x = 0 ∧ y≈-0.152065
    %   sqrt( ( (x) - (1/2) )^2 + ( (y) - (-1) )^2) = 63/64
    %   sqrt( ( (x) - (-1/2) )^2 + ( (y) - (-1) )^2) = 63/64
    % distance between (0,0.152065) and (0,-0.152065) = 0.30413
    That is, $\diam{\S} < 1$.
    By \Cref{obs:convex_polygon_one_disk}, $\S$ admits exactly one disk centred within it.
    Consequently, $\H_{(x,y)}$ also admits exactly one disk centred within it, since $\H_{(x,y)} = \S \setminus (\B_{H_1} \cup \cdots \cup \B_{H_6})$.
    
    Let $\G_{(x,y)}$ be the irregular cell gadget in \Cref{fig:irreg_interior_holes}(b) and $\S$ the convex polygon for $\H_{(x,y)}$.
    Let $p,p' \in \H_{(x,y)}$ be the intersection points of boundaries of $(\B_{H_2},\B_{H_4})$ and $(\B_{H_6},\B_{H_8})$, respectively.
    It can be checked that the farthest pair of points of $\S$ is $p$ and $p'$, for which $\lVert p,p'\rVert_2$ equals $0.101\ldots < 0.11$.
    % for H2 - H4 x≈0.267028 ∧ y≈0.0525348  at origin
    %   sqrt( ( (x) - (0) )^2 + ( (y) - (1) )^2) = 63/64
    %   sqrt( ( (x) - (1+1/4) )^2 + ( (y) - (0) )^2) = 63/64
    %for H6 - H8 x≈0.233405 ∧ y≈-0.0436965 at origin
    %   sqrt( ( (x) - (0) )^2 + ( (y) - (-1) )^2) = 63/64
    %   sqrt( ( (x) - (-3/4) )^2 + ( (y) - (0) )^2) = 63/64
    % distance between (0.267028,0.0525348) and (0.233405,-0.0436965) = 0.101936
    Hence, $\S$ admits exactly one disk centred within it by \Cref{obs:convex_polygon_one_disk}.
    Consequently, $\H_{(x,y)}$ also admits exactly one disk centred within it.

    Lastly, $\G_{(x,y)}$ be the irregular cell gadget in \Cref{fig:irreg_interior_holes}(c) and $\S$ the convex polygon for $\H_{(x,y)}$.
    Let $p,p' \in \H_{(x,y)}$ be the intersection points of boundaries of $(\B_{H_3},\B_{H_{4}})$ and $(\B_{H_6},\B_{H_8)}$, respectively.
    It can be checked that the farthest pair of points of $\S$ is $p$ and $p'$, for which $\lVert p,p'\rVert_2$ equals $0.562\ldots < 0.57$.
    % for H3 - H4 x≈0.525296 ∧ y≈0.137648  at origin
    %   sqrt( ( (x) - (1) )^2 + ( (y) - (1) )^2) = 63/64
    %   sqrt( ( (x) - (3/2) )^2 + ( (y) - (0) )^2) = 63/64
    %for H6 - H8 x≈-0.015751 ∧ y≈-0.015751 at origin
    %   sqrt( ( (x) - (0) )^2 + ( (y) - (-1) )^2) = 63/64
    %   sqrt( ( (x) - (-1) )^2 + ( (y) - (0) )^2) = 63/64
    % distance between (0.525296,0.137648) and (-0.015751,-0.015751) = 0.562373
    Hence, $\S$ admits exactly one disk centred within it by \Cref{obs:convex_polygon_one_disk}.
    Consequently, $\H_{(x,y)}$ also admits exactly one disk centred within it.

    Notice that the irregular cell gadgets in \Cref{fig:interior_holes} are present in the arm for $D_{c_3}$ (see \Cref{fig:variable_gadget}).
    The rest arms contains the gadget of \Cref{fig:interior_holes}(b) rotated.
    Therefore, all irregular gadgets admits one centre of disk within them.
\end{proof}

Observe that even if a cell gadget is irregular, the interior holes can be used as for normal cell gadgets.
This allows us to define \Cref{cor:cg_two_subsets}, which is a slight extension of \Cref{lem:cg_two_subsets} to characterise irregular cell gadgets.

\begin{corollary}\label{cor:cg_two_subsets}
    Let $\G_{(x,y)}$ and $\G_{(x',y')}$ be two (possibly irregular) cell gadgets with transition disks $D$ and $D'$, respectively.
    If $D$ and $D'$ are consecutive, then the feasible area $\F_{D}$ is equal to $(A_D \cap \H_{(x,y)}) \cup (A_{D} \cap \H_{(x',y')})$.
    Moreover, $A_D \cap \H_{(x,y)}$ and $A_{D'} \cap \H_{(x',y')}$ are non-empty and disjoint.
\end{corollary}

For any variable $x \in \set{x_i,x_j,x_k}$, when $x$ appears as a positive (negative) literal in $c$, $\G_{x}$ is connected to the true (false) side of $\G_c$.
\Cref{fig:component}(c) shows an example of a clause gadget for clause $c = (\overline{x_1} \lor x_2 \lor x_3)$.

%%%---fig:component
\begin{figure}[!htb]
    \centering
    \includegraphics[scale=1,page=24]{media/disk_edgeless.pdf}
    %\includesvg[width=0.95\textwidth]{media/clause_component.svg}
    \caption{Example of a clause component for clause $c = (\overline{x_1} \lor x_2 \lor x_3)$.}
    \label{fig:component}
\end{figure}

We say \emph{removing the intersection of} $\G^c_{i,j,k}$ to refer to moving the intersection disk of $\G_c$ so that a free slot of $\G_x$ for $x\in \set{x_i,x_j,x_k}$ is occupied, under the condition that the minimum maximum moving distance is $K$.
Removing the intersection of $\G_c$ using a free slot of $\G_x$ is equivalent to assigning a truth value to $x$ that satisfies $c$.
\Cref{lem:clause_satisfiable_md_k} formalises the idea of removing an intersection.

\begin{mlemmarep}\label{lem:clause_satisfiable_md_k}
    Given an arbitrary clause $c$ and its clause component $\G^c_{i,j,k} \subseteq \istate$, $c$ is satisfiable if and only if removing the intersection of $\G^c_{i,j,k}$ can be done with minimum maximum moving distance $K$ for the $L_1$ and $L_2$ distances.
\end{mlemmarep}

\begin{proof}
    Without loss of generality, suppose that $x_i$ appears as a positive literal in $c$ and $c$ is satisfied by $x_i$.
    We show that $\mstatefinal{\G^c_{i,j,k}}$ without intersections can be obtained by moving disks with minimum maximum moving distance $K$.
    Let $\{D_1,\ldots,D_k\}$ be the collection of consecutive transition disks that connect $\G_c$ and $\G_{x_i}$ such that $D_1 = T_c$ and $D_k = D_{c_1}$.
    Since $x_i$ satisfies $c$ when assigned to true, $S_{x_i}$ is moved to $\F_{S_x}^{(2)}$.
    By \Cref{lem:feasible_areas_available}, we have $\F_{D_{c_1}}\neq \emptyset$.
    Thus, we move $D_k$ to $s^{x_i}_{c,1}$ with moving distance $K$.
    Since $\H_{c(D_k)} \setminus \B_{D_k} = \H_{c(D_k)}$,
    %Since there is no disk at the previous position of $D_k$, 
    $D_{k-1}$ is moved to $c(D_k)$ with moving distance $K$.
    This procedure is repeated until $D_1 = T_c$ is moved to the previous position of $D_2$, which is a consecutive transition disk to $T_c$ in the clause gadget.
    \Cref{cor:cg_two_subsets} and \Cref{lem:tc_three_subsets} ensure that the procedure can be performed.
    Moreover, the procedure meets the conditions of \Cref{lem:holes_one_disk,lem:irreg_holes_one_disk}.
    The disks left in $\G^c_{i,j,k}$ are moved to their centres and consequently $\mstatefinal{\G^c_{i,j,k}}$ does not contain intersections.
    Therefore removing the intersection of $\G_c$ can be done with minimum maximum moving distance $K$.

    In the other direction, assume that removing the intersection of $\G^c_{i,j,k}$ can be done with minimum maximum moving distance of $K$.
    We show that the removal is equal to an assignment of variables that satisfies $c$.
    By \Cref{lem:tc_three_subsets}, $T_c$ must be moved to one of the three positions of its consecutive transition disks in $\G_c$.
    Without loss of generality, suppose that it was moved to the arm connected to the true side of $\G_{x_i}$ through a set $\{D_1,\ldots,D_k\}$ of consecutive transition disks as described before.
    Now $\movedpos{T_c} \in \H_{c(D_2)}$ holds, so $D_2$ must be moved outside $\H_{c(D_2)}$.
    By \Cref{lem:cg_two_subsets}, $\F_{D_2}$ is only the non-empty intersection of $\A_{D_2}$ and the interior hole $\H_{c(D_3)}$, as $\H_{c(D_2)} \setminus \B_{T_c} = \emptyset$.
    The same reasoning can be applied to disks $D_{3},\ldots,D_{k}$ by \Cref{lem:cg_two_subsets,cor:cg_two_subsets}.
    Assume that $D_k = D_{c_1}$.
    The feasible area of $D_k$ consists only of the non-empty intersection of $\A_{D_k}$ and the area of $\S^{x_i}_{c,1}$ that does not intersect blocked zones.
    Hence $D_k$ is moved to $s^{x_i}_{c,1}$.
    Since $\G_c$ is connected to the true side of $\G_{x_i}$, $S_{x_i}$ must be moved to $\F_{S_x}^{(2)}$ by \Cref{lem:feasible_areas_blocked} and $x_i$ appears as a positive literal in $c$ by the definition of clause gadgets.
    Therefore, $c$ is satisfied by an assignment of variables in which $x_i = 1$.
\end{proof}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\subsubsection{Reduction Correctness and Running Time}

We are now ready to characterise the reduction from {\pthreesat}. We first show the correctness of the reduction and then show that it can be obtained in polynomial time.

\begin{mlemmarep}\label{lem:3sat_edgeless_equiv}
    Given an instance $(\Phi,G_\Phi)$ of {\pthreesat}, the minimum maximum moving distance for satisfying $\Pi_{\texttt{edgeless}}$ in $\cstate$ is at most $K$ if and only if $\Phi$ is satisfiable.
\end{mlemmarep}

\begin{proof}
    Assume first that $\Phi$ is satisfiable by values $t_1,\ldots,t_n$ and the number of clauses is $m$.
    The collection of disks $\cstate$ can be partitioned into $m$ clause components that possibly share variable gadgets.
    By \Cref{lem:clause_satisfiable_md_k}, removing the intersections of all clause gadgets in $\cstate$ can be done with minimum maximum moving distance $K$.
    In particular, for each $t_i$, $S_{x_i}$ is moved to $\F_{S_{x_i}}^{(1)}$ if $t_i = 0$ and $\F_{S_{x_i}}^{(2)}$ otherwise.
    \Cref{lem:clause_satisfiable_md_k} ensures that by moving the truth setter disks in this way allows moving the intersection disk of the $m$ clauses to a free space of variable gadgets
    That is, it produces a $\mstatefinal{\D}$ without intersections.
    Therefore $\Pi_{\texttt{edgeless}}$ is satisfied with minimum maximum moving distance $K$.

    In the other direction, assume that $\Pi_{\texttt{edgeless}}$ is satisfied with minimum maximum moving distance $K$ in $\cstate$.
    That is, $\mstatefinal{\D}$ can be constructed by moving disks with minimum maximum moving distance $K$.
    By \Cref{lem:clause_satisfiable_md_k}, it implies that each clause is satisfied by an assignment of a variable of $\Phi$.
    Let $c,c' \in \Phi$ be two arbitrary clauses and $x$ be a variable such that $x$ appears in $c$ and $c'$.
    If $x$ appears in both variables as a positive (negative) literal, $\G_c$ and $\G_{c'}$ are connected to the true (false) side of $\G_{x}$ and \Cref{lem:feasible_areas_blocked,lem:feasible_areas_available} ensure that removing the intersection of both clause gadgets is given by the movement of $S_x$.
    Suppose instead that $x$ appears as a true literal in $c$ and as a false literal in $c'$.
    The gadgets $\G_c$ and $\G_{c'}$ are connected to the true and false side of $\G_x$, respectively.
    Again, \Cref{lem:feasible_areas_blocked,lem:feasible_areas_available} ensure that removing the intersection of $\G_{c}$ using $\G_x$ is not possible whenever the intersection of $\G_{c'}$ is removed using $\G_{x}$, or vice versa.
    By the definition of clause gadgets, it means that satisfying clauses $c$ and $c'$ by a variable $x$ such that $x$ appears as a true literal in $c$ and as a false literal in $c'$ (or the contrary) at the same time is not possible.
    That is, the side not blocked by $S_x$ decides the truth assignment of $x$.
    Consequently, the movement of the truth setter disks of the variable gadgets in $\cstate$ describes a feasible solution for satisfying $\Phi$.
    This concludes the proof.
\end{proof}

The last lemma shows that the construction of the instance can be done in polynomial time.

\begin{mlemmarep}\label{lem:reduction_poly_time}
    Given an instance $(\Phi,G_{\Phi})$ of {\pthreesat} with $n$ variables and $m$ clauses, the instance ($\cstate,K$) of {\ggedmm} can be obtained in $\poly(\eta)$ where $\eta = f(n,m)$.
\end{mlemmarep}

\begin{proof}
    By \Cref{lem:3sat_edgeless_equiv}, there exists a reduction from {\pthreesat} that converts an instance $\Phi$ to a collection of disks $\cstate$ such that $\Phi$ is satisfiable if and only if the minimum maximum moving distance for satisfying $\Pi_{\texttt{edgeless}}$ in $\cstate$ is $K$.
    Thus we only need to prove that $\cstate$ can be obtained in polynomial time from $\Phi$ and $G_{\Phi}$.
    An arbitrary $\cstate$ consists of horizontally aligned variable gadgets with clause gadgets vertically connected to them from up and down.
    The positions and connections of clause components are given by the representation of $G_{\Phi}$.
    All disks are in a unique position and do not intersect any other disk except for the $n + m$ intersection disks and the $n$ blocking disks intersecting link disks.
    We define a grid $\G$ of area $A_{\G} = W_{\G}H_{\G}$ that contains $\cstate$, where $W_{\G}$ and $H_{\G}$ denote the width and height of $\G$ expressed by number of disks, respectively. We show that $\eta = f(n,m)$ polynomially by the size of the input $n+m$.
    
    The maximum area occupied by a variable gadget is a constant value, denoted by $A_v = W_vH_v$.
    By the definition of the variable gadget, $W_v \le 35$ and $H_v \le 19$ hold.
    We add a separation of $10$ between variable gadgets. Consequently, $W_{\G} \le n(W_v+S)\le 35n\times 10$ holds. %, where the value $10$ is the separation we add between gadgets.
    %The height of the grid is limited by $m$ given that the maximum number of clause components `enclosed' by an arbitrary clause component is $m-1$.
    A clause gadget $c$ occupies an area of $A_g = W_gH_g = 9\times 6$. %, so $B$ is a constant value. 
    The number of `nested' clause components in $\G$ is limited by $m$.
    If variable gadgets are aligned at $y = 0$, we locate clause gadgets at $y=20$ for non-nested components and $y = 20+9m'$ for components enclosing $m'-1$ components, where $m' < m$.
    Consequently, $H_{\G}$ is bounded by $2(20+9m)$ and hence $A_{\G} \le 350n \times (40+18m)$.
    %In other words, $H_{\G} \le 2Bm$, where $B$ is a constant value that describes the vertical space necessary to connect the clause gadget to variables.
    This implies that the number of disks required to construct $\cstate$ is also polynomially limited by $n$ and $m$.
    That is, $\eta = f(n,m)$ describes a polynomial over $n$ and $m$.
    Therefore, $\cstate$ can be constructed in polynomial time.
\end{proof}

With \Cref{lem:reduction_poly_time}, we restate \Cref{thm:edgeless_np_hard} below to conclude this section.
We remark that the strongly \NP-hardness comes from assuming $K=1$, which implies that the distance weights used are constant values. Therefore the values of the instance can be bounded by the input size.

\edgelessNPHard*
%\begin{reptheorem}{thm:edgeless_np_hard}
%    \Paste{edgeless_np_hard}
%\end{reptheorem}

\end{toappendix}

%\begin{toappendix}
%    \input{tex/apx_misc_edg_disk}
%\end{toappendix}