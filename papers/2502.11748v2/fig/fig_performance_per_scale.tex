\begin{tikzpicture}
\begin{axis}[
    width=0.61\linewidth,
    height=0.48\linewidth,
    bar width=4pt, 
    ylabel={mAP@1k},
    xlabel={area coverage},
    ymin=0, ymax=67,
    ytick={20,40,60,80}, 
    ytick distance=5, 
    ybar=1.5,
    enlarge y limits={upper, value=0.05},
    xtick=data,
    symbolic x coords={  
        $<$7\%,
        7--14\%,
        14--27\%,
        $>$27\%,
    },
    ylabel style={yshift=-5pt},
    xlabel style={yshift=-6pt},
    xtick distance = 1,
    xticklabel style={
        font=\scriptsize,
        yshift=2pt,
        },
    yticklabel style={
        font=\scriptsize,
        xshift=2pt,
        },
    enlarge x limits=0.15, 
    nodes near coords,
    every node near coord/.append style={
        scale=.5, 
        anchor=south west, 
        xshift=-3.5pt,
        yshift=-3.5pt,
        color=black,
        rotate=45,
        font=\scriptsize, 
        /pgf/number format/.cd, 
        fixed zerofill, 
        precision=1,
    },
    legend style={
        at={(0.0,1.3)}, 
        anchor=north west, 
        legend columns=-1,  
        /tikz/every even column/.append style={column sep=0.2cm}, 
        font=\footnotesize,
        inner sep=1pt,  
        outer sep=1pt 
    },
    legend cell align={left}, 
    ymajorgrids=true,
    grid style={color=lightgray!60, dash pattern=on 2pt off 2pt},
]

\pgfplotstableread[col sep=comma]{data/performance_per_scale.csv}\loadeddata

\addplot+[ybar, color=black, fill=appleblue] table[x=domain,y=avg_ap_ames_siglip_384] {\loadeddata};
\addplot+[ybar, color=black, fill=appleteal] table[x=domain,y=avg_ap_siglip_384_proj] {\loadeddata};
\addplot+[ybar, color=black, fill=applemustard] table[x=domain,y=avg_ap_siglip_384_nw] {\loadeddata};
\addplot+[ybar, color=black, fill=applepurple] table[x=domain,y=avg_ap_siglip_384_text] {\loadeddata};
% \addplot+[ybar, color=black, fill=appleteal] table[x=domain,y=avg_ap_dinov2_vitl14] {\loadeddata};

\legend{ SigLIP$^\dagger$+AMES,  SigLIP$^\dagger$, SigLIP, SigLIP-text, DINOv2$^\dagger$}
    \end{axis}

\foreach \X/\value in {0.41/(630), 1.313/(805), 2.215/(794), 3.13/(675)} {
    \node[anchor=north, font=\scriptsize] at (\X,-0.375cm) {\scalebox{1.0}{\value}};
}
\end{tikzpicture}