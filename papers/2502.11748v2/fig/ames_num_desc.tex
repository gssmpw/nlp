\pgfplotsset{every tick label/.append style={font=\footnotesize}}
\begin{tikzpicture}
\begin{axis}[%
  width=\linewidth,
  height=0.68\linewidth,
  ylabel={mAP@1k},
  xlabel={memory per image (KB)},
  grid=both,
  grid style={color=lightgray!60, dash pattern=on 2pt off 2pt},
  xlabel style={yshift=5pt},
  ylabel style={yshift=-4pt},
  xmode=log,
  ymax=40.5,
  legend columns=3, 
  legend style={
    anchor=north east, 
    at={(1.03,0.25)}, 
    cells={anchor=west}, 
    font =\footnotesize, 
    fill opacity=1pt, 
    inner sep=1pt
    },
  ]
        \addplot[only marks, color=applepink, mark=*, mark size=2.5, opacity=1.0, mark options={draw=black, line width=0.35pt}, line width=1.2pt] coordinates {(1.0, 28.9)};


        \addplot[color=applemustard, mark=*, mark size=2.5, opacity=1.0, mark options={draw=black, line width=0.35pt}, line width=1.2pt] coordinates {
                                (1.15625,       27.86)          % 10
                                (1.3125,        29.12)          % 20
                                (1.78125,       30.71)          % 50
                                (2.5625,        31.83)          % 100
                                (4.125,         32.81)          % 200
                                (7.25,          33.50)          % 400
                                (10.375,        33.57)          % 600
        };        

        			

       \addplot[color=applepurple, mark=*, mark size=2.5, opacity=1.0, mark options={draw=black, line width=0.35pt}, line width=1.2pt] coordinates {
                                (1.15625,       29.20)          % 10
                                (1.3125,        30.97)          % 20
                                (1.78125,       33.28)          % 50
                                (2.5625,        34.68)          % 100
                                (4.125,         35.73)          % 200
                                (7.25,          36.32)          % 400
                                (10.375,        36.37)          % 600
        };

        \addplot[color=appleorange, mark=*, mark size=2.5, opacity=1.0, mark options={draw=black, line width=0.35pt}, line width=1.2pt] coordinates {
                                (1.15625,       29.54)          % 10
                                (1.3125,        31.50)          % 20
                                (1.78125,       33.86)          % 50
                                (2.5625,        35.56)          % 100
                                (4.125,         36.41)          % 200
                                (7.25,          37.06)          % 400
                                (10.375,        37.17)          % 600
        };

        \addplot[color=appleblue, mark=*, mark size=2.5, opacity=1.0, mark options={draw=black, line width=0.35pt}, line width=1.2pt] coordinates {
                                (1.15625,       29.76)          % 10
                                (1.3125,        32.03)          % 20
                                (1.78125,       34.78)          % 50
                                (2.5625,        36.47)          % 100
                                (4.125,         37.75)          % 200
                                (7.25,          38.50)          % 400
                                (10.375,        38.60)          % 600
        };

        \addplot[color=appleteal, mark=*, mark size=2.5, opacity=1.0, mark options={draw=black, line width=0.35pt}, line width=1.2pt] coordinates {
                                (1.15625,       29.70)          % 10
                                (1.3125,        32.09)          % 20
                                (1.78125,       34.90)          % 50
                                (2.5625,        36.63)          % 100
                                (4.125,         37.94)          % 200
                                (7.25,          38.72)          % 400
                                (10.375,        38.79)          % 600
        };
        
        \addlegendentry{global}
        \addlegendentry{top-100}
        \addlegendentry{top-500}
        \addlegendentry{top-1k}
        \addlegendentry{top-5k}
        \addlegendentry{top-10k}


        \node [above] at (axis cs:  1.1,29.80) {\footnotesize \textcolor{black}{10}};
        \node [above] at (axis cs:  1.3,32.2) {\footnotesize \textcolor{black}{20}};
        \node [above] at (axis cs:  1.77,35.0) {\footnotesize \textcolor{black}{50}};
        \node [above] at (axis cs:  2.56,36.7) {\footnotesize \textcolor{black}{100}};
        \node [above] at (axis cs:  4.125,38.0) {\footnotesize \textcolor{black}{200}};
        \node [above] at (axis cs:  7.25,38.8) {\footnotesize \textcolor{black}{400}};
        \node [above] at (axis cs:  10.375,38.9) {\footnotesize \textcolor{black}{600}};
        
           
    \end{axis}
\end{tikzpicture}

