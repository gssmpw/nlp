\section{\label{sec:metric}Evaluation Metrics}
As mentioned in \S\ref{sec:conversion}, Ladder Diagram (LD) can be represented as NetworkX graphs. We evaluate LD programs from two perspectives: node and edge levels and the overall graph level. To assess the accuracy of node and edge predictions, we compute the F1 score, which considers both precision and recall for the sets of nodes and edges in each ground truth and predicted graph. These metrics are defined as \textbf{Node F1} and \textbf{Edge F1}, respectively. Furthermore, to verify the correct execution of LD, we use Exact Match (EM), which strictly measures the structural accuracy by comparing the entire node and edge sets between the predicted and reference graphs. We define \textbf{Node EM} and \textbf{Edge EM} to measure the exact match between the entire sets of nodes and edges, respectively. Moreover, \textbf{Program EM} represents the overall structural alignment, which is achieved only when both node and edge sets are perfectly matched.

Let the reference graph be denoted as $G = (V, E)$ and the predicted graph be denoted as $\hat{G} = (\hat{V}, \hat{E})$. Here, comparisons between nodes and edges are evaluated by considering all required attributes (e.g., names, types) for both F1 score and exact match.

\begin{equation}
\begin{aligned}
\nonumber
\text{For nodes:} \quad & TP_N = |V \cap \hat{V}|,\quad FP_N = |\hat{V} \setminus V|,\quad FN_N = |V \setminus \hat{V}|\\[1ex]
& \text{Precision}_N = \frac{TP_N}{|\hat{V}|},\quad \text{Recall}_N = \frac{TP_N}{|V|} \quad \therefore \textbf{Node F1} = \frac{2\,TP_N}{|V| + |\hat{V}|} = \frac{2\,|V \cap \hat{V}|}{|V| + |\hat{V}|} \\[2ex]
\text{For edges:} \quad & TP_E = |E \cap \hat{E}|,\quad FP_E = |\hat{E} \setminus E|,\quad FN_E = |E \setminus \hat{E}|\\[1ex]
& \text{Precision}_E = \frac{TP_E}{|\hat{E}|},\quad \text{Recall}_E = \frac{TP_E}{|E|} \quad \therefore \textbf{Edge F1} = \frac{2\,TP_E}{|E| + |\hat{E}|} = \frac{2\,|E \cap \hat{E}|}{|E| + |\hat{E}|}
\end{aligned}
\end{equation}
The Exact Match (EM) scores are defined as follows:
\begin{equation}
\nonumber
\textbf{Node EM} = \mathbf{1}\{\hat{V} = V\}, \quad \textbf{Edge EM} = \mathbf{1}\{\hat{E} = E\}, \quad \textbf{Program EM} = \mathbf{1}\{\hat{V} = V \text{ and } \hat{E} = E\}
\end{equation}


\subsection{Examples of Metric Evaluations}
\begin{figure*}[!htbp]
    \centering
    \includegraphics[width=0.9\textwidth]{latex/figure/metric.pdf}
    \caption{Example for explaining evaluation metrics. Based on real data, but node and edge attributes have been modified due to security issues.}
    \label{fig:metric}
\end{figure*}

\begin{equation}
\nonumber
\text{Precision}_N = \frac{|V \cap \hat{V}|}{|\hat{V}|} = \frac{5}{5} = 1.0, \quad
\text{Recall}_N = \frac{|V \cap \hat{V}|}{|V|} = \frac{5}{6} = 0.833
\end{equation}
\begin{equation}
\nonumber
\therefore \textbf{Node F1} = \frac{2 \times 1.0 \times 0.833}{1.0 + 0.833} = 0.91
\end{equation}
Figure~\ref{fig:metric} is evaluated based on the above metrics. The reference graph contains 5 edges, while the predicted graph contains 4 edges, with one incorrect edge.
\begin{equation}
\nonumber
\text{Precision}_E = \frac{TP_E}{|\hat{E}|} = \frac{3}{4} = 0.75, \quad
\text{Recall}_E = \frac{TP_E}{|E|} = \frac{3}{5} = 0.6
\end{equation}
\begin{equation}
\nonumber
\therefore \textbf{Edge F1} = \frac{2 \times 0.75 \times 0.6}{0.75 + 0.6} = 0.67
\end{equation}
The predicted graph does not fully match the reference graph, so all EM scores are 0. Although the node structure is mostly correct (\( F1 = 0.91 \)), inconsistencies in the edge structure (\( F1 = 0.67 \)) prevent an exact match.