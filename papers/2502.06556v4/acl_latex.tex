% This must be in the first 5 lines to tell arXiv to use pdfLaTeX, which is strongly recommended.
\pdfoutput=1
% In particular, the hyperref package requires pdfLaTeX in order to break URLs across lines.

\documentclass[11pt]{article}

% Change "review" to "final" to generate the final (sometimes called camera-ready) version.
% Change to "preprint" to generate a non-anonymous version with page numbers.
\usepackage[preprint]{acl}

% Standard package includes
\usepackage{times}
\usepackage{latexsym}

% For proper rendering and hyphenation of words containing Latin characters (including in bib files)
\usepackage[T1]{fontenc}
% For Vietnamese characters
% \usepackage[T5]{fontenc}
% See https://www.latex-project.org/help/documentation/encguide.pdf for other character sets

% This assumes your files are encoded as UTF8
\usepackage[utf8]{inputenc}

% This is not strictly necessary, and may be commented out,
% but it will improve the layout of the manuscript,
% and will typically save some space.
\usepackage{microtype}

% This is also not strictly necessary, and may be commented out.
% However, it will improve the aesthetics of text in
% the typewriter font.
\usepackage{inconsolata}

%Including images in your LaTeX document requires adding
%additional package(s)
\usepackage{graphicx}

\usepackage{comment}

\usepackage{hyperref}
\usepackage{url}
\usepackage{multirow}
\usepackage{booktabs}
\usepackage{graphicx}
\usepackage{xspace}
\usepackage{makecell}
\usepackage{xcolor}
\usepackage{bbding}
\usepackage{makecell}
\usepackage{listings}
\definecolor{codebg}{rgb}{0.95, 0.95, 0.92}

\definecolor{deepred}{rgb}{0.698,0.133,0.133}
\definecolor{blue}{rgb}{0,0,1}

\DeclareUnicodeCharacter{FF1B}{ }
\usepackage{tikz}
\usepackage[edges]{forest}
% \usepackage{pgf-pie} 
\usepackage{pgfplots}
\usepackage{tabularx}
\usepackage{enumitem}
\usepackage{amsmath}
\usepackage[normalem]{ulem}

\newcommand{\yibo}[1]{{\color{red} [Yibo: {#1}]}}
\newcommand{\chen}[1]{\textcolor{green}{[Chen: #1]}}
\newcommand{\congying}[1]{\textcolor{blue}{[Congying: #1]}}

\newcommand{\wenting}[1]{{\color{purple} [Wenting: {#1}]}}

% customized pakcages
\usepackage[edges]{forest}
\usepackage[framemethod=tikz]{mdframed}
\usepackage{subcaption}
\definecolor{lgreen}{rgb}{0.89,0.94,0.85}
\definecolor{lred}{rgb}{0.98, 0.90, 0.84}
\definecolor{lyellow}{rgb}{1.00, 0.95, 0.80}
\definecolor{lblue}{rgb}{0.85, 0.89, 0.95}
\definecolor{hidden-draw}{RGB}{20,68,106}
\definecolor{hidden-pink}{RGB}{255,245,247}

\tikzset{%
    parent/.style =          {align=center,text width=0.7cm, rounded corners=2pt, line width=0.8mm, fill=white!0, draw=white!90},
    child/.style =           {align=center,text width=1.4cm,rounded corners=2pt, fill=blue!10,draw=blue!90,line width=0.3mm},
    % Dataset style
    T1/.style =           {align=center,text width=1.8cm,rounded corners=3pt, fill=lblue!100, draw=black,line width=0.2mm},   
    T1_end/.style =           {align=left, text width=5cm,rounded corners=5pt, fill=lblue!100,draw=blue!0,line width=0.3mm},
    T2/.style =           {align=center,text width=1.8cm,rounded corners=3pt, fill=lred!100, draw=black,line width=0.2mm},   
    T2_end/.style =           {align=left, text width=5cm,rounded corners=5pt, fill=lred!100,draw=blue!0,line width=0.3mm},
    T3/.style =           {align=center,text width=1.8cm,rounded corners=3pt, fill=lyellow!100, draw=black,line width=0.2mm},   
    T3_end/.style =           {align=left, text width=5cm,rounded corners=5pt, fill=lyellow!100,draw=blue!0,line width=0.3mm},
    T4/.style =           {align=center,text width=1.8cm,rounded corners=3pt, fill=lgreen!100, draw=black,line width=0.2mm},   
    T4_end/.style =           {align=left, text width=5cm,rounded corners=5pt, fill=lgreen!100,draw=blue!0,line width=0.3mm}
}




\mdfdefinestyle{dataset}{
	innertopmargin=0.1\baselineskip,
	innerbottommargin=0.1\baselineskip,
	roundcorner=5pt,
	nobreak,
	singleextra={%
		% \draw(P-|O)node[xshift=1em,anchor=west,fill=blue!15,draw,rounded corners=5pt]{%
		%   \promptVanillaTitle};
	},
}

\newenvironment{dataset}[1][\unskip]{
	% \bigskip
	\newcommand{\promptVanillaTitle}{Python Project Example}
        \begin{figure}[t]
        \centering
        \begin{minipage}{0.9\linewidth}
	\begin{mdframed}[style=dataset, backgroundcolor=white]\small
}{
        \includegraphics[width=\linewidth]{sections/figures/project_example.pdf}
	\end{mdframed}
        \end{minipage}
        \caption{An example of ProjectTest.}
        \label{fig: dataset}
        \vspace{-10pt}
        \end{figure}
	% \medskip
}


\mdfdefinestyle{unittest}{
	innertopmargin=1.2\baselineskip,
	innerbottommargin=0.8\baselineskip,
	roundcorner=5pt,
	nobreak,
	singleextra={%
		\draw(P-|O)node[xshift=1em,anchor=west,fill=yellow!15,draw,rounded corners=5pt]{%
		  \promptVanillaTitle};
	},
}
\newenvironment{unittest}[1][\unskip]{
	% \bigskip
	\newcommand{\promptVanillaTitle}{Unit Test Example}
        \begin{figure}[t]
	\begin{mdframed}[style=unittest, backgroundcolor=white]\small
}{
	\end{mdframed}
        \caption{An example of the generated unit tests.}
        \label{fig: unittest}
        \end{figure}
	% \medskip
}



\mdfdefinestyle{prompt}{
	innertopmargin=0.7\baselineskip,
	innerbottommargin=0.1\baselineskip,
	roundcorner=5pt,
	nobreak,
	singleextra={%
		\draw(P-|O)node[xshift=1em,anchor=west,fill=red!15,draw,rounded corners=5pt]{%
		 \scriptsize \promptVanillaTitle};
	},
}
\newenvironment{prompt}[1][\unskip]{
	% \bigskip
	\newcommand{\promptVanillaTitle}{Vanilla Prompt for Python}
        \begin{figure}[t]
        \centering
	\begin{mdframed}[style=prompt, backgroundcolor=white]\small
}{
	\end{mdframed}
        \caption{The prompt used to generate unit tests for Python projects. \textcolor{purple}{Purple indicates language-specific instruction.} \textcolor{blue}{Blue}, \textcolor{orange}{orange}, and \textcolor{red}{red} indicates instructions related to compilation rate, correctness rate, and coverage rate, respectively.}
        \label{fig: prompt}
        \vspace{-10pt}
        \end{figure}
	% \medskip
}
\newenvironment{self_fix_prompt}[1][\unskip]{
	% \bigskip
	\newcommand{\promptVanillaTitle}{Self-fixing Prompt for Python}
        \begin{figure}[t]
	\begin{mdframed}[style=prompt, backgroundcolor=white]\small
}{
	\end{mdframed}
        \caption{The prompt used for the LLM self-fixing scenario for Python projects.}
        \label{fig: self_fix_prompt}
        \vspace{-10pt}
        \end{figure}
	% \medskip
}
\newenvironment{prompt_java}[1][\unskip]{
	% \bigskip
	\newcommand{\promptVanillaTitle}{Vanilla Prompt for Java}
        \begin{figure}[t]
        \centering
	\begin{mdframed}[style=prompt, backgroundcolor=white]\small
}{
	\end{mdframed}
        \caption{The prompt used to generate unit tests for Java projects. }
        \label{fig: prompt_java}
        \vspace{-10pt}
        \end{figure}
	% \medskip
}
\newenvironment{prompt_js}[1][\unskip]{
	% \bigskip
	\newcommand{\promptVanillaTitle}{Vanilla Prompt for JavaScript}
        \begin{figure}[t]
        \centering
	\begin{mdframed}[style=prompt, backgroundcolor=white]\small
}{
	\end{mdframed}
        \caption{The prompt used to generate unit tests for JavaScript projects. }
        \label{fig: prompt_js}
        \vspace{-10pt}
        \end{figure}
	% \medskip
}

\newenvironment{prompt_comment}[1][\unskip]{
	% \bigskip
	\newcommand{\promptVanillaTitle}{Prompt for Python with Comment Sign}
        \begin{figure}[t]
        \centering
	\begin{mdframed}[style=prompt, backgroundcolor=white]\small
}{
	\end{mdframed}
        \caption{The prompt used to generate unit tests for Python projects. }
        \label{fig: prompt_comment}
        \vspace{-10pt}
        \end{figure}
	% \medskip
}

\mdfdefinestyle{errors}{
	innertopmargin=0.1\baselineskip,
	innerbottommargin=0.1\baselineskip,
	roundcorner=5pt,
	nobreak,
	singleextra={%
		% \draw(P-|O)node[xshift=1em,anchor=west,fill=yellow!15,draw,rounded corners=5pt]{%
		%   \promptVanillaTitle};
	},
}

\newenvironment{compilation_errors}[1][\unskip]{
	% \bigskip
	\newcommand{\promptVanillaTitle}{Compilation Error Example}
        \begin{figure}[t]
        \centering
        \begin{minipage}{0.9\linewidth}
	\begin{mdframed}[style=errors, backgroundcolor=white]\small
}{
        \includegraphics[width=\linewidth]{sections/figures/compilation_error.pdf}
	\end{mdframed}
        \end{minipage}
        \caption{An example of compilation error generated by GPT-4-Turbo.}
        \label{fig: compilation_errors}
        \vspace{-10pt}
        \end{figure}
	% \medskip
}



\newenvironment{cascade_errors}[1][\unskip]{
	% \bigskip
	\newcommand{\promptVanillaTitle}{Cascade Error Example}
        \begin{figure}[t]
        \centering
        \begin{minipage}{0.9\linewidth}
	\begin{mdframed}[style=errors, backgroundcolor=white]\small
}{
        \includegraphics[width=\linewidth]{sections/figures/cascade_error.pdf}
	\end{mdframed}
        \end{minipage}
        \caption{An example of cascade error generated by CodeQwen1.5-7B-Chat.}
        \label{fig: cascade_errors}
        \vspace{-10pt}
        \end{figure}
	% \medskip
}

% If the title and author information does not fit in the area allocated, uncomment the following
%
%\setlength\titlebox{<dim>}
%
% and set <dim> to something 5cm or larger.

\title{ProjectTest: A Project-level LLM Unit Test Generation Benchmark and Impact of Error Fixing Mechanisms}

% Author information can be set in various styles:
% For several authors from the same institution:
% \author{Author 1 \and ... \and Author n \\
%         Address line \\ ... \\ Address line}
% if the names do not fit well on one line use
%         Author 1 \\ {\bf Author 2} \\ ... \\ {\bf Author n} \\
% For authors from different institutions:
% \author{Author 1 \\ Address line \\  ... \\ Address line
%         \And  ... \And
%         Author n \\ Address line \\ ... \\ Address line}
% To start a separate ``row'' of authors use \AND, as in
% \author{Author 1 \\ Address line \\  ... \\ Address line
%         \AND
%         Author 2 \\ Address line \\ ... \\ Address line \And
%         Author 3 \\ Address line \\ ... \\ Address line}

% \author{Yibo Wang \\
%   University of Illinois Chicago \\
%   \texttt{ywang633@uic.edu} \\\And
%   Congying Xia \\
%   Affiliation / Address line 1 \\
%   \texttt{congyingxia3@gmail.com} \\\And
%   Wenting Zhao \\
%   Salesforce Research \\
%   \texttt{wenting.zhao@salesforce.com} \\
%   %  \\
%   %  \\
%   % \texttt{} \\\And
%   %  \\
%   %  \\
%   % \texttt{} \\\And
%   %  \\
%   %  \\
%   % \texttt{} \\\And
%   %  \\
%   %  \\
%   % \texttt{} \\\And
%   Chen Xing \\
%   Scale AI \\
%   \texttt{} \\}
\author{
    { \textbf{Yibo Wang}$^1$ \quad \textbf{Congying Xia}$^2$ \quad \textbf{Wenting Zhao}$^3$} \quad \textbf{Jiangshu Du}$^1$\thanks{Work Done Prior to Amazon}\\
    { \textbf{Chunyu Miao}$^1$ \quad \textbf{Zhongfen Deng}$^1$ \quad \textbf{Philip S. Yu}$^1$ \quad \textbf{Chen Xing}$^4$} \\
    {
    $^1$University of Illinois Chicago, 
    % $^2$ [Affiliation], 
    $^3$ Salesforce Research, 
    $^4$ Scale AI} \\
    {\texttt{\{ywang633, jdu25, cmiao8, zdeng21, psyu\}@uic.edu}}\\
    {\texttt{congyingxia3@gmail.com, wenting.zhao@salesforce.com}, chen.xing@scale.com}
    % {\texttt{\{xiang.deng, chen.xing\}@scale.com}}
}
%\author{
%  \textbf{First Author\textsuperscript{1}},
%  \textbf{Second Author\textsuperscript{1,2}},
%  \textbf{Third T. Author\textsuperscript{1}},
%  \textbf{Fourth Author\textsuperscript{1}},
%\\
%  \textbf{Fifth Author\textsuperscript{1,2}},
%  \textbf{Sixth Author\textsuperscript{1}},
%  \textbf{Seventh Author\textsuperscript{1}},
%  \textbf{Eighth Author \textsuperscript{1,2,3,4}},
%\\
%  \textbf{Ninth Author\textsuperscript{1}},
%  \textbf{Tenth Author\textsuperscript{1}},
%  \textbf{Eleventh E. Author\textsuperscript{1,2,3,4,5}},
%  \textbf{Twelfth Author\textsuperscript{1}},
%\\
%  \textbf{Thirteenth Author\textsuperscript{3}},
%  \textbf{Fourteenth F. Author\textsuperscript{2,4}},
%  \textbf{Fifteenth Author\textsuperscript{1}},
%  \textbf{Sixteenth Author\textsuperscript{1}},
%\\
%  \textbf{Seventeenth S. Author\textsuperscript{4,5}},
%  \textbf{Eighteenth Author\textsuperscript{3,4}},
%  \textbf{Nineteenth N. Author\textsuperscript{2,5}},
%  \textbf{Twentieth Author\textsuperscript{1}}
%\\
%\\
%  \textsuperscript{1}Affiliation 1,
%  \textsuperscript{2}Affiliation 2,
%  \textsuperscript{3}Affiliation 3,
%  \textsuperscript{4}Affiliation 4,
%  \textsuperscript{5}Affiliation 5
%\\
%  \small{
%    \textbf{Correspondence:} \href{mailto:email@domain}{email@domain}
%  }
%}

\begin{document}
\maketitle
\begin{abstract}
\input{sections/0_abstract}
\end{abstract}

\section{Introduction}
\input{sections/1_introduction}

\section{Related Work}
\input{sections/2_related_work}

\section{Methodology}
\input{sections/3_methodology}

\section{Experimental Settings}
\input{sections/4_experimental_settings}

\section{Experiments}
\input{sections/5_experiments}
\input{sections/5_error_analyses}

% \section{Futher Analyses}
% \input{sections/6_further_analyses}


\section{Conclusion}
\input{sections/7_conclusion}

\section*{Limitations}
\input{sections/8_limitations}

% \section*{Acknowledgments}

% \clearpage
% Bibliography entries for the entire Anthology, followed by custom entries
%\bibliography{anthology,custom}
% Custom bibliography entries only
\bibliography{custom}
\clearpage
\appendix

\input{sections/Appendix}
\end{document}
