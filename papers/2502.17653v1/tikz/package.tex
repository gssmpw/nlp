\begin{tikzpicture}[
      font=\footnotesize,
      node distance=0.3cm
    ]
%		\draw[rounded corners,thick] (0, 0) rectangle (1,3) { bla };
		\node[] (P) at (0,0)  {
      $\mathcal{E}$
    };
    \node[] (c) [below = 0.5cm of P] {
      \begin{minipage}{0.42\columnwidth}
      \begin{minted}[fontsize=\footnotesize,escapeinside=&&]{coq}
def Z:
  let z := X () + Y () in
  #put @&$\mathcal{S}$& z ;;
  z <- #get @&$\mathcal{S}$& ;;
  n <$ &$\mathbb{N}_6$& ;;
  #ret (z + n)
        \end{minted}
      \end{minipage}
    };
    \node[] (s) [above right = 0cm and 0cm of c.north west] {
      $\mathcal{S}$\mintinline{Coq}{: nat}
    };
   \draw[->] ([xshift=-2cm,yshift=-0.5cm]c.north west) --
   ([xshift=-0.2cm,yshift=-0.5cm]c.north west);
    \node[] (X) [above left = -0.5cm and 0.5cm of c.north west] {
      \begin{minipage}{0.2\columnwidth}
        \begin{minted}[fontsize=\footnotesize]{coq}
X: unit -> nat
        \end{minted}
      \end{minipage}
    };

    \draw[->] ([xshift=-2cm,yshift=0.5cm]c.south west) --
    ([xshift=-0.2cm,yshift=0.5cm]c.south west);
    \node[] (Y) [above left = 0.5cm and 0.5cm of c.south west] {
        \begin{minipage}{0.2\columnwidth}
          \begin{minted}[fontsize=\footnotesize]{coq}
Y: unit -> nat
          \end{minted}
        \end{minipage}
      };

    \draw[->] ([xshift=0.2cm]c.east) -- ([xshift=1.5cm]c.east);
    \node[] (Y) [above right = 0cm and 0.5cm of c.east] {
      \mintinline{Coq}{Z:nat}
    };


    \node[] () [left = 2.3cm of P] { Imports };
    \node[] () [right = 2.3cm of P] { Exports };

    % Package frame and stuff
    \draw[] (c.north west) -- (c.north east);
    \draw[] (c.north west) |- (s.north) -| (c.north east);
    \draw[] (s.north west) |- (P.north) -| (c.north east);
    \draw[] (c.north east) |- (c.south) -| (c.north west);

	\end{tikzpicture}
