\begin{figure}[b]
  \centering
  \resizebox{\columnwidth}{!}{%
  \begin{tikzpicture}
      \node[draw,minimum width=5.75cm,minimum height=3.5cm,rounded corners] at (2.5,0.25) {};
      \node[draw,minimum width=5cm,fill=white] (5G) at (2.5,2) {Logical 5G-TSN Bridge};

      \node[draw,fill=black!20,minimum height=0.8cm,] (dstt1) at (0,1) {DS-TT};
      \node[draw,minimum height=0.8cm] (ue1) at (0.97,1) {UE};
      \draw (-1,1) edge[thick] (dstt1);

      \node[draw,fill=black!20,minimum height=0.8cm] (dstt2) at (0,-0.9) {DS-TT};
      \node[draw,minimum height=0.8cm] (ue2) at (0.97,-0.9) {UE};
      \draw (-1,-0.9) edge[thick] (dstt2);

      \node[draw,minimum height=0.8cm] (gnb) at (2.5,0.05) {RAN};
      \node[draw,minimum height=0.8cm] (upf) at (4,0.05) {CN};
      \node[draw,fill=black!20,minimum height=0.8cm] (nwtt) at (5,0.05) {NW-TT};

      \draw (ue1) edge[thick,dashed,out=0,in=140] (gnb);
      \draw (ue2) edge[thick,dashed,out=0,in=-140] (gnb);
      \draw (gnb) edge[thick] (upf);
      \draw (nwtt) edge[thick] (6,0.05);

      \node[draw, fill=black!15, shape=cloud, aspect=1.7, inner sep=1pt, align=center] (TSN1) at (7.4,0.05) {TSN-capable\\Edge Platform};
      \node[draw, fill=black!15, shape=cloud, aspect=1.7, align=center] (TSN2) at (-2,1) {Robot\\\scriptsize(TSN System)};
      \node[draw, fill=black!15, shape=cloud, aspect=1.7, align=center] (TSN3) at (-2,-0.9) {Robot\\\scriptsize(TSN System)};

      \node[draw, align=center, fill=black!30] (CNC) at (2.5,3.25) {TSN Centralized\\Network Controller};

      \draw (CNC) edge[<->,black!50,very thick] (5G);
      \draw (CNC) edge[<->,black!50,very thick,out=0,in=110] (TSN1);
      \draw (CNC) edge[<->,black!50,very thick,out=180,in=70] (TSN2);
      \draw (CNC) edge[<->,black!50,very thick,out=180,in=70] (TSN3);
  \end{tikzpicture}
  }
  \caption{Integration of 5G and TSN, as standardized by~\cite{3gpp.23.501}.}\label{fig:5g_tsn_bridge}
\end{figure}
