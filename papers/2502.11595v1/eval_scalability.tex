% Logs are provided in scalability_results.log
\begin{figure}[b]
  \centering
  \begin{subfigure}{0.48\columnwidth}
    \centering
    \resizebox{\textwidth}{!}{%
    \begin{tikzpicture}
	  \begin{axis}[
		ybar,
		ylabel = {\# Wireless Streams},
		xlabel = {Stream Reliability $\rel{F}$ [$\unit{\percent}$]},
		xtick align=center, 
		minor y tick num = 3,
		ymajorgrids,
		xmin=0.5, xmax=4.5,
		ymax=275,
		xtick = {1,2,3,4},
		xticklabels = {\qty{90}{\percent}, \qty{99}{\percent}, \qty{99.9}{\percent}, \qty{99.99}{\percent}},
		nodes near coords,
		x=1.4cm,
		y=0.016cm,
		nodes near coords align={vertical},
		legend style={at={(0.5,1.05)}, column sep=1ex, anchor=north},
		legend columns=-1,
	    ]
	      \addplot[black!40,fill=black!40,bar width=0.5cm] coordinates {(1, 5) (2, 4) (3, 4) (4, 4)};
	      \addlegendentry{STI}
	      \addplot[black!70,fill=black!70,bar width=0.5cm] coordinates {(1, 226) (2, 180) (3, 143) (4, 143)};
	      \addlegendentry{\textbf{FIPS}}
	  \end{axis}
    \end{tikzpicture}
    }
  \end{subfigure}
  \hfill
  \begin{subfigure}{0.48\columnwidth}
    \centering
    \resizebox{\textwidth}{!}{%
    \begin{tikzpicture}
	  \begin{axis}[
		ylabel = {\# Wireless Streams},
		xlabel = {Jitter $\jitter{F}$ [$\unit{\us}$]},
		xtick align=center, 
		minor y tick num = 3,
		ymajorgrids,
		xmin=-10, xmax=110,
		ymax=275,
		y=0.016cm,
		x=0.045cm,
		legend style={at={(0.44,1.05)}, column sep=1ex, anchor=north},
		legend columns=2,
	    ]
	      \addlegendimage{empty legend}
	      \addlegendentry{\hspace*{-0.75cm}STI}
	      \addlegendimage{empty legend}
	      \addlegendentry{\hspace*{-0.75cm}\textbf{FIPS}}
	      \addplot[black!40,dashed,mark options={black!40,scale=1.2,solid},mark=*] coordinates {(1, 5) (20, 5) (40, 5) (60, 5) (80, 5) (100, 5)};
	      \addlegendentry{$\qty{90}{\percent}$}
	      \addplot[black!70,mark options={black!70,scale=1.2},mark=*] coordinates {(1, 29) (20, 63) (40, 99) (60, 136) (80, 174) (100, 227)};
	      \addlegendentry{$\qty{90}{\percent}$}
	      \addplot[black!40,dashed,mark options={black!40,solid,scale=1.75},mark=triangle*] coordinates {(1, 4) (20, 4) (40, 4) (60, 4) (80, 4) (100, 4)};
	      \addlegendentry{$\qty{99.99}{\percent}$}
	      \addplot[black!70,mark options={black!70,scale=1.75},mark=triangle*] coordinates {(1, 12) (20, 36) (40, 60) (60, 84) (80, 108) (100, 143)};
	      \addlegendentry{$\qty{99.99}{\percent}$}
	  \end{axis}
    \end{tikzpicture}
    }
  \end{subfigure}
  \caption{Scalability results for STI and FIPS. 
    The results on the left are obtained with $\jitter{F} = \qty{100}{\us}$.
  } \label{fig:scalability}
\end{figure}

