\newtheorem{theorem}{Theorem}
\newtheorem{corollary}{Corollary}
\newtheorem{lemma}{Lemma}
\newtheorem{definition}{Definition}

% Stream definitions
\newcommand{\dproc}[1]{\ensuremath{d_{proc}(#1)}}
\newcommand{\dprop}[1]{\ensuremath{d_{prop}(#1)}}
\newcommand{\dtrans}[1]{\ensuremath{d_{trans}(#1)}}
\newcommand{\drate}[1]{\ensuremath{d_{rate}(#1)}}

\newcommand{\dpdb}[1]{\ensuremath{\mathbf{d}\ifthenelse{\equal{#1}{}}{}{(#1)}}}
\newcommand{\dpdbmin}[1]{\ensuremath{\mathbf{d}^{min}\ifthenelse{\equal{#1}{}}{}{(#1)}}}
\newcommand{\dpdbmax}[1]{\ensuremath{\mathbf{d}^{max}\ifthenelse{\equal{#1}{}}{}{(#1)}}}
\newcommand{\Dpdb}[1]{\ensuremath{\mathbf{d}\ifthenelse{\equal{#1}{}}{}{\big(#1\big)}}}
\newcommand{\Dpdbmin}[1]{\ensuremath{\mathbf{d}^{min}\ifthenelse{\equal{#1}{}}{}{\big(#1\big)}}}
\newcommand{\Dpdbmax}[1]{\ensuremath{\mathbf{d}^{max}\ifthenelse{\equal{#1}{}}{}{\big(#1\big)}}}
\newcommand{\dpdbtransmin}[1]{\ensuremath{\mathbf{d}_{trans}^{min}\ifthenelse{\equal{#1}{}}{}{\big(#1\big)}}}
\newcommand{\dpdbtransmax}[1]{\ensuremath{\mathbf{d}_{trans}^{max}\ifthenelse{\equal{#1}{}}{}{\big(#1\big)}}}
\newcommand{\dpdbfull}[1]{\ensuremath{\big[\dpdbmin{#1}, \dpdbmax{#1}\big]}}

\newcommand{\Eth}[0]{\ensuremath{E_{Eth}}}
\newcommand{\ER}[0]{\ensuremath{E_{5G}}}

\newcommand{\TT}{\ensuremath{\mathcal{F}}}

\newcommand{\path}[1]{\ensuremath{#1.\textit{path}}}
\newcommand{\size}[1]{\ensuremath{#1.\textit{size}}}
\newcommand{\period}[1]{\ensuremath{#1.\textit{period}}}
\newcommand{\release}[1]{\ensuremath{#1.\textit{release}}}
\newcommand{\phase}[1]{\ensuremath{#1.\textit{phase}}}
\newcommand{\ete}[1]{\ensuremath{#1.\textit{lat}}}
\newcommand{\jitter}[1]{\ensuremath{#1.\textit{jitter}}}
\newcommand{\rel}[1]{\ensuremath{#1.rel}}
\newcommand{\initial}[1]{\ensuremath{\phi(#1)}}
\newcommand{\slack}[1]{\ensuremath{\textit{slack}(#1)}}

\renewcommand{\v}[2]{\ensuremath{v_{\scriptscriptstyle#2}^{\scriptscriptstyle #1}}}
\newcommand{\vl}[1]{\ensuremath{v_{\scriptscriptstyle#1}^{\scriptscriptstyle n(#1)}}}

\newcommand{\link}[2]{\ensuremath{[\v{#1}{#2}, \v{#1+1}{#2}]}}
\newcommand{\nlink}[2]{\ensuremath{[\v{#1+1}{#2}, \v{#1+2}{#2}]}}
\newcommand{\plink}[2]{\ensuremath{[\v{#1-1}{#2}, \v{#1}{#2}]}}
\newcommand{\slink}[2]{\ensuremath{[{\scriptscriptstyle \v{#1}{#2}, \v{#1+1}{#2}}]}}
\newcommand{\snlink}[2]{\ensuremath{[{\scriptscriptstyle \v{#1+1}{#2}, \v{#1+2}{#2}}]}}
\newcommand{\splink}[2]{\ensuremath{[{\scriptscriptstyle \v{#1-1}{#2}, \v{#1}{#2}}]}}

\newcommand{\Conf}{\ensuremath{\mathcal{C}}}
\renewcommand{\S}[1]{\ensuremath{\mathcal{S}\ifthenelse{\equal{#1}{}}{}{\big(#1\big)}}}
\newcommand{\Smin}[1]{\ensuremath{\mathcal{S}^{min}\ifthenelse{\equal{#1}{}}{}{\big(#1\big)}}}
\newcommand{\Smax}[1]{\ensuremath{\mathcal{S}^{max}\ifthenelse{\equal{#1}{}}{}{\big(#1\big)}}}
\newcommand{\R}[1]{\ensuremath{\mathcal{R}\ifthenelse{\equal{#1}{}}{}{\big(#1\big)}}}
\newcommand{\Rmin}[1]{\ensuremath{\mathcal{R}^{min}\ifthenelse{\equal{#1}{}}{}{\big(#1\big)}}}
\newcommand{\Rmax}[1]{\ensuremath{\mathcal{R}^{max}\ifthenelse{\equal{#1}{}}{}{\big(#1\big)}}}
\newcommand{\Rint}[1]{\ensuremath{\big[\Rmin{#1}, \Rmax{#1}\big]}}
\newcommand{\GCL}{\ensuremath{\mathcal{S}_{GCL}}}
\newcommand{\SE}[1]{\ensuremath{\mathcal{S}^\mathcal{E}\ifthenelse{\equal{#1}{}}{}{\big(#1\big)}}}
\newcommand{\IE}[1]{\ensuremath{B^\mathcal{E}\ifthenelse{\equal{#1}{}}{}{\big(#1\big)}}}
\newcommand{\Si}[2]{\ensuremath{\mathcal{S}_{#2}\ifthenelse{\equal{#1}{}}{}{\big(#1\big)}}}

\newcommand{\I}[1]{\ensuremath{B\ifthenelse{\equal{#1}{}}{}{\big(#1\big)}}}

\newcommand{\add}[3]{\ensuremath{\big(#1{} + #2{}\big)\big(#3\big)}}
\newcommand{\sub}[3]{\ensuremath{\big(#1{} - #2{}\big)\big(#3\big)}}

\newcommand{\Prob}{\ensuremath{\mathbb{P}}}

\newcommand{\E}{\ensuremath{\mathcal{E}}}
\newcommand{\T}[1]{\ensuremath{\mathcal{T}\ifthenelse{\equal{#1}{}}{}{\big(#1\big)}}}
\newcommand{\D}[1]{\ensuremath{\mathcal{D}\ifthenelse{\equal{#1}{}}{}{\big(#1\big)}}}

\newcommand{\G}{\ensuremath{\mathcal{G}}}
\newcommand{\C}{\ensuremath{\mathcal{C}}}
\newcommand{\V}{\ensuremath{\mathcal{V}}}
\renewcommand{\O}[2]{\ensuremath{O_{\scriptscriptstyle\hspace{-0.6mm}#2}^{\scriptscriptstyle #1}}}
\newcommand{\src}{\ensuremath{\emptyset}}
\newcommand{\sink}{\ensuremath{\ast}}

\newcommand{\DC}[2]{\ensuremath{C_{\scriptscriptstyle \hspace{-0.6mm}#2}^{\scriptscriptstyle #1}}}
\newcommand{\DD}[2]{\ensuremath{D_{\scriptscriptstyle \hspace{-0.6mm}#2}^{\scriptscriptstyle #1}}}

\def\displayexplan{1}
\newcommand{\estepref}[2]{$\langle#1\rangle#2$}

\newcommand{\eD}[1]{\ensuremath{\mathcal{D}^e\ifthenelse{\equal{#1}{}}{}{\big(#1\big)}}}
\newcommand{\eDtrans}[1]{\ensuremath{\mathcal{D}_{trans}^e\ifthenelse{\equal{#1}{}}{}{\big(#1\big)}}}
\newcommand{\Dtrans}[1]{\ensuremath{\mathcal{D}_{trans}\ifthenelse{\equal{#1}{}}{}{\big(#1\big)}}}

% Shortcuts for Validity of Execution Sequence 
\newcommand{\IT}{\textsf{\small IsochronousTalker}}
\newcommand{\TC}{\textsf{\small TransmissionConsistency}}
\newcommand{\ST}{\textsf{\small SequentialTransmission}}
\newcommand{\FIFO}{\textsf{\small FIFO}}
\newcommand{\GCLC}{\textsf{\small GCL-Encapsulation}}
\newcommand{\GCLS}{\textsf{\small GCL-Progress}}
\newcommand{\PC}{\textsf{\small PolicingConsistency}}
\newcommand{\PSFP}{\textsf{\small PSFP}}
\newcommand{\TP}{\textsf{\small TransmissionPolicing}}

\newcommand{\pclink}[2]{\ensuremath{[\v{#1-1}{#2}, \v{#1}{#2}]}}
\newcommand{\clink}[2]{\ensuremath{[\v{#1}{#2}, \v{#1+1}{#2}]}}
\newcommand{\nclink}[2]{\ensuremath{[\v{#1+1}{#2}, \v{#1+2}{#2}]}}

% Adapted from ltugboat.cls
\newcommand{\thinskip}[0]{\hspace*{0.16667em}\relax}
\newcommand{\jrdash}[2]{\unskip #1\thinskip #2\thinskip\ignorespaces}
\newcommand{\dash}[0]{\jrdash{\nobreak}{---}}
\newcommand{\ldash}[0]{\jrdash{\empty}{\hbox{---}\nobreak}}
\newcommand{\rdash}[0]{\jrdash{\nobreak}{---}}

\def\showtodos{1}
\newcommand{\todo}[1]{\ifthenelse{\equal{\showtodos}{1}}{\textcolor{lred}{(TODO: #1)}}{\ignorespaces}}

\def\err at (#1,#2){
    \coordinate (a) at (#1,#2);
    \draw[black!80,ultra thick] ($(a) + 1/3*(-0.5,1.5)$) -- ($(a) + 1/3*(0.5,0.5)$);
    \draw[black!80,ultra thick] ($(a) + 1/3*(0.5,1.5)$) -- ($(a) + 1/3*(-0.5,0.5)$);
}

\def\intervalplt at (#1,#2,#3){
    \draw (axis cs: #1, #2) edge[very thick] (axis cs: #1, #3);
    \draw (axis cs: #1-0.2, #2) edge[very thick] (axis cs: #1+0.2, #2);
    \draw (axis cs: #1-0.2, #3) edge[very thick] (axis cs: #1+0.2, #3);
}

\pgfmathdeclarefunction{fpumod}{2}{%
    \pgfmathfloatdivide{#1}{#2}%
    \pgfmathfloatint{\pgfmathresult}%
    \pgfmathfloatmultiply{\pgfmathresult}{#2}%
    \pgfmathfloatsubtract{#1}{\pgfmathresult}%
    % replaced `0' by `5' to make it work for this problem
    \pgfmathfloatifapproxequalrel{\pgfmathresult}{#2}{\def\pgfmathresult{5}}{}%
}

\pgfdeclarepatternformonly{queue}{\pgfqpoint{-5pt}{-5pt}}{\pgfqpoint{5pt}{5pt}}{\pgfqpoint{2pt}{6.15pt}}%
{
  \pgfsetlinewidth{0.4pt}
  \pgfpathmoveto{\pgfqpoint{0pt}{0pt}}
  \pgfpathlineto{\pgfqpoint{3.1pt}{0pt}}
  \pgfpathmoveto{\pgfqpoint{0pt}{0pt}}
  \pgfusepath{stroke}
}

\definecolor{F1}{gray}{0.2}
\definecolor{F2}{gray}{0.4}
\definecolor{F3}{gray}{0.6}

\definecolor{f1}{gray}{0.4}
\definecolor{f2}{gray}{0.6}
\definecolor{f3}{gray}{0.8}

\definecolor{green}{HTML}{D5E8D4}
\definecolor{blue}{HTML}{DAE8FC}
\definecolor{test}{HTML}{D8E8E8}
\definecolor{orange}{HTML}{FFE6CC}
\definecolor{red}{HTML}{F8CECC}

\definecolor{lgreen}{HTML}{82B366}
\definecolor{lblue}{HTML}{6C8EBF}
\definecolor{lorange}{HTML}{D79B00}
\definecolor{lred}{HTML}{B85450}

\DeclareMathOperator*{\argmax}{arg\,max}
