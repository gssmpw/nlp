\begin{figure}[t]
    \centering
    \resizebox{0.975\columnwidth}{!}{%
    \begin{tikzpicture}
	\node[inner sep=1pt] (L0) at (-1.3,0) {\includegraphics[width=0.5cm]{switch.png}} [thick, clockwise from=115, sibling angle=-130] 
	      child { node[inner sep=1pt] (L1) {\includegraphics[width=0.5cm]{switch.png}} [clockwise from=155, sibling angle=-50] 
		  child { node[inner sep=1pt] (L3) {\includegraphics[width=0.5cm]{card.png}} }
		  child { node[inner sep=1pt] (L4) {\includegraphics[width=0.5cm]{card.png}} }
	      }
	      child { node[inner sep=1pt] (L2) {\includegraphics[width=0.5cm]{switch.png}} [clockwise from=155, sibling angle=-50] 
		  child { node[inner sep=1pt] (L5) {\includegraphics[width=0.5cm]{card.png}} }
		  child { node[inner sep=1pt] (L6) {\includegraphics[width=0.5cm]{card.png}} }
	      };
	\draw[thick] (L1) edge (L2);

	\node[inner sep=1pt] (DetCom) at (0,0.1) {\includegraphics[width=0.4cm]{antennatower.png}};
	\node[font=\footnotesize,black!50,align=center] at (0,0.8) {Logical\\5G Bridge};

	\node[inner sep=1pt] (R0) at (1.3,0) {\includegraphics[width=0.5cm]{switch.png}} [thick, clockwise from=65, sibling angle=130] 
	    child { node[inner sep=1pt] (R1) {\includegraphics[width=0.5cm]{switch.png}} [clockwise from=25, sibling angle=50] 
		child { node[inner sep=1pt] (R3) {\includegraphics[width=0.5cm]{switch.png}} [clockwise from=15, sibling angle=30] 
		    child { node[inner sep=1pt] (R7) {\includegraphics[width=0.5cm]{card.png}} }
		    child { node[inner sep=1pt] (R8) {\includegraphics[width=0.5cm]{card.png}} }
		}
		child { node[inner sep=1pt] (R4) {\includegraphics[width=0.5cm]{switch.png}} [clockwise from=15, sibling angle=30] 
		    child { node[inner sep=1pt] (R9) {\includegraphics[width=0.5cm]{card.png}} }
		    child { node[inner sep=1pt] (R10) {\includegraphics[width=0.5cm]{card.png}} }
		}
	    }
	    child { node[inner sep=1pt] (R2) {\includegraphics[width=0.5cm]{switch.png}} [clockwise from=25, sibling angle=50] 
		child { node[inner sep=1pt] (R5) {\includegraphics[width=0.5cm]{switch.png}} [clockwise from=15, sibling angle=30] 
		    child { node[inner sep=1pt] (R11) {\includegraphics[width=0.5cm]{card.png}} }
		    child { node[inner sep=1pt] (R12) {\includegraphics[width=0.5cm]{card.png}} }
		}
		child { node[inner sep=1pt] (R6) {\includegraphics[width=0.5cm]{switch.png}} [clockwise from=15, sibling angle=30] 
		    child { node[inner sep=1pt] (R13) {\includegraphics[width=0.5cm]{card.png}} }
		    child { node[inner sep=1pt] (R14) {\includegraphics[width=0.5cm]{card.png}} }
		}
	    };
	\draw[thick] (R1) edge (R2);

	\draw[thick] (L0) edge (L0-|DetCom.west);
	\draw[thick] (R0) edge (R0-|DetCom.east);
	\node[font=\small,black!50] (AGV) at (-1.5,-2.1) {AGV};
	\node[font=\small,black!50] (Core) at (1.5,-2.4) {TSN Backbone};

	\begin{pgfonlayer}{background}
	  \node[draw, black!40, loosely dashed, rounded corners, fit={(L0) (L3) (L6) (AGV)}, inner sep=7pt] {};
	  \node[draw, black!40, loosely dashed, rounded corners, fit={(R0) (R7) (R14) (Core)}, inner sep=7pt] {};
	  \draw[black!40, fill=white] (0,0.1) ellipse (1.78cm and 1.1cm);
	\end{pgfonlayer}

	% wireless traffic
	\draw (L4) edge[-{Stealth[length=2mm]}, dashed, black!60, bend left=6mm] (L1);
	\draw (L1) edge[-{Stealth[length=2mm]}, dashed, black!60, bend left=6mm] (L0);
	\draw (L0) edge[-{Stealth[length=2mm]}, dashed, black!60, bend left=6mm] (DetCom);
	\draw (DetCom) edge[-{Stealth[length=2mm]}, dashed, black!60, bend left=6mm] (R0);
	\draw (R0) edge[-{Stealth[length=2mm]}, dashed, black!60, bend left=6mm] (R2);
	\draw (R2) edge[-{Stealth[length=2mm]}, dashed, black!60, bend left=6mm] (R5);
	\draw (R5) edge[-{Stealth[length=2mm]}, dashed, black!60, bend left=6mm] (R11);

	\draw (R8) edge[-{Stealth[length=2mm,open]}, dashed, black!60, bend left=6mm] (R3);
	\draw (R3) edge[-{Stealth[length=2mm,open]}, dashed, black!60, bend left=6mm] (R1);
	\draw (R1) edge[-{Stealth[length=2mm,open]}, dashed, black!60, bend left=6mm] (R0);
	\draw (R0) edge[-{Stealth[length=2mm,open]}, dashed, black!60, bend left=6mm, in=150, out=30] (DetCom);
	\draw (DetCom) edge[-{Stealth[length=2mm,open]}, dashed, black!60, bend left=6mm,out=30,in=150] (L0);
	\draw (L0) edge[-{Stealth[length=2mm,open]}, dashed, black!60, bend left=6mm] (L2);
	\draw (L2) edge[-{Stealth[length=2mm,open]}, dashed, black!60, bend left=6mm] (L5);

	% wireline traffic
	\draw (L4) edge[-{Stealth[length=2mm]}, black!60, bend right=6mm] (L1);
	\draw (L1) edge[-{Stealth[length=2mm]}, black!60, bend right=6mm] (L2);
	\draw (L2) edge[-{Stealth[length=2mm]}, black!60, bend right=6mm] (L5);

	\draw (R8) edge[-{Stealth[length=2mm,open]}, black!60, bend right=6mm] (R3);
	\draw (R3) edge[-{Stealth[length=2mm,open]}, black!60, bend right=6mm] (R1);
	\draw (R1) edge[-{Stealth[length=2mm,open]}, black!60, bend left=6mm] (R2);
	\draw (R2) edge[-{Stealth[length=2mm,open]}, black!60, bend right=6mm] (R5);
	\draw (R5) edge[-{Stealth[length=2mm,open]}, black!60, bend right=6mm] (R11);

	\draw (-3.7, 3) edge[-{Stealth[length=2mm,open]},black!60] (-3.2,3);
	\draw (-3, 3) edge[-{Stealth[length=2mm]},black!60] (-2.5,3);
	\node[font=\scriptsize] at (-3.1, 2.8) {wired streams};

	\draw (-1.9, 3) edge[-{Stealth[length=2mm,open]},black!60,dashed] (-1.4,3);
	\draw (-1.2, 3) edge[-{Stealth[length=2mm]},black!60,dashed] (-0.7,3);
	\node[font=\scriptsize] at (-1.3, 2.8) {wireless streams};

	\node[black!50, font=\tiny, fill=white, inner sep=1pt] at (-1.3,-0.3) {DS-TT};
	\node[black!50, font=\tiny, fill=white, inner sep=1pt] at (1.3,-0.3) {NW-TT};
    \end{tikzpicture}
    }
    \caption{Network simulating a simple industrial AGV use case.} \label{fig:eval_topology}
\end{figure}

