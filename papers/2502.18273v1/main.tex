%%%%%%%% ICML 2025 EXAMPLE LATEX SUBMISSION FILE %%%%%%%%%%%%%%%%%

\documentclass{article}

% Recommended, but optional, packages for figures and better typesetting:
\usepackage{microtype}
\usepackage{graphicx}
\usepackage{subfigure}
\usepackage{tikz}
\usetikzlibrary{arrows.meta,shapes,positioning,calc}
\usepackage{booktabs} % for professional tables
\usepackage[maxnames=1,maxbibnames=2]{biblatex}
\addbibresource{reference.bib}  
% hyperref makes hyperlinks in the resulting PDF.
% If your build breaks (sometimes temporarily if a hyperlink spans a page)
% please comment out the following usepackage line and replace
\usepackage{hyperref}


% Attempt to make hyperref and algorithmic work together better:
\newcommand{\theHalgorithm}{\arabic{algorithm}}


% For theorems and such
\usepackage{arxiv}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{amsthm}
\usepackage{multirow}
\usepackage[textwidth=0.5in]{todonotes}

% if you use cleveref..
\usepackage[capitalize,noabbrev]{cleveref}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% THEOREMS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{assumption}[theorem]{Assumption}
\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark}
\newcommand{\cmark}{\ding{51}}%
\newcommand{\xmark}{\ding{55}}
\definecolor{ForestGreen}{RGB}{5,166,88}
\definecolor{LavaRed}{RGB}{222,48,28}
\definecolor{LightGrey}{RGB}{180,180,180}
\def\jiaxian#1{\textcolor{red}{[JXG: #1]}}

% Todonotes is useful during development; simply uncomment the next line
%    and comment out the line below the next line to turn off comments
%\usepackage[disable,textsize=tiny]{todonotes}



\author{%
\bf Ru Wang {\textsuperscript{1}}
\qquad
\bf Wei Huang {\textsuperscript{2}}
\qquad
\bf Selena Song {\textsuperscript{1}}
\qquad
\bf Haoyu Zhang {\textsuperscript{1}}
\\
\bf Yusuke Iwasawa {\textsuperscript{1}}
\qquad
\bf  Yutaka Matsuo {\textsuperscript{1}}
\qquad
\bf  Jiaxian Guo {\textsuperscript{3}} \\
 \texttt{\{ru.wang,kexin.song,haoyu.zhang\}@weblab.t.u-tokyo.ac.jp} \\
\texttt{weihuang.uts@gmail.com} \\
\texttt{jeffguo@google.com}
\\
The University of Tokyo {\textsuperscript{1}} \quad RIKEN Center for Advanced Intelligence Project {\textsuperscript{2}}  \quad 
Google Research, Australia {\textsuperscript{3}} 
}


\begin{document}
% \nolinenumbers 

\title{Beyond In-Distribution Success: Scaling Curves of CoT Granularity for Language Model Generalization}

\maketitle

\input{0-abstract}


\input{1-introduction}

\input{2-related_work}
\input{3-method}

\input{4-experiments}

\input{5-conclusion}

\section*{Impact Statement}
This paper offers a novel perspective, demonstrating the indispensable role of CoT in enhancing the generalization capabilities of LMs. Through theoretical analysis and comprehensive empirical experimentation, we establish CoT as a critical enabler of robust out-of-distribution generalization. Crucially, this work provides valuable guidance for the development of effective data curation strategies, specifically for collecting data that maximizes the benefits of CoT training. This guidance is directly applicable to the industrial deployment of LMs and the fine-tuning of large models for novel tasks, offering a pathway to improve the generalization and real-world utility of these models through informed data acquisition methodologies.
% In the unusual situation where you want a paper to appear in the
% references without citing it in the main text, use \nocite

\printbibliography
%\bibliography{reference}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% APPENDIX
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newpage
\appendix
\onecolumn
\input{explain_cp}
\input{recap_condition}
\input{proof_COT_simulate_transition_solution}
\input{proof_ood}
\input{proof_drop_cot}
\input{experiment_detail}
%\onecolumn
%\section{You \emph{can} have an appendix here.}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\end{document}

