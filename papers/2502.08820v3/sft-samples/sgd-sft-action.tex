\begin{figure*}[!ht]
\begin{tcolorbox}[colback=gray!5!white,colframe=black!95!black,title=\textbf{\small{SGD Instruction Sample} | \textbf{Format:} Action Optimization}] 
\small \textcolor{darkgreen}{\textbf{Instruction:}} \\
{[BEGIN OF TASK INSTRUCTION]}\\
You are a helpful conversational assistant who can perform API function calling. \\
Your goal is to understand user queries and respond using the appropriate API functions. \\
In order to complete the user's request, you need to select a tool from the following functions and fill in the correct values for the function parameters. \\
Your specific tasks are: \\
1. Analyze the user’s query within the given dialogue context to identify their intent and relevant details. \\
2. Make a function/tool call and provide the necessary arguments to meet the request based on the user query. \\
3. Formulate a natural and coherent response, guiding the conversation towards resolving the user’s request. \\
{[END OF TASK INSTRUCTION]} \\
 \\
{[BEGIN OF AVAILABLE TOOLS]} \\
1. FindBus(from\_location, to\_location, leaving\_date) \\
2. ReserveCar(pickup\_location, pickup\_date, pickup\_time, dropoff\_date, type) \\
. \\
. \\
. \\
50. FindProvider(city, type) \\
51. GetRide(destination, number\_of\_riders, shared\_ride) \\
{[END OF AVAILABLE TOOLS]} \\
 \\
{[BEGIN OF FORMAT INSTRUCTION]} \\
The output MUST strictly adhere to the following structured text format. \\
Example Output API Call Format: \\
function\_name(argument1=value1, argument2=value2, ...) \\
{[END OF FORMAT INSTRUCTION]} \\
 \\
{[BEGIN OF CONVERSATION HISTORY]} \\
User: I'm looking for events happening in New York this weekend. \\
Thought: The user wants to find events in a specific location and timeframe.  \\
I'll need to call the FindEvents API with the appropriate category and city. \\
Action: FindEvents(category='all', city\_of\_event='New York') \\
Observation: {'events': [{'name': 'Jazz Festival', 'date': '2023-10-07', 'location': 'Central Park'}, {'name': 'Food Truck Rally', 'date': '2023-10-08', 'location': 'Union Square'}]} \\
Thought: I have the event details now. I should summarize the events for the user. \\
System: This weekend in New York, you can attend the Jazz Festival at Central Park on October 7th and the Food Truck Rally at Union Square on October 8th. Would you like more information about any of these events? \\
User: Yes, can you tell me more about the Jazz Festival? \\
Thought: I need to provide more details about the Jazz Festival. I don't need an API call for that. \\
System: The Jazz Festival in Central Park will feature various artists performing live jazz music throughout the day. It starts at 11 AM and goes until 8 PM. Would you like to know how to get tickets? \\
{[END OF CONVERSATION HISTORY]} \\
 \\
\small \textcolor{darkgreen}{\textbf{Input:}} \\
User: Yes, please tell me how to get tickets for the Jazz Festival. \\
Thought: The user is interested in purchasing tickets. I need to call the BuyEventTickets API for the Jazz Festival. \\
 \\
\small \textcolor{mypurple}{\textbf{Output:}} \\
Action: BuyEventTickets(event\_name='Jazz Festival', number\_of\_seats=2, date='2023-10-07', city\_of\_event='New York')\\
\end{tcolorbox}

\vspace{-0.25cm}
\caption{SGD fine-tuning sample example targeting function optimization.}
\label{tab:sgd-sft-action}
\end{figure*}


% "instruction": "[BEGIN OF TASK INSTRUCTION]\nYou are a helpful conversational assistant who can perform API function calling. \nYour goal is to understand user queries and respond using the appropriate API functions.\nIn order to complete the user's request, you need to select a tool from the following functions and fill in the correct values for the function parameters. \nYour specific tasks are:\n1. Analyze the user’s query within the given dialogue context to identify their intent and relevant details.\n2. Make a function/tool call and provide the necessary arguments to meet the request based on the user query.\n3. Formulate a natural and coherent response, guiding the conversation towards resolving the user’s request.\n[END OF TASK INSTRUCTION]\n\n[BEGIN OF AVAILABLE TOOLS]\n1. FindBus(from_location, to_location, leaving_date)\n2. ReserveCar(pickup_location, pickup_date, pickup_time, dropoff_date, type)\n3. PlayMovie(title)\n4. CheckBalance(account_type)\n5. SearchOnewayFlight(origin, destination, departure_date)\n6. SearchOnewayFlight(origin_city, destination_city, departure_date)\n7. FindEvents(event_type, city)\n8. GetRide(destination, number_of_seats, ride_type)\n9. BookAppointment(doctor_name, appointment_time, appointment_date)\n10. ReserveOnewayFlight(origin_city, destination_city, airlines, departure_date)\n11. SearchRoundtripFlights(origin, destination, departure_date, return_date)\n12. SearchHotel(location)\n13. SearchRoundtripFlights(origin_city, destination_city, departure_date, return_date)\n14. GetAvailableTime(event_date)\n15. FindMovies(location)\n16. FindBus(origin, destination, departure_date)\n17. FindProvider(city)\n18. BookAppointment(stylist_name, appointment_time, appointment_date)\n19. FindAttractions(location)\n20. SearchHotel(destination)\n21. BuyEventTickets(event_name, number_of_seats, date, city_of_event)\n22. GetWeather(city)\n23. GetCarsAvailable(pickup_city, pickup_date, pickup_time, dropoff_date)\n24. GetEvents(event_date)\n25. FindEvents(category, city_of_event)\n26. FindRestaurants(cuisine, city)\n27. BuyBusTicket(from_location, to_location, leaving_date, leaving_time, travelers)\n28. ReserveHotel(hotel_name, location, check_in_date, check_out_date)\n29. SearchHouse(where_to)\n30. LookupMusic()\n31. ReserveRoundtripFlights(origin_city, destination_city, airlines, departure_date, return_date, outbound_departure_time, inbound_departure_time)\n32. ReserveRestaurant(restaurant_name, city, time)\n33. TransferMoney(account_type, amount, recipient_account_name)\n34. GetEventDates(event_name, city)\n35. ReserveHotel(hotel_name, check_in_date, number_of_days, destination)\n36. ScheduleVisit(property_name, visit_date)\n37. GetTimesForMovie(movie_name, location, show_date)\n38. AddEvent(event_name, event_date, event_location, event_time)\n39. FindMovies(genre)\n40. BuyBusTicket(origin, destination, departure_date, departure_time, group_size)\n41. BuyMovieTickets(movie_name, number_of_tickets, show_date, location, show_time, show_type)\n42. PlaySong(song_name)\n43. FindApartment(area, number_of_beds)\n44. ReserveCar(pickup_location, pickup_date, pickup_time, dropoff_date, car_type)\n45. PlayMedia(song_name)\n46. LookupSong()\n47. BuyEventTickets(event_name, number_of_tickets, date, city)\n48. BookHouse(where_to, number_of_adults, check_in_date, check_out_date)\n49. BookAppointment(dentist_name, appointment_time, appointment_date)\n50. FindProvider(city, type)\n51. GetRide(destination, number_of_riders, shared_ride)\n\n[BEGIN OF FORMAT INSTRUCTION]\nThe output MUST strictly adhere to the following structured text format.\nExample Output API Call Format:\nfunction_name(argument1=value1, argument2=value2, ...)\n[END OF FORMAT INSTRUCTION]\n\n\n[BEGIN OF CONVERSATION HISTORY]\n\nUser: I'm looking for events happening in New York this weekend.  \nThought: The user wants to find events in a specific location and timeframe. I'll need to call the FindEvents API with the appropriate category and city.  \nAPI Name: FindEvents  \nAPI Input: {'category': 'all', 'city_of_event': 'New York'}  \nAPI Result: {'events': [{'name': 'Jazz Festival', 'date': '2023-10-07', 'location': 'Central Park'}, {'name': 'Food Truck Rally', 'date': '2023-10-08', 'location': 'Union Square'}]}  \nThought: I have the event details now. I should summarize the events for the user.  \nSystem: This weekend in New York, you can attend the Jazz Festival at Central Park on October 7th and the Food Truck Rally at Union Square on October 8th. Would you like more information about any of these events?  \n\nUser: Yes, can you tell me more about the Jazz Festival?  \nThought: I need to provide more details about the Jazz Festival. I don't need an API call for that.  \nSystem: The Jazz Festival in Central Park will feature various artists performing live jazz music throughout the day. It starts at 11 AM and goes until 8 PM. Would you like to know how to get tickets?  [END OF CONVERSATION HISTORY]",
%     "input": "User: Yes, please tell me how to get tickets for the Jazz Festival.\nThought: The user is interested in purchasing tickets. I need to call the BuyEventTickets API for the Jazz Festival.",
%     "output": "Action: BuyEventTickets({'event_name': 'Jazz Festival', 'number_of_seats': 2, 'date': '2023-10-07', 'city_of_event': 'New York'})"
%   },
