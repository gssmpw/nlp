\begin{table*}
\scriptsize
API-driven conversation prompt for SLURP.
\centering
\ttfamily
\begin{tabular}{p\linewidth}
\toprule
\# Role Description: \\
You are an advanced AI assistant specializing in conversational dialogues, specifically in the travel domain. You can act both as a system (providing services) and a user (interacting with the system) to assist users in completing complex tasks.  \\
Each task may involve multiple sub-tasks, such as finding restaurants, making reservations, booking hotels, and locating attractions. \\
 \\
\# Task Information: \\
- You are asked to create multi-turn dialogues between a user and a system, based on provided Input Dialogue Items. \\
- The dialogues should be converted to follow a specific Output Format, which includes reasoning on whether an API call is needed, or, if the system can respond directly. The generated dataset should be in the format as: User - Thought\_User - API - API Input Arguments - API Result - Thought\_API - System, or, User - Thought\_User - System. For each user utterance, the system must determine whether to call an API by reasoning through the context provided in "Thought\_User:". \\
- If the system decides that an API call is necessary, include "API Name:", "API Input:", and "API Result", followed by a "Thought\_API:" for API reasoning. Call the right API from \# Available Functions and provide the necessary input arguments to fulfill the user's request. If you think a function argument is not necessary, you can skip it. Don't provide unnecessary arguments and None values. \\
- If the system determines that an API call is not necessary, directly respond to the user, including "Thought\_User:" as reasoning and the provide response to the user as "System:". \\
 \\
\# Available Functions: \\
1. add\_email\_contact(email\_address, person, relation, personal\_info)
2. alarm\_query(date, time, time\_of\_day, event\_name, alarm\_type, house\_place, device\_type)
3. alarm\_remove(date, time, time\_of\_day, event\_name, alarm\_type, house\_place, device\_type)
4. alarm\_set(date, time, time\_of\_day, event\_name, alarm\_type, house\_place, device\_type)
5. add\_to\_calendar(event\_name, date, time, person, general\_frequency, relation, time\_of\_day, place\_name, meal\_type)
.\\
.\\
.\\
55. transport\_query(transport\_type, transport\_name, place\_name, date, time, time\_of\_day)
56. transport\_taxi(transport\_type, transport\_name, place\_name, date, time, time\_of\_day)
57. transport\_ticket(transport\_type, place\_name, date, time, time\_of\_day, transport\_name, transport\_descriptor)
58. transport\_traffic(place\_name, date, time, time\_of\_day)
59. weather\_query(weather\_descriptor, date, time, time\_of\_day, place\_name)
 \\
\# Output Format: \\
- If an API Call is Needed: \\
\quad	User: [User Input] \\
\quad    Thought\_User: I need to call an API. \\
\quad    API Name: [Available APIs: add\_email\_contact(), alarm\_query(), ..., weather\_query()] \\
\quad    API Input: [The input parameters for the API function] \\
 \quad   API Result: [API output] \\
 \quad   Thought\_API: [2nd thought after API Result that ensure if the information is enough before the system response] \\
\quad	System: [Your system response here] \\
 \\
- If an API Call is Not Needed: \\
\quad	User: [User Input] \\
 \quad   Thought\_User: I don't need an API and want to respond to the user. \\
 \quad   System: [Your system response here] \\
 \\
\# Objective:  \\
- Convert the reference dialogue using the provided Output Format above. Ensure that each system utterance follows logical reasoning, determining whether an API call is needed and structuring the output accordingly. \\
- If there are too many results returned by API results from database, the AI Assistant should ask the user for more constraints. \\
 \\
\# Sample Example \\
User: Add Don and Sherri to my "Meditate to Sounds of Nature" playlist.   \\
Thought\_User: The user wants to add two artists to a specific playlist. I'll need to extract the playlist name and the artists' names.   \\
API Name: AddToPlaylist   \\
API Input: {'playlist\_name': 'Meditate to Sounds of Nature', 'artists': ['Don Sherri']}   \\
API Result: {'status': 'success', 'message': 'Don and Sherri have been added to your playlist.'}   \\
Thought\_API: The API call was successful, and the artists were added to the playlist. I need to inform the user about this.   \\
System: Don and Sherri have been successfully added to your "Meditate to Sounds of Nature" playlist. Enjoy your music!   \\
 \\
\# Input Dialogue Items: \\
{'dataset\_name': 'slurp', 'dialogID': '0', 'user': '<sos\_u> event <eos\_u>', 'state': '<sos\_b> [calendar] <eos\_b>', 'intent': 'add to calendar'}\\
\bottomrule
\end{tabular}
\end{table*}