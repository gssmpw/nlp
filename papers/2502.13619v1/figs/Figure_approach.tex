\begin{figure*}[ht!]
    \centering
    \makebox[\textwidth][c]{
    \begin{tikzpicture}[->,>=stealth]
    \matrix[nodes={draw, thick, font=\footnotesize}, row sep=0.9cm,column sep=2.3cm, ampersand replacement=\&,matrix of nodes] (source) at (0,0) { %
    \node[draw] (cqa) {CQA}; \& \node[draw] (e1) {$e_s$};   \\
      \& \node[draw] (Ls) {$L_s$}; \\
        \& \node[draw] (is) {$ans_s$}; \\
    } ; %endmatrix
    \matrix[nodes={draw, thick, font=\footnotesize}, row sep=1cm,column sep=2.3cm, ampersand replacement=\&,matrix of nodes] (target) at (8,0) { %
    \node[draw] (e2) {$e_t$}; \& \node[draw] (best) {Best Formulae};   \\
    \node[draw] (Lt) {$L_t$};  \&  \node[draw] (triple) {Subgraph}; \\
    \node[draw] (it) {$ans_t$}; \&  \node[draw,text width=2.5cm, align = center] (triples) {Subgraphs};\\
    } ; %endmatrix
    
   \draw  ($(source.south east)+(0.01,-0.01)$) rectangle  ($(source.north west)+(-0.01,0.2)$);
   \draw  ($(target.south east)+(0.4,-0.01)$) rectangle  ($(target.north west)+(-0.4,0.9)$);
   \draw [dashed] ($(triple.south east)+(0.2,-0.2)$) rectangle  ($(Lt.north west)+(-0.2,0.3)$);
    \node (sl) at ($(source.north)+(0,0.5)$) {Source};
    \node (tl) at ($(target.north)+(0,1.2)$) {Target};
    \node (forall) at ($(Lt.east)!0.3!(triple.west) + (0,0.8)$) {For each subgraph \circled{6}\circled{7}};
    
    \node[draw] (corres) at ($(target.north west)!0.5!(source.north east) + (-0.3,1.4)$) {Complex correspondence};

  \path (cqa) 
    edge node [pos=0.5, above] {\circled{1} DL formula} (e1)
    edge [in=180, out=270] node [pos=0.7, above] {\circled{2} URI labels} (Ls)
    edge [in=180, out=270] node [pos=0.5, right] {\circled{3} Answers} (is)
    (is) edge [in=180, out=0] node [pos=0.4, above] {\circled{4} Match} (it)
    (it) edge [in=180, out=0] node [pos=0.5, above] {\circled{5} Subgraphs} (triples)
    (triples) edge node [pos=0.5, right] {composed of} (triple)
    (triple) edge node [pos=0.5, above] {\circled{6} Retrieve labels} (Lt)
    (Lt) edge [in=0, out=180, decorate, decoration=snake] node [pos=0.6, above] {\circled{7} Compare} (Ls)
    (forall) edge [in=270, out=0] node [pos=0.8, right] {\circled{8}} (best)
    (best) edge[loop above] node [pos=0.8,above] {\circled{9} Counter examples} (best)
    (best) edge node [pos=0.5, above,text width=2cm] {\circled{10} Filter} (e2)
    (e2) edge[in=290, out=180,] node [pos=0.8,right] {\circled{11} } (corres)
    (e1) edge[in=260, out=0,] node [pos=0.8,left] {\circled{11} } (corres) ; 
    \end{tikzpicture}
    }
    
    \caption{Schema of the general approach.}
    \label{fig:approach}
    \vspace{-0.2cm}
\end{figure*}