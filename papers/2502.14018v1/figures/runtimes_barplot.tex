\begin{figure}
    \centering
    \vspace*{0.2em}
    \resizebox{\linewidth}{!}{
\begin{tikzpicture}[inner sep=0]

% Cover tree      00:00.322  
% DC tree         00:09.076  
% k-means         00:00.022  
% Stability       00:00.002  
% MoE             00:00.001  
% Elbow           00:00.001  
% Eucl. k-means   00:03.386  
% Eucl. k-meansâ€™  00:03.521  
% Ward            00:10.309  
% OPTICS          00:33.109  
% DPC             11:42.910   702.910
% SCAR            00:02.133  

\tikzmath{
	\ymax = 4.75;
	\ydc = 2.75;
	\dcTime = 9.076; \hierTime = 0.022; \partTime = 0.001;
	\dcTotalTime = {floor((\dcTime + \hierTime + \partTime) * 1000) / 1000};
    \xscale = 0.7;
}

% grid
%\draw  (0,0) rectangle (11,5);
%\draw[help lines, color=gray!30, dashed] (0.1,0.1) grid (10.9,4.9);
\foreach \x in {0,...,4}{
    \draw [help lines, color=gray!70, dashed, opacity=0.4] ($(\xscale*\x,0)$) -- ($( \xscale*\x,\ymax)$);
}
\foreach \x in {5,...,11}{
    \draw [help lines, color=gray!70, dashed, opacity=0.4] ($(\xscale*\x,0)$) -- ($( \xscale*\x,3.25)$);
}

% x-axis
\node at ($(\xscale*5.5, -0.8)$) {Time in seconds};
\draw[->,thick] (-0.1,0)--($(\xscale*11.5,0)$);  
% x-ticks
\foreach \x in {0,1,2,...,11} {        
    \coordinate (X\x) at ($(\xscale*\x*1cm,0)$) {};
    \draw ($(X\x)+(0,3pt)$) -- ($(X\x)-(0,3pt)$);
    \node at ($(X\x)-(0,2.5ex)$) {\x};
}
\coordinate (dots) at ($(\xscale*11*1cm,0)$) {};
\node at ($(dots)+(0.43,-3ex)$) {...};



% y-axis
\draw[-,thick] (0,0)--(0,\ymax);

% y-ticks and bars for time < 11s
\foreach \y/\alg/\time in {
		5/SCAR/2.133,
		4/Eucl. $k$-means/3.386,
		3/{DC/hier./part.}/\dcTime,
		2/Ward/10.309} {
	\coordinate (Y\y) at ($(0,0.5cm+\y*0.75cm)$) {};
	\draw ($(Y\y)+(3pt,0)$) -- ($(Y\y)-(3pt,0)$);
	\node [anchor=east, align=right] at ($(Y\y)-(1ex,0)$) {\alg};

    % Bars
    \draw  [fill=blue, fill opacity=0.3, blue] ($(Y\y)-(0,0.25)$) rectangle ($(Y\y)+(\xscale*\time,0.25)$);
	\node at ($(Y\y)+(\xscale*\time/2,0)$) {$\time$\,s};
}

% y-ticks and bars for time > 11s
\foreach \y/\alg/\xend\time in {
		1/AMD-DBSCAN/10.9/37.055,
		0/DPC/11.3/702.910} {
	\coordinate (Y\y) at ($(0,0.5cm+\y*0.75cm)$) {};
	\draw ($(Y\y)+(3pt,0)$) -- ($(Y\y)-(3pt,0)$);
	\node [anchor=east, align=right] at ($(Y\y)-(1ex,0)$) {\alg};
	
	\tikzset{decoration={snake,amplitude=.6mm,segment length=0.44cm, post length=0mm,pre length=0mm}}

    % Bars
	\fill[blue, opacity=0.3] ($(Y\y)-(0,0.25)$) -- ($(Y\y)+(0,0.25)$) -- ($(Y\y)+(\xscale*\xend,0.25)$) decorate { -- ($(Y\y)+(\xscale*\xend,-0.25)$) } -- cycle;
	\draw[blue] ($(Y\y)-(0,0.25)$) -- ($(Y\y)+(0,0.25)$);
	\draw[blue] ($(Y\y)+(0,0.25)$) -- ($(Y\y)+(\xscale*\xend,0.25)$);
	\draw[blue] ($(Y\y)-(0,0.25)$) -- ($(Y\y)+(\xscale*\xend,-0.25)$);
	\node at ($(Y\y)+(\xscale*\xend/2,0)$) {$\time$\,s};
    \draw[->] ($(Y\y)+(\xscale*\xend-0.05,0)$) -- ($(Y\y)+(\xscale*\xend+0.2,0)$);
}



% DC tree/hier./part.
%\draw  [fill=blue, fill opacity=0.3, blue] (0,2.5) rectangle (9.076,3);  % DC tree
\draw  [fill=blue, fill opacity=0.3, blue] ($(\xscale*\dcTime,\ydc)-(0,0.25)$) rectangle ($(\xscale*\dcTime,\ydc)+(\xscale*\hierTime,0.25)$);  % hierarchy
\draw  [fill=blue, fill opacity=0.3, blue]  ($(\xscale*\dcTime+\hierTime,\ydc)-(0,0.25)$) rectangle  ($(\xscale*\dcTime+\xscale*\hierTime,\ydc)+(\xscale*\partTime,0.25)$);  % partition



% Algorithms
%\draw  [fill=blue, fill opacity=0.3, blue] (0,0.25) rectangle (2.133,0.75);  % SCAR
%\draw  [fill=blue, fill opacity=0.3, blue] (0,1) rectangle (3.521,1.5);  % $k$-Means
%\draw  [fill=blue, fill opacity=0.3, blue] (0,0.25) rectangle (10.309,0.75);  % WARD

% OPTICS
%\fill[blue, opacity=0.3] (0,1) -- (0,1.5) -- (10.4,1.5) decorate { -- (10.4,1) } -- cycle;
%\draw[blue] (0,1) -- (0,1.5);
%\draw[blue] (0,1.5) -- (10.4,1.5);
%\draw[blue] (0,1) -- (10.4,1);
%\node at (5.47, 1.25) {$33.109$\,s};





%%% Zoomed-in version
\begin{scope}[shift={(\xscale*5,4.6)},scale=0.95, every node/.append style={transform shape}, inner sep=6, local bounding box=zoomed_in]
\tikzmath{
	\ymax = 1.;
	\ydc = 0.5;
	\dcTime = 0; \hierTime = 5.5; \partTime = 0.25;
	%\dcTotalTime = {floor((\dcTime + \hierTime + \partTime) * 1000) / 1000};
}

% grid
%\draw  (0,0) rectangle (11,5);
%\draw[help lines, color=gray!30, dashed] (0.1,0.1) grid (10.9,4.9);
\foreach \x in {0,...,5}{
  \draw [help lines, color=gray!80, dashed, opacity=0.4] (\x,0) -- (\x,\ymax);
}

% x-axis
\node at (3, -0.8) {Time in \textcolor{black}{milli}seconds};
\draw[->,thick] (-0.1,0)--(6,0);
% x-ticks
\foreach \x in {4,8,...,22} {
  \coordinate (X\x) at ($(\x*0.25cm,0)$) {};
  \draw ($(X\x)+(0,3pt)$) -- ($(X\x)-(0,3pt)$);
  \node at ($(X\x)-(0,2.5ex)$) {+\x};
}
\coordinate (X0) at ($(0*0.25cm,0)$) {};
\draw ($(X0)+(0,3pt)$) -- ($(X0)-(0,3pt)$);
\node at ($(X0)-(0,2.5ex)$) {9076\,ms};


% y-axis
\draw[-,thick] (0,0)--(0,\ymax);

\tikzset{decoration={snake,amplitude=.4mm,segment length=0.35cm, post length=0mm,pre length=0mm}}

%\draw  [fill=blue, fill opacity=0.3, blue] (0,2.5) rectangle (9.076,3);  % DC tree
%\draw  [fill=blue, fill opacity=0.3, blue] ($(-0.3,\ydc)-(0,0.25)$) rectangle ($(0,\ydc)+(0,0.25)$);
\fill[blue, opacity=0.3] ($(0,\ydc-0.25)$) -- ($(0,\ydc+0.25)$) -- ($(-0.3,\ydc+0.25)$) decorate { -- ($(-0.3,\ydc-0.25)$) } -- cycle;
\draw[blue] ($(0,\ydc-0.25)$) -- ($(0,\ydc+0.25)$);
\draw[blue] ($(0,\ydc-0.25)$) -- ($(-0.3,\ydc-0.25)$);
\draw[blue] ($(0,\ydc+0.25)$) -- ($(-0.3,\ydc+0.25)$);

\draw  [fill=blue, fill opacity=0.3, blue] ($(\dcTime,\ydc)-(0,0.25)$) rectangle ($(\dcTime,\ydc)+(\hierTime,0.25)$);  % hierarchy
\node at ($(2.75,\ydc)$) {$22$\,ms};
\draw  [fill=blue, fill opacity=0.3, blue]  ($(\dcTime+\hierTime,\ydc)-(0,0.25)$) rectangle  ($(\dcTime+\hierTime,\ydc)+(\partTime,0.25)$);  % partition
\node at ($(5.63,\ydc)$) {$1$};

\draw[black,decorate,decoration={brace,amplitude=12pt}] (0.03,0.75) -- (5.497,0.75) node[midway, above,yshift=12pt,]{build hierarchy};
\draw[black,decorate,decoration={brace,amplitude=6pt}] (5.5,0.75) -- (5.75,0.75) node[midway, above,yshift=6pt,]{partition};

\end{scope}




% Draw Zoom Box
\draw[red, very thick, dotted, opacity=0.8] ($(\xscale*8.9,\ydc+0.36)$) rectangle ($(\xscale*9.25,\ydc-0.36)$);

% Draw connecting lines from rectangle corners to zoomed image
%\draw[red, thick, dashed, opacity=0.6] ($(8.8,\ydc+0.36)$) -- (4.5,3.48);
%\draw[red, thick, dashed, opacity=0.6] ($(9.3,\ydc+0.36)$) -- (11,3.48);
\draw[red, thick, dashed, opacity=0.6] ($(\xscale*8.8,\ydc+0.36)$) -- ($(zoomed_in.south west) - (0,0.02)$);
\draw[red, thick, dashed, opacity=0.6] ($(\xscale*9.3,\ydc+0.36)$) -- ($(zoomed_in.south east) - (0,0.03)$);

% Draw Zoomed in Box
%\draw[red, thick, opacity=0.55] (4.5,3.5) rectangle (11,5);
\draw[red, thick, opacity=0.55] ($(zoomed_in.south west)$) rectangle ($(zoomed_in.north east)$);




\end{tikzpicture}
}
    \caption{
        Runtimes of competitors and our framework's components on letterrec dataset. Computing clusterings on the dc-dist is faster than other density-based methods, but building the hierarchy and partitioning it, is still several orders of magnitude faster.
    }
    \label{fig:runtime_barplot}
\end{figure}%