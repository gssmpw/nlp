\begin{algorithm2e}[htb]
\caption{Robust Critical Points Protocol for Hypothesis Class $\calH$}
\label{alg:robust_abstract_critical_points_protocol}
\DontPrintSemicolon
\LinesNumbered


\KwIn{Subroutine for computing robust critical points (\Cref{alg:robust_critical}), Labeled points from Alice}
\KwOut{A subset of points sent to Bob}

Alice sends all points $X$ to Trent\;
Alice reports to Trent a set $X_A^+ \subseteq X$ as positive ($X_A^- = X \setminus X_A^+$ as negative)\;

% \If{Alice's report $(X_A^+, X_A^-)$ is not separable by a $\gamma$-margin linear classifier}{
%     Trent sends all points $X$ to Bob and the protocol ends\;
% }

Trent computes the critical points $C(X_A^+)$ using Algorithm~\ref{alg:robust_critical} with input $X_A^+$\;
Trent sends points $X_A^+ \cup C(X_A^+)$ to Bob\;
Bob labels the points and sends labels to Trent\;
Trent checks the agreement of reports from Alice and Bob and sends any disputed points to the court to settle\;

\If{the court disagrees with Alice's label on any disputed points}{
    Trent sends all points $X$ to Bob\;
}

\end{algorithm2e}
