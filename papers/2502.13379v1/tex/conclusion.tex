Despite the strong security protections offered by TEEs, adapting existing programs to leverage these guarantees remains challenging due to the need for extensive domain knowledge and manual intervention. The limited resources of TEEs and the complexity of identifying and transforming security-sensitive functions have hindered their broader adoption. To aid developers in more effectively leveraging TEEs, we propose an automated approach, \system. It utilizes LLMs to identify and transform sensitive functions within programs, ensuring compatibility with secure environments like Intel SGX and AMD SEV. In particular, it integrates compiler checks and consistency validation to ensure the functional consistency of the transformed code. Our evaluation demonstrated that \system achieves high success rates in porting, exceeding 90\% in Java and 83\% in Python, while maintaining consistent functionality.

Our future work for \system aims to expand its capabilities to support more programming languages and TEE platforms. Additionally, regarding the supported functions, we plan to introduce additional code that calls the leaf functions for simultaneous migration into the TEE. To enhance consistency verification, we will employ a more precise consistency validation method. For instance, we will utilize more accurate test cases instead of relying solely on input tests to improve the success rate of the transformation.
