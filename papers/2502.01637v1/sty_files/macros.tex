\usepackage{bm}

\usepackage{enumitem}
\setitemize[1]{leftmargin=*,itemsep=0pt,topsep=0pt}
\setenumerate[1]{leftmargin=*,itemsep=-3pt,topsep=-2pt}

\usepackage{xspace}

% djhsu magic
\def\ddefloop#1{\ifx\ddefloop#1\else\ddef{#1}\expandafter\ddefloop\fi}
% mathbb e.g. \R
\def\ddef#1{\expandafter\def\csname #1\endcsname{\ensuremath{\mathbb{#1}}}}
\ddefloop ABCDFGHIJKLMNOQRTUVWXYZ\ddefloop  % exceptions: E, P, S
\DeclareMathOperator*{\E}{\mathbb{E}}
% mathcal e.g. \cA
\def\ddef#1{\expandafter\def\csname c#1\endcsname{\ensuremath{\mathcal{#1}}}}
\ddefloop ABCDEFGHIJKLMNOPQRSTUVWXYZ\ddefloop  % exceptions:
% bold e.g. \bA, \bx
\def\ddef#1{\expandafter\def\csname b#1\endcsname{\ensuremath{\bm #1}}}
\ddefloop ABCDEFGHIJKLMNOPQRSTUVWXYZabcdeghijklnopqrstuvwxyz\ddefloop  % exceptions: f, m
\newcommand{\boldf}{{\bm f}}
\newcommand{\boldm}{{\bm m}}
\newcommand{\bsigma}{{\bm \sigma}}


%%% Custom Colors
\definecolor{Gred}{RGB}{219, 50, 54}
\definecolor{Ggreen}{RGB}{60, 186, 84}
\definecolor{Gblue}{RGB}{72, 133, 237}
\definecolor{Gyellow}{RGB}{247, 178, 16}
\definecolor{ToCgreen}{RGB}{0, 128, 0}
\definecolor{myGold}{RGB}{231,141,20}
\definecolor{myBlue}{rgb}{0.19,0.41,.65}
\definecolor{myPurple}{RGB}{175,0,124}

%\usepackage{xspace}

%%% ToDos
\providecommand{\Comments}{0}
\ifnum\Comments>0
    \usepackage[colorinlistoftodos,prependcaption,textsize=scriptsize]{todonotes}
    %\setlength{\marginparwidth}{4.5cm}
    \paperwidth=\dimexpr \paperwidth + 5.5cm\relax
    \oddsidemargin=\dimexpr\oddsidemargin + 3.0cm\relax
    \evensidemargin=\dimexpr\evensidemargin + 2.8cm\relax
    \marginparwidth=\dimexpr\marginparwidth + 2.2cm\relax
\else
    \usepackage[disable]{todonotes}
\fi
\newcommand{\mytodo}[1]{\ifnum\Comments<2{#1}\fi}
\newcommand{\mytodoTwo}[1]{\ifnum\Comments<3{#1}\fi}
\newcommand{\mytodoThree}[1]{\ifnum\Comments<4{#1}\fi}
\newcommand{\mynote}[1]{\mytodo{{\color{Gred}{#1}}}}
\newcommand{\todoinline}[1]{\ifnum\Comments<4\todo[inline,linecolor=Gred,backgroundcolor=Gred!25,bordercolor=Gred]{#1}\fi}
\newcommand{\badih}[1]{\todo[linecolor=Gred,backgroundcolor=Gred!25,bordercolor=Gred]{Badih: #1}}
\newcommand{\chiyuan}[1]{\todo[linecolor=Gred,backgroundcolor=Gred!25,bordercolor=Gred]{Chiyuan: #1}}
\newcommand{\yangsibo}[1]{\todo[linecolor=Gred,backgroundcolor=Gred!25,bordercolor=Gred]{Yangsibo: #1}}
\newcommand{\da}[1]{\todo[linecolor=Gblue,backgroundcolor=Gblue!40,bordercolor=Gblue]{Da: #1}}
\newcommand{\pasin}[1]{\todo[linecolor=Gblue,backgroundcolor=Gblue!40,bordercolor=Gblue]{Pasin: #1}}
\newcommand{\pritishimp}[1]{\mytodoThree{\todo[linecolor=Gred,backgroundcolor=Gred!25,bordercolor=Gred]{Pritish: #1}}}
\newcommand{\pritish}[1]{\mytodoTwo{\todo[linecolor=myGold,backgroundcolor=myGold!25,bordercolor=myGold]{Pritish: #1}}}
\newcommand{\pritishinfo}[1]{\mytodo{\todo[linecolor=Ggreen,backgroundcolor=Ggreen!25,bordercolor=Ggreen]{Pritish: #1}}}
\newcommand{\ravi}[1]{\todo[linecolor=cyan,backgroundcolor=cyan!25,bordercolor=cyan]{Ravi: #1}}
\newcommand{\change}[1]{\todo[linecolor=Gred,backgroundcolor=Gred!25,bordercolor=Gred]{#1}}
\newcommand{\tableoftodos}{\ifnum\Comments=1 \listoftodos[Comments/To Do's] \fi}
\newcommand{\edith}[1]{\todo[linecolor=myGold,backgroundcolor=myGold!25,bordercolor=myGold]{Edith: #1}}
\newcommand{\yang}[1]{\todo[linecolor=Ggreen,backgroundcolor=Ggreen!25,bordercolor=Ggreen]{Yangsibo: #1}}
\newcommand{\dg}[1]{\todo[linecolor=Ggreen,backgroundcolor=Ggreen!25,bordercolor=Ggreen]{Daogao: #1}}


% Specific macros
\newcommand{\Vtoken}{V_{\mathrm{token}}}
\newcommand{\Vfgram}{V_{\mathrm{f\text{-}gram}}}
\newcommand{\Afgram}{\cA_{\mathrm{f\text{-}gram}}}
\newcommand{\Amain}{\cA_{\mathrm{main}}}

% Colorcoding for \Afgram and \cF
\newcommand{\train}[1]{{#1}}
\newcommand{\infer}[1]{{#1}}
% \newcommand{\train}[1]{\textcolor{Gred}{#1}}
% \newcommand{\infer}[1]{\textcolor{Gblue}{#1}}