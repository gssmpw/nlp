\section{Related Work}
\label{sec:related-work}

\paragraph{Database Management Systems}

Relational database management systems go back to System R____ and Ingres____. The Volcano iterator model____ was proposed for query execution, where relational operators are organized in a tree where parents request tuples from children.  The worst-case optimal join algorithms____ showed that fusing inner joins leads to improved worst-case asymptotic complexity.

\emph{Query Compilation.}
As databases started fitting into memories and thus were no longer dominated by disk access times, researchers explored query compilation. The MonetDB system____ first demonstrated the benefits of query compilation. The HyPer system____ proposed a compilation approach using LLVM that fused pipelines (operations on a single relation) for improved temporal locality. ____ compares the performance of the query compilation approach to a vectorized Volcano model showing both have strengths and weaknesses, while ____ shows how to combine compilation with vectorization. ____ show how to design query compilers using the LMS____ compiler framework by optimizing certain code patterns. The EmptyHeaded system____ describes a compiler for the worst-case optimal join algorithm that can fuse across inner joins. Finally, ____ show how to compile the natural relational algebra (with only inner joins) on set relations with fusion and data structure portability. Our work shows how to extend natural relational algebra compilation with the large set of irregular operations supported by real-world databases---e.g., outer/left joins, non-equi joins, Cartesian products, and differences---on relations with multiset semantics, while also supporting fusion and data structure portability.

\emph{Sparse Tensor Algebra Compilation.}
Our work builds on ideas for sparse tensor algebra compilation____. Multiplications and additions in sparse tensor algebra lead to co-iteration over tensor coordinates that is similar to loops for inner and outer joins. ____ extended the TACO compilation model with support for non-linear operations, adding the ability to iterate over set complements of tensor coordinates. ____ extended TACO's coordinate tree abstraction with support for more data structures,
FiberTrees abstracts and formalizes the coordinate tree representation____, and ____ developed a stream-based model. Our work builds on these ideas, but shows generalize them to relational algebra with bag semantics that supports complex operations such as Cartesian products, the large family of join algorithms, filters, group-bys, and aggregation.