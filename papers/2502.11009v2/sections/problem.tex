\section{Inconsistency Measures under DP}\label{sec:problem}

\paratitle{Problem Setup} Consider a private dataset $D$, a set of DCs $\constraintset$, and a privacy budget $\epsilon$. For an inconsistency measure $\mathcal{I}$ from the set $\{\drastic,\mininconsistency,\problematic,\maxconsistency,\repair\}$ (\Cref{def:inconsistencymeasure}), we would like to design an $\epsilon$-DP algorithm $\mathcal{M}(D,\Sigma,\epsilon)$ such that with high probability, $|\mathcal{M}(D, \constraintset, \epsilon) - \mathcal{I}(D, \constraintset)|$ is bounded with a small error. 


\paratitle{Sensitivity Analysis} 
We first analyze the sensitivity of the five inconsistency measures and discuss the challenges to achieving DP.  
\begin{proposition}\label{prop:sensitivity}
Given a database $D$ and a set of DCs $\constraintset$, where $|D|=n$, the following holds:
\begin{enumerate*}
    \item The global sensitivity of \drastic\ is 1. 
    \item The global sensitivity of 
    \mininconsistency\ is $n$.       
    \item The global sensitivity of \problematic\ is $n$.
    \item The global sensitivity of \maxconsistency\ is exponential in $n$.
    \item The global sensitivity of \repair\ is 1.
\end{enumerate*}
\end{proposition}
\ifpaper
Due to space constraints, the proofs for this proposition and other theorems in the paper are in the full version~\cite{full_paper}.  \else
The proof can be found in Appendix~\ref{app:proof_sensitivity}.
\fi 


% \paratitle{Infeasibility of $\drastic$ and $\maxconsistency$}\label{sec:hardness}
\paratitle{Inadequacy of $\drastic$ and $\maxconsistency$}\label{sec:hardness}
We note that two inconsistency measures are less suitable for DP. First, the drastic measure \drastic\ is a binary measure that outputs $1$ if at least one conflict exists in the dataset and $0$ otherwise. Due to its binary nature, the measure's sensitivity is 1, meaning adding or removing a single row can significantly alter the result. Adding DP noise to such a binary measure can render it meaningless.

One way to compute the \drastic\ measure could be to consider a proxy of \drastic\ by employing a threshold-based approach that relies on \problematic\ or \mininconsistency. For example, if these measures are below a certain given number, we return $0$ and, otherwise, $1$. A recent work~\cite{PatwaSGMR23} addresses similar problems for synthetic data by employing the exponential mechanism. However, since we focus on directly computing the measures under DP, we leave this intriguing subject for future work. 

% For the maximal consistency measure \maxconsistency, calculating its true value is a \#P-complete problem~\cite{LivshitsBKS20}. 
% Additionally, prior work~\cite{LivshitsBKS20} showed that computing \maxconsistency\ is \#P-complete, restricting its practicality. 
% Prior work shows that it can be calculated for selected scenarios as the maximal independent sets for a conflict graph $\graph$ if the dataset has only FDs in the constraint set $\constraintset$ and $\graph$ is $P_4$-free~\cite{KimelfeldLP20}. 
% However, the sensitivity of this measure is exponential to the number of nodes in $\graph$, and therefore, the DP estimate will have little utility. Therefore, we defer the $\drastic$ and $\maxconsistency$ for future work. 
\revc{The \maxconsistency\ measure that computes the total number of independent sets in the conflict graph has both computational and high sensitivity issues. First, prior work~\cite{LivshitsBKS20} showed that computing \maxconsistency\ is \#P-complete and even approximating it is an NP-hard problem~\cite{DBLP:conf/ijcai/Roth93}. Even for special cases where \maxconsistency\ can be polynomially computed (when $\graph$ is $P_4$-free~\cite{KimelfeldLP20}), we show in Proposition~\ref{prop:sensitivity} that its sensitivity is exponential in the number of nodes of $\graph$. This significantly diminishes the utility of its DP estimate. Due to these challenges, we defer the study of $\drastic$ and $\maxconsistency$ to future work.}
%Note that all these inconsistency measures can be computed using the Laplace mechanism. We summarize their sensitivity in Table~\ref{tab:summary}. 

\paratitle{Challenges for \repair, \mininconsistency, and \problematic}
Although the $\repair$ measure has a low sensitivity of 1 for its output range $[0,n]$, it is an NP-hard problem, and the common non-private solution
is to solve a linear approximation that requires solving a linear program~\cite{LivshitsBKS20}. However, in the worst case, this linear program again has sensitivity equal to $n$ (number of rows in the dataset) and may have up to $\binom n2$ number of constraints (all rows violating each other). Existing state-of-the-art DP linear solvers~\cite{hsu2014privately} are slow and fail for such a challenging task. Our preliminary experiments to solve such a linear program timed out after 24 hours with $n=1000$.
For \mininconsistency\ and \problematic\, they have polynomial computation costs and reasonable output ranges. However, they still have high sensitivity $n$. In the upcoming sections~\ref{sec:graph-algorithms-graphproj} and \ref{sec:vertex_cover}, we show that these problems can be alleviated by pre-processing the input dataset as a conflict graph and computing these inconsistency measures as private graph statistics. 

