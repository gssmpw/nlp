\pdfoutput=1
\documentclass[11pt]{article}
% \usepackage[review]{acl}
\usepackage{acl}
\input{math_commands.tex}

\usepackage{times}
\usepackage{latexsym}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}


\usepackage{hyperref}
\usepackage{url}
\newtheorem{theorem}{Theorem}
\usepackage{amsmath,amssymb,amsfonts}
\usepackage[ruled,vlined,noend]{algorithm2e}
\usepackage{graphicx}
\usepackage{bbm}
\usepackage{textcomp}
\usepackage{wrapfig}
\usepackage{xcolor}
\usepackage{booktabs}       % professional-quality tables
\usepackage{amsfonts}       % blackboard math symbols
\usepackage{nicefrac}       % compact symbols for 1/2, etc.
\usepackage{microtype}      % microtypography
% \usepackage{xcolor}         % colors
\usepackage{enumitem}
% \usepackage[dvipsnames]{xcolor}
\usepackage{multirow,tabularx}
\usepackage{amsmath}
\usepackage{graphicx}
\usepackage{amssymb,amsthm}
\usepackage{inconsolata}
\usepackage{epsfig}
\usepackage{makecell}
\usepackage{subfigure}
\theoremstyle{definition}
\newtheorem{definition}{Definition}[section]
\usepackage{bm}


\title{Knapsack Optimization-based Schema Linking for \\ LLM-based Text-to-SQL Generation}


\author{
Zheng Yuan\textsuperscript{1}, Hao Chen\textsuperscript{2}, Zijin Hong\textsuperscript{1}, Qinggang Zhang\textsuperscript{1} \\
{\bf Feiran Huang\textsuperscript{3}, Xiao Huang\textsuperscript{1}}\\ 
\textsuperscript{1}The Hong Kong Polytechnic University\\ 
\textsuperscript{2}City University of Macau, \textsuperscript{3}Jinan University \\
\texttt{\{yzheng.yuan, zijin.hong, qinggangg.zhang\}@connect.polyu.hk} \\
\texttt{sundaychenhao@gmail.com}; \texttt{huangfr@jnu.edu.cn}; \texttt{xiao.huang@polyu.edu.hk}
}

\makeatletter
\newcommand\figcaption{\def\@captype{figure}\caption}
\newcommand\tabcaption{\def\@captype{table}\caption}
\makeatother

\newcommand{\fix}{\marginpar{FIX}}
\newcommand{\new}{\marginpar{NEW}}

\begin{document}
\maketitle
\begin{abstract}
Generating SQLs from user queries is a long-standing challenge, where the accuracy of initial schema linking significantly impacts subsequent SQL generation performance.  However, current schema linking models still struggle with missing relevant schema elements or an excess of redundant ones. A crucial reason for this is that commonly used metrics, recall and precision, fail to capture relevant element missing and thus cannot reflect actual schema linking performance. Motivated by this, we propose an enhanced schema linking metric by introducing a \textbf{restricted missing indicator}.
Accordingly, we introduce \textbf{\underline{K}n\underline{a}psack optimization-based \underline{S}chema \underline{L}inking \underline{A}gent (KaSLA)}, a plug-in schema linking agent designed to prevent the missing of relevant schema elements while minimizing the inclusion of redundant ones.
KaSLA employs a hierarchical linking strategy that first identifies the optimal table linking and subsequently links columns within the selected table to reduce linking candidate space.
In each linking process, it utilize a knapsack optimization approach to link potentially relevant elements while accounting for a limited tolerance of potential redundant ones.
With this optimization, KaSLA-1.6B achieves superior schema linking results compared to large-scale LLMs, including deepseek-v3 with state-of-the-art (SOTA) schema linking method. Extensive experiments on Spider and BIRD benchmarks verify that KaSLA can significantly improve the SQL generation performance of SOTA text-to-SQL models by substituting their schema linking processes.
\end{abstract}
\input{tex/1_Intro}


\input{tex/3_Preliminaries}

\input{tex/4_Metrics}

\input{tex/5_Method}

\input{tex/7_Main_experiments}

\input{tex/2_Related_work}
\input{tex/9_Limitation_and_Conclusion}

\nocite{*}
\bibliography{custom}

\appendix
\input{tex/10_Appendix}



\end{document}
