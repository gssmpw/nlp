\clearpage
\newpage
\onecolumn
\begin{appendices}
\section{Reward Functions}
The reward functions used during training for both the H1 and G1 are shown in Table \ref{reward}. We categorize the rewards into three types: task rewards, which guide the robot in tracking goal points and avoiding collisions (important for obstacle avoidance); regularization rewards, which impose constraints on smooth motion and hardware protection; and motion style rewards, which enforce constraints for a human-like whole-body motion style. The target base height $h^{\text {target}}$ for G1 is set to $0.728m$, The minimum feet/knee lateral distance for G1 and H1 is set to $d_\text{min}^{g1} = 0.18m$ and $d_\text{min}^{h1} = 0.25m$.
\begin{table*}[!h]
    \centering
    \caption{Rewards}
    \begin{tabular}{llll}
    \toprule[1.5pt] Reward & Equation & Weight: H1 & Weight: G1 \\ \midrule[1.5pt] 
    \multicolumn{4}{c}{\textbf{Task Rewards}} \\ [0.4ex]
    Tracking Goal Velocity & $\min(v_{c},\|\mathbf{v}_{x y}\|)/v_{c}$ & 5.0 & 2.0 \\[0.4ex]
    Tracking Yaw & $\exp \left\{(\textbf{p} - \textbf{x}) / ||\textbf{p} - \textbf{x}|| \right\}$ & 5.0 & 2.0\\[0.4ex]
    Collision & $\sum_{i\in C_l^e}{\bm{1}}\left\{\|\mathbf{f}_i \|>0.1\right \}$ & -15.0 & -15.0 \\[0.4ex]
    \toprule[1.0pt] \multicolumn{4}{c}{\textbf{Regularization Rewards}} \\ [0.4ex]
    Linear velocity $(z)$ & $v_z^2$ & -1.0 & -1.0\\ [0.4ex]
    Angular velocity $(x y)$ & $\|\boldsymbol{\omega}_{x y}\|_2^2$ & -0.05 & -0.05\\[0.4ex]
    Orientation & $\|\mathbf{g}_{x}\|_2^2 + \|\mathbf{g}_{y}\|_2^2$ & -2.0 & -2.0\\[0.4ex]
    Joint accelerations & $\|\ddot{\boldsymbol{\theta}}\|_2^2$ & $-2.5 \times 10^{-7}$ & $-2.5 \times 10^{-7}$\\[0.4ex]
    Joint velocity & $\|\dot{\boldsymbol{\theta}}\|_{2}^{2}$ & $-5.0 \times 10^{-4}$ & $-5.0 \times 10^{-4}$\\ [0.4ex]
    Torques & $\|\frac{\boldsymbol{\tau}}{k_p}\|_{2}^{2}$ & $-1.0 \times 10^{-5}$ & $-1.0 \times 10^{-5}$\\[0.4ex]
    Action rate & $\|\mathbf{a}_t-\mathbf{a}_{t-1}\|_2^2$ & -0.3 & -0.3 \\[0.4ex]
    Joint pos limits & $\text{RELU}(\boldsymbol{\theta} - \boldsymbol{\theta}^{max}) + \text{RELU}(\boldsymbol{\theta}^{min} - \boldsymbol{\theta})$ & -2.0 & -2.0\\[0.4ex]
    Joint vel limits & $\text{RELU}(\boldsymbol{\hat{\theta}} - \boldsymbol{\hat{\theta}}^{max})$ & -1.0 & -1.0\\[0.4ex]
    Torque limits & $\text{RELU}(\boldsymbol{\hat{\tau}} - \boldsymbol{\hat{\tau}}^{max})$ & -1.0 & -1.0 \\[0.4ex]
    \toprule[1.0pt] \multicolumn{4}{c}{\textbf{Motion Style Rewards}} \\ [0.4ex]
    Base Height & $\left(h - h^{\text {target}}\right)^2$ & -0.0 & -10.0 \\ [0.2ex]
    Feet Air Time & $\sum_{i\in \text{feet}}^2 \left( t_{\text{air}, i} - 0.5 \right) \cdot \mathbf{1}\left\{\text{first ground contact} \right\}$ & 4.0 & 1.0 \\[0.4ex]
    Feet Stumble & $\sum_{i\in \text{feet}}\mathbf{1}\left\{\left|\boldsymbol{f}_i^{x y}\right|>3\left|\boldsymbol{f}_i^z\right|\right\}$ & -1.0 & -1.0 \\[0.4ex]
    Arm joint deviation & $\sum_{i \in \text{arm}}|\boldsymbol{\theta}_{i} - \boldsymbol{\theta}^{\text{default}}_{i}|^{2}$ & -0.5 & -0.5\\[0.4ex]
    Hip joint deviation & $\sum_{i \in \text{hip}}|\boldsymbol{\theta}{i} - \boldsymbol{\theta}^{\text{default}}_{i}|^{2}$ & -5.0 & -0.5\\[0.4ex]
    Waist joint deviation & $\sum_{i \in \text{waist}}|\boldsymbol{\theta}{i} - \boldsymbol{\theta}^{\text{default}}_{i}|^{2}$ & -5.0 & -0.0\\[0.4ex]
    Feet distance & $\left(\|\mathbf{p}_\text{left foot} - \mathbf{p}_\text{left foot}\| - d_\text{min} \right)$ & 1.0 & 0.0\\[0.4ex]
    Feet lateral distance & $\left(\|\mathbf{p}^y_\text{left foot} - \mathbf{p}^y_\text{right foot}\| - d_\text{min} \right)$ & 10.0 & 0.5\\[0.4ex]
    Knee lateral distance & $\left(\|\mathbf{p}^y_\text{left knee} - \mathbf{p}^y_\text{right knee}\| - d_\text{min} \right)$ & 5.0 & 0.0\\[0.4ex]
    Feet ground parallel & $\sum_{i\in\text{feet}}\text{Var}(\boldsymbol{p}_i^z)$ & -10.0 & -0.02 \\[0.4ex]
    \bottomrule[1.5pt]
    \end{tabular}
    \label{reward}
\end{table*}
% & \textbf{PPO Parameters} & \textbf{Value}
% & discount factor $\gamma$ & 0.99
%  & Return Estimation $\lambda$ & 0.95\
\section{Implementation Details}
\begin{table}[!htbp]
    \centering
    \caption{Implementation Details}
    \begin{tabular}{ll}
    \toprule[1.5pt]
    \textbf{Networks} & \textbf{Hiddern Layers}\\
    Actor & [512, 256, 128] \\
    Critic & [512, 256, 128] \\
    Return Estimator & [512, 256, 128] \\
    Vel Estimator & [512, 256, 32] \\
    Terrain Encoder & [128, 128, 64] \\
    \midrule
    \textbf{Hyperparameters} & \textbf{Values}\\
    Heightmap Range Forward (m) & $[-0.35, 0.85]$ \\
    Heightmap Range Lateral (m) & $[-0.35, 0.35]$ \\
    Velocity Command Range (m/s) & $[0.0, 1.0]$ \\
    Yaw Command Range (rad/s) & $[-0.5, 0.5]$ \\
    \midrule
    \textbf{Curriculum} & \textbf{Ranges} (TL: Terrain Level)\\
    Gap Width Curriculum Range (m) & $[0.1+0.5*TL, 0.2 + 0.6*TL]$ \\
    Hurdles Heights Curriculum Range (m) & $[0.1+0.1*TL, 0.2 + 0.2*TL]$ \\
    Obstacles Length Curriculum Range (m) & $[0.1+0.1*TL, 0.2 + 0.2*TL]$ \\
    \bottomrule[1.5pt]
    \end{tabular}
    \label{tab:ImplementationDetails}
\end{table}

% \subsection{Terrain Curriculum}
% \label{sec:append_curriculum}
% The training terrains using curriculum comprises \textit{Stones Everywhere}, \textit{Stepping Stones}, and \textit{Balancing Beams}. The \textit{Stones Everywhere} terrain spans an area of $8m\times8m$, while both \textit{Stepping Stones} and \textit{Balancing Beams} are $2m$ in width and $8m$ in length, with single-direction commands. The depth of gaps relative to the ground is set to $1.0m$, and all stones and beams exhibit height variations within $\pm 0.05m$. The depth tolerance threshold, $\epsilon$, is set to $-0.1 m$.

% We define terrain difficulty levels ranging from 0 to 8, denoted as $l$. The specific terrain curriculum at each difficulty level are as follows:
% \begin{itemize}
%     \item \textit{Stones Everywhere}: The stone size is $\max\{0.25, 1.5(1-0.1l)\}$, and the stone distance is $0.05\lceil l/2\rceil$.
%     \item \textit{Stepping Stones}: The stone sizes follow the sequence $[0.8, 0.65, 0.5, 0.4, 0.35, 0.3, 0.25, 0.2, 0.2]$, with a maximum stone distance of $0.1 + 0.05l$.
%     \item \textit{Balancing Beams}: The stone size is $0.3-0.05\lfloor l/3\rfloor$, with the stone distance in $x$-direction $0.4 - 0.05l$, and in $y$-direction $[0.2, 0.2, 0.2, 0.25, 0.3, 0.35, 0.35, 0.4, 0.2]$. At the highest difficulty level, the terrain forms a single continuous balancing beam.
% \end{itemize}

% \subsection{Domain Randomization}
% \label{sec:append_random}
% \input{tables/domain_randomization}
% \vspace{-0.15cm}

% \subsection{Hyperparameters}
% \vspace{-0.15cm}
% \input{tables/hyperparameter}
\end{appendices}