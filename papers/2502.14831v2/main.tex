%%%%%%%% ICML 2025 EXAMPLE LATEX SUBMISSION FILE %%%%%%%%%%%%%%%%%

\documentclass{article}

% Recommended, but optional, packages for figures and better typesetting:
\usepackage{microtype}
\usepackage{graphicx}
\usepackage{subfigure}
\usepackage{booktabs} % for professional tables

% hyperref makes hyperlinks in the resulting PDF.
% If your build breaks (sometimes temporarily if a hyperlink spans a page)
% please comment out the following usepackage line and replace
% \usepackage{icml2025} with \usepackage[nohyperref]{icml2025} above.
\usepackage{hyperref}


% Attempt to make hyperref and algorithmic work together better:
\newcommand{\theHalgorithm}{\arabic{algorithm}}

% Use the following line for the initial blind version submitted for review:
% \usepackage{icml2025}

% If accepted, instead use the following line for the camera-ready submission:
\usepackage[preprint]{icml2025}

% For theorems and such
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{amsthm}

% if you use cleveref..
\usepackage[capitalize,noabbrev]{cleveref}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% THEOREMS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\theoremstyle{plain}
\newtheorem{theorem}{Theorem}[section]
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{corollary}[theorem]{Corollary}
\theoremstyle{definition}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{assumption}[theorem]{Assumption}
\theoremstyle{remark}
\newtheorem{remark}[theorem]{Remark}

% Todonotes is useful during development; simply uncomment the next line
%    and comment out the line below the next line to turn off comments
%\usepackage[disable,textsize=tiny]{todonotes}
\usepackage[textsize=tiny]{todonotes}


% --- disable by uncommenting  
% \renewcommand{\TODO}[1]{}
% \renewcommand{\todo}[1]{#1}
%
%
%
%
%
%%%%%%%%%%%%%%%%%%%%%%%% CUSTOM IMPORTS START %%%%%%%%%%%%%%%%%%%%%%%%
% \usepackage{amsmath} % For \mathcal
% \usepackage{amssymb} % For \triangleq
\usepackage{multirow}
\usepackage{makecell} % For multirowcell
% \usepackage[pdftex]{graphicx} % For \includegraphics
% \usepackage{subcaption} % For subfigure inside figure
\usepackage{bm} % for bold variable names
\usepackage{stmaryrd} % for integer division // (\sslash)
\usepackage{dsfont} % for \mathds{1}
\usepackage{pifont} % for checkmark/crossmark
\usepackage{ifthen} % for ifthenelse in \expect
\usepackage{booktabs} % professional-quality tables
% \usepackage{dblfloatfix} % to put the teaser figure in the bottom
\usepackage{soul}
\usepackage{wrapfig} % For half-page sized figures/tables 
\usepackage{colortbl} % To color table borders
\usepackage{xspace}
% <= For algorithms start =>
% \usepackage[ruled,vlined]{algorithm2e}
% \newcommand\mycommfont[1]{\footnotesize\textcolor{blue}{#1}}
% \SetCommentSty{mycommfont}
% <= For algorithms end =>
% \usepackage[accsupp]{axessibility} % Improves PDF readability for those with disabilities.

% To input the code
\usepackage{listings}
\usepackage{xcolor}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}
\lstset{style=mystyle}


%%%%%%%%%%%%%%%%%%%%%%%% CUSTOM IMPORTS END %%%%%%%%%%%%%%%%%%%%%%%%
%
%
%
%%%%%%%%%%%%%%%%%%%%%%%% CUSTOM COMMANDS START %%%%%%%%%%%%%%%%%%%%%%%%
\newcommand{\red}[1]{{\color{red}#1}}
% \newcommand{\todo}[1]{{\color{red}#1}}

\definecolor{mediumtealblue}{rgb}{0.0, 0.33, 0.71}
\definecolor{darkpastelgreen}{rgb}{0.01, 0.75, 0.24}
\definecolor{azure}{rgb}{0.0, 0.5, 1.0}

\definecolor{crimsonred}{rgb}{0.86, 0.08, 0.24}
\definecolor{firebrick}{rgb}{0.7, 0.13, 0.13}
\definecolor{carmine}{rgb}{0.59, 0.0, 0.09}
\definecolor{rosewood}{rgb}{0.4, 0.0, 0.04}
\definecolor{deepcherry}{rgb}{0.6, 0.13, 0.13}


% Let's define shortcuts for our G, D and F models
\newcommand{\A}{\mathsf{A}}
\newcommand{\C}{\mathsf{C}}
\newcommand{\D}{\mathsf{D}}
\newcommand{\E}{\mathsf{E}}
\newcommand{\F}{\mathsf{F}}
\newcommand{\G}{\mathsf{G}}
\newcommand{\M}{\mathsf{M}}
\newcommand{\Ss}{\mathsf{S}}
\newcommand{\T}{\mathsf{T}}

\newcommand{\W}{\mathcal{W}}
\newcommand{\Z}{\mathcal{Z}}

\newcommand{\R}{\mathbb{R}}
\newcommand{\N}{\mathbb{N}}

\newcommand{\x}{\bm{x}}
\newcommand{\z}{\bm{z}}
\newcommand{\ctx}{\text{ctx}}
\newcommand{\act}{\bm{a}}
\newcommand{\coords}{\bm{c}}
\newcommand{\coordsbase}{\coords_\text{base}}
\newcommand{\scale}{s}
\newcommand{\scalef}{s_f}
\newcommand{\scaleh}{s_h}
\newcommand{\scalew}{s_w}
\newcommand{\scales}{\bm{s}}
\newcommand{\offsets}{\bm{\delta}}
\newcommand{\offsetf}{\delta_f}
\newcommand{\offseth}{\delta_h}
\newcommand{\offsetw}{\delta_w}
\newcommand{\pe}{\text{PE}}
\newcommand{\fuse}{\texttt{fuse}}
\newcommand{\fvdmini}{FVD@512}
\newcommand{\megapatch}{\bm{P}}
\newcommand{\megasigma}{\bm{\sigma}}

\newcommand{\Normal}{\mathcal{N}}

\newcommand{\ours}{\textcolor{azure}{(ours)}}
\newcommand{\apref}[1]{\ref{#1}}
\newcommand{\params}{\bm{\theta}}

\newcommand{\fix}{\marginpar{FIX}}
\newcommand{\new}{\marginpar{NEW}}
% \newcommand{\todo}[1]{\textcolor{red}{#1}}
\newcommand{\modelfullname}{Hierarchical Patch Diffusion Model}
\newcommand{\modelname}{HPDM}
\newcommand{\modelnameS}{\modelname-S}
\newcommand{\modelnameM}{\modelname-M}
\newcommand{\modelnameL}{\modelname-L}
\newcommand{\modelnameTTV}{\modelname-T2V}
\newcommand{\modelnameTTVK}{\modelname-T2V-1K}
\newcommand{\SnapVideo}{SnapVideo}
\newcommand{\parallelwork}{(concurrent work)}
\newcommand{\best}[1]{\textcolor{azure}{#1}}
\newcommand{\secondbest}[1]{\textcolor{azure}{#1}}
\newcommand{\gridsample}{\texttt{grid\_sample}_\text{3D}}
\newcommand{\concat}{\texttt{concat}_\text{3D}}
\newcommand{\noise}{\bm{\varepsilon}}
\newcommand{\patch}{\bm{p}}
\newcommand{\patchparams}{\bm{\phi}_{\coords}}
\newcommand{\patchrec}{\hat{\bm{x}}_p}

\newcommand{\cmark}{\ding{51}}
\newcommand{\xmark}{\ding{55}}

\newcommand{\figref}[1]{Fig.~\ref{#1}}
\newcommand{\secref}[1]{\S\ref{#1}}
\newcommand{\tabref}[1]{Tab.~\ref{#1}}
\newcommand{\inlinesection}[1]{\noindent{\textbf{#1}}}

\newcommand{\green}[1]{\textcolor{green}{{#1}}}
\newcommand{\sergey}[1]{{\color{blue}{S:#1}}}

% \newcommand{\codeurl}{https://example.com}
\newcommand{\projecturl}{https://snap-research.github.io/hpdm}
\newcommand{\projecthref}{\href{\projecturl}{\projecturl}}
% \newcommand{\projecturlextra}{https://u2wjb9xxz9q.github.io/additional-results}
% \newcommand{\projecthrefextra}{\href{\projecturlextra}{\projecturlextra}}
% \newtheorem*{simplestatement*}{A trivial but serviceable statement}

\newcommand{\checkmarknew}{\ding{51}} 
\newcommand{\crossmark}{\ding{55}}

% \newcommand{\regname}{Scale Equivariance\xspace}
\newcommand{\Regname}{Scale Equivariance\xspace}
\newcommand{\regname}{scale equivariance\xspace}
\newcommand{\regshortname}{SE\xspace}

\newcommand{\regchfname}{Chopping High Frequencies\xspace}
\newcommand{\regchfshortname}{CHF\xspace}

\newcommand{\rdag}{$^{\textcolor{red}{\dag}}$}
\newcommand{\Diffusability}{\textit{Diffusability}\xspace}
\newcommand{\diffusability}{\textit{diffusability}\xspace}

\newcommand{\expect}[2][]{
\ifthenelse{\equal{#1}{}}{
\mathbb{E}\left[#2\right]
}{
\underset{#1}{\mathbb{E}}\left[#2\right]
}}
\newcommand{\updated}[1]{{\color{red}{#1}}}
\newcommand{\newtable}[0]{
\arrayrulecolor{blue}
\color{blue}
}

\DeclareMathOperator{\zigzag}{zigzag}
\DeclareMathOperator{\Enc}{Enc}
\DeclareMathOperator{\Dec}{Dec}


\newcommand{\cellbest}{\cellcolor{azure!35}}
\newcommand{\cellsecond}{\cellcolor{azure!10}}
% \newcommand{\cellthird}{\cellcolor{Yellow!25}}

% \newcommand{\fid}{$\text{FID}_\text{50K}$\xspace}
\newcommand{\fid}{FID\xspace}
\newcommand{\fvd}{$\text{FVD}_\text{10K}$\xspace}
\newcommand{\fvdfull}{$\text{FVD}_\text{50K}$\xspace}
\newcommand{\fidtenk}{$\text{FID}_\text{10K}$\xspace}
\newcommand{\psnrsmall}{$\text{PSNR}_\text{512}$\xspace}
% \newcommand{\dinofid}{$\text{DiNOFID}_\text{50K}$\xspace}
% \newcommand{\dinofid}{$\text{FD}_\text{DINOv2}$\xspace}
% \newcommand{\dinofidfivek}{$\text{FD}_\text{DINOv2}^\text{5k}$\xspace}
\newcommand{\dinofid}{$\text{FDD}$\xspace}
\newcommand{\dinofidfivek}{$\text{FDD}_\text{5K}$\xspace}
% \newcommand{\inceptionscore}{$\text{IS}_\text{50K}$\xspace}
\newcommand{\inceptionscore}{IS\xspace}
% \newcommand{\cmsae}{$\text{CMS-AE}_{8 \times 16\times 16}$\xspace}
% \newcommand{\cmsaei}{$\text{CMS-AE}_{16\times 16}$\xspace}
\newcommand{\cmsae}{$\text{CMS-AE}_{V}$\xspace}
\newcommand{\cmsaei}{$\text{CMS-AE}_{I}$\xspace}
\newcommand{\cvae}{CV-AE\xspace}
\newcommand{\cvaefull}{CogVideoX-AE\xspace}
\newcommand{\dcae}{DC-AE\xspace}
\newcommand{\fluxae}{FluxAE\xspace}
\newcommand{\ltxae}{LTX-AE\xspace}

\newcommand{\ditstwo}{DiT-S$/$2}
\newcommand{\ditbtwo}{DiT-B$/$2}
\newcommand{\ditbone}{DiT-B$/$2}
\newcommand{\ditltwo}{DiT-L$/$2}
\newcommand{\ditxltwo}{DiT-XL$/$2}

\newcommand{\loss}{\mathcal{L}}

% Some links
\newcommand{\fluxaediffuserslink}{\url{https://huggingface.co/black-forest-labs/FLUX.1-dev/tree/main/vae}\xspace}

% People handles
\definecolor{DarkGreen}{RGB}{1,80,52}
\definecolor{DarkRed}{RGB}{150,30,30}
\newcommand{\rameen}[1]{\textbf{\textcolor{DarkGreen}{@Rameen:#1}}}
\newcommand{\willi}[1]{\textbf{\textcolor{red}{@Willi:#1}}}
\newcommand{\yanyu}[1]{\textbf{\textcolor{blue}{@Yanyu:#1}}}
\newcommand{\alex}[1]{\textbf{\textcolor{magenta}{@Alex:#1}}}
\newcommand{\sharath}[1]{\textbf{\textcolor{purple}{@Sharath:#1}}}
\newcommand{\ivan}[1]{\textbf{\textcolor{DarkRed}{@Ivan:#1}}}

% To avoid splitting footnote onto two pages
% \interfootnotelinepenalty=10000
%%%%%%%%%%%%%%%%%%%%%%%% CUSTOM COMMANDS END %%%%%%%%%%%%%%%%%%%%%%%%

% \newcommand{\papertitle}{Making Autoencoders Diffusable Again}
\newcommand{\papertitle}{Improving the Diffusability of Autoencoders}
% \newcommand{\papertitle}{Improving Autoencoders' Diffusability}
% \newcommand{\papertitle}{Towards Diffusable Autoencoders}

% The \icmltitle you define below is probably too long as a header.
% Therefore, a short form for the running title is supplied here:
\icmltitlerunning{\papertitle}

\begin{document}

\twocolumn[

% \icmltitle{Analyzing and Improving Video Autoencoders for Latent Diffusion Models}
% \icmltitle{Better Regularizations for Video Autoencoders}
% \icmltitle{On Video AutoEncoders for Latent Diffusion Models}
% \icmltitle{Principled Regularization for Video AutoEncoders}
% \icmltitle{Diffusable Video AutoEncoders}
% \icmltitle{Video AutoEncoders with Diffusable Latents}
\icmltitle{\papertitle}

% It is OKAY to include author information, even for blind
% submissions: the style file will automatically remove it for you
% unless you've provided the [accepted] option to the icml2025
% package.

% List of affiliations: The first argument should be a (short)
% identifier you will use later to specify author affiliations
% Academic affiliations should list Department, University, City, Region, Country
% Industry affiliations should list Company, City, Region, Country

% You can specify symbols, otherwise they are numbered in order.
% Ideally, you should not use this facility. Affiliations will be numbered
% in order of appearance and this is the preferred way.
\icmlsetsymbol{equal}{*}

\begin{icmlauthorlist}
\icmlauthor{Ivan Skorokhodov}{snap}
\icmlauthor{Sharath Girish}{snap}
\icmlauthor{Benran Hu}{snap,cmu}
\icmlauthor{Willi Menapace}{snap}
\icmlauthor{Yanyu Li}{snap}
\icmlauthor{Rameen Abdal}{snap}
\icmlauthor{Sergey Tulyakov}{snap}
\icmlauthor{Aliaksandr Siarohin}{snap}
%\icmlauthor{}{sch}
%\icmlauthor{}{sch}
\end{icmlauthorlist}

\icmlaffiliation{snap}{Snap Inc.}
\icmlaffiliation{cmu}{Carnegie Mellon University}
% \icmlaffiliation{sch}{School of ZZZ, Institute of WWW, Location, Country}

\icmlcorrespondingauthor{Ivan Skorokhodov}{iskorokhodov@gmail.com}
\icmlcorrespondingauthor{Aliaksandr Siarohin}{aliaksandr.siarohin@gmail.com}

% You may provide any keywords that you
% find helpful for describing your paper; these are used to populate
% the "keywords" metadata in the PDF but will not be shown in the document
\icmlkeywords{Diffusion Models, Latent Diffusion, Video Generation, Image Generation, AutoEncoders, VAE, Variational AutoEncoders, ICML}

\vskip 0.3in
]

% this must go after the closing bracket ] following \twocolumn[ ...

% This command actually creates the footnote in the first column
% listing the affiliations and the copyright notice.
% The command takes one argument, which is text to display at the start of the footnote.
% The \icmlEqualContribution command is standard text for equal contribution.
% Remove it (just {}) if you do not need this facility.

\printAffiliationsAndNotice{}  % leave blank if no need to mention equal contribution
% \printAffiliationsAndNotice{\icmlEqualContribution} % otherwise use the standard text.

\input{sections/0-abstract}
\input{sections/1-introduction}
\input{sections/2-related-work}
\input{sections/3-method}
\input{sections/4-experiments}
\input{sections/5-conclusion}
\input{sections/6-impact}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Bibliography
% In the unusual situation where you want a paper to appear in the
% references without citing it in the main text, use \nocite
% \nocite{StyleGAN}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\bibliography{main}
\bibliographystyle{icml2025}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% APPENDIX
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\newpage
\appendix
\onecolumn

\include{supp/2-details}
\include{supp/3-freq-reg}
\include{supp/4-visualizations}
\include{supp/1-limitations}
% \include{supp/5-failed-experiments}

\end{document}
