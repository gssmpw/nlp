% This must be in the first 5 lines to tell arXiv to use pdfLaTeX, which is strongly recommended.
\pdfoutput=1
% In particular, the hyperref package requires pdfLaTeX in order to break URLs across lines.

\documentclass[11pt]{article}

% Change "review" to "final" to generate the final (sometimes called camera-ready) version.
% Change to "preprint" to generate a non-anonymous version with page numbers.
\usepackage[preprint]{acl}

% Standard package includes
\usepackage{times}
\usepackage{latexsym}

% For definitions
\usepackage{enumitem}

% Column colors
\usepackage{xcolor,colortbl}

\input{latex/review_commands}

% For proper rendering and hyphenation of words containing Latin characters (including in bib files)
\usepackage[T1]{fontenc}
% For Vietnamese characters
% \usepackage[T5]{fontenc}
% See https://www.latex-project.org/help/documentation/encguide.pdf for other character sets

% This assumes your files are encoded as UTF8
\usepackage[utf8]{inputenc}

% This is not strictly necessary, and may be commented out,
% but it will improve the layout of the manuscript,
% and will typically save some space.
\usepackage{microtype}

% This is also not strictly necessary, and may be commented out.
% However, it will improve the aesthetics of text in
% the typewriter font.
\usepackage{inconsolata}

%Including images in your LaTeX document requires adding
%additional package(s)
\usepackage{graphicx}

\usepackage{booktabs}
\usepackage{siunitx}
\usepackage{multirow} 
\usepackage{makecell}
\usepackage{arydshln} % For dotted/dashed lines

% If the title and author information does not fit in the area allocated, uncomment the following
%
%\setlength\titlebox{<dim>}
%
% and set <dim> to something 5cm or larger.

\title{Confidence Improves Self-Consistency in LLMs}

\author{
\vspace{-0.2em} \\  % Adjust spacing
 \textbf{Amir Taubenfeld\textsuperscript{*12}},
 \textbf{Tom Sheffer\textsuperscript{*12}},
 \textbf{Eran Ofek\textsuperscript{1}},
 \textbf{Amir Feder\textsuperscript{13}},
 \textbf{Ariel Goldstein\textsuperscript{2}},
 \vspace{0.5em} \\  % Adjust spacing
 \textbf{Zorik Gekhman\textsuperscript{1}},
 \textbf{Gal Yona\textsuperscript{1}}
\\
\\
 \textsuperscript{1}Google Research,
 \textsuperscript{2}The Hebrew University of Jerusalem,
 \textsuperscript{3}Columbia University
\\
\vspace{-0.5em} \\  % Adjust spacing
    \{amirt,tomsheffer\}@google.com
}



\begin{document}
\maketitle

\def\thefootnote{*}\footnotetext{Equal contribution.}\def\thefootnote{\arabic{footnote}}

\input{latex/sections/0-abstract}

\begin{figure}[!ht]
    \centering
    \includegraphics[width=0.95\linewidth]{latex/figures/figure1.pdf}
    \caption{
    Accuracy as a function of the number of sampled responses for self-consistency vs CISC, using Gemma2-9B on the MATH dataset.
    CISC achieves higher overall accuracy while significantly reducing computational costs. With just 8 samples, it surpasses the performance of 30-sample self-consistency.}
    \label{fig:first-figure}
\end{figure}

\begin{figure*}[ht]
    \centering
    \includegraphics[width=\textwidth]{latex/figures/high-level.pdf}
    \caption{A simplified example comparing self-consistency vs CISC. (1) Given an input question, (2) both methods first sample multiple reasoning paths. (4, top) Self-consistency then simply selects the most frequent answer. Conversely, (3) CISC adds a self-assessment step, where a confidence score is assigned to each path (see \S\ref{sec:conf-methods} for more advanced methods). Then, (4, bottom) it selects the final answer via a weighted majority vote.}
    \label{fig:high-level}
\end{figure*}

\input{latex/sections/1-introduction}
\input{latex/sections/2-method}
\input{latex/sections/4-setup}
\input{latex/sections/5-results}
\input{latex/sections/6-confidence}
\input{latex/sections/8-qualtitive}
\input{latex/sections/9-relatedwork}
\input{latex/sections/discussion}
\input{latex/sections/limitations}


% Bibliography entries for the entire Anthology, followed by custom entries
%\bibliography{anthology,custom}
% Custom bibliography entries only
\bibliography{custom}

\appendix

\input{latex/sections/appendix}

\end{document}
