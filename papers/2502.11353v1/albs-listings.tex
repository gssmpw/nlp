%-------------------------------------------------------------------------
% Listing Environment
%-------------------------------------------------------------------------

\definecolor{dmlgreen}    {RGB}{51,  160,  44}
\definecolor{dmlblue}     {RGB}{31,  120, 180}
\definecolor{dmlred}      {RGB}{202,   0,  32}
\definecolor{mauve}       {rgb}{0.58,  0,0.82}

% language definition
\lstdefinelanguage[RISC-V]{Assembler}
{
  alsoletter={.}, % allow dots in keywords
  alsodigit={0x}, % hex numbers are numbers too!
  morekeywords=[1]{ % instructions
    lb, lh, lw, lbu, lhu,
    sb, sh, sw,
    sll, slli, srl, srli, sra, srai,
    add, addi, sub, lui, auipc,
    xor, xori, or, ori, and, andi,
    slt, slti, sltu, sltiu,
    beq, bne, blt, bge, bltu, bgeu,
    j, jr, jal, jalr, ret,
    scall, break, nop,
    vadd.vv, vmsltu.vv, vpopc.m,
    vadd.vx, vmlst.vv, bnez,
    vsub.vv,
    mlxe.t, msxe.t, mszipk.tt, mszipv.tt, mssortk.tt, mssortv.tt,
    mmv.vi, mmv.vo
  },
  morekeywords=[2]{ % sections of our code and other directives
    .align, .ascii, .asciiz, .byte, .data, .double, .extern,
    .float, .globl, .half, .kdata, .ktext, .set, .space, .text, .word
  },
  morekeywords=[3]{ % registers
    zero, ra, sp, gp, tp, s0, fp,
    t0, t1, t2, t3, t4, t5, t6,
    s1, s2, s3, s4, s5, s6, s7, s8, s9, s10, s11,
    a0, a1, a2, a3, a4, a5, a6, a7,
    ft0, ft1, ft2, ft3, ft4, ft5, ft6, ft7,
    fs0, fs1, fs2, fs3, fs4, fs5, fs6, fs7, fs8, fs9, fs10, fs11,
    fa0, fa1, fa2, fa3, fa4, fa5, fa6, fa7,
    tr0, tr1, tr2, tr3, tr4, tr5, tr6, tr7, tr8,
    v0, v1, v2, v3, v4, v5, v6, v7, v8, v9,
    v10, v11, v12, v13, v14, v15, v16, v17, v18, v19,
    v20, v21, v22, v23, v24, v25, v26, v27, v28, v29,
    v30, v31
  },
  morecomment=[l]{;},   % mark ; as line comment start
  morecomment=[l]{\#},  % as well as # (even though it is unconventional)
  morestring=[b]",      % mark " as string start/end
  morestring=[b]'       % also mark ' as string start/end
}

% define RISC-V assembly style
\lstdefinestyle{riscv-asm-style}{
  language=[RISC-V]Assembler,                   % all code is RISC-V
  % listings sonderzeichen (for german weirdness)
  literate={ö}{{\"o}}1
           {ä}{{\"a}}1
           {ü}{{\"u}}1,
  basicstyle=\footnotesize\ttfamily,%
  breaklines=true,                              % break long lines
  keywordstyle=[1]\color{blue!80!black},        % instructions are blue
  keywordstyle=[2]\color{orange!80!black},      % sections/other directives are orange
  keywordstyle=[3]\color{red!50!black},         % registers are red
  stringstyle=\color{mauve},                    % strings are from the telekom
  commentstyle=\color{red}\ttfamily,%
  identifierstyle=\color{teal},                 % user declared addresses are teal
  tabsize=4,                                    % indent tabs with 4 spaces
  showstringspaces=false,                       % do not replace spaces with weird underlines
  numbers={left},%
  numbersep={5pt},%
  numberstyle={\tiny},%
  keepspaces={true},%
  upquote={true},%
  columns={fullflexible},%
  firstnumber=1
}

% define C++ style
\lstdefinestyle{cpp-style}{%
  language=C++,%
  basicstyle=\footnotesize\ttfamily,%
  deletekeywords={if, else, for, static_cast},%
  morekeywords={parallel_for, parallel_invoke, parallel_reduce, uint8_t,
                uint_16_t, uint32_t, uint64_t, int8_t, int_16_t, int32_t,
                int64_t, Fault, Trace, InstRecord, ExecContext,
                RoccPacketPtr},%
  morekeywords=[2]{if, else, for, while, static_cast},%
  morekeywords=[3]{spawn, wait,  \%(op_src_decl)s, \%(op_rd)s,
                   \%(class_name)s, \%(op_wb)s, def},%
  keywordstyle=\color{NavyBlue}\ttfamily,%
  keywordstyle=[2]\color{Blue}\ttfamily,%
  keywordstyle=[3]\color{BurntOrange}\ttfamily,%
  stringstyle=\color{ForestGreen}\ttfamily,%
  commentstyle=\color{red}\ttfamily,%
  morecomment=[l][\color{Violet}]{\#},%
  numbers={left},%
  numbersep={5pt},%
  numberstyle={\tiny},%
  keepspaces={true},%
  upquote={true},%
  columns={fullflexible},%
  firstnumber=1
}

\lstdefinestyle{python-style}{%
  language=Python,%
  alsoletter={.},
  morekeywords=[2]{
    @pytest.mark.parametrize,
    @s.tick_fl,
    @s.tick_cl,
    @s.tick_rtl,
    @s.combinational,
    s.connect,
    s.connect_auto,
    s.connect_dict,
    Bits,
    Wire,
    InPort,
    OutPort,
    SimulationTool,
    TranslationTool,
    Model,
    UNDEFINED,
    integer,
    array,
    bit,
    reverse, sort, swap, compress, popc
  },
  morekeywords=[3]{
    SREG, VREG, TREG, ICREG, OCREG, MEM
  },
  basicstyle={\footnotesize\ttfamily},%
  keywordstyle=[1]\color{blue!80!black},
  keywordstyle=[2]\color{orange!80!black},
  keywordstyle=[3]\color{red!50!black},
  commentstyle=\color{red}\ttfamily,%
  %lineskip={-0.01in},%
  numbers={left},%
  numbersep={5pt},%
  numberstyle={\tiny},%
  %xleftmargin={0.15in},%
  %xleftmargin={\parindent},%
  showstringspaces={false},%
  keepspaces={true},%
  upquote={true},%
  columns={fullflexible},
  %gobble={4}
}%
