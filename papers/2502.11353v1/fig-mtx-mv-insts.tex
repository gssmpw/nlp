\lstset{style=python-style}

\begin{figure*}[tp]
\centering

%%%%%%%%
% mmv.vi
%%%%%%%%

\includegraphics[width=\tw]{mmv_vi.svg.pdf}
\begin{lstlisting}[xleftmargin=0.025\tw]
integer esize = 32                    # element size in bits
integer dim   = MAX_VLEN / esize      # matrix dimension in elements
integer src_imm           = cimm      # counter vector index
array<esize>[dim] dst_op  = VREG[vd]  # output vector
for i = 0 to dim-1:
  dst_op[i] = IC0[i] if src_imm == 0 else IC1[i]  # copy from output counter vector reg
\end{lstlisting}

%%%%%%%%
% mmv.vo
%%%%%%%%

\includegraphics[width=\tw]{mmv_vo.svg.pdf}
\begin{lstlisting}[xleftmargin=0.025\tw]
integer esize = 32                    # element size in bits
integer dim   = MAX_VLEN / esize      # matrix dimension in elements
integer           src_imm = cimm      # counter vector index
array<esize>[dim] dst_op  = VREG[vd]  # output vector
for i = 0 to dim-1:
  dst_op[i] = OC0[i] if src_imm == 0 else OC1[i]  # copy from output counter vector reg
\end{lstlisting}

\caption[Counter Vector Move Instructions in SparseZipper]{
  \textbf{Syntax, Encoding, and Semantics of Counter Vector Move Instructions in SparseZipper} --
  VREG~=~vector registers;
}
\label{fig:spz-mtx-mv-insts}
\end{figure*}
