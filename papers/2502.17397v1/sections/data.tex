
We present a database of 302 TCV discharges labeled with confinement states `Low', `Dithering', or `High' over their entire duration. Discharges were selected to cover a large variety of confinement behaviors: H-modes with steady edge-localized modes (ELMs), ELM-free regimes, dithering phases near the transition threshold, H-L back transitions, among others. The dataset includes experiments from various missions, such as studies on the ITER baseline scenario, disruption avoidance, L-H transitions, density limits, and the effects of heating methods and plasma shaping. Labeling and data extraction was handled using the DEFUSE framework~\cite{defuseiaea}.

\subsection{Confinement State Labeling}

\begin{figure}[t]
\begin{center}\includegraphics[width=.75\linewidth]{figures/dataset_labels.pdf}\end{center}
    \caption{Overview of the total time and transitions present in the dataset. The top shows the cumulative time spent in the different states, whereas the bottom depicts the total number of state transitions. The left depicts the total number of transitions, whereas the right excludes unstable or transient transitions, which we define as those where the plasma changes state within \SI{10}{\milli\second} before or after a transition.}
    \label{fig:dataset_labels}%
\end{figure}

In total, the dataset covers \SI{451.67}{\second} of plasma dynamics, an average time of \SI{1.50}{\second} per discharge. Of this time, \SI{302.20}{\second} is spent in L-mode, \SI{24.08}{\second} in dithering and \SI{125.38}{\second} in H-mode, see Figure~\ref{fig:dataset_labels} for a depiction of the time distribution and the transitions between the different states. States are labeled at a precision of \SI{10}{\kilo\hertz}, giving a total of approximately 4.5 million timeslices. The dataset covers experiments between 2003 and 2024, see Figure~\ref{fig:dataset_when} for the distribution of shots over time. To illustrate the types of plasma scenarios we plot the distribution of key parameters in Figure~\ref{fig:dataset_eda}.

\begin{figure}[t]
\begin{center}\includegraphics[width=1\linewidth]{figures/dataset_when.pdf}\end{center}
    \caption{The distribution of the dates of the discharges present in the dataset. It includes TCV plasmas from several decades, with the  majority from the last 10 years.}
    \label{fig:dataset_when}%
\end{figure}

\begin{figure}[t]
\begin{center}\includegraphics[width=1\linewidth]{figures/dataset_eda.pdf}\end{center}
    \caption{Distributions of key plasma parameters in the dataset, stacked for L, D and H-mode plasmas. We plot average values for phases of \SI{20}{\milli\second}--around the TCV energy confinement time--to exclude fast transient measurements.}
    \label{fig:dataset_eda}%
\end{figure}






The labeling was done by a single expert to ensure consistency throughout the whole dataset; we found that inconsistent labeling is one of the biggest detractors to model performance~\cite{matoslhd2021}. 
For this annotation, one of the main identifiers of a change in confinement is the plasma emission, which is generally visible in the photodiode signal. Kinetic profiles are also a key indicator, albeit generally less available; contextual quantities such as the plasma stored energy are also used. In certain marginal scenarios however, it can be difficult to label the state with high certainty. We aim for consistency in these scenarios to maximize model performance, however potential biases of the human expert cannot be avoided in the supervised learning setting.

\subsection{Signals}
\input{figures/table_signals}

In this work, we utilize a broad set of signals to automatically identify the confinement state. These signals are selected to measure plasma quantities in a variety of ways, adding redundancy to increase robustness and reliability. We split them into a set of categories that group them by diagnostic systems or physical quantities. The categorization we consider consists of \textit{shaping, emissions, magnetics, density, temperature, power, energy content, radiation}, and a miscellaneous \textit{other} category. An overview of all signals and the categorization is provided in Table~\ref{tab:signals}.

All signals are interpolated to a common timebase of \SI{10}{\kilo\hertz} using linear interpolation. For real-time applications one must use causal interpolation, but given that the scope of this work is offline analysis, we use linear interpolation to maximize information at each timestep. For more details on how these signals are used as inputs for the different models, we refer to Section~\ref{ss:components}.

\subsection{Dataset availability}
 The dataset is publicly available at~{[\textsc{released upon publication}]}


