% This file was created with tikzplotlib v0.10.1.
\begin{tikzpicture}

  \definecolor{darkgray176}{RGB}{176,176,176}
  \definecolor{green}{RGB}{0,128,0}
  \definecolor{lightgray204}{RGB}{204,204,204}
  \definecolor{orange}{RGB}{255,165,0}
  
  \begin{groupplot}[group style={group size=2 by 2, horizontal sep=2.2cm, vertical sep=2.2cm},
    title style={font=\Large},
    label style={font=\large},
    tick label style={font=\large},
    legend style={font=\large}]
    \nextgroupplot[
      legend cell align={left},
      legend style={fill opacity=0.8, draw opacity=1, text opacity=1, draw=lightgray204},
      tick align=outside,
      tick pos=left,
      title={(a) OPT Model TTFT Comparison},
      x grid style={darkgray176},
      xlabel={SLO},
      xmajorgrids,
      xmin=-0.15, xmax=3.15,
      xtick style={color=black},
      xtick={0,1,2,3},
      xtick={0,1,2,3},
      xtick={0,1,2,3},
      xticklabels={20\%,30\%,40\%,50\%},
      xticklabels={20\%,30\%,40\%,50\%},
      xticklabels={20\%,30\%,40\%,50\%},
      y grid style={darkgray176},
      ylabel={Ratio of Latency to SLO.},
      ymajorgrids,
      ymin=0.8971575, ymax=1.8429925,
      ytick style={color=black}
      ]
      \addplot [thick, orange, mark=square*, mark size=3, mark options={solid}]
      table {%
      0 0.94015
      1 0.9417
      2 0.95
      3 0.957
      };
      \addlegendentry{\sys}
      \addplot [very thick, green, dotted, mark=triangle*, mark size=3, mark options={solid}]
      table {%
      0 1.8
      1 1.67
      2 1.55
      3 1.44
      };
      \addlegendentry{DeepSpeed}
      
      \nextgroupplot[
      legend cell align={left},
      legend style={fill opacity=0.8, draw opacity=1, text opacity=1, draw=lightgray204},
      tick align=outside,
      tick pos=left,
      title={(b) OPT Model TPOT Comparison},
      x grid style={darkgray176},
      xlabel={SLO},
      xmajorgrids,
      xmin=-0.15, xmax=3.15,
      xtick style={color=black},
      xtick={0,1,2,3},
      xtick={0,1,2,3},
      xtick={0,1,2,3},
      xticklabels={20\%,30\%,40\%,50\%},
      xticklabels={20\%,30\%,40\%,50\%},
      xticklabels={20\%,30\%,40\%,50\%},
      y grid style={darkgray176},
      ylabel={Ratio of Latency to SLO.},
      ymajorgrids,
      ymin=0.48325, ymax=8.44175,
      ytick style={color=black}
      ]
      \addplot [thick, orange, mark=square*, mark size=3, mark options={solid}]
      table {%
      0 0.986
      1 0.91
      2 0.845
      3 0.9888
      };
      \addlegendentry{\sys}
      \addplot [very thick, green, dotted, mark=triangle*, mark size=3, mark options={solid}]
      table {%
      0 8.08
      1 7.46
      2 6.92
      3 6.46
      };
      \addlegendentry{DeepSpeed}
      
      \nextgroupplot[
      legend cell align={left},
      legend style={fill opacity=0.8, draw opacity=1, text opacity=1, draw=lightgray204},
      tick align=outside,
      tick pos=left,
      title={(c) Qwen Model TTFT Comparison},
      x grid style={darkgray176},
      xlabel={SLO},
      xmajorgrids,
      xmin=-0.15, xmax=3.15,
      xtick style={color=black},
      xtick={0,1,2,3},
      xtick={0,1,2,3},
      xtick={0,1,2,3},
      xticklabels={20\%,30\%,40\%,50\%},
      xticklabels={20\%,30\%,40\%,50\%},
      xticklabels={20\%,30\%,40\%,50\%},
      y grid style={darkgray176},
      ylabel={Ratio of Latency to SLO.},
      ymajorgrids,
      ymin=0.88105, ymax=2.33195,
      ytick style={color=black}
      ]
      \addplot [thick, orange, mark=square*, mark size=3, mark options={solid}]
      table {%
      0 0.947
      1 0.954
      2 0.955
      3 0.987
      };
      \addlegendentry{\sys}
      \addplot [very thick, green, dotted, mark=triangle*, mark size=3, mark options={solid}]
      table {%
      0 2.266
      1 2.09
      2 1.94
      3 1.81
      };
      \addlegendentry{DeepSpeed}
      
      \nextgroupplot[
      legend cell align={left},
      legend style={fill opacity=0.8, draw opacity=1, text opacity=1, draw=lightgray204},
      tick align=outside,
      tick pos=left,
      title={(d) Qwen Model TPOT Comparison},
      x grid style={darkgray176},
      xlabel={SLO},
      xmajorgrids,
      xmin=-0.15, xmax=3.15,
      xtick style={color=black},
      xtick={0,1,2,3},
      xtick={0,1,2,3},
      xtick={0,1,2,3},
      xticklabels={20\%,30\%,40\%,50\%},
      xticklabels={20\%,30\%,40\%,50\%},
      xticklabels={20\%,30\%,40\%,50\%},
      y grid style={darkgray176},
      ylabel={Ratio of Latency to SLO.},
      ymajorgrids,
      ymin=0.5364, ymax=8.2716,
      ytick style={color=black}
      ]
      \addplot [thick, orange, mark=square*, mark size=3, mark options={solid}]
      table {%
      0 0.962
      1 0.888
      2 0.99
      3 0.933
      };
      \addlegendentry{\sys}
      \addplot [very thick, green, dotted, mark=triangle*, mark size=3, mark options={solid}]
      table {%
      0 7.92
      1 7.32
      2 6.78
      3 6.3
      };
      \addlegendentry{DeepSpeed}
      \end{groupplot}
      
      \end{tikzpicture}
      