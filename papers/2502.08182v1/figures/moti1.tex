% This file was created with tikzplotlib v0.10.1.
\begin{tikzpicture}

  \definecolor{darkgray176}{RGB}{176,176,176}
  \definecolor{darkorange24513324}{RGB}{245,133,24}
  \definecolor{steelblue76120168}{RGB}{76,120,168}
  
  \begin{groupplot}[group style={group size=2 by 1, horizontal sep=2cm},
    title style={font=\Large},
    label style={font=\large},
    tick label style={font=\large},
    legend style={font=\large}]
  \nextgroupplot[
  legend cell align={left},
  legend style={
    fill opacity=0.8,
    draw opacity=1,
    text opacity=1,
    at={(0.03,0.97)},
    anchor=north west,
    draw=none
  },
  tick align=outside,
  tick pos=left,
  title={(a) Prefill vs Decoding},
  x grid style={darkgray176},
  xmin=-0.485, xmax=2.485,
  xtick style={color=black},
  xtick={0,1,2},
  xticklabels={Qwen2-beta-7B,OPT-13B,LLaMA-13B},
  y grid style={darkgray176},
  ylabel={Ratio of Latency to SLO.},
  ymin=0, ymax=7.8015,
  ytick style={color=black}
  ]
  \draw[draw=none,fill=steelblue76120168] (axis cs:-0.35,0) rectangle (axis cs:0,1.33);
  \addlegendimage{ybar,ybar legend,draw=none,fill=steelblue76120168}
  \addlegendentry{Prefill}
  
  \draw[draw=none,fill=steelblue76120168] (axis cs:0.65,0) rectangle (axis cs:1,1.2);
  \draw[draw=none,fill=steelblue76120168] (axis cs:1.65,0) rectangle (axis cs:2,1.59);
  \draw[draw=none,fill=darkorange24513324] (axis cs:2.77555756156289e-17,0) rectangle (axis cs:0.35,7.43);
  \addlegendimage{ybar,ybar legend,draw=none,fill=darkorange24513324}
  \addlegendentry{Decoding}
  
  \draw[draw=none,fill=darkorange24513324] (axis cs:1,0) rectangle (axis cs:1.35,6.8);
  \draw[draw=none,fill=darkorange24513324] (axis cs:2,0) rectangle (axis cs:2.35,7.06);
  
  \nextgroupplot[
  legend cell align={left},
  legend style={
    fill opacity=0.8,
    draw opacity=1,
    text opacity=1,
    at={(0.03,0.97)},
    anchor=north west,
    draw=none
  },
  tick align=outside,
  tick pos=left,
  title={(b) Compute vs Transfer },
  x grid style={darkgray176},
  xmin=-0.3525, xmax=1.3525,
  xtick style={color=black},
  xtick={0,1},
  xticklabels={Prefill,Decoding},
  y grid style={darkgray176},
  ylabel={Latency (ms)},
  ymin=0, ymax=19.0344,
  ytick style={color=black}
  ]
  \draw[draw=none,fill=steelblue76120168] (axis cs:-0.275,0) rectangle (axis cs:-0.075,5.268);
  \addlegendimage{ybar,ybar legend,draw=none,fill=steelblue76120168}
  \addlegendentry{Compute}
  
  \draw[draw=none,fill=steelblue76120168] (axis cs:0.725,0) rectangle (axis cs:0.925,1.312);
  \draw[draw=none,fill=darkorange24513324] (axis cs:0.075,0) rectangle (axis cs:0.275,18.128);
  \addlegendimage{ybar,ybar legend,draw=none,fill=darkorange24513324}
  \addlegendentry{Transfer}
  
  \draw[draw=none,fill=darkorange24513324] (axis cs:1.075,0) rectangle (axis cs:1.275,18.128);
  \end{groupplot}
  
  \end{tikzpicture}
  