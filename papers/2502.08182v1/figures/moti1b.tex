% This file was created with tikzplotlib v0.10.1.
\begin{tikzpicture}

  \definecolor{darkgray176}{RGB}{176,176,176}
  \definecolor{darkorange25512714}{RGB}{255,127,14}
  \definecolor{lightgray204}{RGB}{204,204,204}
  \definecolor{steelblue31119180}{RGB}{31,119,180}
  
  \begin{axis}[
    title style={font=\Large},
    label style={font=\large},
    tick label style={font=\large},
    legend style={font=\large},
  legend cell align={left},
  legend style={
    fill opacity=0.8,
    draw opacity=1,
    text opacity=1,
    at={(0.03,0.97)},
    anchor=north west,
    draw=lightgray204
  },
  tick align=outside,
  tick pos=left,
  % title={Throughput Comparison: \sys vs DeepSpeed},
  x grid style={darkgray176},
  xlabel={Batch Size},
  xmajorgrids,
  xmin=-0.36, xmax=3.71,
  xtick style={color=black},
  xtick={0.175,1.175,2.175,3.175},
  xticklabels={4,8,16,32},
  y grid style={darkgray176},
  ylabel={Throughput (tokens/sec)},
  ymajorgrids,
  ymin=0, ymax=357,
  ytick style={color=black}
  ]
  \draw[draw=none,fill=steelblue31119180] (axis cs:-0.175,0) rectangle (axis cs:0.175,51.54);
  \addlegendimage{ybar,ybar legend,draw=none,fill=steelblue31119180}
  \addlegendentry{\sys}
  
  \draw[draw=none,fill=steelblue31119180] (axis cs:0.825,0) rectangle (axis cs:1.175,103);
  \draw[draw=none,fill=steelblue31119180] (axis cs:1.825,0) rectangle (axis cs:2.175,170);
  \draw[draw=none,fill=steelblue31119180] (axis cs:2.825,0) rectangle (axis cs:3.175,340);
  \draw[draw=none,fill=darkorange25512714] (axis cs:0.175,0) rectangle (axis cs:0.525,6.26);
  \addlegendimage{ybar,ybar legend,draw=none,fill=darkorange25512714}
  \addlegendentry{DeepSpeed}
  
  \draw[draw=none,fill=darkorange25512714] (axis cs:1.175,0) rectangle (axis cs:1.525,12.52);
  \draw[draw=none,fill=darkorange25512714] (axis cs:2.175,0) rectangle (axis cs:2.525,25);
  \draw[draw=none,fill=darkorange25512714] (axis cs:3.175,0) rectangle (axis cs:3.525,50);
  \end{axis}
  
  \end{tikzpicture}
  