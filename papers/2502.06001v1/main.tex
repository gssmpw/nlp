%\documentclass[acmsmall,nonacm,anonymous]{acmart} %anonymous
\documentclass[acmsmall,nonacm]{acmart} %anonymous
\usepackage{amsthm}
\usepackage[capitalise]{cleveref}
\usepackage{algorithm}
\usepackage{graphicx}
\usepackage{algpseudocode}
\newtheorem{theorem}{Theorem}[section]
\newtheorem*{*theorem}{Theorem}
\newtheorem{corollary}{Corollary}[theorem]
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{observation}[theorem]{Observation}
\newtheorem{condition}[theorem]{Conditions}
\newtheorem{definition}{Definition}[section]
\newcommand{\StrongTrueStatelessness}{\emph{Strict Statelessness}}
\newcommand{\StrictStatelessness}{\emph{Strict Statelessness}}
\newcommand{\Obliviousness}{\emph{Obliviousness}}
\newcommand{\Determinism}{\emph{Determinism}}
\newcommand{\Bandwidth}{\emph{Unit Bandwidth}}

%\newtheorem{observation}[theorem]{Observation}
%% \BibTeX command to typeset BibTeX logo in the docs
\AtBeginDocument{%
  \providecommand\BibTeX{{%
    Bib\TeX}}}

%% Rights management information.  This information is sent to you
%% when you complete the rights form.  These commands have SAMPLE
%% values in them; it is your responsibility as an author to replace
%% the commands and values with those provided to you when you
%% complete the rights form.
%\setcopyright{acmlicensed}
%\copyrightyear{2018}
%\acmYear{2018}
%\acmDOI{XXXXXXX.XXXXXXX}
%%% These commands are for a PROCEEDINGS abstract or paper.
%\acmConference[Conference acronym 'XX]{Make sure to enter the correct
%  conference title from your rights confirmation emai}{June 03--05,
%  2018}{Woodstock, NY}
%%%
%%%  Uncomment \acmBooktitle if the title of the proceedings is different
%%%  from ``Proceedings of ...''!
%%%
%%%\acmBooktitle{Woodstock '18: ACM Symposium on Neural Gaze Detection,
%%%  June 03--05, 2018, Woodstock, NY}
%\acmISBN{978-1-4503-XXXX-X/18/06}
%

%%
%% Submission ID.
%% Use this when submitting an article to a sponsored event. You'll
%% receive a unique submission ID from the organizers
%% of the event, and this ID should be used as the parameter to this command.
%%\acmSubmissionID{123-A56-BU3}

%%
%% For managing citations, it is recommended to use bibliography
%% files in BibTeX format.
%%
%% You can then either use BibTeX with the ACM-Reference-Format style,
%% or BibLaTeX with the acmnumeric or acmauthoryear sytles, that include
%% support for advanced citation of software artefact from the
%% biblatex-software package, also separately available on CTAN.
%%
%% Look at the sample-*-biblatex.tex files for templates showcasing
%% the biblatex styles.
%%

%%
%% The majority of ACM publications use numbered citations and
%% references.  The command \citestyle{authoryear} switches to the
%% "author year" style.
%%
%% If you are preparing content for an event
%% sponsored by ACM SIGGRAPH, you must use the "author year" style of
%% citations and references.
%% Uncommenting
%% the next command will enable that style.
%%\citestyle{acmauthoryear}

\usepackage[colorinlistoftodos,textsize=small]{todonotes}
%\newcommand{\ha}[2][inline]{\todo[caption={},color=purple!20,#1]}{\small\sf\textbf{HA}:#1}
\newcommand{\AT}[2][inline]{\todo[caption={},color=red!20,#1]{\small\sf\textbf{AT:} #2}}
\newcommand{\ATside}[1]{\todo[color=red!20]{\small\sf\textbf{AT:} #1}}

%\newcommand{\anew}[1]{{\color{red}#1}}

\newcommand{\anew}[1]{#1}

\sloppy



\begin{document}

%%
%% The "title" command has an optional parameter,
%% allowing the author to define a "short title" to be used in page headers.
%\title{On the properties of Stateless Broadcast Algorithms for Synchronous Systems}

\title{Amnesiac Flooding: Easy to break, hard to escape}



%%
%% The "author" command and its associated commands are used to define
%% the authors and their affiliations.
%% Of note is the shared affiliation of the first two authors, and the
%% "authornote" and "authornotemark" commands
%% used to denote shared contribution to the research.
\author{Henry Austin}
\email{henry.b.austin@durham.ac.uk}
\orcid{}
\author{Maximilien Gadouleau}
\email{m.r.gadouleau@durham.ac.uk}
\orcid{0000-0003-4701-738X}
\author{George B. Mertzios}
\authornote{Supported by the EPSRC grant EP/P020372/1.}
\email{george.mertzios@durham.ac.uk}
\orcid{0000-0001-7182-585X}
\author{Amitabh Trehan}
\email{amitabh.trehan@durham.ac.uk}
\orcid{0000-0002-2998-0933}
\affiliation{%
  \institution{Department of Computer Science, University of Durham}
  \city{Durham}
  \country{UK}
}

%%
%% By default, the full list of authors will be used in the page
%% headers. Often, this list is too long, and will overlap
%% other information printed in the page headers. This command allows
%% the author to define a more concise list
%% of authors' names for this purpose.
\renewcommand{\shortauthors}{Henry Austin, Maximilien Gadouleau, George B. Mertzios, and Amitabh Trehan}

%%
%% The abstract is a short summary of the work to be presented in the
%% article.

\input{abstract_AT2}


%%
%% The code below is generated by the tool at http://dl.acm.org/ccs.cfm.
%% Please copy and paste the code instead of the example below.
%%
\begin{CCSXML}
<ccs2012>
 <concept>
  <concept_id>00000000.0000000.0000000</concept_id>
  <concept_desc>Do Not Use This Code, Generate the Correct Terms for Your Paper</concept_desc>
  <concept_significance>500</concept_significance>
 </concept>
 <concept>
  <concept_id>00000000.00000000.00000000</concept_id>
  <concept_desc>Do Not Use This Code, Generate the Correct Terms for Your Paper</concept_desc>
  <concept_significance>300</concept_significance>
 </concept>
 <concept>
  <concept_id>00000000.00000000.00000000</concept_id>
  <concept_desc>Do Not Use This Code, Generate the Correct Terms for Your Paper</concept_desc>
  <concept_significance>100</concept_significance>
 </concept>
 <concept>
  <concept_id>00000000.00000000.00000000</concept_id>
  <concept_desc>Do Not Use This Code, Generate the Correct Terms for Your Paper</concept_desc>
  <concept_significance>100</concept_significance>
 </concept>
</ccs2012>
\end{CCSXML}

\ccsdesc[500]{Mathematics of computing~Graph algorithms}
\ccsdesc[500]{Mathematics of computing~Discrete mathematics}
\ccsdesc[500]{Theory of computation~Graph algorithms analysis}
\ccsdesc[500]{Theory of computation~Distributed algorithms}

%%
%% Keywords. The author(s) should pick words that accurately describe
%% the work being presented. Separate the keywords with commas.
\keywords{Amnesiac flooding, Terminating protocol, Algorithm state, stateless protocol, Flooding algorithm, Network algorithms, Graph theory,  Termination, Communication, Broadcast.}
%% A "teaser" image appears between the author and affiliation
%% information and the body of the document, and typically spans the
%% page.

\received{20 February 2007}
\received[revised]{12 March 2009}
\received[accepted]{5 June 2009}

%%
%% This command processes the author and affiliation and title
%% information and builds the first part of the formatted document.
\maketitle

\newpage
\setcounter{page}{1}
% \pagenumbering{Arabic}
\input{introduction_AT2}

\anew{
\textbf{Organisation of the paper:} The initial part of the paper presents the required technical and motivational background, statements of our results and a technical outline of the more interesting proofs. The detailed proofs are presented in the appendix. Related work is presented in Section~\ref{sec: relatedwork}. Section~\ref{sec: Model} presents the model and notation required for the following technical sections. \emph{Uniqueness} of the algorithm is discussed in Section~\ref{sec: Uniqueness} with full proofs given in appendix~\ref{apx: Uniqueness}. We relax the conditions  individually to derive some more stateless protocols in Section~\ref{sec: relaxation} with the detailed proofs in appendix~\ref{apx: relaxed}. We present our work on the \emph{fault sensitivity} of amnesiac flooding in Section~\ref{sec: faults} with the detailed proofs in appendix~\ref{apx: faults}. However, for technical reasons, we give the full proof of ~\cref{thm:balance} earlier in appendix~\ref{apx: balance}. We end with our conclusions and pointers to future work in Section~\ref{sec: conclusions}.
}

\input{relatedwork_AT}

\section{Model and Notation}
\label{sec: Model}
Throughout this work we consider only finite, connected graphs on at least two nodes.
We denote the set $\{1,...,x\}$ by $[x]$ and $R(r,s)$ the Ramsey number such that any graph of size $R(r,s)$ contains either a clique on $r$ vertices or an independent set on $s$ vertices. In this work, we make use of a generic synchronous message passing model with several additional assumptions based on the truly stateless model of \cite{turau2020stateless}. In particular, nodes cannot maintain any additional information between rounds (such as routing information, previous participation in the flood or even a clock value), cannot hold onto messages and can only forward, not modify the messages.\\
%In this work, we make use of a generic synchronous message passing model with several additional assumptions based on the truly stateless model of \cite{turau2020stateless}. In particular, nodes cannot maintain any additional information between rounds (such as routing information, previous participation in the flood or even a clock), cannot hold onto messages and can only forward, not modify the messages.\\
Unless stated otherwise we do not assume that nodes have access to unique identifiers, however they have locally labelled ports that are distinguishable and totally orderable for both receiving and sending messages. When we do work with identifiers these identifiers are assumed to be unique and drawn from $[|V|+\kappa]$ for $\kappa>0$ a constant. However, we assume that individual nodes have access to arbitrarily powerful computation on information they do have.\\
We are principally interested in the problem of \textit{broadcast}, although we will occasionally consider the related \emph{multicast} problem \anew{i.e. there are multiple initiators who may potentially even wake up in different rounds with the same message to be broadcast}. For a graph $G=(V,E)$ and an \textit{initiator} set $I\subseteq V$ we say that a node is informed if it has ever received a message from a previously informed node (where initiators are assumed to begin informed). An algorithm \textit{correctly} solves broadcast (resp. multicast) on $G$ if for all singleton (resp. non-empty) initiator sets there exists a finite number of rounds after which all nodes will be informed. Unless specified otherwise, we assume that initiator nodes remain aware of their membership for only a single round. We say that an algorithm \textit{terminates} on $G=(V,E)$ if, for all valid initiator sets, there exists a finite round after which no further messages are sent (i.e. the communication network quiesces).\\
\anew{Formally, for the message $M$, we denote a \textit{configuration} of Amnesiac Flooding as follows:
\begin{definition}
A configuration of Amnesiac Flooding on graph $G=(V,E)$ is a collection of \textit{messages/edges} %\ATside{Should that be edges?} 
$S\subseteq \{(u,v)| uv \in E\}$ where $(u,v) \in S$ implies that in the current round $u$ sent a message to $v$.
\end{definition}
%on a graph $G=(V,E)$ by a collection of \textit{messages} $S\subseteq \{(u,v)| uv \in E\}$ where $(u,v) \in S$ implies that in the current round $u$ sent a message to $v$. 
Further, for $H$ a subgraph of $G$, we denote by $S_H$, $S$ restricted to $H$. We will refer to $u$ as the \emph{head} of the message and $v$ as its \emph{tail}.
Below, we define the operator $A_{I,G}:2^{V^2}\to 2^{V^2}$ to implement one round of Amnesiac Flooding on the given configuration:
\begin{definition} %\ATside{Fix this!}
%We then define the operator $A_{I,G}:2^{V^2}\to 2^{V^2}$ to implement one round of Amnesiac Flooding on the given configuration, where all nodes in $I$ become externally informed. 
The operator $A_{I,G}:2^{V^2}\to 2^{V^2}$ is defined as follows: The set $I$ of nodes initiate the broadcast. The message $(u,v) \in A_{I,G}(S)$ if  $uv \in E$, $(v,u)\notin S$ and either $\exists w \in V: (w,u) \in S$ or $u \in I$.
\end{definition}

We will drop the subscript when $G$ is obvious from context and $I=\emptyset$. The multicast termination result of \cite{hussak2023termination} in this notation can be expressed as follows:
\begin{lemma}[Multicast Amnesiac Flooding]
    For any graph $G=(V,E)$, and any finite sequence $I_1,...,I_k\subseteq V$, there exists $m \in \mathbb{N}$ such that $$A^m_{\emptyset,G}(A_{I_k,G}(...A_{I_1,G}(\emptyset)))=\emptyset.$$
\end{lemma}}
\input{Uniqueness}

\input{Relaxation}

\input{Fault_Tolerance}



\input{Conclusion}

\begin{acks}
We would like to acknowledge Danial Maqbool,  Durham University, for useful related work and discussion as a summer intern.
\end{acks}


%%
%% If your work has an appendix, this is the place to put it.
\appendix
\newpage
\begin{center}
    \huge{\textsc{Appendix}}\\
\end{center}
\medskip
%\AT{Please repeat the theorem statements for every theorem here so that the appendix is self-contained (besides possibly the need to refer to the Model section)}
The observant reader may notice that despite its statement being presented later in the body of the text, we prove \cref{thm:balance} first in the appendix.
We choose this ordering, as the result is used in one specific case in the proof of \cref{thm: Relaxation}.
\input{Balance_Proof}
\input{Uniqueness_Proofs}
\input{Relaxation_Proofs}
\input{Fault_Tolerance_Proofs}
\bibliographystyle{ACM-Reference-Format}
\bibliography{references}
\end{document}
\endinput
%%
%% End of file `sample-sigconf-authordraft.tex'.
