\subsubsection{Timed Transducer for $\varphi_1\until_{[a,b]}\varphi_2$}       
        We let $\automaton=(\loca,\linit,\clock,\allowbreak\alphbt,\trans, \lambda, \lacpt)$, where
        \begin{itemize}
            \item $\loca=\{l_0, l_1, l_2, l_3\}$ %\sout{where $observing=\{l_0, l_1, l_2, l_3\}$, $modifying=\{l4\}$ and $violation=\{l5\}$}
            
            \item $\linit=l_0$ 
            
            \item $\clock=\{c\}$
            
            \item $\allowbreak\alphbt= \{\varphi_1, \neg \varphi_1, \varphi_2, \neg \varphi_2\}$
            
            \item %$\trans=\{ \delta_1, \delta_2, \delta_3,\delta_4, \delta_5, \delta_6, \delta_7, \delta_8,\delta_9, \delta_{10},\delta_{11},\delta_{12} \}$
            $\trans=\{ \delta_1, \cdots ,\delta_{15} \}$
            
            %\item %\sout{$Inv(l_2): c<b$} \\
            %$Inv=\{(l_0,\emptyset),(l_1,\emptyset),(l_2,\emptyset), (l_3,\emptyset), (l_4, c<b), (l_4,\emptyset)\}$

            
            \item %$\lambda=\{\lambda_1, \lambda_2, \lambda_3, \lambda_4, \lambda_5, \lambda_6, \lambda_7, \lambda_8, \lambda_9, \lambda_{10}, \lambda_{11}, \lambda_{12}\}$
            $\lambda=\{\lambda_1,\cdots \lambda_{15}\}$
            \item $\lacpt=\{l_2\}$
        \end{itemize}
\begin{remark}
    The output labels $\lambda_i$ corresponding to the transition $\delta_i$ in Tables \ref{table:until} and \ref{table:release} represent the value of the signal outputted by the timed transducer such that the predicates are satisfied. For signals $(\signal_1, \cdots, \signal_k)$, and predicates $(\varphi_1, \cdots, \varphi_n)$, $\mu(\signal_s)'=\mu(\signal_s), \forall s= 1, \cdots, k$ represents that the value of all the signals is not modified by the timed transducer, however, $\varphi_p(\mu(\signal_i), \cdots, \mu(\signal_k))=true$ represents that the value of (some or all) the signals is (minimally) modified by the timed transducer to satisfy the proposition $p$.

    To simplify and clean up the Figures \ref{fig: until} and \ref{fig: release}, we denote $\mu(\signal_s)'=\mu(\signal_s), \forall s= 1, \cdots, k$ by simply $\top$ (meaning no change in signals value) and $\varphi_p(\mu(\signal_i), \cdots, \mu(\signal_k))=true$ by $\bot_p$ (meaning signals value changed to satisfy proposition $p$).
    
\end{remark}
    
        \begin{table}[H]
        \scalebox{0.9}{
        \begin{tabular}{@{}ccc@{}}
        \hline
        i & $\delta_i$                   & $\lambda_i$ \\ \hline
        1 & $(l_0, \varphi_1, \epsilon, c:=0, l_1)$ & $\mu(\signal_s)'=\mu(\signal_s), \forall s= 1, \cdots, k$  \\ 
        2 & $(l_0, \neg \varphi_1, \epsilon, c:=0, l_1)$ & $\varphi_1(\mu(\signal_i), \cdots, \mu(\signal_k))=true$ \\ 
        
        % 3 & $(l_1, \neg \varphi_1, c<a, \epsilon, l_2)$ & $\mu(x_1)=0.7 \land \mu(x_2)$  \\ 
        % 4 & $(l_1, \Sigma, c>b, \epsilon, l_5)$ & $vio$  \\ 
        
        3 & $(l_1, \varphi, c<a, \epsilon, l_1)$ & $\mu(\signal_s)'=\mu(\signal_s), \forall s= 1, \cdots, k$  \\ 
        4 & $(l_1, \neg \varphi, c <a, \epsilon, l_1)$ & $\varphi_1(\mu(\signal_i), \cdots, \mu(\signal_k))=true$  \\ 
        
        5 & $(l_1, \varphi \land \varphi_2, c=a, \epsilon, l_2)$ & $\mu(\signal_s)'=\mu(\signal_s), \forall s= 1, \cdots, k$  \\ 
        6 & $(l_1, \neg \varphi_1 \land \varphi_2, c=a, \epsilon, l_2)$ & $\varphi_1(\mu(\signal_i), \cdots, \mu(\signal_k))=true$  \\
        
        % 7 & $(l_1, \varphi_1 \land \varphi_2, c \geq a \text{ and } c \leq b , \epsilon, l_1)$ & $\mu(x_1) \land \mu(x_2)$  \\ 
        % 8 & $(l_1, \varphi_1 \land \neg \varphi_2, c=b, \epsilon, l_1)$ & $\mu(x_1) \land \mu(x_2)$  \\ 
        7 & $(l_1, \varphi_1 \land \neg \varphi_2, c =a, \epsilon, l_3)$ & $\mu(\signal_s)'=\mu(\signal_s), \forall s= 1, \cdots, k$ \\
        8 & $(l_1, \neg \varphi_1 \land \neg \varphi_2, c=a, \epsilon, l_3)$ & $\varphi_1(\mu(\signal_i), \cdots, \mu(\signal_k))=true$ \\
        
        9 & $(l_2, \Sigma, \epsilon, \epsilon, l_2)$ & $\mu(\signal_s)'=\mu(\signal_s), \forall s= 1, \cdots, k$  \\ 

        10 & $(l_3, \varphi \land \neg \varphi_2, c \geq a \text{ and } c<b , \epsilon, l_3)$ & $\mu(\signal_s)'=\mu(\signal_s), \forall s= 1, \cdots, k$  \\ 
        11 & $(l_3, \neg \varphi \land \neg \varphi_2, c \geq a \text{ and } c<b, \epsilon, l_3)$ & $\varphi_1(\mu(\signal_i), \cdots, \mu(\signal_k))=true$  \\ 
        
        12 & $(l_3, \varphi_1 \land \varphi_2, c \geq a \text{ and } c \leq b, \epsilon, l_2)$ & $\mu(\signal_s)'=\mu(\signal_s), \forall s= 1, \cdots, k$  \\
        13 & $(l_3, \neg \varphi_1 \land \varphi_2, c \geq a \text{ and } c \leq b, \epsilon, l_2)$ & $\varphi_1(\mu(\signal_i), \cdots, \mu(\signal_k))=true$  \\
        14 & $(l_3, \neg \varphi_1 \land \neg \varphi_2, c =b, \epsilon, l_2)$ & $\varphi_1(\mu(\signal_i), \cdots, \mu(\signal_k))=true $  \\
        & &$\land ~\varphi_2(\mu(\signal_i), \cdots, \mu(\signal_k))=true$\\
        15 & $(l_3, \varphi_1 \land \neg \varphi_2, c =b, \epsilon, l_2)$ & $\varphi_2(\mu(\signal_i), \cdots, \mu(\signal_k))=true$  \\
        
        % 16 & $(l_3, \Sigma, c>b, \epsilon, l_4)$ & $vio$  \\
        % 17 & $(l_4, \Sigma, \epsilon, \epsilon, l_4)$ & $vio$  \\
        \bottomrule
        \end{tabular}}
        \caption
        {Edges of Timed Transducer for $\varphi_1\until_{[a,b]}\varphi_2$ and their output labels.}
        \label{table:until}
        \end{table}





% \hscomment{I believe the label $\neg \varphi_1\land\varphi_2, c=b / \bot_1$ in transition from $l_3$ to $l_2$ should be modified into $\neg\varphi_1\land \varphi_2, a\le c\le b / \bot_1$. Let's discuss tomorrow!}
% \saucomment{yes, u r right, I modified it}
  \begin{figure}[H]
        \centering
        \begin{tikzpicture}[->,shorten >=1pt,auto,node distance=3.5cm,el/.style = {inner sep=2pt, align=left, sloped},every label/.append style = {font=\small},semithick,initial where=above]
			
			\tikzstyle{every node}=[font=\small]
			\tikzstyle{good state}=[circle,thick,draw=blue!75,fill=blue!20,minimum size=5mm,accepting]
			\tikzstyle{bad state}=[circle,thick,draw=red!75,fill=red!20,minimum size=3mm]
			\tikzstyle{dead state}=[rectangle,thick,draw=red!75,fill=red!20,minimum size=5mm]

            \node[initial, bad state]  at (0,0) (S0) {$l_0$};
            %\node[bad state] at (0,-1) (S1) {$l_1$};
            \node[bad state] at (0,-2) (S2) {$l_1$};
			\node[good state] at (-2.5,-5)  (S3) {$l_2$};
			\node[bad state] at (2.5,-5)  (S4)  {$l_3$};
			%\node[dead state] at (0,-5) (S5)  {$l4$};
			
0			\path (S0) edge node {$\begin{array}{c}\varphi_1, c:=0, / \top\\ \neg \varphi_1, c:=0, / \bot_1  \end{array}$}(S2)
            % (S1) edge node {$\begin{array}{c}\varphi_1, c<a /\top\\ \neg \varphi_1, c<a / \bot_1 \end{array}$} (S2)
            % edge [bend right=20] node [el,below] {$\Sigma, c>b/vio$} (S5)
            %%edge [bend right=70] node [el,below] {$\Sigma, c \geq a, c \leq b/vio$} (S5)
            
            (S2) edge [loop right] node  {$\begin{array}{c} \varphi_1, c<a / \top \\
            \neg \varphi_1, c<a/ \bot_1 \end{array}$} (S2)
            edge node [el,above] {$\begin{array}{c}\varphi_1 \land \varphi_2, c =a / \top\\
            \neg \varphi_1 \land \varphi_2, c =a / \bot_1\end{array}$} (S3)
            edge node [el,above] {$\begin{array}{c}\varphi_1 \land \neg \varphi_2, c=a / \top\\
            \neg \varphi_1 \land \neg \varphi_2, c=a / \bot_1
            \end{array}$} (S4)
            %edge node [el,above] {$\Sigma, c>b/vio$} (S5)

			(S3) edge [loop below] node {$\Sigma/ \top$} (S3)
            
            (S4) edge [loop right] node [el,above] {$\begin{array}{c}\varphi_1 \land \neg \varphi_2, c \geq a, c < b / \top\\ 
            \neg \varphi_1 \land \neg \varphi_2, c \geq a, c < b/ \bot_1  \end{array}$} (S4)
            edge node {$\begin{array}{c} \varphi_1 \land  \varphi_2, a \leq c \leq b / \top\\
            \neg \varphi_1 \land  \varphi_2, a \leq c \leq b / \bot_1\\
             \varphi_1 \land \neg \varphi_2, c = b / \bot_2\\
             \neg \varphi_1 \land \neg \varphi_2, c=b / \bot_1, \bot_2\end{array} $} (S3);
            %edge  node [el,above] {$\Sigma, c>b/vio$} (S5)
            
            %(S5) edge [loop below] node {$\Sigma/ vio$} (S5);
		\end{tikzpicture}
  \caption{Timed Transducer for $\varphi_1\until_{[a,b]}\varphi_2$}
  \label{fig: until}
  \end{figure}
    




    

  
  %   \begin{figure}[H]
  %       \centering
  %       \begin{tikzpicture}[->,shorten >=1pt,auto,node distance=3.5cm,el/.style = {inner sep=2pt, align=left, sloped},every label/.append style = {font=\small},semithick,initial where=above]
			
		% 	\tikzstyle{every node}=[font=\small]
		% 	\tikzstyle{good state}=[circle,thick,draw=blue!75,fill=blue!20,minimum size=5mm,accepting]
		% 	\tikzstyle{bad state}=[circle,thick,draw=red!75,fill=red!20,minimum size=3mm]
		% 	\tikzstyle{dead state}=[rectangle,thick,draw=red!75,fill=red!20,minimum size=5mm]

  %           \node[initial, good state]  at (0,1.5) (S4) {$l_1$};
  %           \node[bad state] (S0) {$l_0$};
		% 	\node[good state] at (-2.5,-5)  (S1) {$l_2$};
		% 	\node[bad state] at (2.5,-5)  (S2)  {$\begin{array}{c}\bm{l_3}\\ c<a\end{array}$};
		% 	\node[dead state] at (0,-6.5) (S3)  {$l4$};
			
		% 	\path (S0) edge node [el,above] {$\varphi_1 \land \varphi_2, c>a/ \mu(x_1) \land \mu(x_2)$}(S1)
  %           edge node [el,above] {$\varphi_1 \land \neg \varphi_2,c>a, c:=0/ \mu(x_1) \land \mu(x_2)$} (S2)  edge [loop right] node {$\top, c<a / \mu(x_1) \land \mu(x_2) $} (S3)    
            
  %           edge  node [el,above] {$\neg \varphi_1 / vio $} (S3)    
		% 	(S1) edge [loop left] node [el,above] {$\varphi_1 \land  \varphi_2/ \mu(x_1) \land \mu(x_2)$} (S1)
  %           edge node {$\varphi_1 \land \neg \varphi_2, c:=0/ \mu(x_1) \land \mu(x_2)$} (S2)
  %           edge [bend right] node [el,below] {$\neg \varphi_1 / vio$} (S3)   
		% 	(S2) edge [loop right] node [el,above] {$\begin{array}{c}\varphi_1 \land  \neg \varphi_2, c < a /\mu(x_1) \land \mu(x_2) \\ p_1 \land  \neg \varphi_2, c==a / \mu(x_1)=0.7 \land \mu(x_2)=0.7 \end{array}$} (S2)
  %           edge [bend left] node [el,above]{$\varphi_1 \land \varphi_2, c\leq a/ \mu(x_1) \land \mu(x_2)$} (S1) 
  %           edge [bend left] node [el,below] {$\begin{array}{c} \top, c>a/ vio\\ ~\neg \varphi_1/ vio\end{array}$} (S3)
  %           (S3) edge [loop below] node {$\top/ vio$} (S3)
            
  %           (S4) edge node {$\top, c:=0/ \mu(x_1) \land \mu(x_2)$} (S0);
		% \end{tikzpicture}
  % \end{figure}

