For each environment, we define a set of interested regions $\Qobj$, a subset of the $SE(3)$ space where object poses can be stable. Most of regions are defined by $SE(2)$ space which consists of x, y positions and rotation $\theta$ except a sink region in kitchen environment. For easier understanding, we provide the picture of each region in Figure \ref{fig:skill}.

% Sampling from the entire $\text{SE}(3)$ space is inefficient due to the need for extensive feasibility checks, as many poses result in collisions with the environment or are physically meaningless, such as objects floating mid-air. This unrestricted approach is computationally expensive and often produces irrelevant poses unsuitable for manipulation tasks. By defining $\{K.R\}_{K\in\mathcal{K}}$ based on the specific environment—such as a table or shelves—we ensure efficient sampling of feasible and task-relevant poses, reducing computational overhead while maintaining practicality.

% Each set of regions $\{K.R\}_{K\in\mathcal{K}}$ consists of multiple regions $(R^i_\mathcal{I}, R^i_\beta)$, where each region $(R^i_\mathcal{I}, R^i_\beta)$ can be represented in $\text{SE}(2)$. However, to show each region's difference, we express each region using $x, y, z$ and roll $\theta_x$, pitch $\theta_y$, yaw $\theta_z$. The specific regions for each environment are defined as follows.

\textbf{Card Flip Environment:} \label{env:card_flip_region_descript}
The space of stable and relevant object configurations, $\Qobj \subset \text{SE(3)}$, is defined as the union of two distinct regions, $R^\text{up}$ and $R^\text{down}$, where each region represents whether the upper part of the card faces up (toward the sky) or down (toward the ground): 
\[
\Qobj = R^\text{up} \cup R^\text{down}
\]
\[
R^\text{up} = \{(x, y, \theta, f_{\text{card}}) \mid 
x^{\text{table}}_{\text{min}} \le x \le x^{\text{table}}_{\text{max}}, 
y^{\text{table}}_{\text{min}} \le y \le y^{\text{table}}_{\text{max}}, 
-\pi \le \theta \le \pi, f_{\text{card}}=0\}.
\]
\[
R^\text{down} = \{(x, y, \theta, f_{\text{card}}) \mid 
x^{\text{table}}_{\text{min}} \le x \le x^{\text{table}}_{\text{max}}, 
y^{\text{table}}_{\text{min}} \le y \le y^{\text{table}}_{\text{max}}, 
-\pi \le \theta \le \pi, f_{\text{card}}=1\}.
\]
$x^{\text{table}}_{\text{min}}, x^{\text{table}}_{\text{max}}, y^{\text{table}}_{\text{min}}$, and $y^{\text{table}}_{\text{max}}$ indicate the table bounds with respect to the $x$- and $y$-axes. $f_{\text{card}} \in {0, 1}$ represents whether the region is up ($f_{\text{card}} = 0$) or down ($f_{\text{card}} = 1$).

%The first region, \(R^\text{unflip}\), consists of configurations where the card's top faces opposite the direction of gravity. The second region, \(R^\text{flip}\), includes configurations where the card's top faces in the same direction as gravity.

% \begin{itemize}
%     \item $R^\text{unflip}$: 
%     \[
%     \{(x, y, z, \theta_x, \theta_y, \theta_z) \mid x \in [0.35, 0.65], y \in [-0.15, 0.15], z = 0.4025, \theta_x = 0, \theta_y = 0, \theta_z \in [0, 2\pi] \}.
%     \] 
%     \item $R^\text{flip}$: 
%     \[
%     \{(x, y, z, \theta_x, \theta_y, \theta_z) \mid x \in [0.35, 0.65], y \in [-0.15, 0.15], z = 0.4025, \theta_x = \pi, \theta_y = 0, \theta_z \in [0, 2\pi] \}.
%     \]
% \end{itemize}

% The two regions, \(R^\text{up}\) and \(R^\text{down}\), are mutually exclusive, $R^\text{up} \cap R^\text{down} = \emptyset$. The space of stable and relevant object configurations is defined as \(\Qobj = R^\text{up} \cup R^\text{down}\).

% \textbf{Bookshelf Environment:} \label{env:bookshelf_region_descript}
% The space of stable and relevant object configurations, \(\Qobj\), is defined as the union of two distinct regions: \(R^{\text{uppershelf}}\) and \(R^{\text{lowershelf}}\). The region \(R^{\text{uppershelf}}\) consists of object poses where the object is positioned on the upper shelf. The region \(R^{\text{lowershelf}}\) consists of object poses where the object is positioned on the lower shelf. The region \(R^{\text{uppershelf}}\) is determined by the \(y\)-value of the initial object pose, \(s_0.q_\text{obj}.y\).

% \begin{itemize}
%     \item $R^{\text{uppershelf}}$: 
%     \[
%     \{(x, y, z, \theta_x, \theta_y, \theta_z) \mid 
%     \]
%     \[
%     x = 0.75 + \frac{0.07}{2} (\cos(\theta_z) - 1) - \frac{0.1}{2} \sin(\theta_z),
%     \]
%     \[
%      z = 0.56 + 0.07 \sin(\theta_z) + 0.10 (\cos(\theta_z) - 1)
%     \]
%     \[
%     y = s_0.q_\text{obj}.y, \theta_x = \frac{\pi}{2}, \theta_y = 0, \theta_z \in [0.0, 0.7] \}.
%     \]
%     \item $R^{\text{lowershelf}}$: 
%     \[
%     \{(x, y, z, \theta_x, \theta_y, \theta_z) \mid x \in [0.67, 0.76] , y \in [-0.08, 0.08], 
%     \]
%     \[
%       z = 0.315, \theta_x = 0, \theta_y = 0, \theta_z \in [-0.17, 0.17] \}.
%     \]
% \end{itemize}

% The two regions, \(R^\text{uppershelf}\) and \(R^\text{lowershelf}\), are mutually exclusive, $R^\text{up} \cap R^\text{down} = \emptyset$. The space of stable and relevant object configurations is defined as \(\Qobj = R^\text{uppershelf} \cup R^\text{lowershelf}\).


\textbf{Bookshelf Environment:} \label{env:bookshelf_region_descript} In the bookshelf, \(\Qobj \subset \text{SE(3)}\) is defined as the union of two distinct regions, $R^\text{uppershelf}$ and $R^\text{lowershelf}$ where each region represents the stable book poses on the upper shelf or lower shelf of the box.
\[
\Qobj = R^\text{uppershelf} \cup R^\text{lowershelf}
\]
\[
R^\text{uppershelf} = \{(x, y, \theta, f_{\text{bookshelf}}) \mid 
x = x_\text{init} + \frac{l_{\text{book}}}{2} (\cos(\theta) - 1) - \frac{h_{\text{book}}}{2} \sin(\theta), 
y = y_{\text{init}}, 
0 \le \theta \le \theta^{\text{uppershelf}}_{\text{max}}, f_{\text{bookshelf}}=0\}.
\]
\[
R^\text{lowershelf} = \{(x, y, \theta, f_{\text{bookshelf}}) \mid 
x^{\text{lowershelf}}_{\text{min}} \le x \le x^{\text{lowershelf}}_{\text{max}}, 
y^{\text{lowershelf}}_{\text{min}} \le y \le y^{\text{lowershelf}}_{\text{max}}, 
\theta^{\text{lowershelf}}_{\text{min}} \le \theta \le \theta^{\text{lowershelf}}_{\text{max}}, f_{\text{bookshelf}}=1\}.
\]
In $R^{\text{uppershelf}}$, $x$ is calculated by the change in $x$ due to the object's toppling rotation $\theta$, where $x_\text{init}$, $l_{\text{book}}$, and $h_{\text{book}}$ represent the initial $x$ position, the length, and the height of the book, respectively. $y$ of the book is same to $y_{\text{init}}$, the initial $y$ position of the book. $\theta^{\text{uppershelf}}_{\text{max}}$ indicate the maximum toppling rotation for the book to remain stable under gravity in simulation. $x^{\text{lowershelf}}_{\text{min}}, x^{\text{lowershelf}}_{\text{max}}, y^{\text{lowershelf}}_{\text{min}}, y^{\text{lowershelf}}_{\text{max}}, \theta^{\text{lowershelf}}_{\text{min}}$, and $\theta^{\text{lowershelf}}_{\text{max}}$ indicate the lower shelf bounds with respect to the $x$- and $y$-axes and the rotation bounds within the box. $f_{\text{bookshelf}} \in {0, 1}$ represents whether the region corresponds to the upper shelf ($f_{\text{bookshelf}} = 0$) or the lower shelf ($f_{\text{bookshelf}} = 1$).

% \textbf{Kitchen Environment:} \label{env:kitchen_region_descript} 
% The space of stable and relevant object configurations, \(\Qobj\), is defined as the union of three distinct regions: \(R^{\text{sink}}\), \(R^{\text{shelf}}_\text{left}\), and \(R^{\text{shelf}}_\text{right}\). The region \(R^{\text{sink}}\) consists of object poses where the object is positioned in the sink. The region \(R^{\text{shelf}}_\text{left}\) consists of object poses where the object is positioned on the left shelf. The region \(R^{\text{shelf}}_\text{right}\) consists of object poses where the object is positioned on the right shelf.

%     \begin{itemize}
%         \item $R^{\text{sink}}$: \[
%     \{(x, y, z, \theta_x, \theta_y, \theta_z) \mid x \in [0.4705, 0.5722], y \in [-0.2285, -0.1163]
%     \]
%     \[
%     z = \{0.464, 0.472\}, \theta_x = \{0, \pi/2, 3\pi/2, 2\pi\}, \theta_y \in \{[0, \pi/6], [3\pi/2, 2\pi]\} \theta_z \in \{[0, 2\pi/3]. [5\pi/6, 7\pi/6], [4\pi/3, 2\pi]\}
%     \]
%         \item $R^{\text{shelf}}_\text{left}$: \[
%     \{(x, y, z, \theta_x, \theta_y, \theta_z) \mid x \in [0.5585, 0.6285], y \in [0.2205, 0.2805]
%     \]
%     \[
%     z = 0.8604, \theta_x = 0, \theta_y = 0, \theta_z \in [5\pi/6, 7\pi/6]\}.
%     \] 
%         \item $R^{\text{shelf}}_\text{right}$: \[
%     \{(x, y, z, \theta_x, \theta_y, \theta_z) \mid x \in [0.5585, 0.6285], y \in [-0.2805, -0.2205]
%     \]
%     \[
%     z = 0.8604, \theta_x = 0, \theta_y = 0, \theta_z \in [5\pi/6, 7\pi/6]\}.
%     \]
%     \end{itemize}

% The three regions, \(R^{\text{sink}}\), \(R^{\text{shelf}}_\text{left}\), and \(R^{\text{shelf}}_\text{right}\), are mutually exclusive, \(R^{\text{sink}} \cap R^{\text{shelf}}_\text{left} = \emptyset\), \(R^{\text{sink}} \cap R^{\text{shelf}}_\text{right} = \emptyset\), and \(R^{\text{shelf}}_\text{left} \cap R^{\text{shelf}}_\text{right} = \emptyset\). The space of stable and relevant object configurations is defined as \(\Qobj = R^{\text{sink}} \cup R^{\text{shelf}}_\text{left} \cup R^{\text{shelf}}_\text{right}\).

\textbf{Kitchen Environment:} \label{env:bookshelf_region_descript} \(\Qobj \subset \text{SE(3)}\) of the kitchen is defined as the union of three distinct regions: $R^\text{sink}, R^\text{l-cupboard}$, and $R^\text{r-cupboard}$, where each region represents the stable cup poses in the sink, left shelf, or right shelf. Unlike the other regions, $R^\text{sink}$ cannot be represented by $SE(2)$ space due to the asymmetric shapes of the cup and sink. Therefore, $R^\text{sink}$ is defined as a set of discrete poses generated by dropping the cup into the sink.
\[
\Qobj = R^\text{sink} \cup R^\text{l-cupboard} \cup R^\text{r-cupboard}
\]
\[
R^\text{sink}=\{q^1_{\text{obj}}, q^2_{\text{obj}}, ..., q^M_{\text{obj}}\}
\]
\[
R^\text{l-cupboard} = \{(x, y, \theta, f_{\text{kitchen}}) \mid 
x^{\text{l-cupboard}}_{\text{min}} \le x \le x^{\text{l-cupboard}}_{\text{max}}, 
y^{\text{l-cupboard}}_{\text{min}} \le y \le y^{\text{l-cupboard}}_{\text{max}}, 
\theta^{\text{l-cupboard}}_{\text{min}} \le \theta \le \theta^{\text{l-cupboard}}_{\text{max}}, f_{\text{kitchen}}=0\}.
\]
\[
R^\text{r-cupboard} = \{(x, y, \theta, f_{\text{kitchen}}) \mid 
x^{\text{r-cupboard}}_{\text{min}} \le x \le x^{\text{r-cupboard}}_{\text{max}}, 
y^{\text{r-cupboard}}_{\text{min}} \le y \le y^{\text{r-cupboard}}_{\text{max}}, 
\theta^{\text{r-cupboard}}_{\text{min}} \le \theta \le \theta^{\text{r-cupboard}}_{\text{max}}, f_{\text{kitchen}}=1\}.
\]
$x^{\text{l-cupboard}}_{\text{min}}, x^{\text{l-cupboard}}_{\text{max}}, y^{\text{l-cupboard}}_{\text{min}}, y^{\text{l-cupboard}}_{\text{max}}$, and $\theta^{\text{l-cupboard}}_{\text{max}}$ indicate the upper shelf bounds with respect to the $x$- and $y$-axes and the rotation limits. $x^{\text{r-cupboard}}_{\text{min}}, x^{\text{r-cupboard}}_{\text{max}}, y^{\text{r-cupboard}}_{\text{min}}, y^{\text{r-cupboard}}_{\text{max}}, \theta^{\text{r-cupboard}}_{\text{min}}$, and $\theta^{\text{r-cupboard}}_{\text{max}}$ indicate the upper shelf bounds with respect to the $x$- and $y$-axes and the rotation limits. $f_{\text{kitchen}} \in {0, 1}$ represents whether the region corresponds to the left shelf ($f_{\text{kitchen}} = 0$) or the right shelf ($f_{\text{kitchen}} = 1$).

The real values of each parameter are summarized in Table \ref{table:region_params}.

\input{tables/appendix/region_params}