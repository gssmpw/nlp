\begin{algorithm}[H]
\caption{\texttt{ConcreteExtend}}\label{algo:Extend}
\begin{algorithmic}[1]

\Procedure{\texttt{ConcreteExtend}}{$T, v_{\text{near}}, o, {q}^{\text{obj}}_{sg}, d^\text{robot}, d^\text{obj},$ 
\hspace*{18em} $ \epsilon^\text{robot},\epsilon^\text{obj}, C$}
    \State $c \gets \texttt{GetConnector}(o,, \mathcal{O}, C)$
    \State ${q}^{\text{robot}}_{\text{sg}} \gets o.\pi^{\text{pre}}(v_{\text{near}}.q^{\text{obj}}_\text{pose}, {q}^{\text{obj}}_{sg})$
    \State $(q^{\text{obj}}_\text{pose})^c,(q^{\text{obj}}_\text{vel})^c, (q^{\text{robot}}_\text{pos})^c, (q^{\text{robot}}_\text{vel})^c \gets \texttt{simulate}( c.\pi^{c}$
    
    \hspace*{16.5em}$, v_{\text{near}}, {q}^{\text{robot}}_{\text{sg}})$

    \If{$\textbf{not } d^\text{robot}((q^\text{robot}_\text{pos})^c, q^\text{robot}_\text{sg}) < \epsilon^\text{robot}$}
        \State \Return $T$
    \EndIf

    \State ${v^c_{\text{new}}} \gets \{c, q^{\text{robot}}_\text{sg}, (q^{\text{obj}}_\text{pose})^c,(q^{\text{obj}}_\text{vel})^c, (q^{\text{robot}}_\text{pos})^c, (q^{\text{robot}}_\text{vel})^c\}$

    \State $q^{\text{obj}}_\text{pose},q^{\text{obj}}_\text{vel}, q^{\text{robot}}_\text{pos}, q^{\text{robot}}_\text{vel} \gets \texttt{simulate}(o.\pi, v^c_\text{new}, {q}^{\text{obj}}_{sg})$

    \If{\textbf{not} $d^\text{obj}({q}^{\text{obj}}_\text{pose}, {q}^{\text{obj}}_{sg}) < \epsilon^\text{obj} $}
        \State \Return $T$
    \EndIf

    \State ${v_{\text{new}}} \gets \{o, q^\text{obj}_{sg}, q^{\text{obj}}_\text{pose},q^{\text{obj}}_\text{vel}, q^{\text{robot}}_\text{pos}, q^{\text{robot}}_\text{vel}\}$
    \State $T$.AddNodes$({v}_{\text{new}})$
    \State $T$.AddNodes$({v}^c_{\text{new}})$

    \State $v_{\text{new}}.\text{parent} = v^c_{\text{new}}$
    \State $v^c_{\text{new}}.\text{parent} = v_{\text{near}}$

    \State \Return $T$
\EndProcedure

\end{algorithmic}
\end{algorithm}
