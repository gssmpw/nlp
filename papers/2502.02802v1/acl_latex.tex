% This must be in the first 5 lines to tell arXiv to use pdfLaTeX, which is strongly recommended.
\pdfoutput=1
% In particular, the hyperref package requires pdfLaTeX in order to break URLs across lines.

\documentclass[11pt]{article}

% Change "review" to "final" to generate the final (sometimes called camera-ready) version.
% Change to "preprint" to generate a non-anonymous version with page numbers.
% \usepackage[review]{acl}
\usepackage[final]{acl}

% Standard package includes
\usepackage{times}
\usepackage{latexsym}

% For proper rendering and hyphenation of words containing Latin characters (including in bib files)
\usepackage[T1]{fontenc}
% For Vietnamese characters
% \usepackage[T5]{fontenc}
% See https://www.latex-project.org/help/documentation/encguide.pdf for other character sets

% This assumes your files are encoded as UTF8
\usepackage[utf8]{inputenc}

% This is not strictly necessary, and may be commented out,
% but it will improve the layout of the manuscript,
% and will typically save some space.
\usepackage{microtype}

% This is also not strictly necessary, and may be commented out.
% However, it will improve the aesthetics of text in
% the typewriter font.
\usepackage{inconsolata}

%Including images in your LaTeX document requires adding
%additional package(s)
\usepackage{graphicx}

%custom packages
\usepackage{algorithm}
\usepackage{algorithmic}
\usepackage{tabularx}
\usepackage{booktabs}
\usepackage{colortbl}
\usepackage{multirow}
\usepackage{amsmath}

% If the title and author information does not fit in the area allocated, uncomment the following
%
%\setlength\titlebox{<dim>}
%
% and set <dim> to something 5cm or larger.

\title{Consistent Client Simulation for Motivational Interviewing-based Counseling}

% Author information can be set in various styles:
% For several authors from the same institution:
% \author{Author 1 \and ... \and Author n \\
%         Address line \\ ... \\ Address line}
% if the names do not fit well on one line use
%         Author 1 \\ {\bf Author 2} \\ ... \\ {\bf Author n} \\
% For authors from different institutions:
% \author{Author 1 \\ Address line \\  ... \\ Address line
%         \And  ... \And
%         Author n \\ Address line \\ ... \\ Address line}
% To start a separate ``row'' of authors use \AND, as in
% \author{Author 1 \\ Address line \\  ... \\ Address line
%         \AND
%         Author 2 \\ Address line \\ ... \\ Address line \And
%         Author 3 \\ Address line \\ ... \\ Address line}

% \author{First Author \\
%   Affiliation / Address line 1 \\
%   Affiliation / Address line 2 \\
%   Affiliation / Address line 3 \\
%   \texttt{email@domain} \\\And
%   Second Author \\
%   Affiliation / Address line 1 \\
%   Affiliation / Address line 2 \\
%   Affiliation / Address line 3 \\
%   \texttt{email@domain} \\}

\author{
 \textbf{Yizhe Yang\textsuperscript{1}~\thanks{Work was done during a visit at SMU.}},
 \textbf{Palakorn Achananuparp\textsuperscript{2}},
 \textbf{Heyan Huang\textsuperscript{1}~\thanks{Corresponding Author}},
 \textbf{Jing Jiang\textsuperscript{3}},
\\
 \textbf{John Pinto\textsuperscript{4}},
 \textbf{Jenny Giam\textsuperscript{5}},
 \textbf{Kit Phey Leng \textsuperscript{6}},
 \textbf{Nicholas Gabriel Lim \textsuperscript{7}},
 \\
 \textbf{Cameron Tan Shi Ern \textsuperscript{8}},
 \textbf{Ee-peng Lim\textsuperscript{2}}
% \\
%  \textbf{Ninth Author\textsuperscript{1}},
%  \textbf{Tenth Author\textsuperscript{1}},
%  \textbf{Eleventh E. Author\textsuperscript{1,2,3,4,5}},
%  \textbf{Twelfth Author\textsuperscript{1}},
% \\
%  \textbf{Thirteenth Author\textsuperscript{3}},
%  \textbf{Fourteenth F. Author\textsuperscript{2,4}},
%  \textbf{Fifteenth Author\textsuperscript{1}},
%  \textbf{Sixteenth Author\textsuperscript{1}},
% \\
%  \textbf{Seventeenth S. Author\textsuperscript{4,5}},
%  \textbf{Eighteenth Author\textsuperscript{3,4}},
%  \textbf{Nineteenth N. Author\textsuperscript{2,5}},
%  \textbf{Twentieth Author\textsuperscript{1}}
\\
\\
 \textsuperscript{1}Beijing Institute of Technology,
 \textsuperscript{2}Singapore Management University,
 \textsuperscript{3}Australian National University, 
 \\
 \textsuperscript{4}ThoughtFull,
 \textsuperscript{5}Singapore Institute of Technology,
 \textsuperscript{6}National Institute of Education,
 \\
 \textsuperscript{7}Singapore University of Social Sciences,
 \textsuperscript{8}National University of Singapore
\\
 \small{
   % \textbf{Correspondence:} \href{mailto:email@domain}{email@domain}
   \{yizheyang,hhy63\}@bit.edu.cn, \{palakorna,eplim\}@smu.edu.sg, jing.jiang@anu.edu.au
 }
}

\begin{document}
\maketitle
\begin{abstract}
Simulating human clients in mental health counseling is crucial for training and evaluating counselors (both human or simulated) in a scalable manner. Nevertheless, past research on client simulation did not focus on complex conversation tasks such as mental health counseling. In these tasks, the challenge is to ensure that the client's actions (i.e., interactions with the counselor) are consistent with with its stipulated profiles and negative behavior settings. In this paper, we propose a novel framework that supports consistent client simulation for mental health counseling. Our framework tracks the mental state of a simulated client, controls its state transitions, and generates for each state behaviors consistent with the client's motivation, beliefs, preferred plan to change, and receptivity.  By varying the client profile and receptivity, we demonstrate that consistent simulated clients for different counseling scenarios can be effectively created.  Both our automatic and expert evaluations on the generated counseling sessions also show that our client simulation method achieves higher consistency than previous methods.
\end{abstract}

\input{sections/introduction}

\input{sections/related_work}

\input{sections/client_simulation_framework}

\input{sections/experiment}

\section{Conclusion}
In this paper, we focus on client simulation for Motivational Interviewing (MI) counseling, a complex scenario where the client should exhibit varied behaviors in different counseling stages. We introduce a consistent client simulation framework that integrates state tracking and action selection with an LLM to accurately mimic the behaviors of real clients according to given profiles. Based on our framework, we develop a client simulation method that supports changes of client states consistent with real world MI-counseling using state transition control, and utterances consistent with real world client's profile using action and information selection modules. These modules utilizes action distribution from real datasets for different levels of receptivity. The action selection mechanism incorporates both context-aware and (state,receptivity)-aware action distributions, to align with the expected client behavior. Extensive evaluations using GPT-4 and human assessments demonstrate the high consistency of our method with real clients, outperforming the existing client simulation methods. With our client simulation framework, we believe that more realistic simulated clients can be implemented for training and evaluating counselors.

\section*{Limitations}
Although our simulation framework shows potential for future use in counseling, there are three main limitations to this work. 

Similar to other LLM prompting approaches, our framework also suffers from prompt sensitivity, as it incorporates multiple steps of prompting, which may lead to error accumulation. To mitigate such sensitivity, we employ a few-shot method to formulate our prompts. The design of effective prompts and their evaluation are therefore important areas for further research.

This paper focuses on client simulation only.  As a good counseling session also depends on the performance of counselor, we also need to develop highly competent counselor agents and evaluate them. Nevertheless, without a diverse set of clients, it is very difficult to meet this objective. In our future work, we will therefore leverage our client simulation framework to design better counselor agents and to develop a robust approach to evaluate their counseling skills.

Our current study focuses on real client simulation and conduct experiments on a single dataset (i.e. AnnoMI). We also restrict our study to MI approach to counseling.  Our work however can be easily extended to involve more real world counseling datasets as long as privacy and ethical concerns are addressed. We can also extend our framework to accommodate other counseling approaches (e.g., Cognitive behavioral therapy) as it is quite common for experienced counselors to apply a mixture of different approaches in a single counseling session so that to both personalize to the real clients and achieve the best outcome. 

\section*{Ethics Statement}
For the revision of the framework and any related annotation work, we conducted a thorough survey of psychological knowledge and datasets pertaining to motivational interviewing counseling. All annotations were performed by our co-authors.

%\section{Acknowledgment}
%This research / project is supported by the Singapore’s Ministry of Health’s National Medical Research Council under its Population Health Research Grant Thematic Category (PHRGTC-5-005). Any opinions, findings and conclusions or recommendations expressed in this material are those of the author(s) and do not reflect the views of MOH/NMRC

% Bibliography entries for the entire Anthology, followed by custom entries
%\bibliography{anthology,custom}
% Custom bibliography entries only
\bibliography{custom}

\appendix

\input{sections/data_annotation}

\input{sections/human_annotation}

\input{sections/more_evaluation}

\input{sections/implement}

\input{sections/case}

\end{document}
