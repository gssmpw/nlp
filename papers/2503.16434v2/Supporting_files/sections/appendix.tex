\newpage
\appendix

\section{Appendix}



\vspace{5mm}


\subsection{Mathematical Calculations via Code Execution}
\label{sec:code_exec}

As shown in Figure \ref{fig:code_exec_calculus} and Figure \ref{fig:code_exec_arithmetic}, \name\ uses code execution to perform calculations which reduces calculation errors, providing more accurate responses to the user.


\begin{figure}[h]
    \centering
    \fbox{\includegraphics[width=0.3\textwidth]{Supporting_files/figures/code_exec_calculus.png}}
    \caption{To check the value of an integral, \name\ uses the trapezoidal rule to perform numerical integration by writing a Python program using \texttt{scipy.integrate}.}
    \label{fig:code_exec_calculus}
\end{figure}

\begin{figure}[h]
    \centering
    \fbox{\includegraphics[width=0.3\textwidth]{Supporting_files/figures/code_exec_arithmetic.png}}
    \caption{To solve for the side length of the base of a square prism, \name\ writes the formula for the volume of a square prism in Python, substitutes the values for volume and height from the question, and executes the code to correctly calculate the side length.}
    \label{fig:code_exec_arithmetic}
\end{figure}


\subsection{User Study Questionnaire}

\begin{figure}
    \centering
    \fbox{\includegraphics[width=0.3\textwidth]{Supporting_files/figures/questionnaire1.png}}
    \hfill
    \fbox{\includegraphics[width=0.3\textwidth]{Supporting_files/figures/questionnaire2.png}}
    \hfill
    \fbox{\includegraphics[width=0.3\textwidth]{Supporting_files/figures/questionnaire3.png}}
    \caption{Subset of questions from the user study questionnaire focusing on usability and learning experience. The questions use a 5-point Likert scale, Yes/No choice, and open-ended responses to evaluate the participants' experiences with the interactive system. Responses to these questions provide quantitative and qualitative data for evaluating the system's effectiveness.}
    \label{fig:user_study}
\end{figure}


\onecolumn
\section{Prompts}

\subsection{System Prompt for Hint Generation \& Visualization Generation using Code}
\label{subsec:system_prompt_hint_viz}

\begin{figure}[H]
\lstinputlisting{Supporting_files/system_prompt_for_hint.txt}
    %\caption{System Prompt for Hint Generation. The system prompt used for generating hints along with the code for visualizations.}
\end{figure}
\newpage

\subsection{Prompt for Geometry3k} The prompt used for generating visualizations for the Geometry3k dataset, adapted from Visual Sketchpad \cite{hu2024visual}
\lstinputlisting{Supporting_files/geometry3k_prompt.txt}

%\newpage
\subsection{System Prompt for Direct Problem Solving}
The system prompt used for comparing performance against Visual Sketchpad on the IsoBench dataset.

\lstinputlisting{Supporting_files/problem_solving_prompt.txt}
\label{subsec:prompt_solve_problem}

\subsection{Prompt Footer for IsoBench}
\label{prompt_footer}

The following prompt footer was appended to all of the task specific prompts used in IsoBench.
\lstinputlisting{Supporting_files/prompt_footer.txt}
