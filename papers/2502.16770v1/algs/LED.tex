
\begin{algorithm}[!ht]
    \caption{LED-Merging}
    \label{alg1}
    \begin{algorithmic}[1]
        \REQUIRE  base model $\boldsymbol{\theta}_{\rm{base}}$, SFT models $\{\boldsymbol{\theta}_{i}\mid i\in [K]\}$, mask ratios \{$r_{i} \mid i\in [K]\}$, scaling factors $\{\lambda_i\mid i\in[K]\}$, location datasets $\{\mathcal{X}_{i}\mid i\in[K]\}$
        \ENSURE merged parameter $\boldsymbol{\theta}_{m}$
        \STATE $\mathcal{M}\leftarrow\phi$
        \STATE $\boldsymbol{\theta}_{m}\leftarrow \boldsymbol{\theta}_{\rm{base}}$
        \FOR{$i\in [K]$}
        \STATE $I(\boldsymbol{\theta}_i)=\mathbb{E}_{x\sim \mathcal{X}_i}|\boldsymbol{\theta}_{i}\odot \nabla_{\boldsymbol{\theta}_i}\mathcal{L}(x)|$
        \STATE $I(\boldsymbol{\theta}_{\rm{base}})=\mathbb{E}_{x\sim \mathcal{X}_i}|\boldsymbol{\theta}_{\rm{base}}\odot \nabla_{\boldsymbol{\theta}_{\rm{base}}}\mathcal{L}(x)|$
        
        \STATE calculate $\mathcal{T}^{r_i}_{i}$ following Equation \ref{vote}
        \STATE  $\mathcal{M}\leftarrow \mathcal{M}\cup\{\mathcal{T}^{r_i}_i\}$
       
        
   
        
        
        \ENDFOR  
        \FOR{$i\in [K]$}
        
        \STATE calculate $\text{Disjoint}(\mathcal{T}_i^{r_i})$ use Equation~\ref{disjoint_safety}
        \STATE $\boldsymbol{m}_i \leftarrow \boldsymbol{0}$
        \FOR{$d\in \mathcal{T}_i^{r_i}$}
        \STATE $\boldsymbol{m}_{i,d}=1$
        \ENDFOR
        \STATE $\boldsymbol{\theta}_{m}\leftarrow \boldsymbol{\theta}_{m}+\lambda_i \boldsymbol{\tau}_i\odot \boldsymbol{m}_{i}$
        \ENDFOR
    \end{algorithmic}
\end{algorithm}
    %\vspace{-5pt}