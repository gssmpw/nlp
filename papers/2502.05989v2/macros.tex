\usepackage[noend]{algpseudocode} 
\usepackage{circuitikz}
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{tikz-cd}
\usepackage{tikz}
\usepackage{adjustbox}
\usepackage{subcaption}
\usepackage{cleveref}
\usepackage{epigraph}
\usepackage{float}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{cancel}
\usepackage{svg}
\usepackage{csvsimple}
\usepgflibrary{patterns} 
\usetikzlibrary{patterns.meta}
\usepackage{seqsplit}
\usetikzlibrary{matrix, positioning, chains,fit,shapes, math, calc, petri,      automata, fit, positioning, matrix, arrows.meta, arrows, decorations.pathmorphing, shapes, shapes.multipart, chains, shadows.blur, decorations.pathreplacing}


\DeclareMathOperator{\Ima}{Im}
\definecolor{darkred}{rgb}{0.8,0,0}

\newcommand{\E}{\mathbb{E}}
\newcommand{\Var}{\mathrm{Var}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}
\newcommand{\PS}[1]{\mathcal{P}(#1)}
\newcommand{\rle}[1]{\textsf{Rule #1}}
\newcommand{\pf}{\text{pf}}
\newcommand{\spacetime}{\text{st}}
\newcommand{\id}{\text{ID}}
\newcommand{\gol}{\textsf{Game of Life}}

\newcommand{\radiuszero}{
    \begin{tikzpicture}
        \tikzset{
          square matrix/.style={
            matrix of nodes,
            column sep=-\pgflinewidth, row sep=-\pgflinewidth,
            nodes={
              rectangle,
              draw=black,
              anchor=center,
              align=center,    
              inner sep=1pt
            },
            b/.style={draw, fill=black, minimum size=0.5em},
            w/.style={draw,  minimum size=0.5em},
            g/.style={draw, fill=gray, minimum size=0.5em}
          },
          square matrix/.default=1em
        }
        
        \matrix[square matrix, ampersand replacement=\&]
        {
        |[w]| \& |[b]| \& |[w]| \\
        };
    %
    \end{tikzpicture}
}


\newcommand{\oneway}{
    \begin{tikzpicture}
        \tikzset{
          square matrix/.style={
            matrix of nodes,
            column sep=-\pgflinewidth, row sep=-\pgflinewidth,
            nodes={
              rectangle,
              draw=black,
              anchor=center,
              align=center,    
              inner sep=1pt
            },
            b/.style={draw, fill=black, minimum size=0.5em},
            w/.style={draw,  minimum size=0.5em},
            g/.style={draw, fill=gray, minimum size=0.5em}
          },
          square matrix/.default=1em
        }
        
        \matrix[square matrix, ampersand replacement=\&]
        {
        |[g]| \& |[b]| \& |[w]| \\
        };
    %
    \end{tikzpicture}
}

\newcommand{\radiusone}{
    \begin{tikzpicture}
        \tikzset{
          square matrix/.style={
            matrix of nodes,
            column sep=-\pgflinewidth, row sep=-\pgflinewidth,
            nodes={
              rectangle,
              draw=black,
              anchor=center,
              align=center,    
              inner sep=1pt
            },
            b/.style={draw, fill=black, minimum size=0.5em},
            w/.style={draw,  minimum size=0.5em},
            g/.style={draw, fill=gray, minimum size=0.5em}
          },
          square matrix/.default=1em
        }
        
        \matrix[square matrix, ampersand replacement=\&]
        {
        |[g]| \& |[b]| \& |[g]| \\
        };
    %
    \end{tikzpicture}
}

\newcommand{\vonNeumann}{
    \begin{tikzpicture}
        \tikzset{
          square matrix/.style={
            matrix of nodes,
            column sep=-\pgflinewidth, row sep=-\pgflinewidth,
            nodes={
              rectangle,
              draw=black,
              anchor=center,
              align=center,    
              inner sep=1pt
            },
            b/.style={draw, fill=black, minimum size=0.5em},
            w/.style={draw,  minimum size=0.5em},
            g/.style={draw, fill=gray, minimum size=0.5em}
          },
          square matrix/.default=1em
        }
        
        \matrix[square matrix, ampersand replacement=\&]
        {
        %
        |[w]| \& |[g]| \& |[w]| \\
        %
        |[g]| \& |[b]| \& |[g]| \\
        %
        |[w]| \& |[g]| \& |[w]| \\
        };
    %
    \end{tikzpicture}
}

\newcommand{\Custom}[5]{
    \begin{tikzpicture}
        \tikzset{
          square matrix/.style={
            matrix of nodes,
            column sep=-\pgflinewidth, row sep=-\pgflinewidth,
            nodes={
              rectangle,
              draw=black,
              anchor=center,
              align=center,    
              inner sep=1pt
            },
            b/.style={draw, fill=black, minimum size=0.5em},
            w/.style={draw,  minimum size=0.5em},
            g/.style={draw, fill=gray, minimum size=0.5em}
          },
          square matrix/.default=1em
        }
        
        \matrix[square matrix, ampersand replacement=\&]
        {
        %
         \& |[#1]| \&  \\
        %
        |[#2]| \& |[#3]| \& |[#4]| \\
        %
        \& |[#5]| \&  \\
        };
    %
    \end{tikzpicture}
}

\newcommand{\CustomSmall}[1]{
    \begin{tikzpicture}
        \tikzset{
          square matrix/.style={
            matrix of nodes,
            column sep=-\pgflinewidth, row sep=-\pgflinewidth,
            nodes={
              rectangle,
              draw=black,
              anchor=center,
              align=center,    
              inner sep=1pt
            },
            b/.style={draw, fill=black, minimum size=0.5em},
            w/.style={draw,  minimum size=0.5em},
            g/.style={draw, fill=gray, minimum size=0.5em}
          },
          square matrix/.default=1em
        }
        
        \matrix[square matrix, ampersand replacement=\&]
        {
         |[#1]| \\
        };
    %
    \end{tikzpicture}
}

\newcommand{\Moore}{
    \begin{tikzpicture}
        \tikzset{
          square matrix/.style={
            matrix of nodes,
            column sep=-\pgflinewidth, row sep=-\pgflinewidth,
            nodes={
              rectangle,
              draw=black,
              anchor=center,
              align=center,    
              inner sep=1pt
            },
            b/.style={draw, fill=black, minimum size=0.5em},
            w/.style={draw,  minimum size=0.5em},
            g/.style={draw, fill=gray, minimum size=0.5em}
          },
          square matrix/.default=1em
        }
        
        \matrix[square matrix, ampersand replacement=\&]
        {
        %
        |[g]| \& |[g]| \& |[g]| \\
        %
        |[g]| \& |[b]| \& |[g]| \\
        %
        |[g]| \& |[g]| \& |[g]| \\
        };
    %
    \end{tikzpicture}
}

\newcommand{\dimzero}{
    \begin{tikzpicture}
        \tikzset{
          square matrix/.style={
            matrix of nodes,
            column sep=-\pgflinewidth, row sep=-\pgflinewidth,
            nodes={
              rectangle,
              draw=black,
              anchor=center,
              align=center,    
              inner sep=1pt
            },
            b/.style={draw, fill=black, minimum size=0.5em},
            w/.style={draw,  minimum size=0.5em},
            g/.style={draw, fill=gray, minimum size=0.5em}
          },
          square matrix/.default=1em
        }
        
        \matrix[square matrix, ampersand replacement=\&]
        {
        %
        %
        |[w]| \& |[w]| \& |[w]| \\
        %
        |[w]| \& |[b]| \& |[w]| \\
        %
        |[w]| \& |[w]| \& |[w]| \\
        };
    %
    \end{tikzpicture}
}

\newcommand{\innerradiustwo}{
    \begin{tikzpicture}
        \tikzset{
          square matrix/.style={
            matrix of nodes,
            column sep=-\pgflinewidth, row sep=-\pgflinewidth,
            nodes={
              rectangle,
              draw=black,
              anchor=center,
              align=center,    
              inner sep=1pt
            },
            b/.style={draw, fill=black, minimum size=0.35em},
            w/.style={draw,  minimum size=0.35em},
            g/.style={draw, fill=gray, minimum size=0.35em}
          },
          square matrix/.default=1em
        }
        
        \matrix[square matrix, ampersand replacement=\&]
        {
        %
        |[g]| \& |[g]| \& |[g]| \& |[g]| \& |[g]|\\
        %
        |[g]| \& |[g]| \& |[g]| \& |[g]| \& |[g]|\\
        %
        |[g]| \& |[g]| \& |[b]| \& |[g]| \& |[g]| \\
        %
        |[g]| \& |[g]| \& |[g]| \& |[g]| \& |[g]|\\
        %
        |[g]| \& |[g]| \& |[g]| \& |[g]| \& |[g]|\\
        };
    %
    \end{tikzpicture}
}

\crefname{section}{Section}{Sections}
\crefname{table}{Table}{Tables}
\crefname{figure}{Figure}{Figures}
\crefname{algorithm}{Algorithm}{Algorithms}
\crefname{equation}{Eq.}{Eqs.}
\crefname{example}{Example}{Examples}
\crefname{fact}{Fact}{Facts}
\crefname{appendix}{Appendix}{Appendices}
\crefname{theorem}{Theorem}{Theorems}
\crefname{reTheorem}{Theorem}{Theorems}
\crefname{aquestion}{Question}{Questions}
\crefname{assumption}{Assumption}{Assumptions}
\crefname{lemma}{Lemma}{Lemmas}
\crefname{reLemma}{Lemma}{Lemmas}
\crefname{proposition}{Proposition}{Propositions}
\crefname{chapter}{Chapter}{Chapters}
\crefname{line}{line}{lines}
\crefname{principle}{Principle}{Principles}
\crefname{definition}{Definition}{Definitions}
\crefname{corollary}{Corollary}{Corollaries}
\crefname{Exercise}{Exercise}{Exercises}
\crefname{observation}{Observation}{Observations}
%\crefformat{section}{\S#2#1#3} 

\newtheorem{openquestion}{Open question}[]
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% ALGORITHM SETTINGS
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\algrenewcommand\algorithmicindent{1.0em}%
%\renewcommand\algorithmicdo{:}
%\renewcommand\algorithmicthen{:}
\newcommand{\rightcomment}[1]{{\color{gray} \(\triangleright\){\footnotesize\textit{#1}}}}
\algrenewcommand{\algorithmiccomment}[1]{\hfill \rightcomment{#1}}  % redefines \Comment
\algnewcommand{\LinesComment}[1]{\State {\color{black!50!green}\rightcomment{\parbox[t]{.95\linewidth-\leftmargin-\widthof{\(\triangleright\) }}{#1}}}}
\algnewcommand{\LineComment}[1]{\State {\color{black!50!green}\smaller \(\triangleright\) \parbox[t]{\linewidth-\leftmargin-\widthof{\(\triangleright\) }}{\it #1}\smallskip}} % multi-line comment
\algnewcommand{\InlineComment}[1]{\hfill {\color{black!50!green}\(\triangleright\) {\scriptsize \it #1}}}
\algrenewcommand\algorithmicindent{1.0em}%
\algrenewcommand\alglinenumber[1]{{\tiny\color{black!50}#1.}\hspace{-2pt}}
\newcommand{\algorithmicfunc}[1]{\textbf{def} {#1}:}
\algdef{SE}[FUNC]{Func}{EndFunc}[1]{\algorithmicfunc{#1}}{}
\makeatletter
\ifthenelse{\equal{\ALG@noend}{t}}%
  {\algtext*{EndFunc}}
  {}%
\makeatother