

\section{Details on DagRider-layer Byzantine behavior\label{anx:detail_dag_rider_layer_attack}}




\begin{figure}[h]
    \centering

\begin{subfigure}{.225\textwidth}
    \centering
\scalebox{.8}{\input{figures/pariah/pariah_honest}}
    \caption{..honestly}
    \label{fig:pariah_attack_concept_honest}
\end{subfigure}
%
\begin{subfigure}{.225\textwidth}
    \centering
\scalebox{.8}{\input{figures/pariah/pariah_d2}}
    \caption{..maliciously}
    \label{fig:pariah_attack_concept_depth1}
\end{subfigure}
    
    \caption{Vertex proposal reasoning..}
    \label{fig:pariah_attack_concept}
\end{figure}




Fig.\ref{fig:pariah_attack_concept} provides a more detailed example for illustrating the Byzantine behavior described in Sec.\ref{ssec:byz_dagrider_layer}.

We consider $7$ nodes ($N_0$ to $N_6$) from the perspective of node $N_5$ which adds its vertices to the sixth row.
For the sake of clarity, not all edges are represented.
We consider which edges (in orange and dashed) should be included when node $N_5$ defines vertex \textcolor{orange}{$v^5_c$}.
Here, we suppose that the two vertices in red contain transactions of the target client.
If node $N_5$ is honest, it will choose at least $2*f+1$ strong edges among all the 7 possibilities (see Fig.\ref{fig:pariah_attack_concept_honest}).
If however, $N_5$ acts maliciously as per our attack scenario, it will not include the strong edge towards \textcolor{red}{$v^3_{c-1}$} because \textcolor{red}{$v^3_{c-1}$} contains transactions from the target client. Additionally, the proposed \textcolor{orange}{$v^5_c$} may also not point towards \textcolor{blue}{$v^2_{c-1}$} (in blue) because \textcolor{blue}{$v^2_{c-1}$} itself points towards \textcolor{red}{$v^0_{c-2}$} which contains unwanted transactions.

It is clear here that performing such ``pariah'' attacks (ostracizing specific vertices) may yield the desired effect of excluding said vertices from the next wave. 
Their exclusion is not guaranteed but manipulating the edges as described above makes it more likely. 

More generally, an infected node may define a lexicographic rank for every strong edge candidate according to the number of transactions from the target client that each column in the associated causal sub-graph (up to a certain depth) contains.
For instance, in the example from Fig.\ref{fig:pariah_attack_concept}, vertex \textcolor{darkspringgreen}{$v^4_{c-1}$} has a depth 2 rank of $(0,0)$ because no such transactions are present at column $c-1$ and $c-2$.
On the other hand, \textcolor{red}{$v^3_{c-1}$} has a rank $(1,0)$ and \textcolor{blue}{$v^2_{c-1}$} has $(0,1)$.
Supposing that vertices $v^0_{c-1}$, $v^1_{c-1}$, $v^5_{c-1}$ and $v^6_{c-1}$ have a rank $(0,0)$, the infected node $N_5$ may sort them as follows : [\textcolor{darkspringgreen}{$v^4_{c-1}$}, $v^0_{c-1}$, $v^1_{c-1}$, $v^5_{c-1}$, $v^6_{c-1}$,\textcolor{blue}{$v^2_{c-1}$},\textcolor{red}{$v^3_{c-1}$}] and select the $2*f+1$ first so as to define the strong edges of \textcolor{orange}{$v^5_c$}.