\subsection{RQ-1 Comparable Study on Range Query}

\noindent
\textbf{Objective.}
Benefiting from the powerful query capability of Btree structures, many blockchain range query approaches have been proposed~\cite{xu2019vchain,wang2022vchain+}.
vChain and vChain+ are verifiable blockchain query systems that support range query, demonstrating excellent performance across various range query tasks.
The experiments are conducted to investigate whether MulChain outperforms SOTA blockchain range query approaches.


\noindent
\textbf{Experimental Design.}
We consider three baselines in our ablation study: 
vChain+$_{O}$, vChain+$_{F}$, and MulChain$_{BT}$. 
Here, vChain+$_{F}$ represents the vChain+ replication version to support on/off-chain queries, referred to as vChain+$_{FB}$ for Bitcoin and vChain+$_{FE}$ for Ethereum.
vChain+$_{O}$ is vChain+$_{F}$ without the off-chain query module, labeled as vChain+$_{OB}$ and vChain+$_{OE}$.
MulChain$_{BT}$ is MulChain with its underlying data structure replaced with B\(+\)Tree for time range queries, represented as MulChain$_{BTB}$ and MulChain$_{BTE}$.
MulChain$_{BH}$ is MulChain with its underlying data structure replaced with our gas-efficient BHashTree for time range queries, shown as MulChain$_{BHB}$ and MulChain$_{BHE}$.

\noindent
\textbf{Results.}
MulChain$_{BH}$ is 78.13X faster than vChain+$_F$. 
Notably, our BHashTree takes up 196.08X less VO size than vChain+. 
That is because the accumulator employed in vChain+ takes a lot of storage compared with the mapping structure used in MulChain. 
From Fig.~\ref{fig:Time Range Query Performance}(a), the insertion overhead for time range queries generally follows a similar trend to simple queries. 
Also, the time cost of off-chain queries decreases as the block number increases thanks to the bloom filter cache~\cite{ScalableBloomFilters2007}.
Fig.~\ref{fig:Time Range Query Performance}(c) shows a decreasing VO size for BHashTree methods as the block number increases and the VO size of B\(+\)Tree and BHashTree are identical for the first 8 blocks because BHashTree doesn't convert B\(+\)Tree structure to hash nodes before reaching insertion threshold (which is set to 10).
This result aligns with expectations, as BHashTree gradually converts B\(+\)Tree nodes (with larger VO size) to hash nodes (with smaller VO size).
Finally, Fig.~\ref{fig:Time Range Query Performance}(d) shows that as the block number increases, our tree structures consume progressively less VO size compared to vChain+.


\begin{figure}[htbp]
    \centering
    \includegraphics[width=\linewidth]{figures/TimeQ_all.pdf}
    \caption{Time Range Query Performance}
    \label{fig:Time Range Query Performance}
\end{figure}


\intuition{
{\bf Answer to RQ-1}:
MulChain$_{BH}$, utilizing the gas-efficient BHashTree, is 78.13X faster than vChain+$_{F}$, with a significant reduction in VO sizeâ€”196.08X smaller than vChain+. The BHashTree's structure is more storage-efficient compared to vChain+'s accumulator, and its VO size decreases as the block number increases due to the conversion of B+Tree nodes to hash nodes. These results highlight the superior performance and storage efficiency of MulChain$_{BH}$ for time range queries.
}